{"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/9_i2c_adc_and_micro_procedures/i2c_adc_and_micro_procedures.html":{"title":"","content":""},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/1_installation_getting_started/installation_getting_started.html":{"title":"Tang Nano 9K å®‰è£…ä¸Šæ‰‹","content":" title: Tang Nano 9K å®‰è£…ä¸Šæ‰‹ keywords: FPGA, Tang, Nano, 9K update: date: 2023 02 13 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ åŽŸæ–‡é“¾æŽ¥ï¼š[https://learn.lushaylabs.com/tang nano series/](https://learn.lushaylabs.com/getting setup with the tang nano 9k/) In this article we will be going over how to get started developing for the Tang Nano FPGA using a fully open source toolchain. We will start with an overview of FPGAs and the toolchain required to develop them, we will then go through setting up your development environment and finish off with a simple example so we can test and verify that everything is working. ## What's an FPGA ? An FPGA is a type of IC that you \"program\" with digital hardware circuits as apposed to microcontrollers or CPUs that you program with software. A CPU has a fixed internal architecture and only understands how to process its own machine codes / assembly language. Developers then compile programming languages into these machine codes and the CPU will run them as it goes through the code. With FPGAs the internal architecture is a blank canvas, you can choose to create a CPU type architecture and design your own assembly language if you like there are even open source architectures like RISC V but you can also decide to custom build your own application specific circuit (ASIC) developing your application in hardware instead of software. A general purpose CPU is convenient in the sense that one design can be used to perform a lot of different tasks its general purpose but the downside is its not very efficient for any specific task. Take for example a single core 2 ghz CPU, even though the clock pulses 2 billion times per second it doesn't mean you can actually do 2 billion things in your application. Each line of code will get converted to many assembly instructions, each of which will be handled serially one at a time and each can take multiple clock cycles. Modern CPUs try to pipeline or parallelize these multiple clock cycles but for the most part you have a lot of overhead. Add on top of that you usually have other things that are running like an operating system which also are scheduled and take clock cycles. On the other hand with FPGAs you are programming your application in hardware, you can react to every clock pulse directly. There is no central processing unit, each part of the application can be handled in parallel, so not only do you actually get the full clock speed, but you get the effect of having as many parallel cores as needed. This also means that with a microcontroller for example, each extra operation that you would like to add to your application will negatively effect all the current operations since they are all fighting for the same resources. In an FPGA unless you specifically want it to block adding new cores / applications to your FPGA has no effect on the existing cores as they are completely separate hardware. So how does it work ? How can an FPGA dynamically reprogram its internal hardware ? At its core an FPGA is made up of lookup tables, flip flops and multiplexers. A lookup table can be thought of as a reconfigurable logic gate, its a prebuilt table where for each set of inputs there is a predefined output. For example a lookup table for an AND gate would look something like this: AND Gate: <table> <tbody> <tr> <th>Input 1</th> <th>Input 2</th> <th>Output</th> </tr> <tr> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>1</td> <td>0</td> <td>0</td> </tr> <tr> <td>0</td> <td>1</td> <td>0</td> </tr> <tr> <td>1</td> <td>1</td> <td>1</td> </tr> </tbody> </table> Usually the lookup tables (LUTs) in an FPGA have more inputs and outputs so they are a bit bigger, but by being able to reprogram these tables you can change the AND gate into an OR gate as follows: OR gate: <table> <tbody><tr> <th>Input 1</th> <th>Input 2</th> <th>Output</th> </tr> <tr> <td>0</td> <td>0</td> <td>0</td> </tr> <tr> <td>1</td> <td>0</td> <td>1</td> </tr> <tr> <td>0</td> <td>1</td> <td>1</td> </tr> <tr> <td>1</td> <td>1</td> <td>1</td> </tr> </tbody> </table> So as you can see in this example by just changing two of the outputs you \"changed\" the internal hardware from an AND gate to an OR gate. Combine these reprogrammable gates with flip flops which allow for storing data and multiplexers which allow for routing connections and you have a method of dynamically \"programming\" the internal electrical circuit. This is a bit of a simplified view, usually FPGAs also come with built in memory/ram, DSPs or even dedicated math functions but at a high level I think the parts that LUTs, flip flops and multiplexers are the core. ## Tang Nano 9K In this series we will be focusing on the Tang Nano 9K FPGA development board (<a href \"https://item.taobao.com/item.htm?id 666055424174\">available in our store</a>) which includes an FPGA from Gowin's LittleBee family the GW1NR 9. This board IMHO currently provides the best bang for your buck both in terms of the FPGA itself number of LUTs / Flip flops / ram and also the development board exposes a good number of IOs and has on board LEDs, buttons and a built in UART debugger and other peripherals. The open source toolchain support is also very good supporting all the features we will be using. Open source toolchain Supported Features by FPGA familyï¼š ![supported_features](./assets/supported_features.jpg) For all these reasons, and because of its relatively low price the tang nano 9K has been chosen for this series. ## The Programming Process The process of programming your own core onto an FPGA goes through 3 stages: <ol><li>Synthesis</li><li>Place and Route</li><li>Bitstream Generation</li></ol> ### Synthesis The first step is to take a design written in an HDL (Hardware description language) like Verilog and convert it into primitives which make up the FPGA. In verilog you write your program in terms of modules with registers / connections and logic gates you also have abstractions like conditional statements or math operations. The job of the synthesis tool is to take all this and convert it to primitives like LUTs and flip flops. ### Place and Route Once you have a list of connections and FPGA primitives from the synthesis stage the next step like the name suggests is to map each of the primitives to their physical counterpart. Like to map each of the generated look up tables to one of the physical 8640 internal luts. This step must take into account all the routing requirements when selecting where to place each component, the output of this stage is similar to the output of the synthesis stage, except each of the components are physically mapped. ### Bitstream Generation The third and final step is generating the bits required so that the FPGA itself understands the layout the the place and route stage generated. Each FPGA manufacturer has their own internal format which open source toolchains need to reverse engineer in order to understand the exact format required to program the FPGA. After running these three stages you will have a file which can be programmed onto the FPGA which will reconfigure the internal hardware to match your design ## The Open Source Toolchain The open source toolchain is a collection of open source tools for each of the steps mentioned in the previous section. We have Yosys for synthesis, NextPnR for placing and routing and Apicula which reverse engineered the Gowin architecture and provides the bitstream generation tools. We will also be using openFPGALoader for programming the final bitstream onto the FPGA. We recommend setting up the toolchain with OSS CAD Suite and our VS code extension. OSS CAD Suite is a project maintained by the yosys team which provides pre built binaries for MacOSX, Windows and Linux. Our extensions is a wrapper around these pre built binaries allowing you to visually configure and run the OS toolchain. > If you would prefer to install and use the toolchain manually we have the instructions for that <a href \"https://learn.lushaylabs.com/os toolchain manual installation/\">here</a>. The first step to get this setup is to download and install Visual Studio Code: ### VSCode This is a popular lightweight cross platform editor with many plugins some of which specifically for FPGA development. The editor itself can be downloaded from <a href \"https://code.visualstudio.com/\">here</a>. Once installed, you can open it up and go to the Extensions tab to install plugins. To install our plugin you can search for \"Lushay Code\" or by going to the following <a href \"https://marketplace.visualstudio.com/items?itemName lushay labs.lushay code&amp;ssr false\">link</a>. Besides for that we also recommend these two plugins, although not mandatory we find these useful. 1. <a href \"https://marketplace.visualstudio.com/items?itemName mshr h.VerilogHDL\">Verilog HDL/SystemVerilog </a> provides syntax highlighting support for Verilog 2. <a href \"https://marketplace.visualstudio.com/items?itemName wavetrace.wavetrace\">WaveTrace</a> provides built in waveform viewing which can be used for debugging. With VsCode and the 3 extensions installed the next thing we need is OSS Cad Suite, you can find the latest version download from <a href \"https://github.com/YosysHQ/oss cad suite build/releases\">here</a>. On the release page there are several different versions depending on your OS and CPU architecture. For OS, linux and windows are just called windows and linux, and for MacOSX you need the darwin version. Next you have the architecture, usually either arm or x64, arm is for apple silicon or an arm based linux, x64 is for a standard intel / amd cpus. Download the file for your OS and then extract it somewhere you should now have a folder called `oss cad suite` on your computer. Place this folder wherever you want to keep the toolchain. It is worth noting on windows you don't download a zip but rather a self extracting executable, but it is the same, you just double click it to extract it as a folder called `oss cad suite`. With the folder ready open up VSCode and click on the button on the bottom right hand side called \"FPGA Toolchain\": ![fpga_toolchain_button](./assets/fpga_toolchain_button.jpg) You should receive a popup that says the OSS CAD Suite path is not setup, click on the \"Setup Now\" button and a file browser will appear, you need to select the OSS CAD Suite folder we just extracted you should select the actual folder called `oss cad suite` (the one with the `bin` folder inside). Once selected you have successfully setup the toolchain. ### Ubuntu USB Permission Fix On Ubuntu you will need to give permissions to you user so that we can run openFPGALoader without being root. To do this you need to run the following from a terminal: ```bash curl sSL https://raw.githubusercontent.com/lushaylabs/openfpgaloader ubuntufix/main/setup.sh sh` ``` And then once completed you will need to log out and log back in so that the user permissions take effect and you will need to unplug and replug in the tang nano board. ### Windows USB Driver Fix On windows the default driver does not work with `openFPGALoader` so to get it to work we need to replace the default driver. To do this you need a program called Zadig which can be downloaded <a href \"https://zadig.akeo.ie/\">here</a>. Download the tool and then open it up, once open you need to select \"Options\" &gt; \"List All Devices\" from the top menu to show all connected usb devices. Next in the dropdown you should see two devices: 1. JTAG Debugger (Interface 0) 2. JTAG Debugger (Interface 1) Interface 0 is the JTAG interface `openFPGALoader` needs to program the Tang Nano while Interface 1 is the serial interface used for the UART communication. It is important to leave interface 1 as is and only replace interface 0 here. So select \"JTAG Debugger (Interface 0)\" and underneath you should see it show that it will change the driver to \"WinUSB\" if WinUSB is not selected you can use the up/down arrows to select it. Once selected just the replace driver button and wait a minute or two, once done it should work in openFPGALoader. If you ever want to uninstall this driver and go back to the default driver (for example to use the official gowin IDE) all you have to do is go to \"Device Manager\" select the device called \"JTAG Debugger\" under \"Universal Serial Bus devices\" right click on it and press \"uninstall device\" from the popup also select the checkbox to attempt to remove the driver. Once removed right click on any item in the device manager window and press \"Scan for hardware changes\" this should reconnect the device back with the original driver. ## Other Recommended Software Besides for the toolchain itself there is some other software which can aid in the development of FPGA cores, and will be used throughout this series. ### Node.js During the course of development you may find yourself needing to prepare / convert data or even communicate with the FPGA from your computer. Node.js is just my personal preference and is what I will be using in this series, but any programming language will probably have a way to do the same things if you have a different preference. To install node.js you can either grab the official installer from the <a href \"https://nodejs.org/en/\">node.js site</a> or install using a node version manager like so: **Mac / Ubuntu / Windows WSL** ```bash curl o https://raw.githubusercontent.com/nvm sh/nvm/v0.39.1/install.sh bash nvm install v17.0.1 nvm use v17.0.1 nvm alias default v17.0.1` ``` ### Tabby Tabby is a cross platform terminal which has support for serial terminal which will allow us to communicate over UART with the tangnano9k. Here as well it is a matter of personal preference, I chose to mention tabby since it supports all operating systems and has some extra features like choosing how the data will be read / shown (ascii, hex) and each side can be configured independently. Tabby can be downloaded <a href \"https://tabby.sh/\">here</a> If you only need basic serial support, the Lushay Code extension comes with a basic built in serial console. But I still recommend Tabby since the extra features can be nice. ## Creating a New Project We should now have everything we need to effectively develop an FPGA core. To get started open up your editor (VSCode), from the explorer tab you will have a button to open a folder, click it to choose a new directory that we can use for this project. Once inside you should see your folder in the explorer tab and we can now create some files. Every FPGA project needs at least two files: 1. A file that describes your circuit (in our case a verilog `.v` file) 2. A file that describes the connection between your circuit and your physical board. (in our case a physical constraints `.cst` file) Verilog is an HDL language which is what get's synthesized. Inside the code you will usually want to use specific pins from the actual FPGA, to do this in verilog you create a name for the pin (it can be whatever you want), and then in the `.cst` file you define the mapping of pin name to pin along with other configuration for the pin. So let's start with a simple example which display a binary counter using the on board LEDs. Now onboard we have 6 leds and if each will represent one bit in our counter then it means we can count up from 0 to 63 (binary `111111`). Now our onboard clock frequency is 27 Mhz so counting up every clock pulse would mean the counter would cycle through all the options 428 million times a second, t0o fast to be able to see the counting. So let's say we want it to count once every half a second. Then we would need to wait 13,500,000 clock cycles between incrementing the counter. We can also say that our counting module will require the clock signal on board as input since we will need it to react to clock cycles and we know we want our output to be the status of the 6 leds. So now that we have a general plan, let's create a verilog file called `counter.v` and we can start off with what we know. ```v module top ( input clk, output [5:0] led ); localparam WAIT_TIME 13500000; reg [5:0] ledCounter 0; endmodule ``` This code defines a new module called top with an input called `clk` for the clock signal and 6 outputs called `led`. Again the names here for the inputs and outputs will be mapped to actual pins in the `.cst` file later, so the names can be anything you like. The format for defining an array's size or accessing a group of bits in general is `[MSB:LSB]` which is why 6 bits can be represented as `[5:0]` meaning bit 5 is the most significant bit and bit 0 is the least significant bit, totaling 6 bits. The next line defines a local constant which will be used at compile time, we have already calculated that we will need 13.5 million clock cycles per counter increment in order to reach the desired half second delay. The final line is our actual counter again using the same notation with the `[5:0]` to say it will be a 6 bit wide register. We will also need a counter for the clock cycles. Looking at the binary representation of 13,500,000 we see it needs 24 bits to contain so we can create a counter with the signature `[23:0]` for 24 bits. ```v reg [23:0] clockCounter 0; ``` The next thing we need to do is increment our counters on every clock pulse. This can be done with an `always` block: ```v always @(posedge clk) begin clockCounter < clockCounter + 1; if (clockCounter WAIT_TIME) begin clockCounter < 0; ledCounter < ledCounter + 1; end end ``` The always block starts with it's trigger list or sensitivity list. Essentially what needs to happen for the circuit defined inside to occur. In our case we are saying whenever there is a positive edge on the clock pin (a.k.a clock rise) we want the following to happen. First we will increment the clock counter and then check if we have reached the wait time defined above. If we have reached the wait time then we would like to reset the clock counter to zero and increment the led counter. We don't need to deal with ever resetting the led counter as it has exactly the number of bits as the desired counter so it will automatically roll over back to 0 once it increments 63. It is also worth noting that the `&lt; ` operator is not like a standard assignment operator from most programming languages. This operator sets the value for the input of the flip flop which will only propagate to the output on the next clock signal. This means that even though we increment it on the first line of the block, the value of `clockCounter` will only equal 1 on the next clock pulse, and for the remainder of the current block the value will still be 0. Same thing when we increment the ledCounter, The change will only be seen on the next clock signal. There is a way to immediately assign a value using the blocking ` ` operator instead, but I like to stick only with the non blocking assignment operator `&lt; ` when working with registers, both for simplicity, consistency and I think it is a better practice. The last and final thing to finish our verilog module is to connect the value of our register to the leds. ```v assign led ledCounter; ``` Outside the always block we use the `assign` and ` ` to define the value of wires. Wires (which is the default input/output type) unlike registers don't store values so we need to simply define what they are connected to and they will always equal that value (since they will be physically connected to them). The final code should look like the following: ```v module top ( input clk, output [5:0] led ); localparam WAIT_TIME 13500000; reg [5:0] ledCounter 0; reg [23:0] clockCounter 0; always @(posedge clk) begin clockCounter < clockCounter + 1; if (clockCounter WAIT_TIME) begin clockCounter < 0; ledCounter < ledCounter + 1; end end assign led ledCounter; endmodule ``` The next file we need to create is the `.cst` file where we will need to define the I/Os we used `clk` and `led`. First we will take a look at doing it manually so you can get a sense for how it works under the hood, and then we will take a look at doing it through our VScode extension. To do this manually we need to know some information about the pins. First of all we need to know the pin number. For the GPIO of the board its pretty easy, all the pins are listed in the following image: ![tang_nano_registers](./assets/tang_nano_registers.jpg) So for example the top left pin's number is 38 (IOB31B) and the top right pin (IOR5A) is pin 63, and so on. It's worth noting also that most GPIO are 3.3V but to pay attention that all the BANK3 pins (pin 79 86) are 1.8V pins and should only be used with devices or sources working with 1.8v. But with all that said, in our example we are not using any of the GPIO pins we are using pins of the FPGA which are routed to on board components (the clock and LEDs). Tang Nano 9K Schematic: [Click me](https://dl.sipeed.com/shareURL/TANG/Nano%209K/2_Schematic) Opening up the file we can see a section called \"LED x 6\" defining how the 6 LEDs are connected. ![led_pins](./assets/led_pins.jpg) A side note something thing that can be seen here is that the LEDs are common anode all being supplied power directly from the 1.8 voltage source which means we need to pull our pin down to low (0) in order for the led to light up. But back to what we are looking for. We see the names defined to the connections and then we can see where these references end up on the actual FPGA chip. Above this section we have the FPGA chip itself and we can see they end up as part of bank 3's pins: ![led_pinout](./assets/led_pinout.jpg) More specifically we can see they are pins 10,11,13,14,15,16. Using the same process we can find the clock pin in the xtal (crystal oscillator) section. ![xtal_pinout](./assets/xtal_pinout.jpg) Showing that the pin is pin 52. With that mini investigation complete we would need to create a cst file where we would define the pins like so: ```v IO_LOC \"clk\" 52; IO_PORT \"clk\" PULL_MODE UP; IO_LOC \"led[0]\" 10; IO_LOC \"led[1]\" 11; IO_LOC \"led[2]\" 13; IO_LOC \"led[3]\" 14; IO_LOC \"led[4]\" 15; IO_LOC \"led[5]\" 16; ``` IO_LOC defines a location constraint, meaning we are defining that when placing and routing our design the io called clk must be placed on a specific pin defining its specific location. IO_PORT defines port level constraints like pull ups / pull downs, logic types drive strength etc. Going through our file we define `clk` to be pin 52 with a pull up resistor, and we are defining the 6 bits of our `led` output using the pin numbers we found. It's worth noting we are adding the bit index to them only for convenience so that we can receive them all together instead of 6 separate outputs in verilog. But if we wanted we could have written `IO_LOC \"led1\" 10;` and then in verilog have each LED as a separate output. You can view a little bit more information about this format from the official physical constraints document from Gowin Appendix A. [Gowin Appendix A](http://cdn.gowinsemi.com.cn/UG289.pdf) Or more in depth by searching for the system IO and GPIO specification documents if you would like a more in depth read. To some extent you can also view some of the options in the apicula longvals documentation <a href \"https://github.com/YosysHQ/apicula/blob/master/doc/longval tables.md\">here</a>. ### Constraints with LushayCode With the extension simply create a new file in vscode for example `tangnano9k.cst` and clicking on it you should see something like the following: ![constraints_front](./assets/constraints_front.jpg) Since both the LEDs and the clock are part of the development board they have an included template, so we can simply press \"Add From Template\" and select both the clock and leds. ![selecting_clock](./assets/selecting_clock.jpg) Clicking on \"Add Constraints\" will add them to the current file and you will see them in the table: ![constraints_filled](./assets/constraints_filled.jpg) Just save the file and we are done with the constraints. You can see that the pin numbers are the same as we saw when doing the manual investigation. ## Running the Example Our project is now ready so how do we compile it with the toolchain. To do this you can click again on the \"FPGA Toolchain\" button from our VSCode extension and you should get a dropdown with the different options: ![options_toolchain](./assets/options_toolchain.jpg) Select \"Build and Program\" and if all went well you should now see the tangnano counting up over it's LEDs. ![tangnano_counter](./assets/tangnano_counter.jpg) The only thing is that the counter is inverted. This is due to the fact that the LEDs use a common anode and a value of 0 means to light up not a value of 1. To fix this we can make a small change to our code. To update the verilog code in our example invert the counter so that the leds match the bit status using the `~` operator. The final line of our module should be: ```v assign led ~ledCounter; ``` Re click on \"Build and Program\" from the \"FPGA Toolchain\" button to rebuild and program the FPGA with our fix. ## Conclusion In this article we went through a lot of different topics getting the development environment setup and running a basic example. In the next part of this series we will go more in depth on debugging FPGA projects in order to visually see what's going on internally. All the code from the example is also available on in lushaylabs github repo <a href \"https://github.com/lushaylabs/tangnano9k series examples\">here</a>. And if you have any questions or comments feel free to leave them below or contact me on twitter <a href \"https://twitter.com/LushayLabs\">@LushayLabs</a>."},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/8_sharing_resources/sharing_resources.html":{"title":"","content":""},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/2_debugging_uart/debugging_uart.html":{"title":"Tang Nano 9K è°ƒè¯•","content":" title: Tang Nano 9K è°ƒè¯• keywords: FPGA, Tang, Nano, 9K update: date: 2023 02 14 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ [åŽŸæ–‡é“¾æŽ¥](https://learn.lushaylabs.com/tang nano 9k debugging/) > This is the second article in our series on the Tang Nano 9K, the first section on getting your development environment setup can be found [here](./../1_installation_getting_started/installation_getting_started.html). When programming FPGAs or really any embedded system you usually have a lot less visibility into whats going on, in comparison to programming for computers. When everything works its great, but more times then not you won't get your design perfect on the first try and not having this visibility can make it hard to troubleshoot. In this article we will go through some of the different ways to debug an FPGA project as well as cover some of the more common issues, so if you do run into an issue you will know how to overcome it. We will also be building a UART module which will use the on board RV debugger built into the Tang Nano 9K ([ðŸ”ŒðŸ”Œ](https://item.taobao.com/item.htm?id 666055424174)) to communicate with a computer serially. ## Classifying the Type of Bug To efficiently debug an issue, like in most things, it works best when you use the right tool for the job. Different types of bugs have different tools which can help to find them. From my experience you can usually categorize bugs into three main categories: <ol> <li>Syntax Errors</li> <li>Logic / Implementation Errors</li> <li>Integration Errors.</li> </ol> ### Syntax Errors This is the type of error where you mistyped, forgot to close a block, misused a verilog feature etc... All these kinds of issues are the least severe in my opinion, as they are brought up during the synthesis stage while compiling your design and you will usually get an exact file and line number. So even if the error message is not that clear, you still have the exact location of the problem which makes it easy to fix. We won't go too much into this type of bugs as like I mentioned you will immediately know about this kind of bug during syntheses if not before from the editor itself. ### Logic / Implementation Errors Logic errors are the types of errors where you had a flaw in your original design, maybe you forgot to handle edge cases or had a mistake in your original plan. Implementation errors are the flip side of this, where your design was actually solid, but the code written doesn't actually do what you intended. Both these kinds of issues are a bit harder to catch, since you won't receive any error message. The only indication you will have is that your project doesn't work as intended. In these situations though, we are talking about cases where you understand and know how it is meant to perform. For these cases we can use simulations and visual logic debugging with VCD files to see what our design is doing over time and track down at which stage there is a problem. We will cover both of these method below. ### Integration Errors Integrations errors are errors that occur only when run on the actual FPGA and are usually because of misunderstanding, or not fulling knowing how to interface with another device or a specific protocol. These types of errors are the most difficult to find as they are due to a 3rd party device or from missing information. For example if we were making an FPGA core which reads from a temperature sensor that has an 8 bit temperature value, if we thought the temperature IC returned a 10 bit value and tried to read that we would get incorrect results. This is especially hard to track down, as if you thought a device was 10 bit instead of 8 bit, you would have also made it 10 bit in the simulator in which case it would have passed. To find these kinds of issues you need methods to debug the FPGA while it is running, these methods include making use of the on board LEDs, UART communication during runtime or even logic analyzers / oscilloscopes, we will go over using the on board LEDs to display data as well as sending things from the FPGA to the computer over UART. ## UART In order to use the onboard UART debugger we need to implement our own UART transmitter and receiver modules, which gives us a good test case to go through all the debugging methods listed above. But before we get into the implementation, let's go over the protocol itself so we understand what we are going to be doing. ### The Protocol With UART you send data from one device to another over a single wire. You send 1 start bit of data, then an agreed upon amount of data bits (usually 8) and finally a stop bit. There are some more complex configurations, like multiple stop bits, or adding a parity bit as a checksum. But in our case we will be looking at the simple case of 1 start bit, 8 data bits and a stop bit. The data is transferred least significant bit first. &nbsp; Example sending the byte 01010101 or 85 in decimal: ![uart_2](./assets/uart_2.jpg) There is no clock signal to synchronize both sides like in some other common protocols here both sides need to agree in advance on a frequency or \"baud rate\" which is the amount of bits per second and then each side needs to manage their own clocks to meet the desired frequency. Because there is no common clock, one side cannot react to the \"rising edge\" for example of the other sides clock, and there may be some drift between the two devices not to mention that they might have completely different clock speeds which don't exactly line up with the baud rate. So because of this we want the receiver to be able to run at least 8 16 times faster then the agreed upon baud rate. That way the \"latest\" the receiver would realize the transmission started would be an 1/8th or 1/16th of the bit rate in, and so even if there is a drift due to the different clocks, you should still be able to read all 10 bits of the transmission successfully. The UART on the Tang Nano 9K runs in full duplex mode which means it uses two lines like the one above, allowing for each to device to both send and receive data at the same time. Other than the direction, the protocol is exactly the same for both directions, there is no single side which acts as the controller or schedules when to send or receive they both can decide to send data whenever they want over the appropriate line. ### The Implementation For this project we will need to connect to the onboard debugger's UART pins, which will transfer the UART data we send it to the computer over USB. So lets start with the constraints file. In a new project let's create a file called `tangnano9k.cst` ```v IO_LOC \"clk\" 52; IO_PORT \"clk\" PULL_MODE UP; IO_LOC \"led[0]\" 10; IO_LOC \"led[1]\" 11; IO_LOC \"led[2]\" 13; IO_LOC \"led[3]\" 14; IO_LOC \"led[4]\" 15; IO_LOC \"led[5]\" 16; IO_LOC \"btn1\" 3; IO_LOC \"uart_tx\" 17; IO_PORT \"uart_tx\" IO_TYPE LVCMOS33; IO_LOC \"uart_rx\" 18; IO_PORT \"uart_rx\" IO_TYPE LVCMOS33; ``` The clock and leds are the same as in the previous article's counter example. The btn `pin` is connected to the onboard button so that we can use it for sending data and the `rx` and `tx` pins of the uart are pins 17 and 18 from bank 2 of the FPGA. We will receive data from the computer over pin 17 `rx` and we will send data over pin 18 `tx`. ![uart_pins_1](./assets/uart_pins_1.jpg) You have to follow their path a bit in the schematic, but you can see that these two pins end up going to the BL702 which is the onboard Sipeed debugger. Another thing to notice about the buttons is that it is connected to 1.8V on idle through a 10K pull up, and is pulled low when pressed. So when using it we need to remember it is an active low signal. ![button](./assets/button.jpg) Now that we have the constraints file, lets setup our verilog file `uart.v`: ```v `default_nettype none module uart #( parameter DELAY_FRAMES 234 // 27,000,000 (27Mhz) / 115200 Baud rate ) ( input clk, input uart_rx, output uart_tx, output reg [5:0] led, input btn1 ); localparam HALF_DELAY_WAIT (DELAY_FRAMES / 2); endmodule ``` Here we are declaring a new module which receives the clock pin, uart receive and transmit pins, the leds and the button we configured. The brackets that go before the inputs is an optional section where you can define parameters that can be changed by files that use this module. They are like `localparam`s that we used in the previous article just configurable from the outside. In our case we have 1 parameter of this type called `DELAY_FRAMES` which is the number of clock pulses needed to reach the desired baud rate. In our example we will use one of the standard baud rates of 115200 bits per second, dividing the 27Mhz by this number of bits gives us a number a little higher than 234. So each transmission bit should take a bit over 234 clock pulses. The thing is we don't really want to measure exactly at the bit transition, because like we saw there can be a bit of drift between the clocks, and we are also not exactly counting the correct number of pulses (we would need an extra 0.375 clock pulses for each bit). The safer option is to read the bit directly in what we consider the middle of the bit pulse, that way if we are a bit early or a bit late in terms of clock pulses we will still fall into the correct bit and read the correct value. That is why we have another `localparam` which is simply the full `DELAY_FRAMES` divided by two so we can get to the middle of these pulses. Next we will need some registers: ```v reg [3:0] rxState 0; reg [12:0] rxCounter 0; reg [2:0] rxBitNumber 0; reg [7:0] dataIn 0; reg byteReady 0; ``` The FPGA doesn't do the same thing every clock pulse like in the example of the counter from the previous article. Here we need to remember where we are in the UART cycle and react accordingly, a common way of doing this is with a state machine. That way we can start in an \"idle\" state when we see the start bit we can start receiving data and go to the \"read data\" state and then once we finish the bit we can go to the \"stop bit\" state finally returning back to \"idle\" ready to receive the next communication. The `rxState` register can hold in which state we currently are in. Next we know we need to count clock pulses (as we saw 234 clock pulses is 1 UART bit frame) so we have another register `rxCounter` for counting clock pulses. Next we have `rxBitNumber` which can keep track of how many bits we have read so far, this way we can know when the data is finished and when we will be moving to the stop bit. The next register is an 8 bit register which will store the byte received, and finally we have `byteReady` which is a flag register that will tell us when we have finished reading a byte and the value of `dataIn` is valid to use. Next let's define which states our state machine will have. ```v localparam RX_STATE_IDLE 0; localparam RX_STATE_START_BIT 1; localparam RX_STATE_READ_WAIT 2; localparam RX_STATE_READ 3; localparam RX_STATE_STOP_BIT 5; ``` Like mentioned above, we start in an idle stage, when there is a start bit we need to wait a certain amount of time, then 8 times we can alternate between reading a bit, and waiting for the next bit. Finally we have a state for the stop bit so we can again wait for it to complete and go back to being idle. I will first show the complete implementation and then we can go through each of the states to explain them: ```v always @(posedge clk) begin case (rxState) RX_STATE_IDLE: begin if (uart_rx 0) begin rxState < RX_STATE_START_BIT; rxCounter < 1; rxBitNumber < 0; byteReady < 0; end end RX_STATE_START_BIT: begin if (rxCounter HALF_DELAY_WAIT) begin rxState < RX_STATE_READ_WAIT; rxCounter < 1; end else rxCounter < rxCounter + 1; end RX_STATE_READ_WAIT: begin rxCounter < rxCounter + 1; if ((rxCounter + 1) DELAY_FRAMES) begin rxState < RX_STATE_READ; end end RX_STATE_READ: begin rxCounter < 1; dataIn < {uart_rx, dataIn[7:1]}; rxBitNumber < rxBitNumber + 1; if (rxBitNumber 3'b111) rxState < RX_STATE_STOP_BIT; else rxState < RX_STATE_READ_WAIT; end RX_STATE_STOP_BIT: begin rxCounter < rxCounter + 1; if ((rxCounter + 1) DELAY_FRAMES) begin rxState < RX_STATE_IDLE; rxCounter < 0; byteReady < 1; end end endcase end ``` ### The UART Receiver States The first state is the idle state: ```v RX_STATE_IDLE: begin if (uart_rx 0) begin rxState < RX_STATE_START_BIT; rxCounter < 1; rxBitNumber < 0; byteReady < 0; end end ``` Here we have nothing to do, we are just waiting for the UART `rx` line to be pulled low signifying a start bit. If the line has been pulled low, we set the counter to be equal to 1 to include the current \"clock pulse\" in the UART bit frame and we reinitialize the bitNumber and set the `byteReady` flag back to zero to signify that the `dataIn` register should not be used as we are in the middle of reading data to it. ```v RX_STATE_START_BIT: begin if (rxCounter HALF_DELAY_WAIT) begin rxState < RX_STATE_READ_WAIT; rxCounter < 1; end else rxCounter < rxCounter + 1; end ``` We would like to read the data in the middle of each uart bit, so during the start bit we won't wait a complete bit frame and then read, we will wait a half bit frame and then every 1 uart bit (234 clock pulses) we can read so we will be exactly in the middle. Here we are initializing the counter to 1 since registers take an extra clock pulse to update, so we account for that 1 pulse. ```v RX_STATE_READ_WAIT: begin rxCounter < rxCounter + 1; if ((rxCounter + 1) DELAY_FRAMES) begin rxState < RX_STATE_READ; end end ``` This next stage is merely waiting the 234 clock pulses for the next bit we can read. Since we are already have a half uart bit offset from the previous state we will be in the middle of the signal ready to read after this. Here we are using another method to account for the register delay, we can add 1 when comparing. ```v RX_STATE_READ: begin rxCounter < 1; dataIn < {uart_rx, dataIn[7:1]}; rxBitNumber < rxBitNumber + 1; if (rxBitNumber 3'b111) rxState < RX_STATE_STOP_BIT; else rxState < RX_STATE_READ_WAIT; end ``` In the read state we are clearing the counter to 1, shifting one bit into the dataIn register, incrementing the bitCounter so we can keep track of how many bits we have read so far. If we are already on `rxBitNumber` 7 or 111 in binary we can go to the stop bit and the entire byte has been read, if not we can go back to the read wait state and wait for the next bit. This syntax for bit shifting is actually syntax for concatenating bits. You can use it for example to set a register, the order of the bits is from most significant to least significant. So for example if we do the following: ```v reg [4:0] demo {1'b1,1'b0,2'b110} ``` It would store 10110 in binary or 22 in decimal. In our example we are doing the following: ```v dataIn < {uart_rx, dataIn[7:1]}; ``` Which means the new bit will be placed as the most significant bit, and then we will take the top 7 bits as the first seven bits, essentially moving them all one over, losing the bit at index 0. Internally this creates what is called a shift register since the output of the last bit (bit 7) is connected to the input of bit 6, and bit 6's output is connected to the input of bit 5, etc. Since UART sends the data least significant bit first, we shift the bits in from the most significant bit, so that after shifting 8 times it will end up at the other side and be the least significant bit. ```v RX_STATE_STOP_BIT: begin rxCounter < rxCounter + 1; if ((rxCounter + 1) DELAY_FRAMES) begin rxState < RX_STATE_IDLE; rxCounter < 0; byteReady < 1; end end ``` The final state is the stop bit state and like the read wait we are simply waiting 234 frames after which we are going back to the idle state and setting the `byteReady` flag bit to 1. At this point we should have a working UART receiver, but we wont be able to see that anything is being received. So let's add another `always` block which will react to the data being ready and display the data (or 6 bits at least) on the leds. ```v always @(posedge clk) begin if (byteReady) begin led < ~dataIn[5:0]; end end ``` This block runs in parallel to the UART receiver and will update the LED's register on every clock pulse that the data is ready. We are inverting because the LEDs light up when a bit is set low. ### Testing our Module Now before running this on the FPGA let's look at the first form of debugging which is simulation and visual logic debugging. The way we do this is with Icarus Verilog or iVerilog and VCD files. We already set these up along with a plugin for visual studio code allowing us to view them. To get started we need to create another verilog module known as a test bench which will define the simulation. So create another verilog file called `uart_tb.v` with a new module: ```v module test(); reg clk 0; reg uart_rx 1; wire uart_tx; wire [5:0] led; reg btn 1; uart #(8'd8) u( clk, uart_rx, uart_tx, led, btn ); endmodule ``` This is a new module named test which simply doesn't receive any outside inputs and instead creates all the inputs that the module we want to test requires and creates an instance of that module. So here we are creating a register for the clock the uart rx and tx pins the wires and the button. This isn't always true but as a general rule of thumb I use registers if it is an input into the module to drive the value and if it is an output I use a wire as the module itself will drive the value. You can also see that we are defining an override for the `DELAY_FRAMES` parameter. The `#()` is for the parameters and we don't want to actually need to look at 234 frames of clock pulses in our simulation so I lowered it to 8 clock pulses. Next we need a way to simulate the clock signal. This can be done like follows: ```v always #1 clk ~clk; ``` The `#number` (`#1`) is a special simulation syntax from iverilog that allows us to delay something by a certain number of time frames. By saying each time interval the clock alternates, we are saying the clock cycle is 2 time units (1 high cycle and 1 low cycle is 1 clock cycle). So this loop will wait 1 time unit and toggle the clock register. The next simulation specific feature I want to go over is the `$display` and `$monitor` commands. They are similar to a `printf` or `console.log` where they print out a string optionally injecting variables into it. The difference between display and monitor, is that display will only print the value out once, monitor will print it out, and then reprint it out any time the value changes. So to simulate the UART transmission we can do the following: ```v initial begin $display(\"Starting UART RX\"); $monitor(\"LED Value %b\", led); #10 uart_rx 0; #16 uart_rx 1; #16 uart_rx 0; #16 uart_rx 0; #16 uart_rx 0; #16 uart_rx 0; #16 uart_rx 1; #16 uart_rx 1; #16 uart_rx 0; #16 uart_rx 1; #1000 $finish; end ``` We start by printing a message, then we track the values of the leds and inject their value by using the `%b` which means print the binary representation of this field, we could have also used `%h` for hex representation `%d` for decimal and `%s` for string representation, among others. After that we send the start bit by pulling the line low, then send 8 data bits and finally the stop bit. We delay by 16 time frames or 8 clock cycles as that is what we set `DELAY_FRAMES` to be. `$finish` stops the simulation, so after 1000 more time frames we stop the simulation. For visually debugging the logic we can add another block to dump a VCD file. ```v initial begin $dumpfile(\"uart.vcd\"); $dumpvars(0,test); end ``` `$dumpfile` chooses the name of the file, and `$dumpvars` choosing what to save and how many levels of nested objects to save. By sending 0 as the number of layers it means we want all nested layers (which will include our uart module), and by sending the top module test it means store everything and all child wires / registers. To run this now we need to run in a terminal from the project directory: ```bash iverilog o uart_test.o s test uart.v uart_tb.v vvp uart_test.o ``` The first one generates a simulation based on the verilog files we sent it, the ` s` sets what is the `top` or main module being run and ` o` sets the simulation executables name. Ones finished we can run the simulation with the second line and it will produce the following output: ```bash Starting UART RX VCD info: dumpfile uart.vcd opened for output. LED Value xxxxxx LED Value 011110 ``` We can see it creating the VCD file as well as printed our message and the state of the led register. The initial value is `xxxxxx` because we did not initialize it, and `x` represents an unknown value. Once the full byte has been read in, the register gets updated with the inverted value of the first 6 bits. Simulation wise our program looks good, now let's take a look at the VCD file. Opening it in Visual Studio Code once you have the plugin installed will open up a UI that looks something like the following: ![uart_vcd](./assets/uart_vcd.jpg) By clicking on \"Add Signals\" you can add any of the wires or registers to the UI. In our example let's add the clock, uart_rx wire, rx state and &nbsp;led value. Once added you should have something like the following: ![debug_rx](./assets/debug_rx.jpg) If we zoom in on the start bit and first data bit: ![debug_rx_start](./assets/debug_rx_start.jpeg) We can see the state starts in idle, One clock cycle after we go to the start bit state where we wait the remainder of the first half cycle. Since we defined each uart bit to take 8 clock cycles we wait here for 4 clock cycles and move to the read wait stage. There we wait the full 8 clock cycles and move to read a bit, going back to the read wait stage one clock cycle later. From the simulation it looks like our module is working. But if we had an issue, for example we forgot to clear the counter in the read state. We would see that after the first bit was read we would never leave read wait stage. ![stuck_in_read_wait](./assets/stuck_in_read_wait.jpg) Or if we made the counter too small for example: ```v reg [1:0] rxCounter; ``` which can only store up to the number 3, if we needed it to count to 8 it wouldn't be able to: ![register_too_small](./assets/register_too_small.jpg) In both of these cases taking a look at the `rxCounter` we would see something going on, like here we can see that the register rolls over back to 0 after 3 since there are no more bits and as a result we get back stuck in the start bit state. This is also why you should also test your module with the real values. We changed DELAY_FRAMES to 8 to make it easier to follow step by step. But to make sure we don't have this problem with register sizes we would need to also test with the correct settings. Now to run it on the Tang Nano 9K, lets create a makefile to make it easier: ```makefile BOARD tangnano9k FAMILY GW1N 9C DEVICE GW1NR LV9QN88PC6/I5 all: uart.fs # Synthesis uart.json: uart.v \tyosys p \"read_verilog uart.v; synth_gowin top uart json uart.json\" # Place and Route uart_pnr.json: uart.json \tnextpnr gowin json uart.json freq 27 write uart_pnr.json device ${DEVICE} family ${FAMILY} cst ${BOARD}.cst # Generate Bitstream uart.fs: uart_pnr.json \tgowin_pack d ${FAMILY} o uart.fs uart_pnr.json # Program Board load: uart.fs \topenFPGALoader b ${BOARD} uart.fs f uart_test.o: uart.v uart_tb.v \tiverilog o uart_test.o s test uart.v uart_tb.v test: uart_test.o \tvvp uart_test.o # Cleanup build artifacts clean: \trm uart.vcd uart.fs uart_test.o .PHONY: load clean test .INTERMEDIATE: uart_pnr.json uart.json uart_test.o ``` This is very similar to the previous makefile we made, just with the added target to test using `iverilog` and also a target called `clean` which will delete some of the artifacts. So you can run `make load` to program the Tang Nano and then we should be able to view the data being sent to it over the LEDs. To open a serial terminal we can use tabby. Under the settings, if you go to \"Profiles &amp; Connections\" under the advanced tab and select \"Serial\", we can define the settings for our device: ![navigation](./assets/navigation.jpg) We need to select the serial device since the Tang Nano has two, 1 for JTAG and 1 for UART (which is usually the serial device with the higher number). Inside we need to also set the baud rate which we said is 115200 ![serial_settings](./assets/serial_settings.jpg) I also turned on Local echo so it will also print what we type, under the \"Advanced\" tab here we can see that there is 1 stop bit and 8 data bits. You can save this configuration and then under the profiles tab you can run the profile for the serial device chosen. You should see that you are connected and by pressing keys on the keyboard you should see the LEDs update. ## Transmitting Data Sending data is even more powerful in debugging since we can send things happening at runtime to a serial terminal to gain visibility. For example in our case, you can send back what you think you received over UART, if we saw bits being repeated, or bits missing we could know that the baud rate is too slow or too fast accordingly. Also very handy for dumping memory or sensor values when interfacing with other devices. The transmit side is very similar to the implementation of the receiver we did above, except that we don't want to count from the middle of the pulse, the transmit side has to change the line at the beginning of each bit frame. Let's start by adding some registers for the transmit side: ```v reg [3:0] txState 0; reg [24:0] txCounter 0; reg [7:0] dataOut 0; reg txPinRegister 1; reg [2:0] txBitNumber 0; reg [3:0] txByteCounter 0; assign uart_tx txPinRegister; localparam MEMORY_LENGTH 12; reg [7:0] testMemory [MEMORY_LENGTH 1:0]; ``` Like on the receiver side, we have a register to keep track of the tx state machine, we have a register for counting clock cycles. `dataOut` stores the byte being sent currently and `txPinRegister` is just a register to store the current value that should be attached to the `uart_tx` pin. The last two registers keep track of which bit we are currently sending, and the next is for which byte. In our example we will be sending a message from memory, so we need to keep track of the current byte. The `assign` statement connects the `uart_tx` wire to the register we created and the last two lines define a new \"memory\" where each cell is 8 bits long, and in our example we have 12 total cells. ```v initial begin testMemory[0] \"L\"; testMemory[1] \"u\"; testMemory[2] \"s\"; testMemory[3] \"h\"; testMemory[4] \"a\"; testMemory[5] \"y\"; testMemory[6] \" \"; testMemory[7] \"L\"; testMemory[8] \"a\"; testMemory[9] \"b\"; testMemory[10] \"s\"; testMemory[10] \" \"; end ``` This next code initializes the memory. There are also verilog commands that load in memory from a file, so when working on bigger memory blocks instead of initializing one byte at a time we could read it all from a binary or hex file, we will explore this more in a future article. Next let's define the states of our state machine. We don't have an extra \"wait\" stage here, again because we are not offsetting to the middle of the frame like when reading. We do have an extra stage at the end to debounce the button, since we will be using the button to determine when to send data. ```v localparam TX_STATE_IDLE 0; localparam TX_STATE_START_BIT 1; localparam TX_STATE_WRITE 2; localparam TX_STATE_STOP_BIT 3; localparam TX_STATE_DEBOUNCE 4; ``` ### The Transmit States ```v TX_STATE_IDLE: begin if (btn1 0) begin txState < TX_STATE_START_BIT; txCounter < 0; txByteCounter < 0; end else begin txPinRegister < 1; end end ``` The idle state waits for the button to be pressed (which will make it go low) at which point we will move to the start bit state. If the button is not pressed we set the `uart_tx` to be high as in UART we have a high idle state. ```v TX_STATE_IDLE: begin if (btn1 0) begin txState < TX_STATE_START_BIT; txCounter < 0; txByteCounter < 0; end else begin txPinRegister < 1; end end ``` The start bit is a low signal for `DELAY_FRAMES`, once reached we put the next byte we need to send into `dataOut` and reset the `txBitNumber` back to 0. ```v TX_STATE_WRITE: begin txPinRegister < dataOut[txBitNumber]; if ((txCounter + 1) DELAY_FRAMES) begin if (txBitNumber 3'b111) begin txState < TX_STATE_STOP_BIT; end else begin txState < TX_STATE_WRITE; txBitNumber < txBitNumber + 1; end txCounter < 0; end else txCounter < txCounter + 1; end ``` The write state is very similar, except instead of setting the tx pin to low, we set it to the current bit of the current byte. When the frame is over we check if we are already on the last bit, if so we go to the stop bit state, otherwise we increment the bit number and keep the current state of `TX_STATE_WRITE`. ```v TX_STATE_STOP_BIT: begin txPinRegister < 1; if ((txCounter + 1) DELAY_FRAMES) begin if (txByteCounter MEMORY_LENGTH 1) begin txState < TX_STATE_DEBOUNCE; end else begin txByteCounter < txByteCounter + 1; txState < TX_STATE_START_BIT; end txCounter < 0; end else txCounter < txCounter + 1; end ``` The stop bit is a high output bit, after waiting `DELAY_FRAMES` we check if there are any other bytes to send, if there are, we go back to send another start bit and the cycle will repeat for the next byte. If not we go to the debounce state. ```v TX_STATE_DEBOUNCE: begin if (txCounter 23'b111111111111111111) begin if (btn1 1) txState < TX_STATE_IDLE; end else txCounter < txCounter + 1; end ``` Here we are just waiting a minimum time (about 10 ms) on top of the sending time, and making sure the button is released after this time. This is to ensure that for each button press we only get one transmission event. Press on \"FPGA Toolchain\" > \"Build and Program\" or Run `make load` to reprogram the Tang Nano 9K and reopen the serial terminal. You should see that every time you press the button the FPGA should send the message we stored in memory over UART. <img src \"./assets/uart_transmit.jpg\" alt \"uart_transmit\"> For sending data that isn't ascii, you have a few options, the first being you can setup in tabby to print the data out in hex, and then manually decode it, or you can convert the data on device. So for example you can have another module which takes a number and converts it into text by encoding each digit into ascii. As to not make this article too long, we will cover these conversion methods in another article. ## Interacting Programmatically Serial terminal is great for quickly debugging or viewing data, but sometimes you need some processing on the data on the computer side, or you may just want to use the UART to communicate / control an application on one of the sides. To do this we need to open the serial port programmatically. We will be looking at a simple javascript example using node.js and the serialport library. To install the library run the following from a terminal in your project directory: ```bash npm i serialport ``` This will install the library we can then create a test script to print out the serial devices it sees, so create a file for example called `list devices.js`: ```javascript const {SerialPort} require('serialport'); SerialPort.list().then(console.log); ``` and then you can run it with `node list devices.js` you should see something like the following: ![uart_devices](./assets/uart_devices.jpg) With the `path` for the device we can write a simple program to interact with the tang nano: ```javascript const {SerialPort} require('serialport'); const tangnano new SerialPort({ path: '/dev/tty.usbserial 2101', baudRate: 115200, }); let counter 0; tangnano.on('data', function (data) { console.log('Data In Text:', data.toString()); console.log('Data In Hex:', data.toString('hex')); const binary data.toString().split('').map((byte) > { return byte.charCodeAt(0).toString(2).padStart(8, '0'); }); console.log('Data In Binary: ', binary.join(' ')); console.log(\"\\n\"); counter + 1; tangnano.write(Buffer.from([counter])); }); ``` We start by importing the library, then we initialize our device by sending the correct path and baud rate. Next we initialize a counter variable which we will use to count the number of transmissions. The next block will run every time there is a new message from the tang nano over the serial port. In this example we will simply print out the data in multiple formats as an example, and the final two lines increment the counter and send it to the tang nano. ![uart_program](./assets/uart_program.jpg) Running the script with you should something like the above, also see every time you press the button the LEDs count up in binary since they are connected to the byte being sent over UART and we are sending the counter. To exit the application you can press `ctrl c` which will stop the process to regain control over the terminal. ## Conclusion In this article we created our own UART module and went over some common issues and debugging methods. In the next article we will take a look at using a screen as another method of displaying data or relaying information from the FPGA. For those that made it this far I would like to thank you, and I hope you enjoyed reading. As always the code is available <a href \"https://github.com/lushaylabs/tangnano9k series examples\">here(github)</a>. And if you have any questions or comments feel free to leave them below or contact me on twitter <a href \"https://twitter.com/LushayLabs\">@LushayLabs</a>."},"/hardware/zh/tang/Tang-Nano-9K/examples/lcd_constrains.html":{"title":"LCD Pin Constrain content","content":"# LCD Pin Constrain content ç›´æŽ¥æŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›\".cst\"æ–‡ä»¶å³å¯ Copt the following content into the \".cst\" file ``` IO_LOC \"LCD_B[4]\" 41; IO_PORT \"LCD_B[4]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_B[3]\" 42; IO_PORT \"LCD_B[3]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_B[2]\" 51; IO_PORT \"LCD_B[2]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_B[1]\" 53; IO_PORT \"LCD_B[1]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_B[0]\" 54; IO_PORT \"LCD_B[0]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_G[5]\" 55; IO_PORT \"LCD_G[5]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_G[4]\" 56; IO_PORT \"LCD_G[4]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_G[3]\" 57; IO_PORT \"LCD_G[3]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_G[2]\" 68; IO_PORT \"LCD_G[2]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_G[1]\" 69; IO_PORT \"LCD_G[1]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_G[0]\" 70; IO_PORT \"LCD_G[0]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_R[4]\" 71; IO_PORT \"LCD_R[4]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_R[3]\" 72; IO_PORT \"LCD_R[3]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_R[2]\" 73; IO_PORT \"LCD_R[2]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_R[1]\" 74; IO_PORT \"LCD_R[1]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_R[0]\" 75; IO_PORT \"LCD_R[0]\" IO_TYPE LVCMOS33; IO_LOC \"LCD_DEN\" 33; IO_PORT \"LCD_DEN\" IO_TYPE LVCMOS33; IO_LOC \"LCD_SYNC\" 34; IO_PORT \"LCD_SYNC\" IO_TYPE LVCMOS33; IO_LOC \"LCD_HYNC\" 40; IO_PORT \"LCD_HYNC\" IO_TYPE LVCMOS33; IO_LOC \"LCD_CLK\" 35; IO_PORT \"LCD_CLK\" IO_TYPE LVCMOS33; IO_LOC \"XTAL_IN\" 52; IO_PORT \"XTAL_IN\" IO_TYPE LVCMOS33 PULL_MODE NONE; IO_LOC \"nRST\" 4; ```"},"/hardware/zh/tang/Tang-Nano-9K/examples/LED.html":{"title":"ç‚¹ç¯LED","content":" title: ç‚¹ç¯LED > ç¼–è¾‘äºŽ2022å¹´7æœˆ13æ—¥ è¿™é‡Œæˆ‘ä»¬ç”¨ç‚¹äº®æ¿å­ä¸Šçš„LEDæ¥ä½œä¸ºä¾‹ç¨‹æ¥å¿«é€Ÿç†Ÿæ‚‰ä¸€ä¸‹é«˜äº‘åŠå¯¼ä½“ IDE çš„ä½¿ç”¨æµç¨‹ ## åˆ›å»ºå·¥ç¨‹ æ–°å»ºå·¥ç¨‹ï¼šFile >NEW >FPGA Dsign Project >OK ![åˆ›å»ºå·¥ç¨‹](./../../Tang Nano/assets/LED 1.png) å¼¹å‡ºçš„é€‰é¡¹æ¡†è®¾ç½®å·¥ç¨‹åç§°å’Œè·¯å¾„ï¼ˆè·¯å¾„å’Œæ–‡ä»¶åç§°è¦æ±‚æ˜¯è‹±æ–‡è·¯å¾„ï¼‰ ![è®¾ç½®åç§°](./../../Tang Nano/assets/LED 2.png) é€‰æ‹©æ­£ç¡®çš„åž‹å·ï¼š ![é€‰æ‹©è®¾å¤‡](./../nano_9k/Tang_nano_9k_Device_choose.png) ## å‡†å¤‡ä»£ç  æ–°å»ºå¥½å·¥ç¨‹ä¹‹åŽæŽ¥ä¸‹æ¥è¿›è¡Œä»£ç ç¼–è¾‘ï¼Œå¯ä»¥åœ¨ä¸‹å›¾ç®­å¤´æŒ‡ç¤ºçš„åœ°æ–¹æ–°å»º â€œVerilog Fileâ€ ![](./../../Tang Nano/assets/LED 5.png) ç»™æ–‡ä»¶å‘½åï¼ˆè¦æ±‚å†™è‹±æ–‡åï¼Œä¸ç„¶åŽç»­ç»¼åˆå¾ˆå®¹æ˜“æŠ¥é”™ï¼‰ ![](./../../Tang Nano/assets/LED 6.png) åŒå‡»æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å³ä¾§çš„ç¼–è¾‘æ¡†ä¸­è¿›è¡Œä»£ç çš„ç¼–å†™ã€‚ ![](./../../Tang Nano/assets/LED 7.png) ä»¥æµæ°´ç¯ä¸ºä¾‹ï¼Œå°†ä¸‹æ–¹çš„ â€œLEDä¾‹ç¨‹ä»£ç â€ å¤åˆ¶å¹¶ç²˜è´´åˆ°è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™ä»£ç ï¼Œä¾‹ç¨‹ä»£ç åœ°å€ï¼š <https://github.com/sipeed/TangNano 9K example> ä½¿ç”¨ git clone åŽå¯ä»¥åœ¨ led/src/LED.v æ–‡ä»¶å¤¹å†…æ‰¾åˆ°ä»£ç  ```verilog module led ( input sys_clk, // clk input input sys_rst_n, // reset input output reg [5:0] led // 6 LEDS pin ); reg [23:0] counter; always @(posedge sys_clk or negedge sys_rst_n) begin if (!sys_rst_n) counter < 24'd0; else if (counter < 24'd1349_9999) // 0.5s delay counter < counter + 1'b1; else counter < 24'd0; end always @(posedge sys_clk or negedge sys_rst_n) begin if (!sys_rst_n) led < 6'b111110; else if (counter 24'd1349_9999) // 0.5s delay led[5:0] < {led[4:0],led[5]}; else led < led; end endmodule ``` ä¸Šé¢ä»£ç å®ŒæˆåŽéœ€è¦åœ¨ Project >Configuration >Place&Route >Dual Purpose Pin ä¸­å°† `Use DONE as regular IO` å‹¾é€‰ä¸Šï¼Œä¸ç„¶ä¸‹é¢çš„ç»¼åˆä¼šæŠ¥é”™ã€‚ ![img_configuration](./../nano_9k/LED_Configuration.png) ## ç»¼åˆã€çº¦æŸã€å¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ ä¿å­˜ç¼–è¾‘çš„ä»£ç åŽè½¬åˆ° â€œProcessâ€ ç•Œé¢ï¼ŒåŒå‡» â€œSynthesizeâ€ æ¥å¯¹æˆ‘ä»¬æ‰€ç¼–å†™çš„ä»£ç è¿›è¡Œç»¼åˆã€‚ä¹Ÿå¯ä»¥é¼ æ ‡å³é”®ç‚¹å‡»çœ‹çœ‹æœ‰å•¥åŠŸèƒ½ ![Synthesize](./../nano_9k/nano_9k_synthsize.png) è¿è¡Œçš„ç»“æžœå¦‚ä¸‹å›¾ä¸€æ · ![Finish_Synthesize](./../../Tang Nano/assets/LED.png) ä¸”ä¸‹æ–¹ç»“æžœæ ä¸å‡ºçŽ°ä»»ä½•ä»ŽæŠ¥é”™ï¼Œè¯´æ˜Žå‰é¢ç¼–è¾‘çš„ä»£ç æ— è¯¯ï¼Œå¦‚æžœæœ‰é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œæ”¹æ­£å³å¯ã€‚ ### çº¦æŸ æ­¤å¤„æ²¡æœ‰æ¶‰åŠæ—¶é’Ÿçº¦æŸ æƒ³è®© Fpga å®žçŽ°ä»£ç çš„åŠŸèƒ½ï¼Œå¿…é¡»å°†ä»£ç ä¸­æ¶‰åŠçš„ç«¯å£ç»‘å®šåˆ° Fpga å®žé™…çš„å¼•è„šä¸Šã€‚ å¦‚ä¸‹å›¾ï¼Œåœ¨å·¦è¾¹çš„å·¥ä½œåŒºç‚¹å‡» processï¼Œç„¶åŽåŒå‡» FloorPlanner ï¼ˆå‰é¢çš„ç»¼åˆå¦‚æžœè¿è¡Œå¤±è´¥ï¼Œè¿™ä¸€æ­¥æ— æ³•è¿›è¡Œï¼‰ ![FloorPlanner](./../../assets/examples/led_pjt_2.png) ç¬¬ä¸€æ¬¡æ‰“å¼€ä¼šå¼¹å‡ºç¼ºå°‘ .cst æ–‡ä»¶.é€‰æ‹© â€œOKâ€ å³å¯ï¼› ![.cst_file](./../../Tang Nano/assets/LED 9.png) å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½åˆ° Nano 9K çš„åŽŸç†å›¾ [è¿™é‡Œ](https://dl.sipeed.com/shareURL/TANG/Nano%209K/2_Schematic) Nano 9K çš„ led éƒ¨åˆ†çš„åŽŸç†å›¾å¦‚ä¸‹æ‰€ç¤º ![ledåŽŸç†å›¾](./../nano_9k/LED_Pins.png \"nano 9k led pins\") å¯¹äºŽäº¤äº’å¼ç®¡è„šçº¦æŸæœ‰ä¸¤ç§æ–¹æ³• å°†å¯¹åº”çš„ç«¯å£æ‹–æ‹½åˆ°èŠ¯ç‰‡å¼•è„šä¸Š åœ¨ IO çº¦æŸä¸­è¾“å…¥ç«¯å£å¯¹åº”çš„å¼•è„šç¼–å· ç®¡æ•™ç»‘å®šçš„å…·ä½“æ–¹æ³•å¯ä»¥å‚è€ƒ [SUG935 1.3_Gowinè®¾è®¡ç‰©ç†çº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG935 1.3_Gowin%E8%AE%BE%E8%AE%A1%E7%89%A9%E7%90%86%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf)ã€‚ å½“ç„¶åˆ«å¿˜äº†å¯¹ç€åŽŸç†å›¾æŠŠæ™¶æŒ¯å¼•è„šå’Œå…¨å±€å¤ä½æŒ‰é”®å¼•è„šä¹Ÿç»‘å®šä¸€ä¸‹ ä¸‹å›¾æ˜¯æœ¬ä¾‹ç¨‹ç®¡è„šçº¦æŸç¤ºä¾‹ ![å¼•è„šçº¦æŸ](./../nano_9k/LED_FloorPlanner.png) ### å¸ƒå±€å¸ƒçº¿ > æœªå¼€å¯ç®¡è„šå¤ç”¨ä¼šæç¤º error2017ï¼Œ å‰æ–‡æåˆ°è¿‡å¯ç”¨æ–¹æ³• [å‡†å¤‡ä»£ç ](#å‡†å¤‡ä»£ç ) åˆ° Process ä¸‹è¿è¡Œå¸ƒå±€å¸ƒçº¿ï¼Œå³åŒå‡» `Place&Route` ï¼Œç»“æžœå°†å¦‚ä¸‹æ‰€ç¤ºï¼š ![Place&Route](./../nano_9k/LED_Place&Route.png) ## ä¸‹è½½åˆ°è®¾å¤‡ ### å¼€å§‹ä¸‹è½½ åŒå‡» Program Device æ‰“å¼€ä¸‹è½½è½¯ä»¶ ![Programmer](./../../Tang Nano 4K/assets/Open_Programmer.png) æŽ¥ä¸‹æ¥æ˜¯è¿žæŽ¥èŠ¯ç‰‡åž‹å·ï¼Œçƒ§å½•å›ºä»¶ï¼Œå¯å‚ç…§ä¸‹å›¾é€‰æ‹©èŠ¯ç‰‡(æ³¨æ„è¿™é‡Œæ˜¯9C)ï¼š ![é€‰æ‹©](./../nano_9k/nano_9k_device_scan.png) ä»¥çƒ§å½•è¿›SRAMä¸ºä¾‹è¿›è¡Œè¯´æ˜Žï¼Œå¦‚ä¸‹å›¾ï¼š è®¾ç½®ä¸‹è½½æ–¹å¼ï¼š ![è®¾ç½®sramä¸‹è½½æ–¹å¼](./../nano_9k/nano_9k_sram_program.png \"è®¾ç½®sramä¸‹è½½æ–¹å¼\") è¿›è¡Œä¸‹è½½ï¼š ![è¿›è¡Œsramä¸‹è½½](./../nano_9k/nano_9k_sram_download.png \"è¿›è¡Œsramä¸‹è½½\") ### ç»“æžœå±•ç¤º ç»“æžœæ˜¾ç¤ºï¼š ![æµæ°´ç¯](./../nano_9k/blink.gif) ## å…¶ä»– æœ‰å›ºåŒ–éœ€æ±‚çš„è¯è®¾ç½®ä¸‹è½½åˆ° flash å³å¯ ![å›ºåŒ–](./../nano_9k/access_mode.png) æœ‰é—®é¢˜å¯ä»¥å‰å¾€[ç›¸å…³é—®é¢˜](./../../Tang Nano Doc/questions.html) å½“ç„¶ä¹Ÿæ¬¢è¿Žåœ¨ä¸‹é¢ç•™è¨€ <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-9K/Nano-9K.html":{"title":"Tang Nano 9K","content":"# Tang Nano 9K > ç¼–è¾‘æ—¶é—´ 2022å¹´1æœˆ13æ—¥ ## ç®€ä»‹ Tang Nano 9K æ˜¯åŸºäºŽé«˜äº‘åŠå¯¼ä½“ GW1NR 9 FPGAèŠ¯ç‰‡è®¾è®¡çš„ç²¾ç®€åž‹å¼€å‘æ¿ã€‚å®ƒæ­è½½çš„HDMIè¿žæŽ¥å™¨ã€RGBæŽ¥å£å±å¹•è¿žæŽ¥å™¨ã€SPIå±å¹•è¿žæŽ¥å™¨ã€SPI FLASHå’Œ6ä¸ªLEDä½¿å¾—ç”¨æˆ·å¯ä»¥æ–¹ä¾¿ä¸”å¿«é€Ÿåœ°è¿›è¡ŒFPGAéªŒè¯ï¼ŒRISC Vè½¯æ ¸éªŒè¯å’ŒåŠŸèƒ½æ ·æœºéªŒè¯ã€‚GW1NR 9æ‹¥æœ‰çš„8640 LUT4 é€»è¾‘å•å…ƒé™¤äº†å¯ä»¥ç”¨æ¥è®¾è®¡å„ç§å¤æ‚çš„é€»è¾‘ç”µè·¯ï¼Œè¿˜å¯ä»¥è¿è¡Œå®Œæ•´çš„PicoRVè½¯æ ¸ï¼Œæ»¡è¶³äº†ç”¨æˆ·å­¦ä¹ FPGAã€éªŒè¯è½¯æ ¸å’Œæ·±åº¦è®¾è®¡çš„å„ç§éœ€æ±‚ã€‚ ## äº§å“å‚æ•° ç±»åˆ« æ•°å€¼ é€»è¾‘å•å…ƒ(LUT4) 8640 å¯„å­˜å™¨(FF) 6480 åˆ†å¸ƒå¼é™æ€éšæœºå­˜å‚¨å™¨ <br>SSRAM(bits) 17280 å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨ <br>B SRAM(bits) 468K å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨æ•°ç›®<br>BSRAMï¼ˆä¸ªï¼‰ 26 ç”¨æˆ·é—ªå­˜(bits) 608K PSRAM(bits) 64M é«˜æ€§èƒ½DSPæ¨¡å— æ”¯æŒ9x9,18x18,36x36bitçš„ä¹˜æ³•è¿ç®—å’Œ54bitç´¯åŠ å™¨ ä¹˜æ³•å™¨ <br>(18 x 18 Multiplier) 20 SPI FLASH 32M bits çµæ´»çš„PLLèµ„æº 2ä¸ªé”ç›¸çŽ¯ï¼ˆPLLsï¼‰ æ˜¾ç¤ºå±å¹•æŽ¥å£ HDMIæŽ¥å£, SPIå±å¹•æŽ¥å£å’ŒRGBå±å¹•æŽ¥å£ è°ƒè¯•å™¨ æ¿è½½BL702èŠ¯ç‰‡ï¼Œä¸ºGW1NR 9æä¾›USB JTAGä¸‹è½½å’ŒUSB UARTä¸²å£æ‰“å°åŠŸèƒ½ IO â€¢ æ”¯æŒ4mAã€8mAã€16mAã€24mAç­‰é©±åŠ¨èƒ½åŠ› <br>â€¢ å¯¹æ¯ä¸ªI/Oæä¾›ç‹¬ç«‹çš„Bus Keeperã€ä¸Šæ‹‰/ä¸‹æ‹‰ç”µé˜»åŠOpen Drainè¾“å‡ºé€‰é¡¹ è¿žæŽ¥å™¨ TFå¡åº§å­, 2x24P 2.54mm æŽ’é’ˆç„Šç›˜ æŒ‰é”® 2ä¸ªç”¨æˆ·å¯ç¼–ç¨‹æŒ‰é”® LED æ¿è½½6ä¸ªå¯ç¼–ç¨‹LED ### æ¿è½½åŠŸèƒ½æ¡†å›¾ ![Generated](./assets/clip_image008.jpg) ### æ¿å­å¼•è„šå›¾ ![Generated](./assets/clip_image010.gif) ## å‰ä»£å¯¹æ¯” Tang Nano 9K æ˜¯ Sipeed æ‰€æŽ¨å‡ºçš„ç¬¬äº”æ¬¾ FPGA å¼€å‘æ¿ï¼Œä¸Žåœ¨å”®å‰ä»£äº§å“å‚æ•°å¯¹æ¯”å¦‚ä¸‹ï¼š ç‰ˆåž‹ Tang Nano 1K Tang Nano 4K Tang Nano 9K : : : : å¤–è§‚å›¾ <img src \"./../../../zh/tang/Tang Nano/assets/clip_image002.gif\" width \"180\" > <img src \"./../../../zh/tang/Tang Nano/assets/clip_image004.gif\" width \"180\" > <img src \"./../../../zh/tang/Tang Nano/assets/clip_image006.gif\" width \"180\" > é€»è¾‘å•å…ƒ (LUT4) 1152 4608 8640 ç¡¬æ ¸å¤„ç†å™¨ Cortex M3 æ¿è½½æ™¶æŒ¯ 27MHZ 27MHZ 27MHZ å±å¹•æŽ¥å£ RGB å±å¹•æŽ¥å£ HDMI æŽ¥å£ HDMI æŽ¥å£, <br>RGB å±å¹•æŽ¥å£,<br>SPI å±å¹•æŽ¥å£ æ‘„åƒå¤´æŽ¥å£ é»˜è®¤ OV2640 å¤–éƒ¨å­˜å‚¨ ä»…é¢„ç•™ç„Šç›˜ 32Mbits SPI flash 32Mbits SPI flash TF å¡æ§½ æœ‰ ä¸‹è½½å™¨ æ¿è½½ USB JTAG æ¿è½½ USB JTAG æ¿è½½ USB JTAG & USB UART ## é€‚ç”¨äººç¾¤ ç”¨æ³• FPGA MCU FPGA+MCU : : : : è¯­è¨€ Verilog HDL/Verilog C/C++ Verilog HDL/Verilog ï¼Œ C/C++ ç®€ä»‹ ä¸Šæ¿éªŒè¯ç”¨æˆ·HDL ç”¨æˆ·å°†è½¯æ ¸çš„æ¯”ç‰¹æµæ–‡ä»¶ä¸‹è½½åˆ°èŠ¯ç‰‡åŽå¯å°†<br>GW1NR 9å½“åšæ™®é€šçš„MCUæ¥ä½¿ç”¨ çƒ§å…¥è½¯æ ¸åŽå¯ä»¥è¿›è¡ŒåŒæ ¸å¼€å‘ é€‚ç”¨äººç¾¤ åˆå­¦è€…ï¼ŒFPGAå¼€å‘è€… RISC Vå¼€å‘è€…ï¼ŒCortex Må¼€å‘è€… èµ„æ·±è½¯ç¡¬ä»¶å·¥ç¨‹å¸ˆ ## ä¸Šæ‰‹æŒ‡å¼• 1. å®‰è£…IDEå’Œå¡«å†™æ­£ç¡®çš„Licenseï¼š[ç‚¹å‡»è¿™é‡Œ](https://wiki.sipeed.com/soft/Tang/zh/Tang Nano Doc/get_started/install the ide.html) 2. é˜…è¯»ï¼š[SUG100 2.6_Gowinäº‘æºè½¯ä»¶ç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG100 2.5_Gowin%E4%BA%91%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) 3. é˜…è¯»è¿™ä¸ª[æ•™ç¨‹](./examples/LED.html)å®Œæˆç‚¹ç¯å®žéªŒã€‚ å»ºè®®æ–°æ‰‹åœ¨å®Œæˆè¿™ä¸€æ­¥ä¹‹åŽï¼Œè‡ªå·±é‡æ–°ç‹¬ç«‹æ–°å»ºé¡¹ç›®ã€ç¼–å†™ä»£ç ï¼Œå®Œæˆè¿™ä¸ªå®žéªŒï¼Œå¹¶ä¸”æŒ‰è‡ªå·±çš„æƒ³æ³•ä¿®æ”¹ç‚¹ç¯ç¨‹åºï¼Œå¢žå¼ºå¯¹FPGAå’Œç¡¬ä»¶æè¿°è¯­è¨€çš„ç†è§£ã€‚ å»ºè®®åœ¨è¿™ä¸ªè¿‡ç¨‹é˜…è¯»ä»¥ä¸‹å†…å®¹ï¼Œé˜…è¯»å®Œæ‰è¿›å…¥ä¸‹ä¸€æ­¥ï¼š Verilogä»£ç è§„èŒƒï¼ˆè‡ªè¡Œæœç´¢ï¼Œä»Žåˆå­¦å°±åŸ¹å…»è‰¯å¥½çš„ä»£ç è§„èŒƒæ˜¯éžå¸¸å¿…è¦çš„ï¼‰ ä¸‹é¢çš„è¿™äº›å†…å®¹å¯¹äºŽåˆå­¦è€…æ¥è¯´æ˜¯éžå¸¸æœ‰ç”¨çš„ï¼Œå¯¹æœªæ¥æ·±å…¥å­¦ä¹  FPGA å¾ˆæœ‰å¸®åŠ©ã€‚ [SUG100 2.6_Gowinäº‘æºè½¯ä»¶ç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG100 2.6_Gowin%E4%BA%91%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) [SUG949 1.1_Gowin_HDLç¼–ç é£Žæ ¼ç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG949 1.1_Gowin_HDL%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) <a href \"http://cdn.gowinsemi.com.cn/UG286 1.9.1_Gowin%E6%97%B6%E9%92%9F%E8%B5%84%E6%BA%90(Clock)%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf\">UG286 1.9.1_Gowinæ—¶é’Ÿèµ„æº(Clock)ç”¨æˆ·æŒ‡å—.pdf</a> [SUG940 1.3_Gowinè®¾è®¡æ—¶åºçº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG940 1.3_Gowin%E8%AE%BE%E8%AE%A1%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) [SUG502 1.3_Gowin_Programmerç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG502 1.3_Gowin_Programmer%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) [SUG114 2.5_Gowinåœ¨çº¿é€»è¾‘åˆ†æžä»ªç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG114 2.5_Gowin%E5%9C%A8%E7%BA%BF%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) ä¸Šé¢çš„éƒ½å·²ç»æ‰“åŒ…è¿›äº†ä¸‹è½½ç«™[ç‚¹æˆ‘è·³è½¬](https://dl.sipeed.com/shareURL/TANG/Nano%209K/6_Chip_Manual/CN/%E9%80%9A%E7%94%A8%E6%8C%87%E5%BC%95)ã€‚å¯ä»¥ç‚¹å‡»åŽ‹ç¼©åŒ…å…¨éƒ½ä¸‹è½½ä¸‹æ¥ å…¶ä»–å­¦ä¹ é“¾æŽ¥ï¼š + åœ¨çº¿å…è´¹æ•™ç¨‹ï¼š[èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/w3cnote/verilog tutorial.html)ï¼ˆå­¦ä¹ Verilogï¼‰ + åœ¨çº¿å…è´¹FPGAæ•™ç¨‹ï¼š[Verilog](https://www.asic world.com/verilog/index.html) + åœ¨çº¿é«˜äº‘åŠå¯¼ä½“å®˜æ–¹è§†é¢‘æ•™ç¨‹ï¼š[ç‚¹å‡»è¿™é‡Œ](http://www.gowinsemi.com.cn/video_complex.aspx?FId n15:15:26) 1. æŒ‰ç…§è¿™ä¸ª[æ•™ç¨‹](./examples/LCD.html)è¿›è¡Œ5å¯¸RGBå±é©±åŠ¨å®žéªŒï¼ˆå…¶ä»–å°ºå¯¸å±å¹•è‡ªè¡Œä¿®æ”¹ä¸€ä¸‹ï¼‰ã€‚ å¦‚æžœç”¨æˆ·è‡ªè¡Œæ— æ³•å®Œæˆè¿™ä¸ªå®žéªŒï¼Œå¯ä»¥ä¸‹è½½æˆ‘ä»¬[9Kä¾‹ç¨‹](https://github.com/sipeed/TangNano 9K example)ï¼ˆé€‚é…9Kæ¿å­+5å¯¸å±ï¼‰æŸ¥çœ‹å“ªä¸ªæ­¥éª¤æ²¡åšæ­£ç¡® æ³¨æ„ï¼šå±å¹•æŽ¥çº¿æ—¶éœ€è¦æ³¨æ„æŽ’çº¿çš„1è„šå¯¹åº”è¿žæŽ¥å™¨æ—çš„1è„šä¸å° éœ€è¦é˜…è¯»çš„æ–‡æ¡£ï¼š rPLL IPæ ¸çš„è¯´æ˜Žæ–‡æ¡£ï¼šåœ¨IDEé‡Œ>Tools>IP Core Generator>Hard Module>CLOCK>rPLL>ç‚¹å‡»å¼¹å‡ºç•Œé¢å³ä¸‹è§’çš„HelpæŒ‰é”®å°±ä¼šå¼¹å‡ºè¯´æ˜Žæ–‡æ¡£ <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹è¯´æ˜Žä½ç½®</font></summary> <img src \"./../assets/ip reference.png\"> </details> SUG284 2.1E_Gowin IP Core Generator User Guide.pdf [5å¯¸å±è§„æ ¼ä¹¦](https://dl.sipeed.com/fileList/TANG/Nano%209K/6_Chip_Manual/EN/LCD_Datasheet/5.0inch_LCD_Datashet%20_RGB_.pdf)ï¼š(ä¸»è¦æ˜¯èŽ·å–CLKæ˜¯33.3Mhzè¿™ä¸ªä¿¡æ¯) ## ä¾‹ç¨‹æ±‡æ€» è®¿é—® [ç›¸å…³ä¾‹ç¨‹](./../Tang Nano Doc/examples.html) æŸ¥çœ‹æ‰€æœ‰è¯´æ˜Ž ## ç¡¬ä»¶èµ„æ–™ [è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/TANG/Nano%209K/1_Specification) [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%209K/2_Schematic) [ä½å·å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%209K/3_Bit_number_map) [å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%209K/4_Dimensional_drawing) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/TANG/Nano%209K/5_3D_file) [éƒ¨åˆ†æ‰‹å†Œ](https://dl.sipeed.com/shareURL/TANG/Nano%209K/6_Chip_Manual) ç¡¬ä»¶èµ„æ–™æ€»é“¾æŽ¥ï¼š[ç‚¹å‡»è¿™é‡Œ](https://dl.sipeed.com/shareURL/TANG/Nano%209K) ## æ³¨æ„äº‹é¡¹ 1. å¦‚æžœæœ‰ä»€ä¹ˆç–‘é—®ï¼Œæ¬¢è¿ŽåŠ ç¾¤ `834585530`, æˆ–è€…ç›´æŽ¥åœ¨æœ¬é¡µä¸‹æ–¹ç•™è¨€è®¨è®ºã€‚ 2. æœ‰é—®é¢˜çš„è¯å…ˆåŽ» [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) è‡ªæŸ¥ã€‚ 3. é¿å…ä½¿ç”¨JTAGã€MODEã€DONEç­‰å¼•è„šã€‚å¦‚æžœä¸€å®šè¦ä½¿ç”¨è¿™äº›å¼•è„šï¼Œè¯·æŸ¥çœ‹ [UG292 1.0åŽŸç†å›¾æŒ‡å¯¼æ‰‹å†Œ](http://cdn.gowinsemi.com.cn/UG293 1.0_GW1NZ%E7%B3%BB%E5%88%97FPGA%E4%BA%A7%E5%93%81%E5%8E%9F%E7%90%86%E5%9B%BE%E6%8C%87%E5%AF%BC%E6%89%8B%E5%86%8C.pdf) 4. è¯·æ³¨æ„é¿å…é™ç”µæ‰“åˆ°PCBAä¸Šï¼›æŽ¥è§¦PCBAä¹‹å‰è¯·æŠŠæ‰‹çš„é™ç”µé‡Šæ”¾æŽ‰ 5. æ¯ä¸ªGPIOçš„å·¥ä½œç”µåŽ‹å·²ç»åœ¨åŽŸç†å›¾ä¸­æ ‡æ³¨å‡ºæ¥ï¼Œè¯·ä¸è¦è®©GPIOçš„å®žé™…å·¥ä½œçš„ç”µåŽ‹è¶…è¿‡é¢å®šå€¼ï¼Œå¦åˆ™ä¼šå¼•èµ·PCBAçš„æ°¸ä¹…æ€§æŸå 6. åœ¨è¿žæŽ¥FPCè½¯æŽ’çº¿çš„æ—¶å€™ï¼Œè¯·ç¡®ä¿æŽ’çº¿æ— åç§»ã€å®Œæ•´åœ°æ’å…¥åˆ°æŽ’çº¿ä¸­ï¼Œä¸”çº¿åºæ­£ç¡®æ²¡æœ‰æŽ¥å 7. è¯·åœ¨ä¸Šç”µè¿‡ç¨‹ä¸­ï¼Œé¿å…ä»»ä½•æ¶²ä½“å’Œé‡‘å±žè§¦ç¢°åˆ°PCBAä¸Šçš„å…ƒä»¶çš„ç„Šç›˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´çŸ­è·¯ï¼Œçƒ§æ¯PCBA 8. ä½¿ç”¨é€”ä¸­éœ€è¦æ³¨æ„å¤ç”¨çš„ IOï¼Œæ¯”å¦‚ HDMI çš„ IO é»˜è®¤è¢«å¤–éƒ¨ä¸Šæ‹‰ï¼Œå› æ­¤åœ¨æŽ’é’ˆä¸Šä½¿ç”¨ç›¸å…³å¼•è„šçš„æ—¶å€™å¯èƒ½ä¼šä¸Žè‡ªå·±æƒ³è¦çš„ç»“æžœä¸ç¬¦ã€‚ ![nano_9k_hdmi_io](./assets/nano_9k_hdmi_io.png)"},"/hardware/zh/tang/Tang-Nano-9K/Tang-nano-9k.html":{"title":"Tang nano 9k ä¸€äº›ä¾‹ç¨‹","content":" title: Tang nano 9k ä¸€äº›ä¾‹ç¨‹ å¯¹äºŽProgrammer(ä¸‹è½½ç¨‹åº)å»ºè®®ä½¿ç”¨ https://dl.sipeed.com/shareURL/TANG/programmer é‡Œé¢çš„æ–‡ä»¶ã€‚ ä¸‹è½½åŽè§£åŽ‹æ›¿æ¢æŽ‰Gowinå¯¹åº”å®‰è£…ç›®å½•çš„Programmeræ–‡ä»¶å¤¹å³å¯ã€‚ ä¸ä¼šæ›¿æ¢çš„è¯å¯ä»¥åœ¨ä¸‹è½½è§£åŽ‹åŽçš„Programmerç¨‹åºä¸­æ‰‹åŠ¨æ·»åŠ å¯¹åº”ä¸‹è½½æ–‡ä»¶æ¥è¿›è¡Œçƒ§å½•ã€‚ [ç‚¹ç¯ä¾‹ç¨‹](./examples/LED.html) [é©±RGBå±æ•™ç¨‹](./examples/LCD.html) [PicoRV åœ¨9Kä¸Šè¿è¡Œçš„ç¤ºä¾‹](./examples/picorv.html) litexåœ¨9Kä¸Šä½¿ç”¨ç¤ºä¾‹ï¼šå³å°†æ›´æ–° ä½¿ç”¨è½¯æ ¸é©±åŠ¨SPIå±å¹•ï¼šå¾…æ›´æ–° ~~FPGAé©±åŠ¨1.14å¯¸SPIå±å¹•ï¼šå¾…æ›´æ–°~~ HDMIæ˜¾ç¤ºä¾‹ç¨‹ï¼šå³å°†æ›´æ–° é©±åŠ¨MIPIæŽ¥å£å±å¹•ï¼šå¾…æ›´æ–° å…¶ä»–ï¼ˆæœ‰ä»€ä¹ˆæƒ³æ³•å¯ä»¥æå‡ºæ¥ï¼Œå¯è¡Œçš„è¯æˆ–è®¸ä¼šè¢«é‡‡çº³ï¼‰"},"/hardware/zh/tang/Tang-primer/get_started/install_Linux.html":{"title":"Linuxçš„å¼€å‘çŽ¯å¢ƒå®‰è£…","content":"# Linuxçš„å¼€å‘çŽ¯å¢ƒå®‰è£… ## å®‰è£…TD æƒ³è¦è¿›è¡ŒFPGAå¼€å‘éœ€è¦å®‰è£…TDï¼Œå¯ä»¥é€šè¿‡[ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/TANG/Premier/IDE)ï¼Œä¸‹è½½TDå®‰è£…åŒ…å’Œlicenseã€‚ å¯¹åº”åº”ä¸‹è½½çš„IDEåç§°ä¸º `TD_5.0.3_28716_NL_Linux.zip` Licenseæ–‡ä»¶ï¼š`Anlogic_20230606.lic` åŒå‡»æ‰“å¼€ç¬¬ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå®‰è£…ï¼Œå®‰è£…ç»“æŸä¹‹åŽå°† Anlogic_20230606.lic ä¿®æ”¹æˆAnlogic.licæ”¾åˆ°å¯¹åº”å®‰è£…ç›®å½•çš„TD5.0.27252/licenseä¸­ ä¸‹è½½å®Œç¨‹åºåŽï¼Œæ‰“å¼€ç»ˆç«¯å¹¶ cd è¿›å…¥TDåŽ‹ç¼©åŒ…æ‰€åœ¨çš„ç›®å½•ã€‚ ```bash cd <å®‰è£…ç¨‹åºå­˜æ¡£ç›®å½•çš„è·¯å¾„ > ``` åœ¨linuxä¸­ /opt ç›®å½•æ˜¯ä¸ºæ‰€æœ‰ä¸å±žäºŽé»˜è®¤å®‰è£…çš„è½¯ä»¶å’Œé™„åŠ åŒ…ä¿ç•™çš„ã€‚ åœ¨è¿™é‡Œæˆ‘ä»¬ä¸º TDåˆ›å»ºä¸€ä¸ªå®‰è£…ç›®å½• ```bash sudo mkdir /opt/TD_DECEMBER2018 ``` å°† TD è§£åŽ‹åˆ° /opt/TD_DECEMBER2018 ç›®å½•ä¸­ï¼š ```bash sudo tar xvf TD_5.0.3_28716_NL_Linux.zip d /opt/TD_DECEMBER2018/ ``` ## æ£€æŸ¥é»˜è®¤linuxé©±åŠ¨ å°† Tang Primer è¿žæŽ¥ä¸Šç”µè„‘ï¼Œæ‰§è¡Œlsusbå‘½ä»¤ç„¶åŽæŸ¥çœ‹ä¿¡æ¯ã€‚ç¡®å®š USB VID:PID ä¸º 0547:1002ï¼Œå¦‚ä¸‹å›¾ä¸­çš„æ˜¾ç¤º ![](./assets/USB_VID.jpg) ## æ–°å»ºä¸€ä¸ªudevæ–‡ä»¶ æ–°å»ºä¸€ä¸ªudevæ–‡ä»¶èƒ½å¤Ÿè®©Tang Primerè¢«æ’ä»¶æœç´¢åˆ°ï¼Œ åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥åˆ›å»ºæ–°çš„ udev è§„åˆ™æ–‡ä»¶ã€‚ ```bash sudo nano /etc/udev/rules.d/91 anlogic jtag.rules ``` å°†ä¸‹é¢çš„å†…å®¹å¤åˆ¶åˆ°ä¸Šé¢æ–°å»ºçš„æ–‡ä»¶ä¸­ã€‚ ``` SUBSYSTEMS \"usb\", ATTRS{idVendor} \"0547\", ATTRS{idProduct} \"1002\", \\ GROUP \"plugdev\", \\ MODE \"0660\" ``` åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ¥é‡å¯udevæœåŠ¡ ```bash sudo service udev restart ``` ## æ£€æŸ¥è®¾å¤‡èƒ½å¦è¢«TDæ£€æµ‹åˆ° åœ¨tdæ‰€åœ¨è·¯å¾„è§£åŽ‹ç›®å½•æŒ‡å®šä¸‹é¢å‘½ä»¤æ¥æ‰“å¼€guiç•Œé¢ ```bash ./td gui ``` ç‚¹å‡»ä¸‹å›¾ä¸­æ¡†å‡ºæ¥çš„ä¸‹è½½æŒ‰é’® ![](./assets/td_linux_gui.jpg) å°†å¼€å‘æ¿ä¸Žç”µè„‘è¿žæŽ¥ï¼Œç‚¹å‡»ä¸‹è½½ç•Œé¢çš„åˆ·æ–°æŒ‰é’® ![](./assets/refresh.jpg) > æœ‰å¥‡æ€ªçš„bugï¼Œå¯¼è‡´JTAGåªèƒ½åœ¨ 400kbps æˆ–è€…æ›´ä½Žçš„é€ŸçŽ‡è¿è¡Œ"},"/hardware/zh/tang/Tang-primer/get_started/E203.html":{"title":"æ­å»ºèœ‚é¸Ÿå¼€å‘çŽ¯å¢ƒ","content":"# æ­å»ºèœ‚é¸Ÿå¼€å‘çŽ¯å¢ƒ Note çŽ°å·²ç»åšå¥½äº† è™šæ‹Ÿæœºé•œåƒ é“¾æŽ¥ï¼š[https://dl.sipeed.com/shareURL/TANG/Primer/vmware](https://dl.sipeed.com/shareURL/TANG/Primer/vmware)ï¼Œå¯ç›´æŽ¥ä½¿ç”¨ ## ä¸‹è½½äº¤å‰ç¼–è¯‘å·¥å…·é“¾ ç™¾åº¦ç½‘ç›˜é“¾æŽ¥ä¸º: [https://pan.baidu.com/s/1eUbBlVc](https://pan.baidu.com/s/1eUbBlVc) ç”±äºŽè¿™é‡Œæä¾›çš„openocdä¸æ”¯æŒLicheeTangä½¿ç”¨çš„flashåž‹å·ï¼Œæ‰€ä»¥è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹; è¯·[ä¸‹è½½](https://fdvad021asfd8q.oss cn hangzhou.aliyuncs.com/LicheeTang/get_started/openocd) æ–°çš„è¿›è¡Œæ›¿æ¢ ## é…ç½®å·¥ä½œçŽ¯å¢ƒ 1. ä»Žgithubä¸‹è½½e200_opensource ```bash git clone https://github.com/SI RISCV/e200_opensource.git ``` 2. å°† sirv e203 lichee.tar.gz è§£åŽ‹è‡³ e200_opensource/sirv e sdk/bsp/env ç›®å½•ä¸‹ <! (https://fdvad021asfd8q.oss cn hangzhou.aliyuncs.com/LicheeTang/get_started/sirv e203 lichee.tar.gz) > å°†ä¸‹è½½å¥½çš„äº¤å‰å·¥å…·ç¼–è¯‘é“¾ä»¥åŠ openocd è§£åŽ‹(è®°å¾—ä½¿ç”¨æ–°çš„openocdæ›¿æ¢)ï¼Œåœ¨ e200_opensource/sirv e sdk/work ç›®å½•ä¸‹å°†å…¶åˆ†åˆ«è½¯è¿žæŽ¥åˆ°: ```sh . â””â”€â”€ build â”œâ”€â”€ openocd â”‚ â””â”€â”€ prefix â”‚ â””â”€â”€ bin > /opt/riscv/gnu mcu eclipse/openocd/0.10.0 6 20180112 1448/bin/ â””â”€â”€ riscv gnu toolchain â””â”€â”€ riscv32 unknown elf â””â”€â”€ prefix â””â”€â”€ bin > /opt/riscv/gnu mcu eclipse/riscv none gcc/7.2.0 2 20180111 2230/bin/ ``` ## èœ‚é¸Ÿçš„è°ƒè¯• æˆ‘ä»¬ä½¿ç”¨ft2232dä¸Žopenocdè¿›è¡Œèœ‚é¸Ÿçš„è°ƒè¯•ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œä¸€äº›é…ç½® å°†ft2232dæ’å…¥ç”µè„‘ï¼Œæ‰§è¡Œlsusbï¼Œå¯çœ‹åˆ°ä¸€ä¸‹ä¿¡æ¯ ```bash Bus 003 Device 019: ID 0403:6010 Future Technology Devices International, Ltd FT2232C Dual USB UART/FIFO IC ``` æ–°å»º udev rules,ä½¿ ft2232d èƒ½å¤Ÿè¢« plugde group è®¿é—® vim /etc/udev/rules.d/45 ft2232.rules ATTR{idVendor} \"0403\", ATTR{idProduct} \"6010\", MODE \"660\", GROUP \"plugdev\" æŸ¥çœ‹è¯¥è®¾å¤‡æ˜¯å¦å±žäºŽ plugdev ls l /dev/ttyUSB1 crw rw 1 root plugdev 188, 1 7æœˆ 11 09:13 /dev/ttyUSB1 å°†ä½ è‡ªå·±çš„ç”¨æˆ·æ·»åŠ åˆ° plugdev group ä¸­ whoami sudo usermod â€“a â€“G plugdev your user name ç¡®è®¤ä½ è‡ªå·±çš„ç”¨æˆ·æ˜¯å¦å±žäºŽ plugdev group groups ## ç¼–è¯‘ä¸‹è½½demoç¨‹åº ç¼–è¯‘ä¸‹è½½demoç¨‹åºï¼Œå¯å‚è€ƒæ–‡ä»¶å¤¹ä¸‹çš„demo_gpio.tar.gzåœ¨e200_opensource/sirv e sdkç›®å½•ä¸‹æ‰§è¡Œ ```bash make software PROGRAM demo_gpio BOARD sirv e203 lichee #ç¼–è¯‘ ``` ```bash make upload PROGRAM demo_gpio BOARD sirv e203 lichee #ä¸Šä¼  ``` ## è°ƒè¯• æ‰“å¼€ä¸¤ä¸ªterminalï¼Œä¸€ä¸ªè¿è¡Œopenocdï¼Œå¦å¤–ä¸€ä¸ªè¿è¡Œgdb ```bash make run_openocd PROGRAM demo_gpio BOARD sirv e203 lichee #è¿è¡Œopenocd ``` ```bash make run_gdb PROGRAM demo_gpio BOARD sirv e203 lichee #è¿è¡Œgdb ``` `Tip å¯èƒ½å†™çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¦‚æžœæœ‰ä»»ä½•ç–‘é—®æ¬¢è¿Žæå‡ºï¼Œæˆ–è€…å‚çœ‹èƒ¡å¤§çš„ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ è®¾è®¡CPUï¼šRISC Vå¤„ç†å™¨ã€‹ï¼ˆå·²ç»ä¸Šå¸‚ï¼Œè¯·åœ¨äº¬ä¸œã€æ·˜å®ã€å½“å½“ä¸Šæœç´¢ RISC Vå…³é”®å­—ï¼‰`"},"/hardware/zh/tang/Tang-primer/get_started/install_TD_win.html":{"title":"Windowsçš„å¼€å‘çŽ¯å¢ƒå®‰è£…","content":"# Windowsçš„å¼€å‘çŽ¯å¢ƒå®‰è£… > ä¿®æ”¹äºŽ2022.04.22 ## å®‰è£…TD æƒ³è¦è¿›è¡ŒFPGAå¼€å‘éœ€è¦å®‰è£…TDï¼Œå¯ä»¥é€šè¿‡[ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/TANG)ï¼Œä¸‹è½½TDå®‰è£…åŒ…å’Œlicenseã€‚ å®‰è£…åŒ… ï¼š`TD_5.0.4_27252_Win7_64bit_NL.msi` Licenseæ–‡ä»¶ï¼š`Anlogic_20230606.lic` åŒå‡»æ‰“å¼€ç¬¬ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå®‰è£…ï¼Œå®‰è£…ç»“æŸä¹‹åŽå°† Anlogic_20230606.lic ä¿®æ”¹æˆAnlogic.licæ”¾åˆ°å¯¹åº”å®‰è£…ç›®å½•çš„TD5.0.27252\\licenseä¸­ ç„¶åŽå¯ä»¥è¿è¡ŒTDè½¯ä»¶ ## å®‰è£…usbä¸²å£ å°† Tang Primer æ’å…¥æ‚¨çš„è®¡ç®—æœºå¹¶æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨ä»¥æŸ¥çœ‹ä¿¡æ¯ã€‚ æ ¹æ® Windows ç‰ˆæœ¬ä¸åŒï¼Œå®ƒå¯èƒ½è¢«å‘½åä¸º WinUsb Device æˆ– USB JTAG Cableã€‚ ç¡®ä¿ USB VID:PID ä¸º 0547:1002 win7ç³»ç»Ÿæ²¡æœ‰å®‰è£…é©±åŠ¨æ—¶ ![no_driver](./../../assets/get_started/no_driver.png) win10ç³»ç»Ÿæ²¡æœ‰å®‰è£…é©±åŠ¨æ—¶ ![no_driver_win10](./../../assets/get_started/no_driver_win10.png) ### win7å®‰è£…é©±åŠ¨ åŒå‡» WinUsb Device é€‰æ‹©æ›´æ–°é©±åŠ¨ç¨‹åº ![update_drive1](./../../assets/get_started/update_driver1.png) ![update_drive2](./../../assets/get_started/update_driver2.png) æµè§ˆæ–‡ä»¶å¤¹ï¼Œé€‰æ‹©TDå®‰è£…ç›®å½•ä¸‹çš„é©±åŠ¨ç›®å½•ã€‚ å•å‡»ç¡®å®šå¼€å§‹å®‰è£… ![choosefolder](./../../assets/get_started/choosefolder.png) å®‰è£…æˆåŠŸï¼Œåœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­å¯ä»¥çœ‹åˆ° ![installsuccess](./../../assets/get_started/installsuccess.png) ### win10å®‰è£…é©±åŠ¨ > åœ¨å®‰è£…é©±åŠ¨ç¨‹åºæœ¬èº«ä¹‹å‰ï¼Œè¯·ç¡®ä¿é¦–å…ˆç¦ç”¨é©±åŠ¨ç¨‹åºç­¾åå¼ºåˆ¶ï¼Œå¦åˆ™ Windows 10 å°†ä¸å…è®¸æ‚¨å®‰è£…æ¥è‡ª Anlogic çš„æœªç­¾åé©±åŠ¨ç¨‹åº åŒå‡» WinUsb Device é€‰æ‹©æ›´æ–°é©±åŠ¨ç¨‹åº ![update_drive1](./../../assets/get_started/update_driver1_win10.png) ![update_drive2](./../../assets/get_started/update_driver2_win10.png) æµè§ˆæ–‡ä»¶å¤¹ï¼Œé€‰æ‹©TDå®‰è£…ç›®å½•ä¸‹çš„driver\\win8_10_64ç›®å½•ã€‚ å•å‡»ç¡®å®šã€‚ ç„¶åŽå•å‡»è®©æˆ‘ä»Žè®¡ç®—æœºä¸Šçš„å¯ç”¨é©±åŠ¨ç¨‹åºåˆ—è¡¨ä¸­é€‰æ‹© ![choosefolder](./../../assets/get_started/choosefolder_win10.png) å•å‡»Have Disk...ï¼Œç„¶åŽé€‰æ‹©æ‚¨åœ¨ä¸Šä¸€æ­¥ä¸­é€‰æ‹©çš„ç›®å½•ï¼Œç„¶åŽå•å‡»OK ![install_from_disk_win10](./../../assets/get_started/install_from_disk_win10.png) å®‰è£…æˆåŠŸï¼Œåœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­å¯ä»¥çœ‹åˆ° ![installsuccess](./../../assets/get_started/installsuccess.png) ## éªŒè¯å®‰è£… æ‰“å¼€TDï¼Œç‚¹å‡»ä¸‹è½½,å¦‚å›¾æ‰€ç¤º ![](./../../assets/get_started/87078310026779781.jpg) å°† Tang Primer æ’å…¥æ‚¨çš„è®¡ç®—æœºï¼Œç„¶åŽç‚¹å‡»ä¸‹è½½å¯¹è¯æ¡†ä¸Šçš„åˆ·æ–°æŒ‰é’® ![](./../../assets/get_started/1823555291194601.jpg) å‡ºçŽ°ä¸Šå›¾çš„ä¿¡æ¯ï¼Œåˆ™è¡¨ç¤ºå®‰è£…ä¸”æ¿€æ´»æˆåŠŸ"},"/hardware/zh/tang/Tang-primer/get_started/fpga_download.html":{"title":"FPGAç æµçƒ§å½•","content":"# FPGAç æµçƒ§å½• <font size 5>**Attention!! ä¸‹è½½ç æµéœ€è¦å…ˆä¿è¯é©±åŠ¨å®‰è£…æˆåŠŸ**</font> 1. æ‰“å¼€TDè½¯ä»¶ï¼Œé€‰æ‹© download ![](https://fdvad021asfd8q.oss cn hangzhou.aliyuncs.com/migrate/E203_TD_download.png) 2. æ·»åŠ  bitstreamæ–‡ä»¶ï¼Œé€‰æ‹© [LicheeTangNewIoMap_BitStream.bit](https://fdvad021asfd8q.oss cn hangzhou.aliyuncs.com/LicheeTang/LicheeTangNewIoMap_BitStream.bit) æˆ–å…¶ä»–ç æµæ–‡ä»¶ ![](https://fdvad021asfd8q.oss cn hangzhou.aliyuncs.com/migrate/E203_TD_add.png) 3. å¦‚æžœ Mode ä¸º JTAGï¼Œæ–­ç”µåŽåˆ™ä¸¢å¤±ç¨‹åºã€‚ä¸ºäº†ä¸Šç”µè‡ªåŠ¨å¯åŠ¨ï¼Œéœ€è¦é€‰æ‹© PROGRAM FLASH ã€‚ï¼ˆæ—¶é—´è¾ƒé•¿ï¼‰ 4. E203æºç å·²å¼€æ”¾ï¼Œå¦‚æžœéœ€è¦è¿›è¡ŒIOä¿®æ”¹ï¼Œæˆ–è€…åŠŸèƒ½ä¿®æ”¹ï¼Œè¯·ä½¿ç”¨æºç è‡ªè¡Œè¿›è¡Œä¿®æ”¹ã€‚å¯ä»¥åˆ° [Github](https://github.com/Lichee Pi/Tang_E203_Mini.git) ä¸‹è½½ã€‚ 5. FPGAä¾‹ç¨‹å·²ä¸Šä¼ ï¼Œè¯·åˆ° [Tang_FPGA_Examples](https://github.com/Lichee Pi/Tang_FPGA_Examples.git) ä¸‹è½½ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/display.html":{"title":"FPGAå¤–æŽ¥å¸¸ç”¨æ˜¾ç¤ºæŽ¥å£","content":" title: FPGAå¤–æŽ¥å¸¸ç”¨æ˜¾ç¤ºæŽ¥å£ \\> maxdepth \\> : 2 \\> \\> display/lcd display/vga display/av display/hdmi"},"/hardware/zh/tang/Tang-primer/fpga/ics/codec.html":{"title":"FPGAé©±åŠ¨CODEC","content":" title: FPGAé©±åŠ¨CODEC å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/ics/dac908.html":{"title":"FPGAé©±åŠ¨DAC908","content":" title: FPGAé©±åŠ¨DAC908 å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/ics/adc9288.html":{"title":"FPGAé©±åŠ¨ADC9288","content":" title: FPGAé©±åŠ¨ADC9288 å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/ics/usb3300.html":{"title":"FPGAé©±åŠ¨USB3300","content":" title: FPGAé©±åŠ¨USB3300 å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/dvp.html":{"title":"FPGAé©±åŠ¨DVP","content":" title: FPGAé©±åŠ¨DVP å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/sdram.html":{"title":"FPGAé©±åŠ¨SDRAM","content":" title: FPGAé©±åŠ¨SDRAM å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/ics.html":{"title":"FPGAé©±åŠ¨å…¶ä»–IC","content":" title: FPGAé©±åŠ¨å…¶ä»–IC \\> maxdepth \\> : 2 \\> \\> ics/adc9288 ics/dac908 ics/codec ics/usb3300"},"/hardware/zh/tang/Tang-primer/fpga/opencores.html":{"title":"FPGA è¿è¡Œå…¶ä»–è½¯æ ¸","content":" title: FPGA è¿è¡Œå…¶ä»–è½¯æ ¸ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/display/vga.html":{"title":"FPGAé©±åŠ¨VGA","content":" title: FPGAé©±åŠ¨VGA å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/display/hdmi.html":{"title":"FPGAé©±åŠ¨HDMI","content":" title: FPGAé©±åŠ¨HDMI å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/display/lcd.html":{"title":"FPGAé©±åŠ¨LCD","content":" title: FPGAé©±åŠ¨LCD å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/display/av.html":{"title":"FPGAé©±åŠ¨AVæ˜¾ç¤ºå™¨","content":" title: FPGAé©±åŠ¨AVæ˜¾ç¤ºå™¨ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/fpga/led.html":{"title":"FPGAç‚¹ç¯","content":" title: FPGAç‚¹ç¯ ## æºç ä¸‹è½½ è¯·åˆ° github ä¸‹è½½å…¨éƒ¨å·¥ç¨‹ï¼Œåœ°å€ä¸º [https://github.com/Lichee Pi/Tang_FPGA_Examples/](https://github.com/Lichee Pi/Tang_FPGA_Examples/) ## Verilogä»£ç  ```v module led ( input wire CLK_IN, //æ—¶é’Ÿè¾“å…¥ï¼Œ24MHz input wire RST_N, //å¤ä½æŒ‰é”®è¾“å…¥ï¼Œä½Žæœ‰æ•ˆ output wire [2:0]RGB_LED //RGB ledè¾“å‡º ); parameter time1 24â€™d24_000_000;//æ™¶æŒ¯ä¸º24Mhzï¼Œè¿™é‡Œè¡¨ç¤ºè®¡æ•°ä¸€ç§’ reg [2:0]rledout; reg [23:0] count; reg [1:0]shift_cnt; initial begin count 24â€™b0; rledout 3â€™b1; shift_cnt 2â€™b0; end always @(posedge CLK_IN)begin if(RST_N 0)begin //å¤ä½æŒ‰é”®æŒ‰ä¸‹å°±æ¸…ç©ºè®¡æ•°å¹¶æ¸…ç©ºè¾“å‡º count < 24â€™b0; rledout < 3â€™b1; shift_cnt < 2â€™b0; end if(count time1) //è®¡æ•°æ—¶é—´åˆ° begin count< 24â€™d0; //æ¸…ç©ºè®¡æ•°å€¼ if(shift_cnt 2â€™b10)begin //ç§»ä½3æ¬¡ rledout < 3â€™b1; shift_cnt < 2â€™b0; end else begin rledout < {rledout[1:0],1â€™b0}; //ledè¾“å‡ºç§»ä½ shift_cnt < shift_cnt + 1â€™b1; end end else count < count + 1â€™b1; //è®¡æ•°ç´¯åŠ  end assign RGB_LED rledout; endmodule ``` ä¸Šé¢çš„ä»£ç è¾“å…¥å®Œä¸”ä¿å­˜åŽï¼Œç»¼åˆä¸€ä¸‹ï¼ŒæŽ¥ç€è‡ªå·±å¯¹ç…§æ¿å­åŽŸç†å›¾è¿›è¡Œç®¡è„šçº¦æŸã€‚åœ¨ç”Ÿæˆæ¯”ç‰¹æµä¸‹è½½åˆ°fpgaï¼Œå¯ä»¥çœ‹åˆ°æ¿ä¸Šçš„rgb ledä¼šç§»ä½é—ªçƒã€‚ï¼ˆemmmï¼Œé—ªçƒæ•ˆæžœå¤ªå·®ï¼Œå¦‚æžœä½ æœ‰æ›´å¥½çš„å¯ä»¥å‘è¿‡æ¥ã€‚(â•¯ï¸µâ•°)"},"/hardware/zh/tang/Tang-primer/Tang-primer.html":{"title":"Tang Primer","content":"# Tang Primer ## ä»‹ç» Lichee Tang Primeræ˜¯åŸºäºŽå®‰è·¯ç§‘æŠ€çš„EG4S20BG256 FPGAèŠ¯ç‰‡è®¾è®¡çš„ç®€çº¦åž‹å¼€å‘æ¿ã€‚å¼€å‘æ¿è®¾è®¡å°å·§ç²¾è‡´ï¼Œå°†èŠ¯ç‰‡çš„æ‰€æœ‰èµ„æºéƒ½å¼•å‡ºï¼Œæ¿è½½Micro USBã€USB JTAGã€TFå¡æ§½ã€DVPæ‘„åƒå¤´æŽ¥å£ã€RGB(å¯æŽ¥LCDå±ã€VGAç­‰å¤–è®¾)ç­‰ï¼Œå¹¶æŠŠéƒ¨åˆ†IOèµ„æºå¼•å‡ºï¼Œéžå¸¸æ–¹ä¾¿å¼€å‘è€…æ‹“å±•ä½¿ç”¨ï¼Œå¼€æ”¾RISC V IPå†…æ ¸ã€‚ ![Tang_permier](./../../../assets/Tang/permier/Tang_permier_1.png) ## ç®¡è„šå®šä¹‰ ![Tang_permier_2](./../../../assets/Tang/permier/Tang_permier_2.png) ![Tang_permier_3](./../../../assets/Tang/permier/Tang_permier_3.png) ## å‚æ•° é¡¹ç›® å‚æ•° FPGAèŠ¯ç‰‡ EG4S20BG256 é€»è¾‘å•å…ƒæ•°é‡ 23520 å¯„å­˜å™¨æ•°é‡(FF) 19600 Total Configuration SRAM (bits) 4,988,928 EM SDR SDRAM 2M X 32bits é”ç›¸çŽ¯PLL 1 I/O Bankæ€»æ•° 1 æœ€å¤šç”¨æˆ·I/Oæ•° 193 æ ¸ç”µåŽ‹ 1.2V æ¿è½½FPC40Påº§ å¯æŽ¥RGB LCDã€VGAè½¬æŽ¥å£ã€é«˜é€ŸDACç­‰æ¨¡å— æ¿è½½FPC20Påº§ å¯æŽ¥DVPæ‘„åƒå¤´ã€é«˜é€ŸADCæ¨¡å— å¼•å‡ºIO æ ‡å‡†2.54mmå’ŒåŠé‚®ç¥¨å­”æŽ¥å£ï¼Œå¼•å‡ºèŠ¯ç‰‡å¤§éƒ¨åˆ†IOèµ„æº æ¿è½½IICç”µé˜»è§¦æ‘¸èŠ¯ç‰‡å±æŽ§åˆ¶å™¨ NS2009 ## äº§å“æŠ€æœ¯æ”¯æŒ Tang Permierå¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡support@sipeed.comã€‚ ## èµ„æ–™ [çƒ§å½•ç›¸å…³ä½¿ç”¨](/soft/Tang/zh/index_bak.md) [èµ„æ–™ä¸‹è½½](https://dl.sipeed.com/shareURL/TANG/Primer)"},"/hardware/zh/tang/Tang-primer/e203/sensor.html":{"title":"èœ‚é¸Ÿå¤–æŒ‚ä¼ æ„Ÿå™¨","content":" title: èœ‚é¸Ÿå¤–æŒ‚ä¼ æ„Ÿå™¨ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/rv_ip.html":{"title":"èœ‚é¸Ÿæ·»åŠ å¤–è®¾","content":" title: èœ‚é¸Ÿæ·»åŠ å¤–è®¾ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/display.html":{"title":"èœ‚é¸Ÿé©±åŠ¨å±å¹•","content":" title: èœ‚é¸Ÿé©±åŠ¨å±å¹• > maxdepth > : 2 > > display/lcd1602 display/oled display/spi\\_tft"},"/hardware/zh/tang/Tang-primer/e203/peripherals.html":{"title":"èœ‚é¸Ÿå¤–è®¾ç®€ä»‹","content":" title: èœ‚é¸Ÿå¤–è®¾ç®€ä»‹ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/ft2232.html":{"title":"FT2232ä½¿ç”¨ç®€æ˜Žæ•™ç¨‹","content":" title: FT2232ä½¿ç”¨ç®€æ˜Žæ•™ç¨‹ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/int.html":{"title":"èœ‚é¸Ÿçš„ä¸­æ–­","content":" title: èœ‚é¸Ÿçš„ä¸­æ–­ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/display/oled.html":{"title":"OLEDå±å¹•","content":" title: OLEDå±å¹• å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/display/spi_tft.html":{"title":"SPI\\_MCUå½©å±","content":" title: 'SPI\\_MCUå½©å±' å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/display/lcd1602.html":{"title":"1602å±å¹•","content":" title: 1602å±å¹• å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/led.html":{"title":"èœ‚é¸Ÿç‚¹ç¯","content":" title: èœ‚é¸Ÿç‚¹ç¯ > maxdepth > : 2 > > led/led led/pwm\\_led led/ws2812"},"/hardware/zh/tang/Tang-primer/e203/led/ws2812.html":{"title":"WS2812ç¯å¸¦","content":" title: WS2812ç¯å¸¦ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/led/pwm_led.html":{"title":"å‘¼å¸ç¯","content":" title: å‘¼å¸ç¯ å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/e203/led/led.html":{"title":"RGB LED","content":" title: RGB LED å¾…è¡¥å……ã€‚ã€‚ã€‚"},"/hardware/zh/tang/Tang-primer/index.html":{"title":"è”æžç³– å…¨æµç¨‹æŒ‡å—","content":"# è”æžç³– å…¨æµç¨‹æŒ‡å— è”æžç³–ï¼Œä¸€æ¬¾æžè‡´æ‰“ç£¨çš„å›½äº§å¼€æºRISC Vå¼€å‘æ¿ã€‚ è”æžç³–èŒç”ŸäºŽå›½å†…èŠ¯ç‰‡æŒ¯è¡ä¹‹æ½®ï¼ŒåŽ†ç»ä¸‰ä¸ªæœˆçš„ç”Ÿé•¿ä¸Žèœ•å˜ï¼Œç»ˆäºŽåœ¨ä¸ƒæœˆï¼Œç™»ä¸Šå¼€æºçš„èˆžå°ã€‚ è”æžç³–ä¸ä»…æ‹…èµ·å¼€æºå¼€å‘è€…ä»¬çš„æœŸå¾…ï¼Œæ›´å¿—å‘äºŽåœ¨å›½å†…æŽ¨å¹¿RISC Væž¶æž„ç›¸å…³çš„å¼€å‘ä¸Žæ•™è‚²ï¼Œå‘ä¸–ç•Œä»‹ç»ä¸­å›½çš„ä¸€æ¬¾ä¼˜ç§€å¼€å‘æ¿ã€‚ ![](./../assets/material.png) è”æžç³–ä½¿ç”¨ å®‰è·¯ç§‘æŠ€(Anlogic Technologies) çš„ EG4S20 ä½œä¸ºæ ¸å¿ƒå•å…ƒ, **20Ké€»è¾‘å•å…ƒ(LUT4/LUT5æ··åˆæž¶æž„)ï¼Œçº¦130KB SRAMï¼Œå†…ç½®32bitä½å®½ 64MBit SDRAMï¼Œä¸°å¯Œçš„LVDSå¼•è„šï¼Œå†…ç½®12 bit 1MSPS ADC**ï¼Œè¿™ä¸ºè”æžç³–æä¾›äº†æ— é™çš„å¯èƒ½æ€§ï¼š FPC40Påº§ï¼Œå¯æŽ¥ RGB LCDï¼ŒVGAè½¬æŽ¥æ¿ï¼Œé«˜é€ŸDACæ¨¡å— FPC24Påº§ï¼Œå¯æŽ¥DVPæ‘„åƒå¤´ï¼Œé«˜é€ŸADCæ¨¡å— I2CæŽ¥å£çš„ç”µé˜»è§¦æ‘¸å±æŽ§åˆ¶å™¨ï¼Œé…åˆRGB LCDä½¿ç”¨ 3è·¯DCDCç”µæºèŠ¯ç‰‡ï¼Œç¨³å®šé«˜æ•ˆçš„ç”µæºä¾›åº”ï¼ŒBank0 IOç”µå¹³ç‹¬ç«‹å¯è°ƒ FPGA é…ç½®Flashï¼Œ8Mbit ç”¨æˆ·Flashï¼Œnor/nandå¯é€‰ æ¿è½½FPGA JTAGä¸‹è½½è°ƒè¯•å™¨ RGB LED ç›¸é‚»æ’é’ˆLVDSç­‰é•¿å¼•å‡ºï¼Œå¼•å‡º8è·¯GCLKï¼Œå…¨å¼•å‡º8è·¯ADCã€‚ åŒæŽ’æ’é’ˆé—´è·900milï¼Œ **å…¼å®¹é¢åŒ…æ¿å¼€å‘** åŠå­”å¼•å‡ºé¢å¤– **40 IO**ï¼Œæ•´æ¿å¼•å‡º **130+ IO** ã€‚ ![è”æžç³–èµ„æºå›¾](./../assets/E203_function.png) ![è”æžç³–å¼•è„šå›¾(æ—§æ¿,åº•é¢ä¸å°è¾ƒå°ç‰ˆæœ¬)](./../assets/E203_pin.png) ![ è”æžæ´¾å¼•è„šå›¾(æ–°æ¿,åº•é¢ä¸å°è¾ƒå¤§ç‰ˆæœ¬)](./../assets/Lichee tang_NewIoMap.png) æ‚¨å¯èƒ½éœ€è¦è¿™äº›æ¥è¿›ä¸€æ­¥äº†è§£è”æžç³–ï¼š EG4S20Datasheet [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/TANG/Primer/HDK/Datasheet/)é‡Œé¢çš„`EG4S20_DataSheet_V1.4.pdf` è”æžç³–åŽŸç†å›¾ [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/TANG/Primer/HDK)é‡Œé¢çš„`LicheeTang_RV(Schematic).pdf` è”æžç³–ä»åœ¨ä¸æ–­åœ°æˆé•¿ï¼Œå¯¹äºŽå¤–è§‚ã€ç”µè·¯è®¾è®¡ã€æ–‡æ¡£å†…å®¹ç”šè‡³äºŽè”æžç³–çš„å‘å±•æ–¹å‘ï¼Œ æˆ‘ä»¬æ¬¢è¿Žæ‚¨åˆ°[è”æžç³– å»ºè®®ä¸Žè®¨è®ºå¸–](https://bbs.sipeed.com/cate/30/seq/1) æå‡ºæ‚¨å®è´µçš„å»ºè®®ã€‚ åŒæ—¶æ¬¢è¿Žå„ä½åŠ å…¥è”æžæ´¾äº¤æµç¾¤ `834585530` æˆ–è€… [è”æžæ´¾Telegramç”µæŠ¥ç¾¤](https://t.me/sipeed)ä¸Žä¼—å¤šå¼€å‘è€…ã€çˆ±å¥½è€…å³æ—¶äº¤æµã€‚ å¦å¤–ï¼ŒFPGAå¼€å‘çŽ¯å¢ƒTD (Tang Dynasty) å¯åœ¨å¦‚ä¸‹ç½‘å€ä¸‹è½½ï¼š [https://dl.sipeed.com/shareURL/TANG/Primer/IDE](https://dl.sipeed.com/shareURL/TANG/Primer/IDE)"},"/hardware/zh/tang/Tang-primer/Tang-primer-summary.html":{"title":"Tang Primer","content":"# Tang Primer Tang Primer ç³»åˆ— FPGA æ˜¯ Sipeed ä½¿ç”¨å›½äº§ FPGA èŠ¯ç‰‡ä½œä¸ºä¸»æŽ§æ‰€è®¾è®¡çš„å¤§å®¹é‡æ¿å¡ã€‚ <table> <thead> <tr> <th>Tang primer 20K</th> <th>Tang primer </th> </tr> </thead> <tr> <td><a href \"./../tang primer 20k/primer 20k.html\"><img src \"./../tang primer 20k/assets/primer_20k.png\" width 320></a></td> <td><a href \"./Tang primer.html\"><img src \"./../../../assets/Tang/permier/Tang_permier.jpg\" width 320></a></td> </tr> </table>"},"/hardware/zh/tang/Tang-Nano/user.html":{"title":"ä¸€äº›ä¾‹ç¨‹","content":"# ä¸€äº›ä¾‹ç¨‹ ## ç‚¹ç¯LED 1. æ–°å»ºå·¥ç¨‹ï¼šFile >NEW >FPGA Dsign Project >OK ![](./assets/LED 1.png) 2. å¼¹å‡ºçš„é€‰é¡¹æ¡†é€‰æ‹©å­˜å‚¨è·¯å¾„å’Œå·¥ç¨‹åç§°ï¼ˆè·¯å¾„å’Œæ–‡ä»¶åç§°è¦æ±‚æ˜¯è‹±æ–‡è·¯å¾„ï¼‰ ![](./assets/LED 2.png) 3. é€‰æ‹©åˆé€‚çš„åž‹å·ï¼š ![](./assets/LED 3.png)![](./assets/LED 4.png) 4. æ–°å»ºå¥½å·¥ç¨‹ä¹‹åŽæŽ¥ä¸‹æ¥è¿›è¡Œä»£ç ç¼–è¾‘ï¼Œåœ¨Designå·¥ä½œæ å†…æ–°å»ºâ€œVerilog Fileâ€,å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./assets/LED 5.png) 5. ä¸ºæ–‡ä»¶å‘½åï¼ˆè¦æ±‚å†™è‹±æ–‡åï¼Œä¸ç„¶åŽç»­ç»¼åˆå¾ˆå®¹æ˜“æŠ¥é”™ï¼‰ ![](./assets/LED 6.png)![](./assets/LED 7.png) 6. åŒå‡»æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å³ä¾§çš„ç¼–è¾‘æ¡†ä¸­è¿›è¡Œä»£ç çš„ç¼–å†™ã€‚ä»¥ç¼–è¾‘æµæ°´ç¯ä¸ºä¾‹ï¼Œå°†ä¸‹æ–¹çš„â€œLEDä¾‹ç¨‹ä»£ç â€ç²˜è´´åˆ°è‡ªå·±çš„æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™è‡ªå·±çš„ä»£ç ï¼Œä¾‹ç¨‹ä»£ç åœ°å€ï¼š<https://github.com/sipeed/TangNano 1K examples> ```v module led ( input sys_clk, input sys_rst_n, output reg [2:0] led // 110 R, 101 B, 011 G ); reg [31:0] counter; always @(posedge sys_clk or negedge sys_rst_n) begin if (!sys_rst_n) begin counter < 31'd0; led < 3'b110; end else if (counter < 31'd1350_0000) // 0.5s delay counter < counter + 1'b1; else begin counter < 31'd0; led[2:0] < {led[1:0],led[2]}; end end Endmodule ``` 7. ä»£ç ç¼–è¾‘ç»“æŸåŽè½¬åˆ°â€œProcessâ€ç•Œé¢ä¸‹ï¼Œå¯¹ç¼–è¾‘å¥½çš„ä»£ç è¿›è¡Œç»¼åˆï¼Œå³è¿è¡Œâ€œSynthesizeâ€ ![](./assets/LED 8.png) è¿è¡Œçš„ç»“æžœå¦‚ä¸Šå›¾å‡ºçŽ° ![](./assets/LED.png) çš„å½¢çŠ¶ï¼Œä¸”ä¸‹æ–¹ç»“æžœæ ä¸å‡ºçŽ°ä»»ä½•ä»ŽæŠ¥é”™ï¼Œè¯´æ˜Žå‰é¢ç¼–è¾‘çš„ä»£ç æ— è¯¯ï¼Œå¦‚æžœæœ‰é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œæ”¹æ­£å³å¯ã€‚ 8. æŽ¥ä¸‹æ¥é€šè¿‡ æ‰“å¼€â€œFloorPlannerâ€å®žçŽ°ç®¡è„šçº¦æŸï¼ˆå‰é¢çš„ç»¼åˆå¦‚æžœè¿è¡Œå¤±è´¥ï¼Œè¿™ä¸€æ­¥æ— æ³•è¿›è¡Œï¼‰ï¼Œç¬¬ä¸€æ¬¡æ‰“å¼€ä¼šå¼¹å‡ºç¼ºå°‘.cstæ–‡ä»¶ï¼š ![](./assets/LED 9.png) é€‰æ‹©â€œOKâ€å³å¯ï¼› åˆå§‹ç•Œé¢å¦‚å›¾ï¼š![](./assets/LED 10.png)![](./assets/LED 11.png) 9. å°†ç•Œé¢è½¬åˆ°â€œPackage Viewâ€ç•Œé¢ï¼Œç‚¹å‡»ä¸‹æ–¹â€œI/O Constraintsâ€ç¼–è¾‘å¼•è„šæ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./assets/LED 12.png)![](./assets/LED 13.png) å¼•è„šæƒ…å†µï¼š ![](./assets/LED 14.png) å¼•è„šåˆ†å¸ƒæƒ…å†µï¼š PORT I/O PIN DESE SYS_CLK INPUT 47 47 SYS RST N INPUT 13 LED[0] OUTPUT 9 LED[1] OUTPUT 10 LED[2] OUTPUT 11 10.å°†ç•Œé¢è½¬åˆ°â€œPackage Viewâ€ç•Œé¢ï¼Œç‚¹å‡»ä¸‹æ–¹â€œI/O Constraintsâ€ç¼–è¾‘å¼•è„šæ•°æ®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./assets/LED 15.png) 11.åˆ°â€œProcessâ€ä¸‹è¿è¡Œâ€œPlace&Routeâ€ï¼Œå³è¿è¡Œç®¡è„šå¸ƒå±€å¸ƒçº¿ï¼Œè¿è¡Œç»“æžœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./assets/LED 16.png) 12.æŽ¥ä¸‹æ¥æ˜¯è¿›è¡Œè¿žæŽ¥æ¿å­ï¼Œçƒ§å½•å›ºä»¶ï¼Œå¯å‚ç…§ä¸‹å›¾é€‰æ‹©ç‰ˆåž‹ï¼š ![](./assets/LED 17.png) 13.ä»¥çƒ§å½•è¿›SRAMä¸ºä¾‹è¿›è¡Œè¯´æ˜Žï¼Œå¦‚ä¸‹å›¾ï¼š ![](./assets/LED 18.png)![](./assets/LED 19.png) æœ€åŽè¿è¡Œï¼š ![](./assets/LED 20.png) 14ã€ç»“æžœæ˜¾ç¤ºï¼š ã€æ­¤å¤„æ”¾ç½®LEDé—ªçƒåŠ¨å›¾ã€‘ 15ã€è§£è¯´çƒ§å½•åˆ°FLASHä¸­çš„æ–¹å¼ï¼š ![](./assets/LED 21.png)![](./assets/LED 22.png) ç‚¹ç¯æ­¥éª¤åˆ°æ­¤ç»“æŸã€‚ > è¯´æ˜Žï¼š > 01ã€åªæµ‹è¯•è¿‡ä¸‹è½½ç«™ä¸‹ç­çš„ç‰ˆæœ¬ä»¥åŠ1.9.8ç‰ˆæœ¬æµ‹è¯•æ­£å¸¸ï¼Œå…¶ä»–ç‰ˆæœ¬éœ€ç”¨æˆ·è‡ªè¡Œç¡®è®¤ã€‚ > 02ã€ä¸è¦ä½¿ç”¨ä¸­æ–‡è·¯å¾„ >é”™è¯¯ï¼š![](./assets/LED 23.png) ## é©±å±æ•™ç¨‹ ä¾‹ç¨‹ä»£ç åœ°å€ï¼š<https://github.com/sipeed/TangNano 1K examples> ![](./assets/pin 1.png)![](./assets/pin 2.png)![](./assets/pin 3.png) å¼•è„šåˆ†å¸ƒæƒ…å†µï¼š PORT I/O PIN DESE KEY INPUT 13 47 LCD_B[0] INPUT 19 LCD_B[1] OUTPUT 20 LCD_B[2] OUTPUT 22 LCD_B[3] OUTPUT 23 LCD_B[4] OUTPUT 24 LCD_CLK OUTPUT 8 LCD_DEN OUTPUT 21 LCD_G[0] OUTPUT 28 LCD_G[1] OUTPUT 27 LCD_G[2] OUTPUT 15 LCD_G[3] OUTPUT 16 LCD_G[4] OUTPUT 17 LCD_G[5] OUTPUT 18 LCD_HYNC OUTPUT 33 LCD_R[0] OUTPUT 15 LCD_R[2] OUTPUT 34 LCD_R[3] OUTPUT 31 LCD_R[4] OUTPUT 30 LCD_R[4] OUTPUT 29 LCD_SYNC OUTPUT 32 LED_B OUTPUT 10 LED_G OUTPUT 11 LED_R OUTPUT 9 XTAL_IN INPUT 47 nRST INPUT 44 è¯¦ç»†ä»£ç å’Œå·¥ç¨‹å»ºç«‹æ­¥éª¤è¯·å‚ç…§LEDç‚¹ç¯ä¾‹ç¨‹ã€‚"},"/hardware/zh/tang/Tang-Nano/Nano.html":{"title":"Tang Nano","content":"# Tang Nano ## æ¦‚è¿° Tang Nanoæ˜¯åŸºäºŽé«˜äº‘åŠå¯¼ä½“çš„å°èœœèœ‚ç³»åˆ—GW1N 1 FPGAè®¾è®¡çš„ç®€çº¦åž‹å¼€å‘æ¿ã€‚å¼€å‘æ¿è®¾è®¡å°å·§ç²¾è‡´ï¼Œå°†èŠ¯ç‰‡çš„æ‰€æœ‰èµ„æºéƒ½å¼•å‡ºï¼Œæ¿è½½Type Cã€USB JTAGã€PSRAMã€RGBæŽ¥å£(å¯æŽ¥LCDå±ã€VGAç­‰å¤–è®¾)ç­‰ï¼Œå¹¶æŠŠæ‰€æœ‰IOèµ„æºå¼•å‡ºï¼Œæ–¹ä¾¿å¼€å‘è€…æ‹“å±•ä½¿ç”¨ï¼Œéžå¸¸é€‚ç”¨äºŽå°åž‹æ•°å­—é€»è¾‘çš„è®¾è®¡å’Œå®žéªŒã€‚ ![](/hardware/assets/Tang/Nano/Tang_Nano.jpg) ## å‚æ•° Tang Nanoå¼€å‘æ¿æ¿è½½çš„GW1N 1 FPGAèŠ¯ç‰‡åŠŸèƒ½éžå¸¸å¼ºå¤§ï¼Œå…·æœ‰è¾ƒä¸°å¯Œçš„é€»è¾‘èµ„æºï¼Œæ”¯æŒå¤šç§I/Oç”µå¹³æ ‡å‡†ï¼Œå†…åµŒå—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨ã€é”ç›¸çŽ¯ã€Flashç­‰èµ„æºï¼Œæ˜¯ä¸€æ¬¾å…·æœ‰éžæ˜“å¤±æ€§çš„FPGAäº§å“;å¦å¤–ï¼Œæ¿è½½64Mbits PSRAMï¼Œä¸ºFPGAæä¾›äº†ä¸°å¯Œçš„å­˜å‚¨èµ„æºã€‚ ![Nano](/hardware/assets/Tang/Nano/Tang Nano 4.png) é¡¹ç›® å‚æ•° æ ¸å¿ƒ GW1N 1 FPGA é€»è¾‘å•å…ƒ(LUT4) 1152 å¯„å­˜å™¨(FF) 864 Block SRAM(bits) 72K B SRAMå—ä¸ªæ•° 4 ç”¨æˆ·é—ªå­˜(bits) 96K é”ç›¸çŽ¯PLL 1 I/O Bankæ€»æ•° 4 æœ€å¤šç”¨æˆ·I/Oæ•° 41 æ ¸ç”µåŽ‹ 1.2V ![Nano Pin](/hardware/assets/Tang/Nano/Tang Nano Pin.png) ## äº§å“æŠ€æœ¯æ”¯æŒ Tang Nanoå¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com> ## èµ„æ–™ [ç›¸å…³ä¾‹ç¨‹](./../Tang Nano Doc/examples.html#æ¿åž‹) [èµ„æ–™ä¸‹è½½](https://dl.sipeed.com/shareURL/TANG/Nano)"},"/hardware/zh/tang/Tang-Nano/start.html":{"title":"æ‘„åƒå¤´å’ŒHDIMå±å¹•æ˜¾ç¤º","content":"# æ‘„åƒå¤´å’ŒHDIMå±å¹•æ˜¾ç¤º å…·ä½“å·¥ç¨‹[æ–‡ä»¶](https://github.com/sipeed/TangNano 4K example) æŽ¥å¥½æ‘„åƒå¤´å’ŒHDMIæ˜¾ç¤ºå™¨ä¹‹åŽï¼Œå°†è¿™ä¸ªå·¥ç¨‹çƒ§å½•åˆ°å¼€å‘æ¿ä¸Šå³å¯ä½¿ç”¨äº†ã€‚"},"/hardware/zh/tang/Tang-Nano/Tang-nano.html":{"title":"Tang nano ä¸€äº›ä¾‹ç¨‹","content":" title: Tang nano ä¸€äº›ä¾‹ç¨‹ å¯¹äºŽProgrammer(ä¸‹è½½ç¨‹åº)å»ºè®®ä½¿ç”¨ https://dl.sipeed.com/shareURL/TANG/programmer é‡Œé¢çš„æ–‡ä»¶ã€‚ ä¸‹è½½åŽè§£åŽ‹æ›¿æ¢æŽ‰Gowinå¯¹åº”å®‰è£…ç›®å½•çš„Programmeræ–‡ä»¶å¤¹å³å¯ã€‚ ä¸ä¼šæ›¿æ¢çš„è¯å¯ä»¥åœ¨ä¸‹è½½è§£åŽ‹åŽçš„Programmerç¨‹åºä¸­æ‰‹åŠ¨æ·»åŠ å¯¹åº”ä¸‹è½½æ–‡ä»¶æ¥è¿›è¡Œçƒ§å½•ã€‚ ## ä¾‹ç¨‹ [ç‚¹ç¯ä¾‹ç¨‹](./examples/1_led.html) [é©±å±æ•™ç¨‹](./examples/2_lcd.html)"},"/hardware/zh/tang/Tang-Nano/examples/2_lcd.html":{"title":"RGB LCD ç¤ºä¾‹","content":"# RGB LCD ç¤ºä¾‹ > ç¼–è¾‘äºŽ2022.04.12 ## å…ˆä»‹ç»æ—¶åº RGB LCD æ˜¾ç¤ºåè®®å’Œ VGA ç±»ä¼¼ï¼Œé€šä¿¡éƒ½æœ‰ä¸“ç”¨çš„è¡ŒåŒæ­¥ã€åœºåŒæ­¥ä¿¡å·çº¿ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯å‰è€…ä¼ è¾“ç”¨çš„æ˜¯æ•°å­—ä¿¡å·ï¼ŒåŽè€…ä¼ è¾“èµ°çš„æ˜¯æ¨¡æ‹Ÿä¿¡å·ã€‚ ä¸‹é¢å°±ä»‹ç» VGA çš„æ—¶åº ![](./../../assets/examples/lcd_pjt_1.png) ä¸Šå›¾åˆ†åˆ«æ˜¯ VGA åœ¨æ•°æ®ä¼ è¾“ä¸­çš„è¡ŒåŒæ­¥ã€åœºåŒæ­¥æ—¶åº ä»Žæ—¶åºå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸è®ºæ˜¯æ˜¾ç¤ºä¸€è¡Œæ•°æ®è¿˜æ˜¯ä¸€åˆ—æ•°æ®ï¼Œéƒ½éœ€è¦ä¸€ä¸ªå¯¹åº”çš„åŒæ­¥(sync)ä¿¡å·ï¼Œæ•°æ®çš„ä¼ è¾“åœ¨ä¸¤ä¸ªåŒæ­¥ä¿¡å·çš„è„‰å†²ä¹‹é—´å®Œæˆ æ¯ä¸€è¡Œçš„æ•°æ®åŒ…æ‹¬æ˜¾ç¤ºå‰æ²¿(back porch)ã€æœ‰æ•ˆæ•°æ®(active video)ã€æ˜¾ç¤ºåŽæ²¿(front porch)ä¸‰ä¸ªé˜¶æ®µ å…¶ä¸­çš„æœ‰æ•ˆæ•°æ®å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åˆ†è¾¨çŽ‡ï¼Œè€Œæ˜¾ç¤ºå‰åŽæ²¿çš„å‚æ•°éœ€è¦å‚è€ƒå…·ä½“çš„åˆ†è¾¨çŽ‡ä¸Žå¸§æ•°è¿›è¡Œè®¾ç½®ï¼Œç›¸å…³å‚æ•°å¯ä»¥å‚è€ƒå…¸åž‹å‚æ•°ï¼Œé“¾æŽ¥åœ¨æ­¤ï¼š http://www.tinyvga.com/vga timing è¿™å—5å¯¸å±å¹•çš„æŽ§åˆ¶æ—¶åºç•¥æœ‰ä¸åŒï¼Œç›¸å…³å‚æ•°çš„è®¾ç½®å¯ä»¥æŸ¥çœ‹[è§„æ ¼ä¹¦](https://dl.sipeed.com/fileList/TANG/Nano%209K/6_Chip_Manual/CN/LCD_Datasheet/5.0inch_LCD_Datashet%20RGB.pdf) å…¶ä»–å°ºå¯¸çš„å±å¹•ç›¸å…³è§„æ ¼ä¹¦å‡å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/TANG/Nano%209K/6_Chip_Manual/CN/LCD_Datasheet) ä¸‹é¢ä¸ºè¿™å— LCD æ—¶åºç›¸å…³çš„æˆªå›¾ ![](./../../assets/examples/lcd_pjt_2.png) ![](./../../assets/examples/lcd_pjt_3.png) ä¸Šé¢ä¸€å¼ å›¾æ˜¯æ—¶åºä¸­çš„å‚æ•°è¡¨ï¼Œä¸‹é¢çš„å›¾æ˜¯æ—¶åºå›¾ ä»Žæ—¶åºå›¾ä¸­çœ‹å‡ºï¼Œè¿™å—å±å¹•å¯ä»¥ä¸ç”¨è®¾ç½®å‰åŽæ²¿ï¼Œå¯ä»¥åªè®¾ç½®æ¶ˆå½±(blanking)æ—¶é—´ï¼Œé€šè¿‡å®žé™…çš„ç¨‹åºè¯æ˜Žï¼Œä¸¤ç§æ–¹å¼éƒ½æ˜¯å¯ä»¥çš„ ## æ–°å»ºå·¥ç¨‹ æ–°å»ºå·¥ç¨‹æ–¹æ³•å‚è€ƒ[è‡ªå»ºç‚¹ç¯æ–‡ç« (ç‚¹æˆ‘)](./led/self_create.html) ## ç”Ÿæˆå±å¹•æ—¶é’Ÿ è¿™é‡Œéœ€è¦ç”¨åˆ°é«˜äº‘åŠå¯¼ä½“å®˜æ–¹çš„IPæ ¸ æ¿è½½çš„æ™¶æŒ¯æ—¶é’Ÿä¸º 24MHz ï¼Œä½†æ˜¯æˆ‘ä»¬çš„å±å¹•è¦æ±‚ 33.3MHZ çš„æ—¶é’Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å¯¹åº”çš„ipæ ¸æ¥ç”Ÿæˆç›¸åº”çš„æ—¶é’Ÿ ### pll è¿™é‡Œéœ€è¦ä½¿ç”¨åˆ° `IP Core Generate` ï¼Œä½ç½®åœ¨ Tools > IP Core Generate ![](./../../Tang Nano 1K/assets/Gowin_IP_rpll.png) åŒå‡» `rPLL` ï¼Œåœ¨å¼¹å‡ºçª—å£ language é€‰æ‹© Verilog ï¼ŒCLKIN ä¸º 24MHz ï¼ŒCLKOUT ä¸º 200MHzï¼ŒCLKOUTD è¦é€‰æ‹© Enableï¼Œç„¶åŽç”Ÿæˆæ—¶é’Ÿä¸º 33.33MHzï¼ŒTolerance é€‰æ‹© 0.2% ![](./../../assets/examples/lcd_pjt_5.png) ç‚¹å‡»okåŽæç¤ºæ˜¯å¦éœ€è¦æ·»åŠ åˆ°å½“å‰å·¥ç¨‹ï¼Œæ­¤æ—¶åº”å½“é€‰æ‹©ç¡®å®š ![](./led/assets/add_ip_file_in_project.png) æŽ¥ç€ä¼šå‡ºçŽ°ä¸€ä¸ªä¾‹åŒ–çš„tmpæ–‡ä»¶ï¼Œç”¨æ¥ä¾‹åŒ–æ‰€è®¾ç½®çš„ipã€‚æ¯”å¦‚ä¸‹å›¾ä¸­ä¾‹å­ ![](./led/assets/ip_examples.png) ### osc **è¿™ä¸€æ­¥å¯ä»¥ä¸åš** ç³»ç»Ÿçš„æ—¶é’Ÿå¯ä»¥ç”±å¤–éƒ¨æ—¶é’Ÿæä¾›ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ OSC ç”Ÿæˆçš„æ—¶é’Ÿ åŒæ ·ä¹Ÿæ˜¯ä½¿ç”¨ `IP Core Generate` æ‰¾åˆ° `OSC` å¹¶åŒå‡»æ‰“å¼€è¿›è¡Œåˆ†é¢‘çš„è®¾ç½® åœ¨å¸®åŠ©é¡µé¢å¯ä»¥çŸ¥é“ï¼ŒGW1N 1 ç³»åˆ—çš„ fpga çš„ OSC æ˜¯ä»Ž 240MHz è¿›è¡Œåˆ†é¢‘çš„ï¼Œæ‰€ä»¥è¦äº§ç”Ÿ 24MHz çš„æ—¶é’Ÿï¼Œåªéœ€è¦è¿›è¡Œ 10 çš„åˆ†é¢‘ ## å±å¹•é©±åŠ¨ä»£ç  **é¦–å…ˆæ–°å»ºä¸€ä¸ªé¢å¤–çš„verilogæ–‡ä»¶æ¥ä¿å­˜ä¸‹é¢è¦ç¼–å†™çš„ä»£ç ** ### ç«¯å£å®šä¹‰ é¦–å…ˆéœ€è¦å…ˆå®šä¹‰å‡ºé©±åŠ¨å±å¹•æ‰€éœ€è¦çš„ç«¯å£ ```verilog module VGAMod ( input CLK, input nRST, input PixelClk, output LCD_DE, output LCD_HSYNC, output LCD_VSYNC, \toutput [4:0] LCD_B, \toutput [5:0] LCD_G, \toutput [4:0] LCD_R ); ``` æœ¬ä¾‹ç¨‹ä½¿ç”¨RGB565ä½œä¸ºé©±åŠ¨æ–¹å¼ï¼› ### æ—¶åºå¸¸é‡ æŽ¥ç€å®šä¹‰å‡ºæ—¶åºå›¾ä¸Šæ‰€è¦æ±‚çš„å¸¸é‡ ```verilog localparam V_BackPorch 16'd6; //0 or 45 localparam V_Pluse \t 16'd5; localparam HightPixel 16'd480; localparam V_FrontPorch 16'd62; //45 or 0 localparam H_BackPorch 16'd182; \t localparam H_Pluse \t 16'd1; localparam WidthPixel 16'd800; localparam H_FrontPorch 16'd210; localparam PixelForHS WidthPixel + H_BackPorch + H_FrontPorch; \t localparam LineForVS HightPixel + V_BackPorch + V_FrontPorch; ``` é¦–å…ˆæ˜¯è®¾ç½®æ—¶åºç›¸å…³çš„å‚æ•°ï¼šå‰æ²¿ã€åŽæ²¿ã€æœ‰æ•ˆåƒç´  å…³äºŽæ˜¾ç¤ºå‰æ²¿ã€åŽæ²¿ï¼Œå‰é¢ä¹Ÿè¯´äº†ï¼Œå¯ä»¥åˆå¹¶ä¸ºä¸€ä¸ªæ¶ˆå½±æ—¶é—´ï¼Œå°±æ˜¯å¯ä»¥æŠŠå…¶ä¸­ä¸€ä¸ªè®¾ç½®ä¸º0ï¼Œå¦ä¸€ä¸ªè®¾ç½®ä¸ºæ¶ˆå½±æ—¶é—´ã€‚åæ­£å‰åŽæ²¿çš„æ—¶é—´åŠ èµ·æ¥ç¬¦åˆè¡¨ä¸­çš„æ—¶é—´è¦æ±‚å°±å¯ä»¥ ### å®šä¹‰å˜é‡ å®šä¹‰ä¸€äº›å˜é‡èƒ½å¤Ÿå®¹æ˜“ç¼–å†™ç¨‹åº ```verilog reg [15:0] LineCount; reg [15:0] PixelCount; reg\t[9:0] Data_R; reg\t[9:0] Data_G; reg\t[9:0] Data_B; ``` ### åŒæ­¥ä¿¡å· è¿™æ®µä»£ç äº§ç”ŸåŒæ­¥ä¿¡å·ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™å—å±å¹•çš„åŒæ­¥ä¿¡å·æ˜¯è´Ÿæžæ€§ä½¿èƒ½ ```verilog always @( posedge PixelClk or negedge nRST )begin if( !nRST ) begin LineCount < 16'b0; PixelCount < 16'b0; end else if( PixelCount PixelForHS ) begin PixelCount < 16'b0; LineCount < LineCount + 1'b1; end else if( LineCount LineForVS ) begin LineCount < 16'b0; PixelCount < 16'b0; end else PixelCount < PixelCount + 1'b1; end always @( posedge PixelClk or negedge nRST )begin if( !nRST ) begin \t\t\tData_R < 9'b0; \t\t\tData_G < 9'b0; \t\t\tData_B < 9'b0; end else begin \t\t\tend \tend //æ³¨æ„è¿™é‡ŒHSYNCå’ŒVSYNCè´Ÿæžæ€§ assign LCD_HSYNC (( PixelCount > H_Pluse)&&( PixelCount < (PixelForHS H_FrontPorch))) ? 1'b0 : 1'b1; assign LCD_VSYNC ((( LineCount > V_Pluse )&&( LineCount < (LineForVS 0) )) ) ? 1'b0 : 1'b1; ``` ### ä½¿èƒ½ä¿¡å· è¿™æ®µä»£ç è®¾ç½® LCD ä½¿èƒ½å›¾åƒæ˜¾ç¤ºï¼Œè¿™å—å±å¹•éœ€è¦æŽ§åˆ¶ä¸€ä¸ªç®¡è„šç”¨ä½œæ˜¾ç¤ºå¼€å…³ï¼Œå®žé™…è¿™ä¸ªä¿¡å·å°±æ˜¯ä¼ è¾“å›¾åƒæœ‰æ•ˆçš„é‚£ 800*480 çš„æ•°æ®æ—¶ç½® 1 ```verilog assign LCD_DE ( ( PixelCount > H_BackPorch )&& ( PixelCount < PixelForHS H_FrontPorch ) && ( LineCount > V_BackPorch ) && ( LineCount < LineForVS V_FrontPorch 1 )) ? 1'b1 : 1'b0; //è¿™é‡Œä¸å‡ä¸€ï¼Œä¼šæŠ–åŠ¨ ``` ### æµ‹è¯•å½©æ¡ è¿™æ®µä»£ç ç”¨æ¥äº§ç”Ÿ LCD çš„æµ‹è¯•æ•°æ®ï¼Œäº§ç”Ÿå½©æ¡æ˜¾ç¤º ```verilog localparam Colorbar_width WidthPixel / 16; assign LCD_R ( PixelCount < ( H_BackPorch + Colorbar_width * 0 )) ? 5'b00000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 1 )) ? 5'b00001 : ( PixelCount < ( H_BackPorch + Colorbar_width * 2 )) ? 5'b00010 : ( PixelCount < ( H_BackPorch + Colorbar_width * 3 )) ? 5'b00100 : ( PixelCount < ( H_BackPorch + Colorbar_width * 4 )) ? 5'b01000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 5 )) ? 5'b10000 : 5'b00000; assign LCD_G ( PixelCount < ( H_BackPorch + Colorbar_width * 6 )) ? 6'b000001: ( PixelCount < ( H_BackPorch + Colorbar_width * 7 )) ? 6'b000010: ( PixelCount < ( H_BackPorch + Colorbar_width * 8 )) ? 6'b000100: ( PixelCount < ( H_BackPorch + Colorbar_width * 9 )) ? 6'b001000: ( PixelCount < ( H_BackPorch + Colorbar_width * 10 )) ? 6'b010000: ( PixelCount < ( H_BackPorch + Colorbar_width * 11 )) ? 6'b100000: 6'b000000; assign LCD_B ( PixelCount < ( H_BackPorch + Colorbar_width * 12 )) ? 5'b00001 : ( PixelCount < ( H_BackPorch + Colorbar_width * 13 )) ? 5'b00010 : ( PixelCount < ( H_BackPorch + Colorbar_width * 14 )) ? 5'b00100 : ( PixelCount < ( H_BackPorch + Colorbar_width * 15 )) ? 5'b01000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 16 )) ? 5'b10000 : 5'b00000; ``` **å½“ç„¶åœ¨æœ€åŽçš„é©±åŠ¨æ–‡ä»¶æœ€åŽåˆ«å¿˜è®°æ¢è¡ŒåŠ ä¸Š endmodule** åˆ°è¿™é‡Œé©±åŠ¨æ¨¡å—çš„ç¼–å†™å·²ç»å®Œæˆäº†ã€‚ ## åœ¨é¡¶å±‚æ¨¡å—ä¸­ä¾‹åŒ– **è¿™é‡Œä¹Ÿæ˜¯è¦æ–°å»ºverilogæ–‡ä»¶çš„** æ–°å»ºæ–‡ä»¶ä¹‹åŽç›´æŽ¥æŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›åŽ»ä¿å­˜å³å¯ ```verilog module TOP //è®¾ç½®é¡¶å±‚æ¨¡å— ( \tinput\t\t\tnRST, input XTAL_IN, \toutput\t\t\tLCD_CLK, \toutput\t\t\tLCD_HYNC, \toutput\t\t\tLCD_SYNC, \toutput\t\t\tLCD_DEN, \toutput\t[4:0]\tLCD_R, \toutput\t[5:0]\tLCD_G, \toutput\t[4:0]\tLCD_B ); // åˆ—å‡ºéœ€è¦çš„ç«¯å£ \twire\t\tCLK_SYS;\t \twire\t\tCLK_PIX; //ä¾‹åŒ–pll Gowin_rPLL chip_pll( .clkout(CLK_SYS), //output clkout //200M .clkoutd(CLK_PIX), //output clkoutd //33.00M .clkin(XTAL_IN) //input clkin );\t \tVGAMod\tVGAMod_inst //ä¾‹åŒ–vgaé©±åŠ¨ \t( \t\t.CLK\t\t(\tCLK_SYS ), \t\t.nRST\t\t(\tnRST\t\t), \t\t.PixelClk\t(\tCLK_PIX\t\t), \t\t.LCD_DE\t\t(\tLCD_DEN\t \t), \t\t.LCD_HSYNC\t(\tLCD_HYNC \t), \t.LCD_VSYNC\t(\tLCD_SYNC \t), \t\t.LCD_B\t\t(\tLCD_B\t\t), \t\t.LCD_G\t\t(\tLCD_G\t\t), \t\t.LCD_R\t\t(\tLCD_R\t\t) \t); \tassign\t\tLCD_CLK\t\t \tCLK_PIX; endmodule ``` ## ç»¼åˆã€çº¦æŸã€å¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ å®Œæˆä¸Šé¢æ­¥éª¤åŽè½¬åˆ°â€œProcessâ€ç•Œé¢ä¸‹ï¼Œå¯¹ç¼–è¾‘å¥½çš„ä»£ç è¿›è¡Œç»¼åˆï¼Œå³è¿è¡Œâ€œSynthesizeâ€ ![](./../../Tang Nano 9K/nano_9k/nano_9k_synthsize.png) è¿è¡Œçš„ç»“æžœå¦‚ä¸‹å›¾å‡ºçŽ° ![](./../../Tang Nano/assets/LED.png) è¯´æ˜Žå‰é¢ç¼–è¾‘çš„ä»£ç æ— è¯¯ï¼›å¦‚æžœæœ‰é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œæ”¹æ­£å³å¯ã€‚ ### ç®¡è„šçº¦æŸ å¯¹åº”çš„ç®¡è„šçº¦æŸå¦‚ä¸‹è¡¨æ ¼æ‰€ç¤ºï¼› å…³äºŽç®¡è„šçº¦æŸæ–¹æ³•å¯ä»¥å‚è€ƒ[è‡ªå»ºç‚¹ç¯æ–‡ç« (ç‚¹æˆ‘)](./led/self_create.html)é‡Œé¢çš„çº¦æŸæ–¹æ³•ã€‚ æ„Ÿè§‰éº»çƒ¦çš„è¯ä¹Ÿå¯ä»¥ç›´æŽ¥å¤åˆ¶å‡†å¤‡å¥½çš„[æ–‡ä»¶(ç‚¹æˆ‘)](./lcd_constrains.html)ï¼Œå°†é¡µé¢é‡Œçš„å†…å®¹å¤åˆ¶åˆ°å·¥ç¨‹ç›®å½•é‡Œ .cst æ–‡ä»¶ä¸­ï¼ˆå¦‚æžœæ²¡æœ‰.cst æ–‡ä»¶é‚£ä¹ˆè‡ªå·±æ–°å»ºä¸€ä¸ª**ç‰©ç†ç®¡è„šçº¦æŸæ–‡ä»¶**ï¼‰ å³å¯ã€‚ PORT PIN PORT PIN PORT PIN : : : : : : : : : : : : LCD_CLK 11 nRST 14 XTAL_IN 35 LCD_B[4] 45 LCD_B[3] 44 LCD_B[2] 43 LCD_B[1] 42 LCD_B[0] 41 LCD_G[5] 40 LCD_G[4] 39 LCD_G[3] 38 LCD_G[2] 34 LCD_G[1] 33 LCD_G[0] 32 LCD_R[4] 31 LCD_R[3] 30 LCD_R[2] 29 LCD_R[1] 28 LCD_R[0] 27 LCD_DEN 5 LCD_SYNC 46 LCD_HYNC 10 ### å¸ƒå±€å¸ƒçº¿ ç®¡è„šçº¦æŸä¹‹åŽéœ€è¦åœ¨è®¾ç½®é‡Œé¢å¼€å¯å¼•è„šå¤ç”¨æ‰èƒ½å®Œæˆå¸ƒå±€å¸ƒçº¿ã€‚ å…·ä½“ä½ç½®åœ¨ è½¯ä»¶é¡¶éƒ¨èœå•æ  Project > Configuration > Place&Route > Dual Purpose Pin ![](./led/assets/enable_io_mux.png) è®¾ç½®å®Œä¸Šé¢çš„ä¹‹åŽã€‚ å°±å¯ä»¥å¼€å§‹å¸ƒå±€å¸ƒçº¿(Place&Route)äº†ã€‚ å®ŒæˆåŽå°±å¯ä»¥ç»™å¼€å‘æ¿éªŒè¯ä»£ç å†…å®¹äº†ã€‚ ## çƒ§å½• å¸ƒå±€å¸ƒçº¿ç»“æŸåŽç”Ÿæˆæ¯”ç‰¹æµï¼Œå°±å¯ä»¥çƒ§å½•å¼€å‘æ¿äº†ã€‚ ## ç»“æŸ ä¸Šé¢å·®ä¸å¤šå™è¿°äº†æ‰€æœ‰ä»£ç ã€‚ æ•´ä¸ªå·¥ç¨‹å¯ä»¥å‚è€ƒ [è¿™é‡Œ](https://github.com/sipeed/Tang Nano examples/tree/master/example_lcd) <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano/examples/1_led.html":{"title":"ç‚¹ç¯","content":"# ç‚¹ç¯ > ç¼–è¾‘äºŽ2022å¹´3æœˆ29æ—¥ ## å‰è¨€ æœ¬æ–‡æä¾›ä¸¤ç§æ–¹æ³•ç‚¹ç¯ [ä½¿ç”¨githubä»“åº“](./led/github_sourcecode.html) [è‡ªå·±æ–°å»ºé¡¹ç›®](./led/self_create.html) <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano/examples/lcd_constrains.html":{"title":"LCD constrain file content","content":" title: LCD constrain file content <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p> ```cst IO_LOC \"LCD_B[4]\" 45; IO_PORT \"LCD_B[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[3]\" 44; IO_PORT \"LCD_B[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[2]\" 43; IO_PORT \"LCD_B[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[1]\" 42; IO_PORT \"LCD_B[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[0]\" 41; IO_PORT \"LCD_B[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[5]\" 40; IO_PORT \"LCD_G[5]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[4]\" 39; IO_PORT \"LCD_G[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[3]\" 38; IO_PORT \"LCD_G[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[2]\" 34; IO_PORT \"LCD_G[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[1]\" 33; IO_PORT \"LCD_G[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[0]\" 32; IO_PORT \"LCD_G[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[4]\" 31; IO_PORT \"LCD_R[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[3]\" 30; IO_PORT \"LCD_R[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[2]\" 29; IO_PORT \"LCD_R[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[1]\" 28; IO_PORT \"LCD_R[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[0]\" 27; IO_PORT \"LCD_R[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_DEN\" 5; IO_PORT \"LCD_DEN\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_SYNC\" 46; IO_PORT \"LCD_SYNC\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_HYNC\" 10; IO_PORT \"LCD_HYNC\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_CLK\" 11; IO_PORT \"LCD_CLK\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"nRST\" 14; IO_PORT \"nRST\" IO_TYPE LVCMOS33 PULL_MODE UP; IO_LOC \"XTAL_IN\" 35; IO_PORT \"XTAL_IN\" IO_TYPE LVCMOS33 PULL_MODE UP; ``` <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano/examples/led/github_sourcecode.html":{"title":"ä½¿ç”¨githubä¾‹ç¨‹","content":"# ä½¿ç”¨githubä¾‹ç¨‹ é¦–å…ˆèŽ·å¾—ä»“åº“æ–‡ä»¶ https://github.com/sipeed/Tang Nano examples æ‰“å¼€ Tang Nano examples\\example_led\\led_prj ç›®å½•ä¸‹çš„ led_prj.gprj æ–‡ä»¶ åœ¨processç•Œé¢å³é”®é€‰æ‹© clean&Rerun all ![](./assets/github_place&route.png) ç´§æŽ¥ç€ä¼šæŠ¥é”™ï¼ˆè¿™æ˜¯åŽ†å²é—®é¢˜ï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªå·±æŸ¥æŸ¥ï¼‰ã€‚ é¡¶éƒ¨èœå•æ  Project > Configuration > Syntheize é€‰æ‹© GowinSyntheize åŽç‚¹å‡»**ç¡®å®š**ï¼Œç„¶åŽé‡æ–°åœ¨ Place&Route å³é”® clean&Rerun all ![](./assets/Change_Synthesis.png) ç„¶åŽæ˜¯è¿›è¡Œè¿žæŽ¥æ¿å­ï¼Œçƒ§å½•å›ºä»¶ã€‚åœ¨Processç•Œé¢åŒå‡»`Program Device` åŽæ‰“å¼€çƒ§å½•å·¥å…· ![](./assets/Open_Programmer.png) æŽ¥ä¸‹æ¥é€‰æ‹©sramçƒ§å½•å³å¯éªŒè¯ç¨‹åºã€‚ ![](./assets/Success_led.png) <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano/examples/led/self_create.html":{"title":"è‡ªå·±ç‚¹ç¯","content":"# è‡ªå·±ç‚¹ç¯ ## æ–°å»ºé¡¹ç›® æ–°å»ºå·¥ç¨‹ï¼šFile >NEW >FPGA Design Project >OK ![](./../../assets/LED 1.png) å¼¹å‡ºçš„é€‰é¡¹æ¡†é€‰æ‹©å­˜å‚¨è·¯å¾„å’Œå·¥ç¨‹åç§°ï¼ˆè·¯å¾„å’Œæ–‡ä»¶åç§°è¦æ±‚æ˜¯è‹±æ–‡è·¯å¾„ï¼‰ ![](./../../assets/LED 2.png) é€‰æ‹©å¯¹åº”çš„åž‹å·ï¼š ![Tang_nano_1k_device_choose](./assets/Nano_device_choose.png) ## ç¼–å†™ä»£ç  æ–°å»ºå¥½å·¥ç¨‹ä¹‹åŽæŽ¥ä¸‹æ¥è¿›è¡Œä»£ç ç¼–è¾‘ï¼Œåœ¨Designå·¥ä½œæ å†…æ–°å»ºâ€œVerilog Fileâ€,å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./../../assets/LED 5.png) ä¸ºæ–‡ä»¶å‘½åï¼ˆè¦æ±‚å†™è‹±æ–‡åï¼Œä¸ç„¶åŽç»­ç»¼åˆå¾ˆå®¹æ˜“æŠ¥é”™ï¼‰ï¼› ä¸€èˆ¬æ¥è¯´å¯¹äºŽverologæ–‡ä»¶å»ºè®®æ–‡ä»¶åç§°ä¸Žæ–‡ä»¶moduleåç§°åº”å½“ç›¸åŒ ![](./../../assets/LED 6.png) åŒå‡»æ–°å»ºçš„ .v æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å³ä¾§çš„ç¼–è¾‘æ¡†ä¸­ç¼–å†™ä»£ç ã€‚ ![](./../../assets/LED 7.png) ### Verilog é¢„å¤‡çŸ¥è¯† è¿™é‡Œåªä»‹ç»æŽ¥ä¸‹æ¥ä¼šç”¨åˆ°çš„ç›¸å…³è¯­æ³•ï¼Œæ›´å¤šçš„å¯ä»¥å‚è€ƒ ã€ŠVerilog æ•°å­—ç³»ç»Ÿè®¾è®¡æ•™ç¨‹ã€‹ Verilog çš„åŸºæœ¬è®¾è®¡å•å…ƒæ˜¯æ¨¡å—ï¼Œä¸€ä¸ªæ¨¡å—æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ï¼Œä¸€éƒ¨åˆ†æè¿°æŽ¥å£ï¼Œå¦ä¸€éƒ¨åˆ†æè¿°é€»è¾‘åŠŸèƒ½ï¼Œå³æè¿°è¾“å‡ºå’Œè¾“å…¥çš„å…³ç³»çš„ã€‚ æ¨¡å—å°±åƒæˆ‘ä»¬å¹³æ—¶æåˆ°çš„é»‘åŒ£å­ï¼Œå½“æˆ‘ä»¬å®žçŽ°äº†æ¨¡å—åŽï¼Œå°±ä¸éœ€è¦åŽ»å…³å¿ƒæ¨¡å—å†…éƒ¨ï¼Œåªéœ€è¦æ ¹æ®æ¨¡å—å®šä¹‰çš„è¾“å…¥è¾“å‡ºæ ¼å¼ï¼Œå°†æ¨¡å—å®žä¾‹åŒ–ï¼Œç»™æ¨¡å—æä¾›è¾“å…¥ï¼Œå°±å¯ä»¥è®©æ¨¡å—è‡ªå·±å·¥ä½œäº† ä¸€ä¸ªæ¨¡å—é•¿æˆè¿™æ · ```v module module_name #(parameter) (port) ; Function description; endmodule ``` æ¨¡å—æ•´ä½“ç»“æž„ç”± module å’Œ endmodule ç»„æˆï¼Œmodule åŽé¢è·Ÿç€çš„æ˜¯æ¨¡å—çš„åç§°ï¼Œå¯ä¼ é€’å˜é‡å‚æ•°ï¼ŒæŽ¥å£çš„å®šä¹‰ï¼Œå£°æ˜Žäº†ç«¯å£çš„æ–¹å‘ æ¨¡å—å†…éƒ¨æœ‰æ—¶å€™ä¼šä½¿ç”¨å†…éƒ¨çš„ä¿¡å·ï¼Œå†…éƒ¨ä¿¡å·æœ‰ wire å’Œ reg ç±»åž‹ åŠŸèƒ½çš„å®šä¹‰å¯ä»¥é€šè¿‡ assign å’Œ always å—å®Œæˆã€‚ assign æ˜¯æè¿°ç»„åˆé€»è¾‘æœ€å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€ï¼› always å¯ç”¨äºŽæè¿°ç»„åˆé€»è¾‘ï¼Œä¹Ÿå¯æè¿°æ—¶åºé€»è¾‘ ### ç¤ºä¾‹ä»£ç  ä»¥æµæ°´ç¯ä¸ºä¾‹ï¼›å°†ä¸‹æ–¹çš„ä»£ç ç²˜è´´åˆ°è‡ªå·±çš„æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™ä»£ç ã€‚ ```verilog module led ( input sys_clk, input sys_rst_n, output reg [2:0] led // 110 B, 101 R, 011 G ); reg [23:0] counter; always @(posedge sys_clk or negedge sys_rst_n) begin if (!sys_rst_n) counter < 24'd0; else if (counter < 24'd1199_9999) // 0.5s delay counter < counter + 1'b1; else counter < 24'd0; end always @(posedge sys_clk or negedge sys_rst_n) begin if (!sys_rst_n) led < 3'b110; else if (counter 24'd1199_9999) // 0.5s delay led[2:0] < {led[1:0],led[2]}; else led < led; end endmodule ``` ## ç»¼åˆã€çº¦æŸã€å¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ ä¿å­˜ç¼–è¾‘çš„ä»£ç åŽè½¬åˆ°â€œProcessâ€ç•Œé¢ä¸‹ï¼Œå¯¹ç¼–è¾‘å¥½çš„ä»£ç è¿›è¡Œç»¼åˆï¼Œå³åŒå‡»â€œSynthesizeâ€ ![](./../../../Tang Nano 9K/nano_9k/nano_9k_synthsize.png) è¿è¡Œä¹‹åŽå¦‚æ²¡æœ‰æŠ¥é”™è€Œä¸” Synthesize å˜æˆä¸‹å›¾é‡Œçš„å›¾æ ‡ ![](./../../../Tang Nano/assets/LED.png) è¯´æ˜Žå‰é¢ç¼–è¾‘çš„ä»£ç æ— è¯¯ï¼›å¦‚æžœæœ‰é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œæ”¹æ­£å³å¯ã€‚ ### çº¦æŸ æ­¤å¤„æœªæ¶‰åŠæ—¶é’Ÿçº¦æŸ æƒ³è®© Fpga å®žçŽ°ä»£ç çš„åŠŸèƒ½ï¼Œå¿…é¡»å°†ä»£ç ä¸­æ¶‰åŠçš„ ç«¯å£ ç»‘å®šåˆ° Fpga å®žé™…çš„å¼•è„šä¸Šã€‚ å¦‚ä¸‹å›¾ï¼Œåœ¨å·¦è¾¹çš„å·¥ä½œåŒºç‚¹å‡» processï¼Œç„¶åŽåŒå‡» FloorPlanner ![](./../../../assets/examples/led_pjt_2.png) æŽ¥ä¸‹æ¥é€šè¿‡ åŒå‡» Process ç•Œé¢é‡Œçš„FloorPlanneræ¥è®¾ç½®ç®¡è„šçº¦æŸã€‚ç¬¬ä¸€æ¬¡æ‰“å¼€ä¼šå¼¹å‡ºç¼ºå°‘.cstæ–‡ä»¶.é€‰æ‹©â€œOKâ€å³å¯ï¼› ![](./../../assets/LED 9.pngassets/LED 9.png) nano çš„ rgb ledç”µè·¯å›¾å¦‚ä¸‹æ‰€ç¤º ![](./assets/nano_led_pins.png \"nano rgb pins\") æ•´ä¸ªé¡¹ç›®éœ€è¦çº¦æŸçš„å¼•è„šå¦‚ä¸‹ port I/O pin desc sys_clk input 35 æ—¶é’Ÿè¾“å…¥è„š sys_rst_n input 15 ç³»ç»Ÿå¤ä½è„š led[0] output 16 ç»¿ç¯ led[1] output 17 è“ç¯ led[2] output 18 çº¢ç¯ å¯¹äºŽäº¤äº’å¼ç®¡è„šçº¦æŸæœ‰ä¸‹å›¾ä¸­çš„ä¸¤ç§æ–¹æ³• å°†å¯¹åº”çš„ç«¯å£æ‹–æ‹½åˆ°èŠ¯ç‰‡å¼•è„šä¸Š åœ¨IOçº¦æŸä¸­è¾“å…¥ç«¯å£å¯¹åº”çš„å¼•è„šç¼–å· åœ¨æ‰“å¼€çš„ç•Œé¢ä¸­æŒ‰ç…§åºå·çš„é¡ºåºæ¥è¿›è¡Œç›¸åº”çš„æ“ä½œï¼ˆä¸¤ç§æ–¹å¼é€‰æ‹©ä¸€ç§å³å¯ï¼‰ ![](./assets/pin_constrain_1.png) ![](./assets/pin_constrain_2.png) ç›´æŽ¥ç¼–å†™çº¦æŸæ–‡ä»¶æ–¹æ³•ç”¨æˆ·è‡ªè¡Œç ”ç©¶ å…³äºŽ FloorPlanner æ›´å¤šçš„ç›¸å…³è¯´æ˜Žï¼Œå¯ä»¥å‚è€ƒ [SUG935 1.3_Gowinè®¾è®¡ç‰©ç†çº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG935 1.3_Gowin%E8%AE%BE%E8%AE%A1%E7%89%A9%E7%90%86%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf)ã€‚é‡Œé¢çš„å†…å®¹éƒ½å¾ˆæœ‰ç”¨ ### å¸ƒå±€å¸ƒçº¿ åˆ°â€œProcessâ€ä¸‹è¿è¡Œâ€œPlace&Routeâ€ï¼Œå³è¿è¡Œç®¡è„šå¸ƒå±€å¸ƒçº¿ï¼Œè¿è¡Œç»“æžœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./assets/RGB_LED_Place&Route.png) ## çƒ§å½• æŽ¥ä¸‹æ¥æ˜¯è¿žæŽ¥æ¿å­ï¼Œçƒ§å½•å›ºä»¶ã€‚åœ¨Processç•Œé¢åŒå‡» `Program Device` åŽæ‰“å¼€çƒ§å½•å·¥å…· ![](./assets/Open_Programmer.png) å¯ä»¥åœ¨å›¾ä¸­è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ ![](./../../../../../zh/tang/Tang Nano/examples/led/assets/tang nano programmer config.png) æŽ¥ä¸‹æ¥é€‰æ‹©sramçƒ§å½•å³å¯éªŒè¯ç¨‹åºã€‚ ![](./assets/Success_led.png) ç‚¹ç¯éªŒè¯åˆ°æ­¤ç»“æŸã€‚ ## ç»“è¯­ æœ‰é—®é¢˜çš„è¯å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€ã€‚ <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-1K/Nano-1k.html":{"title":"Tang Nano 1K","content":"# Tang Nano 1K ## æ¦‚è¿° Tang Nano 1K æ˜¯åŸºäºŽé«˜äº‘åŠå¯¼ä½“çš„å°èœœèœ‚ç³»åˆ— GW1NZ LV1 FPGAè®¾è®¡çš„ç®€çº¦åž‹å¼€å‘æ¿ã€‚å¼€å‘æ¿è®¾è®¡å°å·§ç²¾è‡´ï¼Œå°†èŠ¯ç‰‡çš„æ‰€æœ‰èµ„æºéƒ½å¼•å‡ºï¼Œæ¿è½½Type Cã€USB JTAGã€æœ‰æºæ™¶æŒ¯ã€RGB(å¯æŽ¥LCDå±ã€VGAç­‰å¤–è®¾)ç­‰ï¼Œå¹¶æŠŠæ‰€æœ‰IOèµ„æºå¼•å‡ºï¼Œæ–¹ä¾¿å¼€å‘è€…æ‹“å±•ä½¿ç”¨ï¼Œéžå¸¸é€‚ç”¨äºŽå°åž‹æ•°å­—é€»è¾‘çš„è®¾è®¡å’Œå®žéªŒã€‚ ![Nano 1](./../Tang Nano/assets/1k 1.jpg) ![Nano 2](./../Tang Nano/assets/1k 2.jpg) ## å‚æ•° Tang Nano 1K å¼€å‘æ¿æ¿è½½çš„ GW1NZ LV1 FPGAèŠ¯ç‰‡åŠŸèƒ½éžå¸¸å¼ºå¤§ï¼Œå…·æœ‰è¾ƒä¸°å¯Œçš„é€»è¾‘èµ„æºï¼Œæ”¯æŒå¤šç§ I/O ç”µå¹³æ ‡å‡†ï¼Œå†…åµŒå—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨ã€é”ç›¸çŽ¯ã€Flash ç­‰èµ„æºï¼Œæ˜¯ä¸€æ¬¾å…·æœ‰éžæ˜“å¤±æ€§çš„ FPGA äº§å“;å¦å¤–ï¼Œæ¿è½½ 27MHz æœ‰æºæ™¶æŒ¯ï¼Œä¸º FPGA å„ç§æ—¶åºæ“ä½œæä¾›äº†æ›´ç²¾å‡†çš„é¢‘çŽ‡ã€‚ é¡¹ç›® å‚æ•° : : : : æ ¸å¿ƒ GW1NZ LV1 FPGA é€»è¾‘å•å…ƒ(LUT4) 1152 å¯„å­˜å™¨(FF) 864 Block SRAM(bits) 72K B SRAMå—ä¸ªæ•° 4 ç”¨æˆ·é—ªå­˜(bits) 64K é”ç›¸çŽ¯PLL 1 I/O Bankæ€»æ•° 2 æœ€å¤šç”¨æˆ·I/Oæ•° 48 æ ¸ç”µåŽ‹ 1.2V ### å¼•è„šå›¾ ![pin_map](./../Tang Nano/assets/1k pin.png) ## èµ„æ–™ [è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/TANG/Nano%201K/1_Specification) [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%201K/2_Schematic) [ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%201K/3_Bit_number_map) [å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%201K/4_Dimensional_drawing) [3D æ–‡ä»¶](https://dl.sipeed.com/shareURL/TANG/Nano%201K/5_3D_file) [èŠ¯ç‰‡æ‰‹å†Œ](https://dl.sipeed.com/shareURL/TANG/Nano%201K/6_Chip_Manual) [ç›¸å…³ä¾‹ç¨‹](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/examples.html) ## è¡¥å…… 1. å¦‚æžœæœ‰ä»€ä¹ˆç–‘é—®ï¼Œæ¬¢è¿ŽåŠ ç¾¤ `834585530`, æˆ–è€…åŽ»[è®ºå›](bbs.sipeed.com)å‘å¸–ã€‚ 2. ä¸‹è½½ FPGA æ˜¯è¦æ±‚ä½¿ç”¨ [è¿™é‡Œ](https://dl.sipeed.com/shareURL/TANG/programmer) çš„ Programmer è½¯ä»¶ã€‚ä¸ç„¶æœ‰æžå¤§æ¦‚çŽ‡ä¸èƒ½ä¸‹è½½å›ºä»¶åˆ°æ¿å­ã€‚ 3. æœ‰é—®é¢˜çš„è¯å…ˆåŽ» [å¸¸è§é—®é¢˜](./../Tang Nano Doc/questions.html) è‡ªæŸ¥ï¼Œé€šå¸¸æ¥è¯´ä½¿ç”¨ [è¿™é‡Œ](https://dl.sipeed.com/shareURL/TANG/programmer) çš„ Programmer è½¯ä»¶èƒ½è§£å†³ 99% é—®é¢˜ã€‚"},"/hardware/zh/tang/Tang-Nano-1K/Tang-nano-1k.html":{"title":"Tang nano 1k ä¸€äº›ä¾‹ç¨‹","content":" title: Tang nano 1k ä¸€äº›ä¾‹ç¨‹ å¯¹äºŽProgrammer(ä¸‹è½½ç¨‹åº)å»ºè®®ä½¿ç”¨ https://dl.sipeed.com/shareURL/TANG/programmer é‡Œé¢çš„æ–‡ä»¶ã€‚ ä¸‹è½½åŽè§£åŽ‹æ›¿æ¢æŽ‰Gowinå¯¹åº”å®‰è£…ç›®å½•çš„Programmeræ–‡ä»¶å¤¹å³å¯ã€‚ ä¸ä¼šæ›¿æ¢çš„è¯å¯ä»¥åœ¨ä¸‹è½½è§£åŽ‹åŽçš„Programmerç¨‹åºä¸­æ‰‹åŠ¨æ·»åŠ å¯¹åº”ä¸‹è½½æ–‡ä»¶æ¥è¿›è¡Œçƒ§å½•ã€‚ [ç‚¹ç¯ä¾‹ç¨‹](./examples/LED.html) [é©±å±æ•™ç¨‹](./examples/LCD.html)"},"/hardware/zh/tang/Tang-Nano-1K/examples/LCD.html":{"title":"RGB LCD ç¤ºä¾‹","content":" title: RGB LCD ç¤ºä¾‹ > ç¼–è¾‘äºŽ2022å¹´3æœˆ30æ—¥ ## å…ˆä»‹ç»æ—¶åº RGB LCD æ˜¾ç¤ºåè®®å’Œ VGA ç±»ä¼¼ï¼Œé€šä¿¡éƒ½æœ‰ä¸“ç”¨çš„è¡ŒåŒæ­¥ã€åœºåŒæ­¥ä¿¡å·çº¿ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯å‰è€…ä¼ è¾“ç”¨çš„æ˜¯æ•°å­—ä¿¡å·ï¼ŒåŽè€…ä¼ è¾“èµ°çš„æ˜¯æ¨¡æ‹Ÿä¿¡å·ã€‚ ä¸‹é¢å°±ä»‹ç» VGA çš„æ—¶åº ![](./../../assets/examples/lcd_pjt_1.png) ä¸Šå›¾åˆ†åˆ«æ˜¯ VGA åœ¨æ•°æ®ä¼ è¾“ä¸­çš„è¡ŒåŒæ­¥ã€åœºåŒæ­¥æ—¶åº ä»Žæ—¶åºå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸è®ºæ˜¯æ˜¾ç¤ºä¸€è¡Œæ•°æ®è¿˜æ˜¯ä¸€åˆ—æ•°æ®ï¼Œéƒ½éœ€è¦ä¸€ä¸ªå¯¹åº”çš„åŒæ­¥(sync)ä¿¡å·ï¼Œæ•°æ®çš„ä¼ è¾“åœ¨ä¸¤ä¸ªåŒæ­¥ä¿¡å·çš„è„‰å†²ä¹‹é—´å®Œæˆ æ¯ä¸€è¡Œçš„æ•°æ®åŒ…æ‹¬æ˜¾ç¤ºå‰æ²¿(back porch)ã€æœ‰æ•ˆæ•°æ®(active video)ã€æ˜¾ç¤ºåŽæ²¿(front porch)ä¸‰ä¸ªé˜¶æ®µ å…¶ä¸­çš„æœ‰æ•ˆæ•°æ®å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åˆ†è¾¨çŽ‡ï¼Œè€Œæ˜¾ç¤ºå‰åŽæ²¿çš„å‚æ•°éœ€è¦å‚è€ƒå…·ä½“çš„åˆ†è¾¨çŽ‡ä¸Žå¸§æ•°è¿›è¡Œè®¾ç½®ï¼Œç›¸å…³å‚æ•°å¯ä»¥å‚è€ƒå…¸åž‹å‚æ•°ï¼Œé“¾æŽ¥åœ¨æ­¤ï¼š http://www.tinyvga.com/vga timing è¿™å—5å¯¸å±å¹•çš„æŽ§åˆ¶æ—¶åºç•¥æœ‰ä¸åŒï¼Œç›¸å…³å‚æ•°çš„è®¾ç½®å¯ä»¥æŸ¥çœ‹[è§„æ ¼ä¹¦](https://dl.sipeed.com/fileList/TANG/Nano%209K/6_Chip_Manual/CN/LCD_Datasheet/5.0inch_LCD_Datashet%20RGB.pdf) å…¶ä»–å°ºå¯¸çš„å±å¹•ç›¸å…³è§„æ ¼ä¹¦å‡å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/TANG/Nano%209K/6_Chip_Manual/CN/LCD_Datasheet) ä¸‹é¢ä¸ºè¿™å— LCD æ—¶åºç›¸å…³çš„æˆªå›¾ ![](./../../assets/examples/lcd_pjt_2.png) ![](./../../assets/examples/lcd_pjt_3.png) ä¸Šé¢ä¸€å¼ å›¾æ˜¯æ—¶åºä¸­çš„å‚æ•°è¡¨ï¼Œä¸‹é¢çš„å›¾æ˜¯æ—¶åºå›¾ ä»Žæ—¶åºå›¾ä¸­çœ‹å‡ºï¼Œè¿™å—å±å¹•å¯ä»¥ä¸ç”¨è®¾ç½®å‰åŽæ²¿ï¼Œå¯ä»¥åªè®¾ç½®æ¶ˆå½±(blanking)æ—¶é—´ï¼Œé€šè¿‡å®žé™…çš„ç¨‹åºè¯æ˜Žï¼Œä¸¤ç§æ–¹å¼éƒ½æ˜¯å¯ä»¥çš„ ## æ–°å»ºå·¥ç¨‹ æ–°å»ºå·¥ç¨‹æ–¹æ³•å‚è€ƒ[è‡ªå»ºç‚¹ç¯æ–‡ç« (ç‚¹æˆ‘)](./led/self_create.html) ## ç”Ÿæˆå±å¹•æ—¶é’Ÿ è¿™é‡Œéœ€è¦ç”¨åˆ°é«˜äº‘åŠå¯¼ä½“å®˜æ–¹çš„IPæ ¸ ### pll æ¿è½½çš„æ™¶æŒ¯æ—¶é’Ÿä¸º 27MHz ï¼Œä½†æ˜¯æˆ‘ä»¬çš„å±å¹•è¦æ±‚ 33.3MHZ çš„æ—¶é’Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ç›¸åº”çš„ipæ ¸æ¥ç”Ÿæˆéœ€è¦çš„æ—¶é’Ÿ è¿™é‡Œéœ€è¦ä½¿ç”¨åˆ° `IP Core Generate` ï¼Œä½ç½®åœ¨ Tools > IP Core Generate ![](./../assets/Gowin_IP_rpll.png) åŒå‡» `rpll` ï¼Œåœ¨å¼¹å‡ºçª—å£ language é€‰æ‹© Verilog ï¼ŒCLKIN ä¸º 27MHz ï¼ŒCLKOUT ä¸º 33.00MHzã€‚ ![](./../assets/lcd_rpll.png) ç‚¹å‡»okåŽæç¤ºæ˜¯å¦éœ€è¦æ·»åŠ åˆ°å½“å‰å·¥ç¨‹ï¼Œæ­¤æ—¶åº”å½“é€‰æ‹©ç¡®å®š ![](./led/assets/add_ip_file_in_project.png) æŽ¥ç€ä¼šå‡ºçŽ°ä¸€ä¸ªä¾‹åŒ–çš„tmpæ–‡ä»¶ï¼Œç”¨æ¥ä¾‹åŒ–æ‰€è®¾ç½®çš„ipã€‚æ¯”å¦‚ä¸‹å›¾ä¸­ä¾‹å­ ![](./../../Tang Nano/examples/led/assets/ip_examples.png) ## å±å¹•é©±åŠ¨ä»£ç  **é¦–å…ˆæ–°å»ºä¸€ä¸ªé¢å¤–çš„verilogæ–‡ä»¶æ¥ä¿å­˜ä¸‹é¢è¦ç¼–å†™çš„ä»£ç ** ### ç«¯å£å®šä¹‰ é¦–å…ˆéœ€è¦å…ˆå®šä¹‰å‡ºé©±åŠ¨å±å¹•æ‰€éœ€è¦çš„ç«¯å£ ```verilog module VGAMod ( input CLK, input nRST, input PixelClk, output LCD_DE, output LCD_HSYNC, output LCD_VSYNC, \toutput [4:0] LCD_B, \toutput [5:0] LCD_G, \toutput [4:0] LCD_R ); ``` æœ¬ä¾‹ç¨‹ä½¿ç”¨RGB565ä½œä¸ºé©±åŠ¨æ–¹å¼ï¼› ### æ—¶åºå¸¸é‡ æŽ¥ç€å®šä¹‰å‡ºæ—¶åºå›¾ä¸Šæ‰€è¦æ±‚çš„å¸¸é‡ ```verilog localparam V_BackPorch 16'd6; //0 or 45 localparam V_Pluse \t 16'd5; localparam HightPixel 16'd480; localparam V_FrontPorch 16'd62; //45 or 0 localparam H_BackPorch 16'd182; \t localparam H_Pluse \t 16'd1; localparam WidthPixel 16'd800; localparam H_FrontPorch 16'd210; localparam PixelForHS WidthPixel + H_BackPorch + H_FrontPorch; \t localparam LineForVS HightPixel + V_BackPorch + V_FrontPorch; ``` é¦–å…ˆæ˜¯è®¾ç½®æ—¶åºç›¸å…³çš„å‚æ•°ï¼šå‰æ²¿ã€åŽæ²¿ã€æœ‰æ•ˆåƒç´  å…³äºŽæ˜¾ç¤ºå‰æ²¿ã€åŽæ²¿ï¼Œå‰é¢ä¹Ÿè¯´äº†ï¼Œå¯ä»¥åˆå¹¶ä¸ºä¸€ä¸ªæ¶ˆå½±æ—¶é—´ï¼Œå°±æ˜¯å¯ä»¥æŠŠå…¶ä¸­ä¸€ä¸ªè®¾ç½®ä¸º0ï¼Œå¦ä¸€ä¸ªè®¾ç½®ä¸ºæ¶ˆå½±æ—¶é—´ã€‚åæ­£å‰åŽæ²¿çš„æ—¶é—´åŠ èµ·æ¥ç¬¦åˆè¡¨ä¸­çš„æ—¶é—´è¦æ±‚å°±å¯ä»¥ ### è®¡æ•°å˜é‡ å®šä¹‰ä¸€äº›å˜é‡èƒ½å¤Ÿå®¹æ˜“ç¼–å†™ç¨‹åº ```verilog reg [15:0] LineCount; reg [15:0] PixelCount; reg\t[9:0] Data_R; reg\t[9:0] Data_G; reg\t[9:0] Data_B; ``` ### åŒæ­¥ä¿¡å· è¿™æ®µä»£ç äº§ç”ŸåŒæ­¥ä¿¡å·ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™å—å±å¹•çš„åŒæ­¥ä¿¡å·æ˜¯è´Ÿæžæ€§ä½¿èƒ½ ```verilog always @( posedge PixelClk or negedge nRST )begin if( !nRST ) begin LineCount < 16'b0; PixelCount < 16'b0; end else if( PixelCount PixelForHS ) begin PixelCount < 16'b0; LineCount < LineCount + 1'b1; end else if( LineCount LineForVS ) begin LineCount < 16'b0; PixelCount < 16'b0; end else PixelCount < PixelCount + 1'b1; end always @( posedge PixelClk or negedge nRST )begin if( !nRST ) begin \t\t\tData_R < 9'b0; \t\t\tData_G < 9'b0; \t\t\tData_B < 9'b0; end else begin \t\t\tend \tend //æ³¨æ„è¿™é‡ŒHSYNCå’ŒVSYNCè´Ÿæžæ€§ assign LCD_HSYNC (( PixelCount > H_Pluse)&&( PixelCount < (PixelForHS H_FrontPorch))) ? 1'b0 : 1'b1; assign LCD_VSYNC ((( LineCount > V_Pluse )&&( LineCount < (LineForVS 0) )) ) ? 1'b0 : 1'b1; ``` ### ä½¿èƒ½ä¿¡å· è¿™æ®µä»£ç è®¾ç½® LCD ä½¿èƒ½å›¾åƒæ˜¾ç¤ºï¼Œè¿™å—å±å¹•éœ€è¦æŽ§åˆ¶ä¸€ä¸ªç®¡è„šç”¨ä½œæ˜¾ç¤ºå¼€å…³ï¼Œå®žé™…è¿™ä¸ªä¿¡å·å°±æ˜¯ä¼ è¾“å›¾åƒæœ‰æ•ˆçš„é‚£ 800*480 çš„æ•°æ®æ—¶ç½® 1 ```verilog assign LCD_DE ( ( PixelCount > H_BackPorch )&& ( PixelCount < PixelForHS H_FrontPorch ) && ( LineCount > V_BackPorch ) && ( LineCount < LineForVS V_FrontPorch 1 )) ? 1'b1 : 1'b0; //è¿™é‡Œä¸å‡ä¸€ï¼Œä¼šæŠ–åŠ¨ ``` ### æµ‹è¯•å½©æ¡ è¿™æ®µä»£ç ç”¨æ¥äº§ç”Ÿ LCD çš„æµ‹è¯•æ•°æ®ï¼Œäº§ç”Ÿå½©æ¡æ˜¾ç¤º ```verilog localparam Colorbar_width WidthPixel / 16; assign LCD_R ( PixelCount < ( H_BackPorch + Colorbar_width * 0 )) ? 5'b00000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 1 )) ? 5'b00001 : ( PixelCount < ( H_BackPorch + Colorbar_width * 2 )) ? 5'b00010 : ( PixelCount < ( H_BackPorch + Colorbar_width * 3 )) ? 5'b00100 : ( PixelCount < ( H_BackPorch + Colorbar_width * 4 )) ? 5'b01000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 5 )) ? 5'b10000 : 5'b00000; assign LCD_G ( PixelCount < ( H_BackPorch + Colorbar_width * 6 )) ? 6'b000001: ( PixelCount < ( H_BackPorch + Colorbar_width * 7 )) ? 6'b000010: ( PixelCount < ( H_BackPorch + Colorbar_width * 8 )) ? 6'b000100: ( PixelCount < ( H_BackPorch + Colorbar_width * 9 )) ? 6'b001000: ( PixelCount < ( H_BackPorch + Colorbar_width * 10 )) ? 6'b010000: ( PixelCount < ( H_BackPorch + Colorbar_width * 11 )) ? 6'b100000: 6'b000000; assign LCD_B ( PixelCount < ( H_BackPorch + Colorbar_width * 12 )) ? 5'b00001 : ( PixelCount < ( H_BackPorch + Colorbar_width * 13 )) ? 5'b00010 : ( PixelCount < ( H_BackPorch + Colorbar_width * 14 )) ? 5'b00100 : ( PixelCount < ( H_BackPorch + Colorbar_width * 15 )) ? 5'b01000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 16 )) ? 5'b10000 : 5'b00000; ``` **å½“ç„¶åœ¨æœ€åŽçš„é©±åŠ¨æ–‡ä»¶æœ€åŽåˆ«å¿˜è®°æ¢è¡ŒåŠ ä¸Š endmodule** åˆ°è¿™é‡Œé©±åŠ¨æ¨¡å—çš„ç¼–å†™å·²ç»å®Œæˆäº†ã€‚ ## åœ¨é¡¶å±‚æ¨¡å—ä¸­ä¾‹åŒ– **è¿™é‡Œä¹Ÿæ˜¯è¦æ–°å»ºæ–‡ä»¶çš„** ```verilog module TOP //è®¾ç½®é¡¶å±‚æ¨¡å— ( \tinput\t\t\tnRST, input XTAL_IN, \toutput\t\t\tLCD_CLK, \toutput\t\t\tLCD_HYNC, \toutput\t\t\tLCD_SYNC, \toutput\t\t\tLCD_DEN, \toutput\t[4:0]\tLCD_R, \toutput\t[5:0]\tLCD_G, \toutput\t[4:0]\tLCD_B ); // ç½—åˆ—éœ€è¦çš„ç«¯å£ \twire\t\tCLK_SYS;\t \twire\t\tCLK_PIX; //ä¾‹åŒ–pll Gowin_rPLL chip_pll( .clkout(CLK_SYS), //output clkout //200M .clkoutd(CLK_PIX), //output clkoutd //33.00M .clkin(XTAL_IN) //input clkin );\t \tVGAMod\tVGAMod_inst //ä¾‹åŒ–vgaé©±åŠ¨ \t( \t\t.CLK\t\t(\tCLK_SYS ), \t\t.nRST\t\t(\tnRST\t\t), \t\t.PixelClk\t(\tCLK_PIX\t\t), \t\t.LCD_DE\t\t(\tLCD_DEN\t \t), \t\t.LCD_HSYNC\t(\tLCD_HYNC \t), \t.LCD_VSYNC\t(\tLCD_SYNC \t), \t\t.LCD_B\t\t(\tLCD_B\t\t), \t\t.LCD_G\t\t(\tLCD_G\t\t), \t\t.LCD_R\t\t(\tLCD_R\t\t) \t); \tassign\t\tLCD_CLK\t\t \tCLK_PIX; endmodule ``` ## ç»¼åˆã€çº¦æŸã€å¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ å®Œæˆä¸Šé¢æ­¥éª¤åŽè½¬åˆ°â€œProcessâ€ç•Œé¢ä¸‹ï¼Œå¯¹ç¼–è¾‘å¥½çš„ä»£ç è¿›è¡Œç»¼åˆï¼Œå³è¿è¡Œâ€œSynthesizeâ€ ![](./../../Tang Nano 9K/nano_9k/nano_9k_synthsize.png) è¿è¡Œçš„ç»“æžœå¦‚ä¸‹å›¾å‡ºçŽ° ![](./../../Tang Nano/assets/LED.png) ä¸”ä¸‹æ–¹ç»“æžœæ ä¸å‡ºçŽ°ä»»ä½•ä»ŽæŠ¥é”™ï¼Œè¯´æ˜Žå‰é¢ç¼–è¾‘çš„ä»£ç æ— è¯¯ï¼Œå¦‚æžœæœ‰é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œæ”¹æ­£å³å¯ã€‚ ### çº¦æŸ æ­¤å¤„ä»…ç®¡è„šçº¦æŸ å¯¹åº”çš„ç®¡è„šçº¦æŸå¦‚ä¸‹è¡¨æ ¼ï¼› å…³äºŽç®¡è„šçº¦æŸå¯ä»¥å‚è€ƒ[è‡ªå»ºç‚¹ç¯æ–‡ç« (ç‚¹æˆ‘)](./led/self_create.html)é‡Œé¢çš„çº¦æŸæ–¹æ³• å¦‚æžœæ„Ÿè§‰éº»çƒ¦çš„è¯ä¹Ÿå¯ä»¥ç›´æŽ¥å¤åˆ¶å‡†å¤‡å¥½çš„[æ–‡ä»¶(ç‚¹æˆ‘)](./lcd_constrains.html)ï¼Œå°†é¡µé¢é‡Œçš„å†…å®¹å¤åˆ¶åˆ°å·¥ç¨‹ç›®å½•é‡Œ .cst æ–‡ä»¶ä¸­ï¼ˆå¦‚æžœæ²¡æœ‰.cst æ–‡ä»¶é‚£ä¹ˆè‡ªå·±æ–°å»ºä¸€ä¸ªï¼‰**ç‰©ç†ç®¡è„šçº¦æŸæ–‡ä»¶** å³å¯ã€‚ PORT PIN PORT PIN : : : : : : : : LED_B 10 LED_G 11 LED_R 9 LCD_B[4] 24 LCD_B[3] 23 LCD_B[2] 22 LCD_B[1] 20 LCD_B[0] 19 LCD_G[5] 18 LCD_G[4] 17 LCD_G[3] 16 LCD_G[2] 15 LCD_G[1] 27 LCD_G[0] 28 LCD_R[4] 29 LCD_R[3] 30 LCD_R[2] 31 LCD_R[1] 34 LCD_R[0] 35 LCD_DEN 21 LCD_SYNC 32 LCD_HYNC 33 LCD_CLK 8 XTAL_IN 47 nRST 44 ### å¸ƒå±€å¸ƒçº¿ ç®¡è„šçº¦æŸä¹‹åŽéœ€è¦åœ¨è®¾ç½®é‡Œé¢å¼€å¯å¼•è„šå¤ç”¨æ‰èƒ½å®Œæˆå¸ƒå±€å¸ƒçº¿ã€‚ å…·ä½“ä½ç½®åœ¨ è½¯ä»¶é¡¶éƒ¨èœå•æ  Project > Configuration > Place&Route > Dual Purpose Pin ![](./led/assets/enable_io_mux.png) è®¾ç½®å®Œä¸Šé¢çš„ä¹‹åŽã€‚ å°±å¯ä»¥å¼€å§‹å¸ƒå±€å¸ƒçº¿(Place&Route)äº†ã€‚ å®ŒæˆåŽå°±å¯ä»¥ç»™å¼€å‘æ¿éªŒè¯ä»£ç å†…å®¹äº†ã€‚ ## çƒ§å½• å¸ƒå±€å¸ƒçº¿ç»“æŸåŽç”Ÿæˆæ¯”ç‰¹æµï¼Œå°±å¯ä»¥çƒ§å½•å¼€å‘æ¿äº†ã€‚ ## ç»“æŸ ä¸Šé¢å·®ä¸å¤šå™è¿°äº†æ‰€éœ€è¦çš„ä»£ç ã€‚ æ•´ä¸ªå·¥ç¨‹å¯ä»¥å‚è€ƒ [è¿™é‡Œ](https://github.com/sipeed/TangNano 1K examples/tree/main/example_lcd/) <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-1K/examples/lcd_constrains.html":{"title":"LCD constrain file content","content":" title: LCD constrain file content <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">Previous page</a> </p> ```cst IO_LOC \"LCD_B[4]\" 24; IO_PORT \"LCD_B[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[3]\" 23; IO_PORT \"LCD_B[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[2]\" 22; IO_PORT \"LCD_B[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[1]\" 20; IO_PORT \"LCD_B[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[0]\" 19; IO_PORT \"LCD_B[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[5]\" 18; IO_PORT \"LCD_G[5]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[4]\" 17; IO_PORT \"LCD_G[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[3]\" 16; IO_PORT \"LCD_G[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[2]\" 15; IO_PORT \"LCD_G[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[1]\" 27; IO_PORT \"LCD_G[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[0]\" 28; IO_PORT \"LCD_G[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[4]\" 29; IO_PORT \"LCD_R[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[3]\" 30; IO_PORT \"LCD_R[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[2]\" 31; IO_PORT \"LCD_R[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[1]\" 34; IO_PORT \"LCD_R[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[0]\" 35; IO_PORT \"LCD_R[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_DEN\" 21; IO_PORT \"LCD_DEN\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_SYNC\" 32; IO_PORT \"LCD_SYNC\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_HYNC\" 33; IO_PORT \"LCD_HYNC\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_CLK\" 8; IO_PORT \"LCD_CLK\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"XTAL_IN\" 47; IO_PORT \"XTAL_IN\" IO_TYPE LVCMOS33 PULL_MODE UP; IO_LOC \"nRST\" 44; IO_PORT \"nRST\" IO_TYPE LVCMOS33 PULL_MODE UP; ``` <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-1K/examples/LED.html":{"title":"ç‚¹ç¯","content":"# ç‚¹ç¯ > ç¼–è¾‘äºŽ2022å¹´3æœˆ29æ—¥ ## å‰è¨€ æ­¤å¤„æä¾›ä¸¤ç§æ–¹æ³•ç‚¹ç¯ å¯¹äºŽæ–‡ç« ä¸­æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…é”™è¯¯çš„åœ°æ–¹æ¬¢è¿Žåˆ° [è®ºå›](https://bbs.sipeed.com) æˆ– QQç¾¤ æå‡º [ä½¿ç”¨githubä»“åº“](./led/github_sourcecode.html) [è‡ªå·±æ–°å»ºé¡¹ç›®](./led/self_create.html) <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-1K/examples/led/github_sourcecode.html":{"title":"ä½¿ç”¨githubä¾‹ç¨‹","content":" title: ä½¿ç”¨githubä¾‹ç¨‹ é¦–å…ˆèŽ·å¾—ä»“åº“æ–‡ä»¶ https://github.com/sipeed/TangNano 1K examples æ‰“å¼€ TangNano 1K examples\\example_led\\led_prj ç›®å½•ä¸‹çš„ led_prj.gprj æ–‡ä»¶ åœ¨processç•Œé¢ç›´æŽ¥åŒå‡» Place&Route ![](./assets/github_nano1K_place&route.png) ç„¶åŽæ˜¯è¿›è¡Œè¿žæŽ¥æ¿å­ï¼Œçƒ§å½•å›ºä»¶ã€‚åœ¨Processç•Œé¢åŒå‡»`Program Device` åŽæ‰“å¼€çƒ§å½•å·¥å…· ![](./assets/Open_Programmer_nano_1k.png) æŽ¥ä¸‹æ¥é€‰æ‹©sramçƒ§å½•å³å¯éªŒè¯ç¨‹åºã€‚ ![](./assets/Success_led_nano_1k.png) <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-1K/examples/led/self_create.html":{"title":"ç‚¹ç¯LED RGB","content":" title: ç‚¹ç¯LED RGB > ç¼–è¾‘äºŽ2022å¹´4æœˆ13æ—¥ ## æ–°å»ºé¡¹ç›® æ–°å»ºå·¥ç¨‹ï¼šFile >NEW >FPGA Design Project >OK ![](./../../../Tang Nano/assets/LED 1.png) å¼¹å‡ºçš„é€‰é¡¹æ¡†é€‰æ‹©å­˜å‚¨è·¯å¾„å’Œå·¥ç¨‹åç§°ï¼ˆè·¯å¾„å’Œæ–‡ä»¶åç§°è¦æ±‚æ˜¯è‹±æ–‡è·¯å¾„ï¼‰ ![](./../../../Tang Nano/assets/LED 2.png) é€‰æ‹©å¯¹åº”çš„åž‹å·ï¼š ![Tang_nano_1k_device_choose](./../../assets/Nano_1K_device_choose.png) ## ç¼–å†™ä»£ç  æ–°å»ºå·¥ç¨‹ä¹‹åŽæŽ¥ä¸‹æ¥è¿›è¡Œä»£ç ç¼–è¾‘ï¼Œåœ¨Designå·¥ä½œæ å†…æ–°å»ºâ€œVerilog Fileâ€,å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./../../../Tang Nano/assets/LED 5.png) ä¸ºæ–‡ä»¶å‘½åï¼ˆè¦æ±‚å†™è‹±æ–‡åï¼Œä¸ç„¶åŽç»­ç»¼åˆå¾ˆå®¹æ˜“æŠ¥é”™ï¼‰ï¼› ä¸€èˆ¬æ¥è¯´æ–‡ä»¶åç§°åº”è¯¥å’Œæ–‡ä»¶å†…å®¹æ¨¡å—åç§°ç›¸åŒ ![](./../../../Tang Nano/assets/LED 6.png) åŒå‡»æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å³ä¾§çš„ç¼–è¾‘æ¡†ä¸­è¿›è¡Œä»£ç çš„ç¼–å†™ã€‚ ![](./../../../Tang Nano/assets/LED 7.png) ä»¥æµæ°´ç¯ä¸ºä¾‹ï¼Œå°†ä¸‹æ–¹çš„â€œLEDä¾‹ç¨‹ä»£ç â€ç²˜è´´åˆ°è‡ªå·±çš„æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™è‡ªå·±çš„ä»£ç ã€‚ ```verilog module led ( input sys_clk, // clk input input sys_rst_n, // reset input output reg [2:0] led // 110 B, 101 G,001 R ); reg [23:0] counter; always @(posedge sys_clk or negedge sys_rst_n) begin if (!sys_rst_n) counter < 24'd0; else if (counter < 24'd1349_9999) // 0.5s delay counter < counter + 1'b1; else counter < 24'd0; end always @(posedge sys_clk or negedge sys_rst_n) begin if (!sys_rst_n) led < 3'b110; else if (counter 24'd1349_9999) // 0.5s delay led[2:0] < {led[1:0],led[2]}; else led < led; end endmodule ``` ## ç»¼åˆã€çº¦æŸã€å¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ ä¿å­˜ç¼–è¾‘çš„ä»£ç åŽè½¬åˆ°â€œProcessâ€ç•Œé¢ä¸‹ï¼Œå¯¹ç¼–è¾‘å¥½çš„ä»£ç è¿›è¡Œç»¼åˆï¼Œå³åŒå‡»â€œSynthesizeâ€ ![](./../../../Tang Nano 9K/nano_9k/nano_9k_synthsize.png) è¿è¡Œä¹‹åŽå¦‚æ²¡æœ‰æŠ¥é”™è€Œä¸” Synthesize å˜æˆä¸‹å›¾é‡Œçš„å›¾æ ‡ ![](./../../../Tang Nano/assets/LED.png) è¯´æ˜Žå‰é¢ç¼–è¾‘çš„ä»£ç æ— è¯¯ï¼›å¦‚æžœæœ‰é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œæ”¹æ­£å³å¯ã€‚ ### çº¦æŸ æ­¤å¤„æœªæ¶‰åŠæ—¶é’Ÿçº¦æŸ æƒ³è®© Fpga å®žçŽ°ä»£ç çš„åŠŸèƒ½ï¼Œå¿…é¡»å°†ä»£ç ä¸­æ¶‰åŠçš„ ç«¯å£ ç»‘å®šåˆ° Fpga å®žé™…çš„å¼•è„šä¸Šã€‚ å¦‚ä¸‹å›¾ï¼Œåœ¨å·¦è¾¹çš„å·¥ä½œåŒºç‚¹å‡» processï¼Œç„¶åŽåŒå‡» FloorPlanner ![](./../../assets/examples/led_pjt_2.png) åœ¨å·¥ç¨‹ä¸­ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼Œå¯èƒ½ä¼šæç¤ºåˆ›å»ºæ–‡ä»¶ï¼Œç‚¹å‡»ç¡®å®šå³å¯ ![](./../../../Tang Nano/assets/LED 9.png) nano 1kçš„rgb ledç”µè·¯å›¾å¦‚ä¸‹æ‰€ç¤º ![](./../../assets/Nano_1K_RGB_pins.png \"nano 1k rgb pins\") å¯¹äºŽäº¤äº’å¼ç®¡è„šçº¦æŸæœ‰ä¸‹å›¾ä¸­çš„ä¸¤ç§æ–¹æ³• å°†å¯¹åº”çš„ç«¯å£æ‹–æ‹½åˆ°èŠ¯ç‰‡å¼•è„šä¸Š åœ¨IOçº¦æŸä¸­è¾“å…¥ç«¯å£å¯¹åº”çš„å¼•è„šç¼–å· å› æ­¤åœ¨æ‰“å¼€çš„ç•Œé¢ä¸­æŒ‰ç…§åºå·çš„é¡ºåºæ¥è¿›è¡Œç›¸åº”çš„æ“ä½œï¼ˆä¸¤ç§æ–¹å¼é€‰æ‹©ä¸€ç§å³å¯ï¼‰ ![](./../../assets/RGB_LED_Constrains.png) å…³äºŽ FloorPlanner æ›´å¤šçš„ç›¸å…³è¯´æ˜Žï¼Œå¯ä»¥å‚è€ƒ [SUG935 1.3_Gowinè®¾è®¡ç‰©ç†çº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG935 1.3_Gowin%E8%AE%BE%E8%AE%A1%E7%89%A9%E7%90%86%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf)ã€‚é‡Œé¢çš„å†…å®¹éƒ½å¾ˆæœ‰ç”¨ **å®Œæˆçº¦æŸåŽè®°å¾—ä¿å­˜~** ### å¸ƒå±€å¸ƒçº¿ åˆ°â€œProcessâ€ä¸‹è¿è¡Œâ€œPlace&Routeâ€ï¼Œå³è¿è¡Œç®¡è„šå¸ƒå±€å¸ƒçº¿ï¼Œè¿è¡Œç»“æžœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./../../assets/RGB_LED_Place&Route.png) å¦‚æžœæ²¡æœ‰æˆåŠŸè¿è¡Œï¼Œé‚£è‡ªå·±ä¿®ä¿®ã€‚ ## çƒ§å½• æˆåŠŸå®Œæˆä¸Šé¢æ­¥éª¤åŽå°±å·²ç»ç”Ÿæˆé«˜äº‘åŠå¯¼ä½“çš„æ¯”ç‰¹æµæ–‡ä»¶äº†ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ­¥éª¤æ¥å°†æ–‡ä»¶çƒ§å½•åˆ°æ¿å­äº†ã€‚ æŽ¥ä¸‹æ¥æ˜¯è¿žæŽ¥æ¿å­ï¼Œçƒ§å½•å›ºä»¶ã€‚åœ¨Processç•Œé¢åŒå‡»`Program Device` åŽæ‰“å¼€çƒ§å½•å·¥å…· ![](./../../assets/Open_Programmer.png) å¯ä»¥ä»Žä¸‹é¢çš„å›¾ä¸­é€‰æ‹©çƒ§å½•æ¨¡å¼ï¼›å†æ­¤ä»¥çƒ§å½•åˆ°SRAMä½œä¸ºç¤ºä¾‹ ![](./../../../Tang Nano/examples/led/assets/tang nano programmer config.png) æŽ¥ä¸‹æ¥é€‰æ‹©è¿è¡Œå³å¯éªŒè¯ç¨‹åºã€‚æœ‰å›ºåŒ–éœ€æ±‚çš„è‡ªè¡Œé€‰æ‹©ä¸‹è½½åˆ°flashå³å¯ã€‚ ç‚¹ç¯éªŒè¯åˆ°æ­¤ç»“æŸã€‚ <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-1K/examples/led/lcd_constrains.html":{"title":"","content":" title: LCD çº¦æŸæ–‡ä»¶å†…å®¹ ``` IO_LOC \"LED_B\" 10; IO_PORT \"LED_B\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LED_G\" 11; IO_PORT \"LED_G\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LED_R\" 9; IO_PORT \"LED_R\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[4]\" 24; IO_PORT \"LCD_B[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[3]\" 23; IO_PORT \"LCD_B[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[2]\" 22; IO_PORT \"LCD_B[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[1]\" 20; IO_PORT \"LCD_B[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_B[0]\" 19; IO_PORT \"LCD_B[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[5]\" 18; IO_PORT \"LCD_G[5]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[4]\" 17; IO_PORT \"LCD_G[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[3]\" 16; IO_PORT \"LCD_G[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[2]\" 15; IO_PORT \"LCD_G[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[1]\" 27; IO_PORT \"LCD_G[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_G[0]\" 28; IO_PORT \"LCD_G[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[4]\" 29; IO_PORT \"LCD_R[4]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[3]\" 30; IO_PORT \"LCD_R[3]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[2]\" 31; IO_PORT \"LCD_R[2]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[1]\" 34; IO_PORT \"LCD_R[1]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_R[0]\" 35; IO_PORT \"LCD_R[0]\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_DEN\" 21; IO_PORT \"LCD_DEN\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_SYNC\" 32; IO_PORT \"LCD_SYNC\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_HYNC\" 33; IO_PORT \"LCD_HYNC\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"LCD_CLK\" 8; IO_PORT \"LCD_CLK\" IO_TYPE LVCMOS33 PULL_MODE UP DRIVE 8; IO_LOC \"XTAL_IN\" 47; IO_PORT \"XTAL_IN\" IO_TYPE LVCMOS33 PULL_MODE UP; IO_LOC \"nRST\" 44; IO_PORT \"nRST\" IO_TYPE LVCMOS33 PULL_MODE UP; IO_LOC \"KEY\" 13; IO_PORT \"KEY\" IO_TYPE LVCMOS33 PULL_MODE UP; ```"},"/hardware/zh/tang/index.html":{"title":"Tang ç³»åˆ—å¼€å‘æ¿","content":" title: Tang ç³»åˆ—å¼€å‘æ¿ Tang ç³»åˆ—å¼€å‘æ¿ä¸»è¦æœ‰ Tang Nano å’Œ Tang Primer ä¸¤ä¸ªç³»åˆ—ã€‚ Tang Nano Tang Primer Tang Nano 1K<br> Tang Nano 4K<br> Tang Nano 9K<br> Tang Nano 20K Tang Primer 20K<br> Tang Primer 20K Dock<br> Tang Primer 20K Lite<br> ## Tang Nano Tang Nano ç³»åˆ—æ¿å¡éƒ½æœ‰è¿·ä½ çš„ä½“ç§¯ï¼Œæ¿è½½äº† Jtag è°ƒè¯•å™¨ï¼Œèƒ½å¤Ÿåªé€šè¿‡ä¸€æ ¹ TypeC æ•°æ®çº¿æ¥çƒ§å½•ã€ä»¿çœŸå›ºä»¶ã€‚å¤šä¸ªå¯é€‰çš„ FPGA å®¹é‡èƒ½å¤Ÿè®©ä½ è´­ä¹°åˆ°æœ€åˆé€‚çš„ FPGAã€‚ ### å‚æ•° æ¡ç›® <p style \"white space:nowrap\">Tang Nano 20K</p> <p style \"white space:nowrap\">Tang Nano 9K</p> <p style \"white space:nowrap\">Tang Nano 4K</p> <p style \"white space:nowrap\">Tang Nano 1K</p> : : : : é€»è¾‘å•å…ƒ(LUT4) 20736 8640 4608 1152 å¯„å­˜å™¨ï¼ˆFFï¼‰ 15552 6480 3456 864 S SRAM (bits) 41472 17280 B SRAM (bits) 828K 468K 180K 72K ç”¨æˆ·é—ªå­˜ (bits) 608K 256K 96K é”ç›¸çŽ¯ (PLL) 4 2 2 1 æ¿è½½ Flash 32Mbits NOR Flash 32Mbits NOR Flash 32Mbits NOR Flash é¢„ç•™ç„Šç›˜ ç¡¬æ ¸å¤„ç†å™¨ Cortex M3 ### å¤–è§‚ <table> <thead> <tr> <th style \"text align:center\">Tang Nano 20K</th> <th style \"text align:center\">Tang Nano 9K</th> </tr> </thead> <tbody> <tr> <td style \"text align:center\"><a href \"/nano20k\"><img src \"/hardware/assets/Tang/nano_20k/tang_nano_20k_3920_top.png\" alt \"Tang Nano 20K\"></a></td> <td style \"text align:center\"><a href \"./Tang Nano 9K/Nano 9K.html\"><img src \"./../../assets/Tang/Nano 9K/9K.png\" alt \"Tang Nano 9K\"></a></td> </tr> </tbody> <thead> <tr> <th style \"text align:center\">Tang Nano 4K</th> <th style \"text align:center\">Tang Nano 1K</th> </tr> </thead> <tbody> <tr> <td style \"text align:center\"><a href \"./Tang Nano 4K/Nano 4K.html\"><img src \"./../../assets/Tang/Nano_4K/Nano_4K.png\" alt \"Tang Nano 4K\"></a></td> <td style \"text align:center\"><a href \"./Tang Nano 1K/Nano 1k.html\"><img src \"./../../assets/Tang/Nano 1K/1K.png\" alt \"Tang Nano 1K\"></a></td> </tr> </tbody> </table> ## Tang Primer Tang Primer ç³»åˆ—å¼€å‘æ¿æ˜¯ä¸ºäº†ä¾¿äºŽç”¨æˆ·ç›´æŽ¥è¿žæŽ¥å¹¶é©±åŠ¨å¤–è®¾æ‰€è®¾è®¡çš„å¼€å‘æ¿ã€‚ ### å‚æ•° æ¡ç›® <p style \"white space:nowrap\">Tang Primer 20K</p> <p style \"white space:nowrap\">Tang Primer 20K Dock</p> <p style \"white space:nowrap\">Tang Primer 20K Lite</p> : : : : é€»è¾‘å•å…ƒ(LUT4) 20736 20736 20736 å¯„å­˜å™¨ï¼ˆFFï¼‰ 15552 15552 15552 S SRAM (bits) 41472 41472 41472 B SRAM (bits) 828K 468K 180K é”ç›¸çŽ¯ (PLL) 2 2 2 æ¿è½½ Flash 32Mbits NOR Flash 32Mbits NOR Flash 32Mbits NOR Flash LED (ä¸ª) 6 ### å¤–è§‚ Tang Primer 20K Tang Primer 20K Dock Tang Primer 20K Lite <img src \"./tang primer 20k/assets/20k_core.png\" alt \"20k_core\" width \"85%\"> ![dock up](./tang primer 20k/assets/dock up.png) ![20k_lite_home](./tang primer 20k/assets/20k_lite_home.png) ## å¼€å‘æ¿é€‰æ‹©å»ºè®® å¯¹äºŽæ–°æ‰‹æ¥è¯´ï¼Œå»ºè®®ä½¿ç”¨ [Tang Nano 1K](https://wiki.sipeed.com/tang1k) æˆ–è€… [Tang Nano 9K](https://wiki.sipeed.com/tang9k) æ¥å…¥é—¨å­¦ä¹  FPGAã€‚ ä¼šè‡ªå·±åˆ¶ä½œæ‰©å±•æ¿å¹¶ä¸”æƒ³è¦æ·±å…¥ä½¿ç”¨ FPGA çš„è¯ï¼Œå¯ä»¥é€‰æ‹© [Tang Nano 4K](https://wiki.sipeed.com/tang4k) æˆ–è€… [Tang Nano 20K](https://wiki.sipeed.com/nano20k)ã€‚ [Tang Primer 20K](https://wiki.sipeed.com/primer20k) éžå¸¸é€‚åˆè¿›è¡ŒäºŒæ¬¡ç¡¬ä»¶è®¾è®¡ï¼Œä½†æ˜¯ DDR3 SODIMM åº•åº§ç„ŠæŽ¥æœ‰ä¸€å®šçš„éš¾åº¦ï¼Œ å¦‚æžœè‡ªå·±ä¸ä¼šåˆ¶ä½œæ‰©å±•æ¿ï¼Œä½†æ˜¯æƒ³è¦è¿žæŽ¥å¤šä¸ªå¤–è®¾çš„è¯å¯ä»¥é€‰æ‹© [Tang Primer 20K Dock](https://wiki.sipeed.com/primer20k) æˆ–è€… [Tang Primer 20K Lite](https://wiki.sipeed.com/primer20k)ã€‚å‰è€…æä¾›äº†è¶³å¤Ÿå¤šçš„å¯ç›´æŽ¥è¿žæŽ¥å¤–è®¾çš„æŽ¥å£ï¼ŒåŽè€…æ‹¥æœ‰è¶³å¤Ÿå¤šçš„æŽ’é’ˆå¼•è„šã€‚ ## å…¨éƒ¨å‚æ•°å¯¹æ¯” <table> <thead> <tr> <th style \"text align:left\"></th> <th style \"white space:nowrap\">Tang Primer 20K Dock</th> <th style \"white space:nowrap\">Tang Nano 20K</th> <th style \"white space:nowrap\">Tang Nano 9K</th> <th style \"white space:nowrap\">Tang Nano 4K</th> <th style \"white space:nowrap\">Tang Nano 1K</th> </tr> </thead> <tbody> <tr> <td style \"text align:left\">èŠ¯ç‰‡ç³»åˆ— </td> <td style \"text align:left\">GW2A 18 </td> <td style \"text align:left\">GW2AR 18 </td> <td style \"text align:left\">GW1NR 9 </td> <td style \"text align:left\">GW1NSR 4C</td> <td style \"text align:left\">GW1NZ 1 </td> </tr> <tr> <td style \"text align:left\">èŠ¯ç‰‡ç‰ˆæœ¬ </td> <td style \"text align:left\">C </td> <td style \"text align:left\">C </td> <td style \"text align:left\">C </td> <td style \"text align:left\"> </td> <td style \"text align:left\"> </td> </tr> <tr> <td style \"text align:left\">é€»è¾‘å•å…ƒ(LUT4)</td> <td style \"text align:left\">20736 </td> <td style \"text align:left\">20736 </td> <td style \"text align:left\">8640 </td> <td style \"text align:left\">4608 </td> <td style \"text align:left\">1152 </td> </tr> <tr> <td style \"text align:left\">å¯„å­˜å™¨(FF)</td> <td style \"text align:left\">15552 </td> <td style \"text align:left\">15552 </td> <td style \"text align:left\">6480 </td> <td style \"text align:left\">3456 </td> <td style \"text align:left\">864 </td> </tr> <tr> <td style \"text align:left\">åˆ†å¸ƒå¼é™æ€éšæœºå­˜å‚¨å™¨<br>S SRAM (bits)</td> <td style \"text align:left\">41472</td> <td style \"text align:left\">41472</td> <td style \"text align:left\">17280</td> <td style \"text align:left\"></td> <td style \"text align:left\">4K</td> </tr> <tr> <td style \"text align:left\">å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨<br>B SRAM (bits)</td> <td style \"text align:left\">828K</td> <td style \"text align:left\">828K</td> <td style \"text align:left\">468K</td> <td style \"text align:left\">180K</td> <td style \"text align:left\">72K </td> </tr> <tr> <td style \"text align:left\">ç”¨æˆ·é—ªå­˜</td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\">608K</td> <td style \"text align:left\">256K</td> <td style \"text align:left\">64K</td> </tr> <tr> <td style \"text align:left\">ä¹˜æ³•å™¨ï¼ˆä¸ªï¼‰</td> <td style \"text align:left\">48</td> <td style \"text align:left\">48</td> <td style \"text align:left\">20</td> <td style \"text align:left\">16</td> <td style \"text align:left\"> </td> </tr> <tr> <td style \"text align:left\">å¤§å®¹é‡ RAM</td> <td style \"text align:left\">DDR SDRAM<br>å®¹é‡ 1G bits<br>ä½å®½ 16 bits</td> <td style \"text align:left\">SDR SDRAM<br>å®¹é‡ 64M bits<br>ä½å®½ 32 bits</td> <td style \"text align:left\">PSRAM<br>å®¹é‡ 64M bits<br>ä½å®½ 32 bits</td> <td style \"text align:left\">HyperRAM<br>å®¹é‡ 64M bits<br>ä½å®½ 8 bits</td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">é”ç›¸çŽ¯ (PLL)</td> <td style \"text align:left\">4</td> <td style \"text align:left\">2</td> <td style \"text align:left\">2</td> <td style \"text align:left\">2</td> <td style \"text align:left\">1</td> </tr> <tr> <td style \"text align:left\">æ¿è½½ Flash</td> <td style \"text align:left\">64Mbits Flash</td> <td style \"text align:left\">32Mbits Flash</td> <td style \"text align:left\">32Mbits Flash</td> <td style \"text align:left\">32Mbits Flash</td> <td style \"text align:left\"> </td> </tr> <tr> <td style \"text align:left\">ç¡¬æ ¸å¤„ç†å™¨</td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\">Cortex M3</td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">æ‘„åƒå¤´æŽ¥å£</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">HDMI æŽ¥å£</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">RGB å±å¹•æŽ¥å£</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> <td style \"text align:left\">æœ‰</td> </tr> <tr> <td style \"text align:left\">SPI æŽ’çº¿æŽ¥å£</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">ä»¥å¤ªç½‘å£</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">USB 2.0</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">WS2812</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">MS5351</td> <td style \"text align:left\"></td> <td style \"text align:left\">æœ‰</td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">ç‰¹ç‚¹</td> <td style \"text align:left\">å¤§å®¹é‡ï¼Œå¤šå¤–è®¾ï¼Œèƒ½ç”¨äºŽå¤šç§éªŒè¯</td> <td style \"text align:left\">å¤§å®¹é‡ï¼Œå°ä½“ç§¯ï¼Œå…·æœ‰å¤šè·¯æ—¶é’Ÿå¯ä»¥ä½¿ç”¨</td> <td style \"text align:left\">ä»·æ ¼å®žæƒ ï¼Œèƒ½å¤Ÿè¿›è¡Œè½¯æ ¸è¯•éªŒ</td> <td style \"text align:left\">å†…å« mcu çš„ FPGAï¼Œæ¿å¡èƒ½å¤Ÿç›´æŽ¥é©±åŠ¨æ‘„åƒå¤´</td> <td style \"text align:left\">æœ€å°ç³»ç»Ÿæ¿</td> </tr> <tr> <td style \"text align:left\">è¯¦ç»†ä¿¡æ¯</td> <td style \"text align:left\"><a href \"https://wiki.sipeed.com/primer20k\">ç‚¹æˆ‘è·³è½¬</a></td> <td style \"text align:left\"><a href \"https://wiki.sipeed.com/nano20k\">ç‚¹æˆ‘è·³è½¬</a></td> <td style \"text align:left\"><a href \"https://wiki.sipeed.com/tang9k\">ç‚¹æˆ‘è·³è½¬</a></td> <td style \"text align:left\"><a href \"https://wiki.sipeed.com/tang4k\">ç‚¹æˆ‘è·³è½¬</a></td> <td style \"text align:left\"><a href \"https://wiki.sipeed.com/tang1k\">ç‚¹æˆ‘è·³è½¬</a></td> </tr> </tbody> </table>"},"/hardware/zh/tang/Tang-Nano-4K/Tang-nano-4k.html":{"title":"Tang nano 4k ä¸€äº›ä¾‹ç¨‹","content":" title: Tang nano 4k ä¸€äº›ä¾‹ç¨‹ å¯¹äºŽProgrammer(ä¸‹è½½ç¨‹åº)å»ºè®®ä½¿ç”¨ https://dl.sipeed.com/shareURL/TANG/programmer é‡Œé¢çš„æ–‡ä»¶ã€‚ ä¸‹è½½åŽè§£åŽ‹æ›¿æ¢æŽ‰Gowinå¯¹åº”å®‰è£…ç›®å½•çš„Programmeræ–‡ä»¶å¤¹å³å¯ã€‚ ä¸ä¼šæ›¿æ¢çš„è¯å¯ä»¥åœ¨ä¸‹è½½è§£åŽ‹åŽçš„Programmerç¨‹åºä¸­æ‰‹åŠ¨æ·»åŠ å¯¹åº”ä¸‹è½½æ–‡ä»¶æ¥è¿›è¡Œçƒ§å½•ã€‚ å‚è€ƒå·¥ç¨‹[gitä»“åº“](https://github.com/sipeed/TangNano 4K example) æŽ¥å¥½æ‘„åƒå¤´å’ŒHDMIæ˜¾ç¤ºå™¨ä¹‹åŽï¼Œå°†è¿™ä¸ªå·¥ç¨‹çƒ§å½•åˆ°å¼€å‘æ¿ä¸Šå¯ä»¥çœ‹åˆ°ç›¸åº”çš„çŽ°è±¡ã€‚ [ç‚¹ç¯ä¾‹ç¨‹](./examples/LED.html) HDMIæ˜¾ç¤ºå·¥ç¨‹ï¼šhttps://github.com/sipeed/TangNano 4K example/tree/main/camera_hdmi/project æ‘„åƒå¤´å†…å®¹æ˜¾ç¤ºåœ¨HDMIå·¥ç¨‹ï¼šhttps://github.com/sipeed/TangNano 4K example/tree/main/camera_hdmi/project Cortex m3ç‚¹ç¯ï¼šå¾…æ›´æ–° Cortex m3ä¸²å£é€šä¿¡ï¼šå¾…æ›´æ–° å…¶ä»–ï¼ˆæœ‰ä»€ä¹ˆæƒ³æ³•å¯ä»¥æå‡ºæ¥ï¼Œåˆé€‚çš„è¯ä¼šè¢«é‡‡çº³ï¼‰"},"/hardware/zh/tang/Tang-Nano-4K/Nano-4K.html":{"title":"Tang Nano 4K ","content":"# Tang Nano 4K ## Tang Nano 4K å¼€å‘æ¿ Tang Nano 4Kæ˜¯åŸºäºŽ[é«˜äº‘åŠå¯¼ä½“](http://www.gowinsemi.com.cn/)çš„å°èœœèœ‚ç³»åˆ— GW1NSR LV4C è®¾è®¡çš„ç®€çº¦åž‹å¼€å‘æ¿ã€‚å¼€å‘æ¿è®¾è®¡å°å·§ç²¾è‡´ï¼Œå°†èŠ¯ç‰‡çš„æ‰€æœ‰èµ„æºéƒ½å¼•å‡ºï¼Œæ¿è½½Type Cã€USB JTAGã€DVPã€HDMIåº§å­åŠå…¶ç”µè·¯ç­‰ï¼Œå¹¶æŠŠæ‰€æœ‰IOèµ„æºå¼•å‡ºï¼Œæ–¹ä¾¿å¼€å‘è€…æ‹“å±•ä½¿ç”¨ï¼Œéžå¸¸é€‚ç”¨äºŽå°åž‹æ•°å­—é€»è¾‘çš„è®¾è®¡å’Œå®žéªŒã€‚ ![Tang Nano 4K](./../Tang Nano/assets/4k 1.jpg) ![Tang Nano 4K](./../Tang Nano/assets/4k 2.jpg) ## äº§å“å‚æ•° Tang Nano 4Kå¼€å‘æ¿æ¿è½½çš„GW1NSR LV4Cï¼Œæ˜¯ä¸€æ¬¾ç³»ç»Ÿçº§å°è£…èŠ¯ç‰‡ï¼Œå†…éƒ¨é›†æˆäº†GW1NSç³»åˆ—å¯ç¼–è¾‘é€»è¾‘å™¨ä»¶äº§å“å’ŒPSRAMå­˜å‚¨èŠ¯ç‰‡ã€‚ ä¸‹è¡¨ä¸ºä¸Žå‰ä»£åŒç³»åˆ—äº§å“å¯¹æ¯”å›¾ åž‹å· Tang Nano Tang Nano 4K FPGAèŠ¯ç‰‡ GW1N 1 LV GW1NSR LV4C é€»è¾‘å•å…ƒ 1152 4608 å¯„å­˜å™¨ 864 3456 ç¡¬æ ¸å¤„ç†å™¨ æ—  Coetex M3 Block SRAM(bits) 72K 180K ç”¨æˆ·é—ªå­˜(bits) 96K 256K é”ç›¸çŽ¯PLL 1 2 I/O Bank æ€»æ•° 4 4 æœ€å¤šç”¨æˆ·I/Oæ•° 41 44 æ˜¾ç¤ºå±æŽ¥å£ æ ‡å‡†40P RGB LCDæŽ¥å£ HDMIæŽ¥å£ æ‘„åƒå¤´æŽ¥å£ None å¸¸è§çš„DVPé¡ºåºæŽ¥å£ å°ºå¯¸ 58.4mm\\*21.3mm 60mm\\*22.86mm ä¸‹è½½æŽ¥å£ USB Type CæŽ¥å£ USB Type CæŽ¥å£ ### å¼•è„šå›¾ ![Pinmap](./../Tang Nano/assets/Tang_nano_4K_0813.png) ## å¼€å‘çŽ¯å¢ƒ å®‰è£… IDE [ç‚¹æˆ‘](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/install the ide.html) ## ä¸‹è½½æ–¹å¼ Tang Nano 4K å¼€å‘æ¿æ¿è½½ BL702 èŠ¯ç‰‡ï¼Œä¸º GW1NSR 4C æä¾› JTAG è°ƒè¯•åŠŸèƒ½ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨ IDE é‡Œé¢çš„ Programmer è½¯ä»¶æ¥ä¸‹è½½å›ºä»¶åˆ° FPGAã€‚ ## èµ„æ–™ [è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/TANG/Nano%204K/HDK/01_Specification) [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%204K/HDK/02_Schematic) [ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%204K/HDK/03_Bit%20number%20map) [å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/TANG/Nano%204K/HDK/04_Dimensional%20drawing) [3D æ–‡ä»¶](https://dl.sipeed.com/shareURL/TANG/Nano%204K/HDK/05_3D%20file) [èŠ¯ç‰‡æ‰‹å†Œ](https://dl.sipeed.com/shareURL/TANG/Nano%204K/HDK/06_Chip%20Manual) [ç›¸å…³ä¾‹ç¨‹](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/examples.html) ## è¡¥å…… 1. å¦‚æžœæœ‰ä»€ä¹ˆç–‘é—®ï¼Œæ¬¢è¿ŽåŠ ç¾¤ `834585530`, æˆ–è€…ç›´æŽ¥åœ¨æœ¬é¡µä¸‹æ–¹ç•™è¨€è®¨è®ºã€‚ 2. æœ‰é—®é¢˜çš„è¯å…ˆåŽ» [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) è‡ªæŸ¥ã€‚ 3. å¯¹äºŽ Cortex M3 ç¡¬æ ¸å»ºè®®ä½¿ç”¨ä¸²å£æ¥æ‰“å°è°ƒè¯•ä¿¡æ¯æ¥çº é”™ï¼Œæˆ–è€…æœ‰èƒ½åŠ›çš„å¯ä»¥é€‰æ‹©å…¶ä»–æ–¹å¼ã€‚ 4. å¯¹äºŽæ¿å­ä¸Šé¢çš„ IO å¼•è„šä½¿ç”¨ï¼Œéœ€è¦æ³¨æ„ä¸Ž HDMI å¼•è„šå¤ç”¨çš„ IOï¼Œå¯èƒ½å› ä¸ºå¤–éƒ¨ä¸Šæ‹‰è€Œå¯¼è‡´æŽ’é’ˆä¸Šä¸Ž HDMI å¤ç”¨çš„ IO æ‰€è¡¨çŽ°çš„å®žé™…ç»“æžœä¸Žè‡ªå·±æƒ³è¦çš„ä¸ç¬¦åˆã€‚ ![nano_4k_hdmi_io](./assets/nano_4k_hdmi_io.png)"},"/hardware/zh/tang/Tang-Nano-4K/examples/LED.html":{"title":"Nano 4K ç‚¹ç¯","content":" title: Nano 4K ç‚¹ç¯ > ç¼–è¾‘äºŽ2022å¹´3æœˆ31æ—¥ ç‚¹ç¯ç®€å•ç¤ºä¾‹ ## æ–°å»ºé¡¹ç›® æ–°å»ºå·¥ç¨‹ï¼šFile >NEW >FPGA Design Project >OK ![](./../../Tang Nano/assets/LED 1.png) å¼¹å‡ºçš„é€‰é¡¹æ¡†é€‰æ‹©å­˜å‚¨è·¯å¾„å’Œå·¥ç¨‹åç§°ï¼ˆè·¯å¾„å’Œæ–‡ä»¶åç§°è¦æ±‚æ˜¯è‹±æ–‡è·¯å¾„ï¼‰ ![](./../../Tang Nano/assets/LED 2.png) é€‰æ‹©å¯¹åº”çš„åž‹å·ï¼š ![Tang_nano_4k_device_choose](./../assets/Nano_4K_device_choose.png) å¯èƒ½æœ‰éƒ¨åˆ†æ¿å­ä¸»æŽ§èŠ¯ç‰‡åž‹å·ä¸º C7/I6 ï¼Œç”¨æˆ·è‡ªè¡Œé€‰æ‹©ä¸€ä¸‹å³å¯ ## ç¼–å†™ä»£ç  æ–°å»ºå·¥ç¨‹ä¹‹åŽæŽ¥ä¸‹æ¥è¿›è¡Œä»£ç ç¼–è¾‘ï¼Œåœ¨Designå·¥ä½œæ å†…æ–°å»ºâ€œVerilog Fileâ€,å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./../../Tang Nano/assets/LED 5.png) ä¸ºæ–‡ä»¶å‘½åï¼ˆè¦æ±‚å†™è‹±æ–‡åï¼Œä¸ç„¶åŽç»­ç»¼åˆå¾ˆå®¹æ˜“æŠ¥é”™ï¼‰ï¼› ä¸€èˆ¬æ¥è¯´æ–‡ä»¶åç§°åº”è¯¥å’Œæ–‡ä»¶å†…å®¹æ¨¡å—åç§°ç›¸åŒ ![](./../../Tang Nano/assets/LED 6.png) åŒå‡»æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å³ä¾§çš„ç¼–è¾‘æ¡†ä¸­è¿›è¡Œä»£ç çš„ç¼–å†™ã€‚ ![](./../../Tang Nano/assets/LED 7.png) ä»¥ç‚¹ç¯ä¸ºä¾‹ï¼Œå°†ä¸‹æ–¹çš„ ç¤ºä¾‹ä»£ç  ç²˜è´´åˆ°è‡ªå·±çš„æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™è‡ªå·±çš„ä»£ç ã€‚ ```verilog module led ( input sys_clk, input sys_rst_n, // reset input output reg led // LED ); reg [23:0] counter; //å®šä¹‰ä¸€ä¸ªå˜é‡æ¥è®¡æ•° always @(posedge sys_clk or negedge sys_rst_n) begin // Counter block if (!sys_rst_n) counter < 24'd0; else if (counter < 24'd1349_9999) // 0.5s delay counter < counter + 1'b1; else counter < 24'd0; end always @(posedge sys_clk or negedge sys_rst_n) begin // Toggle LED if (!sys_rst_n) led < 1'b1; else if (counter 24'd1349_9999) // 0.5s delay led < ~led; // ToggleLED end endmodule ``` ## ç»¼åˆã€çº¦æŸã€å¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ ä¿å­˜ç¼–è¾‘çš„ä»£ç åŽè½¬åˆ°â€œProcessâ€ç•Œé¢ä¸‹ï¼Œå¯¹ç¼–è¾‘å¥½çš„ä»£ç è¿›è¡Œç»¼åˆï¼Œå³åŒå‡»â€œSynthesizeâ€ ![](./../../Tang Nano 9K/nano_9k/nano_9k_synthsize.png) è¿è¡Œä¹‹åŽå¦‚æ²¡æœ‰æŠ¥é”™è€Œä¸” Synthesize å˜æˆä¸‹å›¾é‡Œçš„å›¾æ ‡ ![](./../../Tang Nano/assets/LED.png) è¯´æ˜Žå‰é¢ç¼–è¾‘çš„ä»£ç æ— è¯¯ï¼›å¦‚æžœæœ‰é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œæ”¹æ­£å³å¯ã€‚ ### çº¦æŸ æ­¤å¤„æœªæ¶‰åŠæ—¶é’Ÿçº¦æŸ æƒ³è®© Fpga å®žçŽ°ä»£ç çš„åŠŸèƒ½ï¼Œå¿…é¡»å°†ä»£ç ä¸­æ¶‰åŠçš„ ç«¯å£ ç»‘å®šåˆ° Fpga å®žé™…çš„å¼•è„šä¸Šã€‚ å¦‚ä¸‹å›¾ï¼Œåœ¨å·¦è¾¹çš„å·¥ä½œåŒºç‚¹å‡» processï¼Œç„¶åŽåŒå‡» FloorPlanner ![](./../../assets/examples/led_pjt_2.png) åœ¨å·¥ç¨‹ä¸­ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼Œå¯èƒ½ä¼šæç¤ºè¯´åˆ›å»ºæ–‡ä»¶ï¼Œç‚¹å‡»ç¡®å®šå³å¯ ![](./../../Tang Nano/assets/LED 9.png) nano 4kçš„rgb ledç”µè·¯å›¾å¦‚ä¸‹æ‰€ç¤º ![](./../assets/LED_Pin.png \"nano 4k rgb pins\") port I/O pin desc sys_clk input 45 æ—¶é’Ÿè¾“å…¥è„š sys_rst_n input 15 ç³»ç»Ÿå¤ä½è„š led output 10 çº¢ç¯ å¯¹äºŽäº¤äº’å¼ç®¡è„šçº¦æŸæœ‰ä¸‹å›¾ä¸­çš„ä¸¤ç§æ–¹æ³• å°†å¯¹åº”çš„ç«¯å£æ‹–æ‹½åˆ°èŠ¯ç‰‡å¼•è„šä¸Š åœ¨IOçº¦æŸä¸­è¾“å…¥ç«¯å£å¯¹åº”çš„å¼•è„šç¼–å· å› æ­¤å¯¹åº”åœ¨ç®¡è„šçº¦æŸé‡Œçš„å†…å®¹åº”è¯¥å¦‚ä¸‹å›¾ ![Led floorplanner](./../assets/LED_FloorPlanner.png) å…³äºŽ FloorPlanner æ›´å¤šçš„ç›¸å…³è¯´æ˜Žï¼Œå¯ä»¥å‚è€ƒ [SUG935 1.3_Gowinè®¾è®¡ç‰©ç†çº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG935 1.3_Gowin%E8%AE%BE%E8%AE%A1%E7%89%A9%E7%90%86%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf)ã€‚é‡Œé¢çš„å†…å®¹éƒ½å¾ˆæœ‰ç”¨ å®Œæˆä¹‹åŽè®°å¾—ä¿å­˜ä¸€ä¸‹ LEDå¯¹åº”çš„IO10é»˜è®¤æ˜¯mode Pinï¼Œæ— æ³•ç›´æŽ¥çº¦æŸï¼Œéœ€è¦åœ¨é¡¶éƒ¨èœå•æ  Project > Configuration >Palse&Route > Dual Purpose Pin, å‹¾é€‰ Use MODE as regular IO,å¦‚ä¸‹å›¾ <img src \"./../tang/assets/../../../assets/Nano 4K/4K led 2.png\" alt \"image 20210810161934170\" style \"zoom:50%;\" /> ### å¸ƒå±€å¸ƒçº¿ å®Œæˆè„šçº¦æŸåŽï¼ŒæŽ¥ä¸‹æ¥è¿›è¡Œå¸ƒå±€å¸ƒçº¿æ“ä½œã€‚ ![Place&&Route](./../assets/Place&Route.png) > å¤±è´¥çš„è¯è¯·ä»Žå¤´å†æ¥ä¸€é ## çƒ§å½•åˆ°å¼€å‘æ¿ æˆåŠŸå®Œæˆä¸Šé¢æ­¥éª¤åŽå°±å·²ç»ç”Ÿæˆé«˜äº‘åŠå¯¼ä½“çš„æ¯”ç‰¹æµæ–‡ä»¶äº†ï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ­¥éª¤æ¥å°†æ–‡ä»¶çƒ§å½•åˆ°æ¿å­äº†ã€‚ æŽ¥ä¸‹æ¥æ˜¯è¿žæŽ¥æ¿å­ï¼Œçƒ§å½•å›ºä»¶ï¼Œå¯å‚ç…§ä¸‹å›¾é€‰æ‹©ç‰ˆåž‹ï¼š ![](./../assets/nano_4k_device_scan.png) åœ¨Processç•Œé¢åŒå‡»`Program Device` åŽæ‰“å¼€çƒ§å½•å·¥å…· ![](./../assets/Open_Programmer.png) æŽ¥ä¸‹æ¥é€‰æ‹© SRAMä¸‹è½½ å³å¯éªŒè¯ç¨‹åºã€‚æœ‰å›ºåŒ–éœ€æ±‚çš„è‡ªè¡Œé€‰æ‹©çƒ§å½•åˆ°flash ![](./../assets/Programmer_device.png) <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-4K/examples/HDMI.html":{"title":"","content":""},"/hardware/zh/tang/tang-primer-20k/primer-20k.html":{"title":"Tang Primer 20K","content":"# Tang Primer 20K ## æ¦‚è¿° Tang Primer 20K æ˜¯åŸºäºŽ [GW2A LV18PG256C8/I7](http://www.gowinsemi.com.cn/prod_view.aspx?TypeId 10&amp;FId t3:10:3&amp;Id 167#GW2A) æ‰€è®¾è®¡çš„ä¸€æ¬¾ DDR3 sodimm å°è£…çš„æ ¸å¿ƒæ¿ï¼Œé¢å¤–å‡†å¤‡äº†ä¸¤ä¸ªåº•æ¿ï¼Œåˆ†åˆ«ä¸º Dock åº•æ¿å’Œ Lite åº•æ¿ã€‚ <div> <img src \"./assets/20k_front.png\" width 45%> <img src \"./assets/20k_back.png\" width 45%> </div> è´­ä¹°é“¾æŽ¥ï¼š[æ·˜å®](https://item.taobao.com/item.htm?&id 680099020807) ## åŸºç¡€å‚æ•° <table> \t<thead> \t\t<tr> \t\t\t<th style \"text align:center\">é¡¹ç›®</th> \t\t\t<th style \"text align:center\">å‚æ•°</th> \t\t\t<th style \"text align:center\">è¡¥å……</th> \t\t</tr> \t</thead> \t<tbody> \t\t<tr> \t\t\t<td style \"text align:left\">FPGA èŠ¯ç‰‡</td> \t\t\t<td style \"text align:left\"><a href \"http://www.gowinsemi.com.cn/prod_view.aspx?TypeId 10&amp;FId t3:10:3&amp;Id 167#GW2A\">GW2A LV18PG256C8/I7</a> \t\t\t</td> \t\t\t<td style \"text align:left\"> \t\t\t\t<table> \t\t\t\t\t<tr> \t\t\t\t\t\t<td>é€»è¾‘å•å…ƒ(LUT4)</td> \t\t\t\t\t\t<td>20736</td> \t\t\t\t\t</tr> \t\t\t\t\t<tr> \t\t\t\t\t\t<td>å¯„å­˜å™¨(FF)</td> \t\t\t\t\t\t<td>15552</td> \t\t\t\t\t</tr> \t\t\t\t\t<tr> \t\t\t\t\t\t<td>åˆ†å¸ƒå¼é™æ€éšæœºå­˜å‚¨å™¨S SRAM(bits)</td> \t\t\t\t\t\t<td>41472</td> \t\t\t\t\t</tr> \t\t\t\t\t<tr> \t\t\t\t\t\t<td>å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨B SRAM(bits)</td> \t\t\t\t\t\t<td>828K</td> \t\t\t\t\t</tr> \t\t\t\t\t<tr> \t\t\t\t\t\t<td>å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨æ•°ç›®B SRAM(ä¸ª)</td> \t\t\t\t\t\t<td>46</td> \t\t\t\t\t</tr> \t\t\t\t\t<tr> \t\t\t\t\t\t<td>ä¹˜æ³•å™¨(18x18 Multiplier)</td> \t\t\t\t\t\t<td>48</td> \t\t\t\t\t</tr> \t\t\t\t\t<tr> \t\t\t\t\t\t<td>é”ç›¸çŽ¯(PLLs)</td> \t\t\t\t\t\t<td>4</td> \t\t\t\t\t</tr> \t\t\t\t\t<tr> \t\t\t\t\t\t<td>I/O Bank æ€»æ•°</td> \t\t\t\t\t\t<td>8</td> \t\t\t\t\t</tr> \t\t\t\t</table> \t\t\t</td> \t\t</tr> \t\t<tr> \t\t\t<td style \"text align:left\">å†…å­˜</td> \t\t\t<td style \"text align:left\">128M DDR3</td> \t\t\t<td style \"text align:left\">128Meg x 16</td> \t\t</tr> \t\t<tr> \t\t\t<td style \"text align:left\">Flash</td> \t\t\t<td style \"text align:left\">32Mbits NOR Flash</td> \t\t\t<td style \"text align:left\">ä¸‹è½½æ–¹å¼å‚è€ƒåº•éƒ¨ç›¸å…³é—®é¢˜</td> \t\t</tr> \t\t<tr> \t\t\t<td style \"text align:left\">è°ƒè¯•æŽ¥å£</td> \t\t\t<td style \"text align:left\">Jtag + Uart</td> \t\t\t<td style \"text align:left\">JST SH1.0 8Pins è¿žæŽ¥å™¨</td> \t\t</tr> \t\t<tr> \t\t\t<td style \"text align:left\">SD å¡æ§½</td> \t\t\t<td style \"text align:left\">ä¸€ä¸ª</td> \t\t\t<td style \"text align:left\">æŽ¨æ‹‰å¼</td> \t\t</tr> \t\t<tr> \t\t\t<td style \"text align:left\">æ˜¾ç¤ºæŽ¥å£</td> \t\t\t<td style \"text align:left\">8Pins spi lcd è¿žæŽ¥å™¨</td> \t\t\t<td style \"text align:left\"></td> \t\t</tr> \t\t<tr> \t\t\t<td style \"text align:left\">æ•´ä½“å°è£…</td> \t\t\t<td style \"text align:left\">204P DDR3 Sodimm é‡‘æ‰‹æŒ‡</td> \t\t\t<td style \"text align:left\"></td> \t\t</tr> \t\t<tr> \t\t\t<td style \"text align:left\">å¯ç”¨ IO</td> \t\t\t<td style \"text align:left\">ä¸€å…± 117 ä¸ª</td> \t\t\t<td style \"text align:left\"></td> \t\t</tr> \t</tbody> </table> ## åº•æ¿å¯¹æ¯” ### Dock åº•æ¿äº§å“å›¾ å…¶ä¸­ LED2 å’Œ LED3 æ‰€å¯¹åº”çš„å¼•è„šç¼–å·ä¸º N16 å’Œ N14ã€‚æŸ¥é˜…å³å›¾å·¦æ–¹ï¼Œå·²æ ‡æ˜Žã€‚ <div> <img src \"./assets/dock up.png\" alt \"dock up\" width 45%> <img src \"./assets/dock back.png\" alt \"dock back\" width 45%> </div> ### Lite åº•æ¿äº§å“å›¾ åº•æ¿ R8 ä¸Ž P9 ä¹‹é—´ä¸º P8 å¼•è„šã€‚å‚è€ƒå³å›¾å·¦ä¸Šæ–¹ï¼Œå·²æ ‡æ˜Ž <div> <img src \"./assets/lite up.png\" alt \"lite up\" width 45%> <img src \"./assets/lite back.png\" alt \"lite back\" width 45%> </div> ### å¤–è®¾å‚æ•°å¯¹æ¯” <table> \t<thead> \t\t<tr> \t\t\t<th rowspan \"2\" colspan \"2\">é¡¹ç›®</th> \t\t\t<th colspan \"2\">Dock</th> \t\t\t<th colspan \"2\">Lite</th> \t\t</tr> \t\t<tr> \t\t\t<th>æ•°é‡</th> \t\t\t<th>è¡¥å……è¯´æ˜Ž</th> \t\t\t<th>æ•°é‡</th> \t\t\t<th>è¡¥å……è¯´æ˜Ž</th> \t\t</tr> \t</thead> \t<body> \t\t<tr> \t\t\t<td colspan \"2\">RGB æŽ¥å£</td> \t\t\t<td>1</td> \t\t\t<td>RGB565 40P FPC è¿žæŽ¥å™¨</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">DVP æŽ¥å£</td> \t\t\t<td>1</td> \t\t\t<td>24P FPC è¿žæŽ¥å™¨</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">éº¦å…‹é£Žé˜µåˆ—æŽ¥å£</td> \t\t\t<td>1</td> \t\t\t<td>10P FPC è¿žæŽ¥å™¨</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">è§¦æ‘¸æŽ¥å£</td> \t\t\t<td>1</td> \t\t\t<td>4P FPC è¿žæŽ¥å™¨</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">PMOD æŽ¥å£</td> \t\t\t<td>4</td> \t\t\t<td></td> \t\t\t<td>4</td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">3.5mm è€³æœºæŽ¥å£</td> \t\t\t<td>1</td> \t\t\t<td>ä½¿ç”¨ LPA4809MSF é©±åŠ¨</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">æ‹¨ç å¼€å…³</td> \t\t\t<td>1</td> \t\t\t<td>5P æ‹¨ç å¼€å…³</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">æ»‘åŠ¨å¼€å…³</td> \t\t\t<td>1</td> \t\t\t<td>åˆ‡æ¢æ¿è½½ USB åŠŸèƒ½</td> \t\t\t<td>2</td> \t\t\t<td>ç”¨æˆ·è‡ªå®šä¹‰åŠŸèƒ½</td> \t\t</tr> \t\t<tr> \t\t\t<td style \"white space:nowrap\" rowspan \"2\">Type C æŽ¥å£</td> \t\t\t<td style \"white space:nowrap\">USB JTAG&UART</td> \t\t\t<td>1</td> \t\t\t<td>æ¿è½½ BL702 èŠ¯ç‰‡ç”¨æ¥<br>ä¸‹è½½æ¯”ç‰¹æµå¹¶æä¾›ä¸²å£åŠŸèƒ½</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td>è‡ªå®šä¹‰ USB</td> \t\t\t<td>1</td> \t\t\t<td>USB3317 èŠ¯ç‰‡ä¸Žæ»‘åŠ¨å¼€å…³<br>æ¥è‡ªå®šä¹‰è¯¥ USB æŽ¥å£åŠŸèƒ½</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">æ— çº¿å¤©çº¿</td> \t\t\t<td>1</td> \t\t\t<td>ä½¿ç”¨ BL702 èŠ¯ç‰‡çš„æ— çº¿åŠŸèƒ½</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">æŒ‰é”®</td> \t\t\t<td>6</td> \t\t\t<td>ä¸€ä¸ªç”¨æ¥çƒ§å½• BL702,<br>å‰©ä¸‹äº”ä¸ªç”¨æˆ·è‡ªå®šä¹‰åŠŸèƒ½</td> \t\t\t<td>2</td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">LED</td> \t\t\t<td>6</td> \t\t\t<td></td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">HDMI æŽ¥å£</td> \t\t\t<td>1</td> \t\t\t<td></td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">ä»¥å¤ªç½‘æŽ¥å£</td> \t\t\t<td>1</td> \t\t\t<td>TL8201F èŠ¯ç‰‡å®žçŽ°ä»¥å¤ªç½‘åŠŸèƒ½</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t\t<tr> \t\t\t<td colspan \"2\">RGB LED</td> \t\t\t<td>1</td> \t\t\t<td>WS2812</td> \t\t\t<td></td> \t\t\t<td></td> \t\t</tr> \t</body> </table> ## ç¡¬ä»¶èµ„æ–™ è§„æ ¼ä¹¦ã€åŽŸç†å›¾ã€å°ºå¯¸å›¾ç­‰å‡å¯åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š[ç‚¹å‡»è¿™é‡Œ](https://dl.sipeed.com/shareURL/TANG/Primer_20K) [æ¿å¡è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/TANG/Primer_20K/01_Specification) [æ¿å¡åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Primer_20K/02_Schematic) [æ¿å¡ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/TANG/Primer_20K/03_Bit_number_map) [å¸ƒçº¿é•¿åº¦è¡¨](https://dl.sipeed.com/shareURL/TANG/Primer_20K/04_Net_Length) [æ¿å¡å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/TANG/Primer_20K/05_Dimensional_drawing) [æ ¸å¿ƒæ¿å°è£…](https://dl.sipeed.com/shareURL/TANG/Primer_20K/06_Footprint) (KICAD) [èŠ¯ç‰‡éƒ¨åˆ†èµ„æ–™](https://dl.sipeed.com/shareURL/TANG/Primer_20K/07_Chip_manual) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/TANG/Primer_20K/08_Dimensions) ## ä¸Šæ‰‹ç®€æ˜Ž `å‡†å¤‡å¼€å‘çŽ¯å¢ƒ` > `å­¦ä¹ ç›¸å…³è¯­æ³•` > `æŸ¥çœ‹å¼€ç®±æŒ‡å—` > `åŸºç¡€ä»£ç ç¼–å†™` > `æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£` 1. å®‰è£… IDE ï¼š[ç‚¹å‡»è¿™é‡Œ](./../Tang Nano Doc/get_started/install the ide.html) 2. æŸ¥çœ‹ [ä¸Šæ‰‹æŒ‡å—](https://wiki.sipeed.com/hardware/zh/tang/tang primer 20k/start.html) æ¥é¿å…ä¸€äº›é—®é¢˜ï¼Œå¹¶ä¸”ä»Žé‚£é‡Œé¢å¯ä»¥å¼€å§‹è¿›è¡Œä»£ç å®žæˆ˜ã€‚ 3. å¦‚æžœè¿›è¡Œå®Œä¸Šé¢çš„ç‚¹ç¯æ“ä½œåŽåŽæ„Ÿè§‰æœ‰åŽ‹åŠ›ï¼Œå¯ä»¥è‡ªå·±æŸ¥æ¼è¡¥ç¼ºï¼š å¯ä»¥åœ¨ä¸‹é¢çš„è¿™äº›ç½‘ç«™å­¦ä¹  Verilog: \t+ åœ¨çº¿å…è´¹æ•™ç¨‹ï¼š[Verilog æ•™ç¨‹](https://www.runoob.com/w3cnote/verilog tutorial.html)ï¼ˆå­¦ä¹ Verilogï¼‰ \t+ åœ¨çº¿å…è´¹ FPGA æ•™ç¨‹ï¼š[Verilog](https://www.asic world.com/verilog/index.html) ï¼ˆè‹±æ–‡ç½‘ç«™ï¼‰ \t+ Verilog åˆ·é¢˜ç½‘ç«™ï¼š[HDLBits](https://hdlbits.01xz.net/wiki/Main_Page)ï¼ˆè‹±æ–‡ç½‘ç«™ï¼‰ \t+ åœ¨çº¿é«˜äº‘åŠå¯¼ä½“å¯å‚è€ƒè§†é¢‘æ•™ç¨‹ï¼š[ç‚¹å‡»è¿™é‡Œ](http://www.gowinsemi.com.cn/video_complex.aspx?FId n15:15:26) å¯¹ IDE ä½¿ç”¨æœ‰ç–‘é—®çš„è¯ï¼Œå¯ä»¥æŸ¥çœ‹å®˜æ–¹çš„ä¸€äº›æ–‡æ¡£æ¥ç†Ÿæ‚‰ç›¸å…³å†…å®¹ [SUG100 2.6_Gowinäº‘æºè½¯ä»¶ç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG100 2.6_Gowin%E4%BA%91%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) [SUG949 1.1_Gowin_HDLç¼–ç é£Žæ ¼ç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG949 1.1_Gowin_HDL%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) <a href \"http://cdn.gowinsemi.com.cn/UG286 1.9.1_Gowin%E6%97%B6%E9%92%9F%E8%B5%84%E6%BA%90(Clock)%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf\">UG286 1.9.1_Gowinæ—¶é’Ÿèµ„æº(Clock)ç”¨æˆ·æŒ‡å—.pdf</a> [SUG940 1.3_Gowinè®¾è®¡æ—¶åºçº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG940 1.3_Gowin%E8%AE%BE%E8%AE%A1%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) [SUG502 1.3_Gowin_Programmerç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG502 1.3_Gowin_Programmer%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) [SUG114 2.5_Gowinåœ¨çº¿é€»è¾‘åˆ†æžä»ªç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG114 2.5_Gowin%E5%9C%A8%E7%BA%BF%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) ä¸Šé¢çš„æ‰€æœ‰æ–‡æ¡£éƒ½å·²ç»æ‰“åŒ…è¿›äº†ä¸‹è½½ç«™[ç‚¹æˆ‘è·³è½¬](https://dl.sipeed.com/shareURL/TANG/Primer_20K/07_Chip_manual/CN/%E9%80%9A%E7%94%A8%E6%8C%87%E5%BC%95)ï¼Œéœ€è¦çš„è¯å¯ä»¥ç‚¹å‡»åŽ‹ç¼©åŒ…å…¨éƒ½ä¸‹è½½ä¸‹æ¥ã€‚ ## ä¾‹ç¨‹æ±‡æ€» ### å…¬å¼€ä¾‹ç¨‹ github é“¾æŽ¥ï¼š https://github.com/sipeed/TangPrimer 20K example ### éƒ¨åˆ†æ•™ç¨‹ Lite åº•æ¿ç‚¹ç¯ ï¼š<a href \"https://wiki.sipeed.com/news/others/20k_lite_start/20k_lite_start.html\" target \"blank\">ç‚¹æˆ‘è·³è½¬</a> Dock åº•æ¿ä¾‹ç¨‹æŒ‡å—: [ç‚¹æˆ‘è·³è½¬](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) ## äº¤æµæ–¹å¼ **äº¤æµè®ºå›: [bbs.sipeed.com](https://bbs.sipeed.com)** **QQ äº¤æµç¾¤ï¼š[834585530](https://jq.qq.com/?_wv 1027&k wBb8XUan)** ç›´æŽ¥æœ¬é¡µä¸‹æ–¹ç•™è¨€ å•†ä¸šé‚®ç®± : [support@sipeed.com](support@sipeed.com) ## è¡¥å……è¯´æ˜Ž å¯¹äºŽæ¿å­ä¸Šçš„ bank 0ã€bank 1ã€bank 7 è¿™ 3 ä¸ª bank ç”µåŽ‹ï¼Œé»˜è®¤æ‰€æŽ¥çš„æ˜¯ 3.3Vï¼Œå¯¹åº”çš„ bank IO ä¼šå¯¹å¤–è¾“å‡º 3.3V ç”µåŽ‹ã€‚å¦‚æžœéœ€è¦è¾“å…¥è‡ªå®šä¹‰çš„ IO bank ç”µåŽ‹ï¼Œè¯·æ‹†é™¤ R5 å’Œ R9ï¼Œè¯·å‚è€ƒå¯¹åº” Assembly [ç‚¹æˆ‘è·³è½¬](https://dl.sipeed.com/shareURL/TANG/Primer_20K/03_Bit_number_map) å›¾æ¥ç¡®å®š R5 å’Œ R9 çš„ä½ç½®ã€‚ ![io_vltage](./assets/io_vltage.png) å¯¹åº”æ ¸å¿ƒæ¿åŽŸç†å›¾ä¸Šåœ¨é‡‘æ‰‹æŒ‡å¤„çš„è¯´æ˜Žå¦‚ä¸‹ ![sodimm_voltage](./assets/sodimm_voltage.png) ## ç›¸å…³é—®é¢˜ ### Dock åº•æ¿ä¸å·¥ä½œ æ‹¨ä¸‹ 1 å·æ‹¨ç å¼€å…³ä»¥ä½¿èƒ½æ ¸å¿ƒæ¿ï¼Œä¸ç„¶åº•æ¿ä¼šä¸å·¥ä½œä¸” LED0 å’Œ LED1 å¸¸äº®ã€‚ ä½¿èƒ½æ ¸å¿ƒæ¿ æœªä½¿èƒ½æ ¸å¿ƒæ¿ ![switch_1_on](./assets/start/switch_1_on.png) ![reset_led_on](./assets/start/reset_led_on.png) <! <img src \"./assets/start/switch_1_on.png\" alt \"switch_1_on\" width 20%> > ### å¦‚ä½•ä¸‹è½½åˆ°å¤–éƒ¨ FLASH è¿›è¡Œå¦‚ä¸‹é€‰é¡¹è®¾ç½®ï¼š <img src \"./assets/flash_mode.png\" alt \"flash_mode\" width 75%> ### çƒ§å½•åŽæ²¡ååº”æˆ–è€…å¼•è„šçŽ°è±¡ä¸å¯¹ é¦–å…ˆç¡®å®šé€‰æ‹©äº†æ­£ç¡®çš„åž‹å·ï¼Œä¸‹å›¾ä¸­çš„æ¯ä¸€ä¸ªå‚æ•°éƒ½è¦æ±‚ä¸€è‡´ <img src \"./assets/device_choose.png\" alt \"device_choose\" width 75%> ç„¶åŽæ£€æŸ¥è‡ªå·±çš„ä»£ç å’Œå¯¹åº”çš„ä»¿çœŸæ³¢å½¢æ˜¯å¦æ»¡è¶³è¦æ±‚ ### æˆåŠŸçƒ§å½•è¿‡ä¸€æ¬¡å¤–éƒ¨ Flash åŽ Programmer è½¯ä»¶æ— æ³•å†çƒ§å½• æ³¨æ„æè¿°æ˜¯æˆåŠŸçƒ§å½•è¿‡ä¸€æ¬¡ Flashã€‚ è¿™ç§æƒ…å†µé»˜è®¤ä¸ºå¯ç”¨äº†é”™è¯¯çš„å¼•è„šå¤ç”¨è€Œå¯¼è‡´ä¸‹è½½å™¨ä¸èƒ½å†è¯†åˆ«åˆ° FPGA çš„ JTAGã€‚å¯ä»¥çŸ­æŽ¥ Flash çš„ 1ã€4 å¼•è„šï¼Œè®©èŠ¯ç‰‡ä¸Šç”µæ—¶ä¸èƒ½æ­£å¸¸è¯» FLASH ã€‚ ![flash_cs](./assets/flash_cs.png) å¦‚æžœæœ‰ dock åº•æ¿çš„è¯ï¼Œå¯ä»¥ç›´æŽ¥æ“ä½œä¸€å·æ‹¨ç å¼€å…³é‡æ–°æ•‘æ´»æ ¸å¿ƒæ¿ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š é¦–å…ˆæ­£å¸¸ä½¿èƒ½æ ¸å¿ƒæ¿ï¼Œå°†æ‹¨ç å¼€å…³ä¸€å·ä½æ‹¨ä¸‹ã€‚ç„¶åŽåœ¨ Programmer è½¯ä»¶ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªæ“ä½œï¼ˆçƒ§å†™ã€æ“¦é™¤éƒ½å¯ä»¥ï¼‰ï¼Œå½“ Programmer è½¯ä»¶ä¸­è¿›åº¦æ¡å‡ºçŽ°çš„æ—¶å€™ï¼Œå¿«é€Ÿå°†ä¸€å·æ‹¨ç å¼€å…³æ‹‰é«˜ï¼Œç„¶åŽå†æ‹‰ä½Žé‡æ–°ä½¿èƒ½æ ¸å¿ƒæ¿ï¼Œè¿™æ ·å°±ä¼šå‘çŽ° Programmer å¯ä»¥æ­£å¸¸çƒ§å½• FPGA æ¿å¡äº†ã€‚ <table> \t<tr> \t\t<td><img src \"./assets/start/switch_1_on.png\" alt \"switch_1_on\"></td> \t\t<td> é¦–å…ˆä½¿èƒ½æ ¸å¿ƒæ¿ã€‚</td> \t</tr> \t<tr> \t\t<td><img src \"./assets/start/progress_bar.jpg\" alt \"progress_bar\"></td> \t\t<td> å¯¹æ¿å¡è¿›è¡Œæ“ä½œï¼Œå‡ºçŽ°è¿›åº¦æ¡çš„æ—¶å€™å¿«é€Ÿæ‹¨åŠ¨ä½¿èƒ½å¼•è„šã€‚ </td> \t</tr> \t<tr> \t\t<td> \t\t<img src \"./assets/start/switch_1_off.jpg\" alt \"switch_1_off\" witdh \"25%\"> \t\t<img src \"./assets/start/switch_1_on.png\" alt \"switch_1_on\" witdh \"25%\"> \t\t</td> \t\t<td> å…ˆå‘ä¸Šæ‹¨åŠ¨1å·æ‹¨ç å¼€å…³ï¼Œå†å‘ä¸‹æ‹¨åŠ¨ </td> \t</tr> \t<tr> \t\t<td><img src \"./assets/start/progress_bar_running.jpg\" alt \"progress_bar_running\"><img src \"./assets/start/progress_bar_finishing.jpg\" alt \"progress_bar_finishing\"></td> \t\t<td> ç„¶åŽå°±çœ‹åˆ°è¿›åº¦æ¡æ­£å¸¸ï¼Œæ“ä½œé¡ºåˆ© </td> \t</tr> </table> ### æ›´å¤šé—®é¢˜åŠå…¶è§£å†³åŠžæ³•å‰å¾€[ç›¸å…³é—®é¢˜](./../Tang Nano Doc/questions.html)æŸ¥çœ‹"},"/hardware/zh/tang/tang-primer-20k/start.html":{"title":"Tang Primer 20K å¼€ç®±æŒ‡å—","content":" title: Tang Primer 20K å¼€ç®±æŒ‡å— keywords: FPGA, Primer, Tang, 20K update: date: 2022 09 16 version: v0.1 author: wonder content: é¦–æ¬¡ç¼–è¾‘ æŒç»­æ–½å·¥ä¸­ Primer 20K åº•æ¿æœ‰ Lite å’Œ Dock ä¸¤æ¬¾ï¼Œè¿™é‡Œåˆ†å¼€è¯´æ˜Žä¸€ä¸‹ ## Dock å¼€ç®±æŒ‡å— ### æ³¨æ„äº‹é¡¹ é¦–å…ˆåˆ—å‡ºç›¸å…³æ³¨æ„äº‹é¡¹ï¼Œæ¥é¿å…å› ä¸ºæ“ä½œä¸å½“æ‰€äº§ç”Ÿçš„é—®é¢˜å´èŠ±è´¹å¤§é‡æ—¶é—´ä½†åˆæœªè§£å†³ã€‚ #### ä½¿èƒ½æ ¸å¿ƒæ¿ å¯¹äºŽ Dock æ¿ï¼Œä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„å°†æ‹¨ç å¼€å…³ 1 å·ä½å¼€å¯ï¼Œä»¥æ­¤æ¥ä½¿èƒ½æ ¸å¿ƒæ¿ã€‚ ä½¿èƒ½æ ¸å¿ƒæ¿ æœªä½¿èƒ½çŠ¶æ€ è¡¥å……è¯´æ˜Ž <img src \"./assets/start/switch_1_on.png\" alt \"switch_1_on\" width 100%><img src \"./assets/start/reset_led_on.png\" alt \"reset_led_on\" width 100%> æœªä½¿èƒ½æ ¸å¿ƒæ¿çš„è¯æ¿å­ä¸Šçš„ 0ã€1 å· LED ä¼šä¸€ç›´äº®ç€ï¼Œä¸”æ ¸å¿ƒæ¿ä¸ä¼šæ­£å¸¸å¯åŠ¨ã€‚ #### è®¾å¤‡ä¸å·¥ä½œ é»˜è®¤çš„åŒ…è£…ç›’é‡Œå·²ç»å°†æ ¸å¿ƒæ¿ç»„è£…åœ¨åº•æ¿ä¸Šé¢äº†ï¼Œä½†æ˜¯æœ‰æ—¶å€™å› ä¸ºä¸€äº›å¿…è¦æ“ä½œéœ€è¦å–ä¸‹æ ¸å¿ƒæ¿ã€‚ ç„¶åŽå†æ¬¡ç»„è£…å›žåŽ»åŽå‘çŽ°è®¾å¤‡ä¸å†å·¥ä½œäº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦ç¡®è®¤ä¸€ä¸‹æ ¸å¿ƒæ¿ä¸Žåº•æ¿æ˜¯å¦è¿žæŽ¥å¥½ã€‚ æ­£ç¡®çš„è¿žæŽ¥é¡ºåºæ˜¯å…ˆå°†æ ¸å¿ƒæ¿æ–œæ’å…¥åˆ°åº•æ¿ä¸­ï¼Œå€¾æ–œè§’åº¦å¤§æ¦‚å¦‚å¦‚ä¸‹å›¾å·¦å›¾æ‰€ç¤ºã€‚ç¡®å®šä»Žä¸Šé¢çœ‹åˆ°æ–œæ’å…¥çš„æ ¸å¿ƒæ¿ä¸Žåº•æ¿å‡åŒ€æŽ¥è§¦ï¼Œå¯ä»¥ä»Žé‡‘æ‰‹æŒ‡è£¸éœ²å‡ºæ¥çš„å‡åŒ€ç¨‹åº¦æ¥åˆ¤æ–­ã€‚ <img src \"./assets/start/edge_view.png\" alt \"edge_view\" width 45%> <img src \"./assets/start/top_view.png\" alt \"top_view\" width 35%> ç„¶åŽè½»åŽ‹ç¿˜èµ·æ¥çš„é‚£ä¸€å¤´ï¼Œå¯ä»¥æ¸…è„†çš„å¬è§æ ¸å¿ƒæ¿è¢«åº•æ¿æ’æ§½å›ºå®šä½çš„å£°éŸ³ã€‚ å¦‚æžœæŒ‰åŽ‹æ—¶å€™è§‰å¾—å›°éš¾çš„è¯ï¼Œå¯ä»¥å°è¯•å°†æ ¸å¿ƒæ¿ä¸¤ä¾§ç¨å¾®æ‰“ç£¨ä¸€ä¸‹ï¼Œæ¥æ¶ˆé™¤ç”±äºŽç”Ÿäº§å·¥è‰ºæ‰€å¸¦æ¥çš„å°ºå¯¸è¯¯å·®ã€‚ <img src \"./assets/start/clean_core_board.png\" alt \"clean_core_board\" width 20%> å°†ä¸Šå›¾çº¢æ¡†çš„ä¸¤å¤„ä¾§è¾¹ç¨å¾®æ‰“ç£¨ä¸€ä¸‹ï¼Œæ¥å‡å°‘é…åˆæ—¶çš„å›°éš¾ã€‚ #### ç¡¬ä»¶æ”¹ç‰ˆè¯´æ˜Ž å¯¹äºŽ Dock åº•æ¿ï¼Œå¯ä»¥ä»Žå¦‚ä¸‹å›¾æ‰€æŒ‡çš„ä½ç½®æ¥äº†è§£å½“å‰è‡ªå·±æ‰€ä½¿ç”¨çš„æ¿å­ç‰ˆæœ¬ã€‚ ![version](./assets/start/dock version.png) æ¯”å¦‚ä¸Šé¢è¿™å¼ å›¾çš„æ¿å­çš„ç‰ˆæœ¬å·ä¸º V3708 ä¸‹é¢æ˜¯æœ‰é—®é¢˜çš„ç‰ˆæœ¬ä¿®æ­£ï¼š ##### V3708 LED2 ä¸Ž LED3 çš„ä¸å°é”™è¯¯ï¼Œåº”å½“ä¸ºï¼š å¤–è®¾ æ­£ç¡®å¼•è„š é”™è¯¯ä¸å° LED2 N16 B14 LED3 N14 N16 ### å¼€å§‹ä½¿ç”¨ å¯¹äºŽ Dock åº•æ¿ï¼Œé»˜è®¤å›ºä»¶å¯è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š æŒ‰ä¸‹ S0 æŒ‰é”®ï¼Œå¤ä½ RGB å±å¹•ã€æ‘„åƒå¤´ã€HDMI ä¿¡å·å¤ä½ï¼Œä¸” 3ã€4ã€5 å·ä¸‰ä¸ª LED ä¼šå¸¸äº®ã€‚ S2 åˆ° S5 æŒ‰é”®åŠ 2 å·åˆ° 5 å·æ‹¨ç å¼€å…³æŽ§åˆ¶ 0ã€1ã€2 ä¸‰ä¸ª LED ç¯çš„çŠ¶æ€ å°† OV5640 æ‘„åƒå¤´ä¸Ž 4.3å¯¸ RGB å±å¹•è¿žæŽ¥åˆ°æ¿å­ä¸Šï¼ˆè¿žæŽ¥æ—¶æ³¨æ„æ–­å¼€æ¿å­ç”µæºï¼‰ï¼Œå±å¹•ä¸Šé¢ä¼šæ˜¾ç¤ºæ‘„åƒå¤´æ‰€æ•èŽ·åˆ°çš„ç”»é¢ã€‚å¦‚æžœå±å¹•æ˜¾ç¤ºæœ‰æ’•è£‚çŽ°è±¡çš„è¯ï¼Œå¯ä»¥æŒ‰ä¸‹ S0 æŒ‰é”®æ¥åŒæ­¥ä¸€ä¸‹è¾“å‡ºç”»é¢ã€‚ é»˜è®¤å›ºä»¶ä¸­ï¼Œå°† 3ã€4 å·ä¸¤ä¸ªç¯è®¾ç½®ä¸ºæ—¶é’Ÿæ£€æµ‹ä¿¡å·ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸¤ä¸ªç¯çš„çŠ¶æ€æ¥é‰´åˆ«è®¾å¤‡æ˜¯å¦å·¥ä½œã€‚ ### å®žæˆ˜ä½¿ç”¨ [ç‚¹ä¸€ä¸ªç¯](./examples/led.html) ### ç›¸å…³é—®é¢˜ ä½¿ç”¨ä¸­ç¢°åˆ°é—®é¢˜å¯ä»¥å…ˆå‰å¾€ [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) æ¥æŸ¥çœ‹è§£å†³æ–¹æ³•ã€‚ ## Lite å¼€ç®±è¯´æ˜Ž ### ç¡¬ä»¶ç‰ˆæœ¬è¯´æ˜Ž å¯¹äºŽ Lite åº•æ¿ï¼Œå¯ä»¥ä»Žå¦‚ä¸‹å›¾æ‰€æŒ‡çš„ä½ç½®æ¥äº†è§£å½“å‰è‡ªå·±æ‰€ä½¿ç”¨çš„æ¿å­ç‰ˆæœ¬ã€‚ ![lite version](./assets/start/lite version.png) æ¯”å¦‚ä¸Šé¢è¿™å¼ å›¾çš„æ¿å­çš„ç‰ˆæœ¬å·ä¸º 3710 ä¸‹é¢æ˜¯æœ‰é—®é¢˜çš„ç‰ˆæœ¬ä¿®æ­£ï¼š #### 3710 åº•æ¿ R8 ä¸Ž P9 ä¹‹é—´ä¸º P8 å¼•è„šã€‚å‚è€ƒå³å›¾å·¦ä¸Šæ–¹ï¼Œå·²æ ‡æ˜Ž <div> <img src \"./assets/lite up.png\" alt \"lite up\" width 45%> <img src \"./assets/lite back.png\" alt \"lite back\" width 45%> </div> ### å®žæˆ˜ä½¿ç”¨ [ç‚¹ä¸€ä¸ªç¯](https://wiki.sipeed.com/news/others/20k_lite_start/20k_lite_start.html) ### ç›¸å…³é—®é¢˜ ä½¿ç”¨ä¸­ç¢°åˆ°é—®é¢˜å¯ä»¥å…ˆå‰å¾€ [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) æ¥æŸ¥çœ‹è§£å†³æ–¹æ³•ã€‚"},"/hardware/zh/tang/tang-primer-20k/example.html":{"title":"Tang Primer 20K ä¾‹ç¨‹æŒ‡å—","content":" title: Tang Primer 20K ä¾‹ç¨‹æŒ‡å— keywords: Tang Primer 20K ,ä¾‹ç¨‹, ä¸Šæ‰‹ update: date: 2022 09 29 version: v0.1 author: wonder content: ç›®å½•ç¡®å®š ## LED ç¯‡ Dock åº•æ¿ä¸Šå…­ä¸ª LED å¯ä»¥æ‹¿æ¥åšä¸å°‘æ–°æ‰‹å®žéªŒ ç»„åˆé€»è¾‘æ“ä½œï¼š [çº¦æŸäº®ç¯](./examples/assign_led.html)ï¼ˆå¿«é€Ÿç†Ÿæ‚‰ IDEï¼Œå¿…çœ‹ï¼‰ [æŒ‰é”®äº®ç¯](./examples/key_led_on.html) (åŽç»­æ–‡æ¡£è§„èŒƒï¼Œå¿…çœ‹) [å¼‚æˆ–é€»è¾‘äº®ç¯](./examples/xor_led_on.html) [è¯‘ç å™¨äº®ç¯](./examples/decode_led_on.html)ï¼ˆæ•°ç”µè¡¨è¾¾å¼å®žçŽ°ï¼‰ <! [è¯‘ç å™¨äº®ç¯](./examples/timing_decode_led_on.html)ï¼ˆ verilog case è¯­å¥å®žçŽ°ï¼‰ > [ä½æ‹¼æŽ¥è¿ç®—](./examples/key_6leds_on.html) æ—¶åºé€»è¾‘æ“ä½œï¼š [è®¡æ•°å™¨äº®ç¯](./examples/led.html) [æµæ°´ç¯](./examples/water_led.html) å‘¼å¸ç¯ ## RGB LCD ç¯‡ ## SPI LCD ç¯‡ ## CAM LCD ç¯‡ ## ä½™ä¸‹å·¥ç¨‹ HDMI USB ç¤ºä¾‹ ä»¥å¤ªç½‘"},"/hardware/zh/tang/tang-primer-20k/examples/xor_led_on.html":{"title":"å¼‚æˆ–é€»è¾‘äº®ç¯","content":" title: å¼‚æˆ–é€»è¾‘äº®ç¯ keywords: Tang Primer 20K ,ä¾‹ç¨‹, ä¸Šæ‰‹ update: date: 2022 10 11 version: v0.1 author: wonder content: åˆæ¬¡ç¼–è¾‘ ## åŽŸç† ### å¼‚æˆ–é€»è¾‘ä»‹ç» å¼‚æˆ–ï¼ˆxorï¼‰æ˜¯ä¸€ä¸ªæ•°å­¦è¿ç®—ç¬¦ã€‚å®ƒåº”ç”¨äºŽé€»è¾‘è¿ç®—ã€‚å¼‚æˆ–çš„æ•°å­¦ç¬¦å·ä¸ºâ€œâŠ•â€ï¼Œè®¡ç®—æœºç¬¦å·ä¸ºâ€œxorâ€ã€‚ å…¶è¿ç®—æ³•åˆ™ä¸ºï¼š$$C A\\oplus B (\\overline{A}\\cdot B) (A\\cdot \\overline{B}) $$ çœŸå€¼è¡¨ä¸º: <table> <tr> <td>å˜é‡ A</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> </tr> <tr> <td>å˜é‡ B</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> </tr> <tr> <td>ç»“æžœ B</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> </tr> </table> åœ¨ verilog ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `^` æ¥è¡¨ç¤ºå¼‚æˆ–è¿ç®—ï¼Œæ‰€ä»¥å¯ä»¥å†™æˆ$$C A\\oplus B A\\wedge B $$ åŒç†å®¹æ˜“ç®—å‡ºï¼Œå››ä¸ªä¿¡å·çš„å¼‚æˆ–è¿ç®—ç»“æžœå¦‚ä¸‹ï¼š $$E A\\oplus B\\oplus C\\oplus D A\\wedge B \\wedge C\\wedge D (((A\\wedge B )\\wedge C)\\wedge D)$$ æ ¹æ®ä¸¤é¡¹è¾“å…¥çš„è¿ç®—æ–¹å¼æ¥è®¡ç®—å››é¡¹è¾“å…¥è¿ç®—æ–¹æ³•ï¼Œä¸éš¾å¾—å‡ºä»¥ä¸‹çœŸå€¼è¡¨ç»“æžœï¼š <table><tr> <td>å˜é‡ A</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> </tr> <tr> <td>å˜é‡ B</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> </tr> <tr> <td>å˜é‡ C</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> </tr> <tr> <td>å˜é‡ D</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> </tr> <tr> <td>ç»“æžœ E</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>1</td> <td>0</td> </tr> </table> ### æ‹¨ç å¼€å…³è¯´æ˜Ž Tang Primer 20K DOCK åº•æ¿é…å¤‡æœ‰ä¸€ä¸ª 5P çš„æ‹¨ç å¼€å…³ã€‚å…¶ä¸­ä¸€å·æ‹¨ç å¼€å…³è¢«è®¾è®¡æˆæ ¸å¿ƒæ¿å¡ä½¿èƒ½ä½ï¼›å‰©ä¸‹å››ä¸ªæ‹¨ç å¼€å…³ç”¨äºŽç”¨æˆ·è‡ªå®šä¹‰ç¼–ç¨‹åŠŸèƒ½ã€‚ æ‹¨ç å¼€å…³åŽŸç†å›¾ æ‹¨ç å¼€å…³ä¸Ž FPGA è¿žæŽ¥å¼•è„šå›¾ ![dip_switch](./assets/xor_led_on/dip_switch.png) ![dip_switch_pin](./assets/xor_led_on/dip_switch_pin.png) ä»Žä¸Šå›¾ [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Primer_20K/02_Schematic) å¯ä»¥çŸ¥é“ï¼Œæ‹¨ç å¼€å…³è¿žé€šæ—¶å¯¹åº” FPGA å¼•è„šä¸ºé«˜ç”µå¹³è¾“å…¥ã€‚ å°†æ‹¨ç å¼€å…³å››ä¸ªè§’å‡ä½œè¾“å…¥ä¿¡å·ï¼Œå¹¶å°†å…¶å¼‚æˆ–è¿ç®—ï¼Œå¾—å‡ºä¸€ä½ç»“æžœã€‚æœ€ç»ˆæ‹¨ç å¼€å…³çŠ¶æ€ä¸Žè¾“å‡ºä¿¡å·å¦‚ä¸‹è¡¨ï¼š <table><tr> <td>å¼€å…³ 2</td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> </tr> <tr> <td>å¼€å…³ 3</td> <td> </td> <td> </td> <td> </td> <td> </td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> <td> </td> <td> </td> <td> </td> <td> </td> <td>1</td> <td>1</td> <td>1</td> <td>1</td> </tr> <tr> <td>å¼€å…³ 4</td> <td> </td> <td> </td> <td>1</td> <td>1</td> <td> </td> <td> </td> <td>1</td> <td>1</td> <td> </td> <td> </td> <td>1</td> <td>1</td> <td> </td> <td> </td> <td>1</td> <td>1</td> </tr> <tr> <td>å¼€å…³ 5</td> <td> </td> <td>1</td> <td> </td> <td>1</td> <td> </td> <td>1</td> <td> </td> <td>1</td> <td> </td> <td>1</td> <td> </td> <td>1</td> <td> </td> <td>1</td> <td> </td> <td>1</td> </tr> <tr> <td>è¾“å‡ºç»“æžœ</td> <td><font color \"#4F84FF\">0</font></td> <td><font color \"#4F84FF\">1</font></td> <td><font color \"#4F84FF\">1</font></td> <td><font color \"#4F84FF\">0</font></td> <td><font color \"#4F84FF\">1</font></td> <td><font color \"#4F84FF\">0</font></td> <td><font color \"#4F84FF\">0</font></td> <td><font color \"#4F84FF\">1</font></td> <td><font color \"#4F84FF\">1</font></td> <td><font color \"#4F84FF\">0</font></td> <td><font color \"#4F84FF\">0</font></td> <td><font color \"#4F84FF\">1</font></td> <td><font color \"#4F84FF\">0</font></td> <td><font color \"#4F84FF\">1</font></td> <td><font color \"#4F84FF\">1</font></td> <td><font color \"#4F84FF\">0</font></td> </tr> </table> ä¸Šè¡¨ä¸­ï¼Œå¼€å…³é‚£ä¸€è¡Œä¸­çš„ç©ºç™½è¡¨ç¤ºå¼€å…³æ–­å¼€ï¼Œ`1` è¡¨ç¤ºå¼€å…³æ‹¨ä¸‹ã€‚ ### æ¿è½½ LED è¯´æ˜Ž æ ¹æ® LED ç”µè·¯ï¼Œå¯ä»¥çŸ¥é“å½“ FPGA å¼•è„šä¸ºä½Žç”µå¹³çš„æ—¶å€™å¯¹åº”è¿žæŽ¥çš„ LED ä¼šäº®èµ·æ¥ã€‚ æ¿è½½è‡ªå®šä¹‰ LED ç”µè·¯åŽŸç†å›¾ æ¿è½½è‡ªå®šä¹‰ LED ä¸Ž FPGA è¿žæŽ¥å¼•è„šå›¾ ![key_schematic](./assets/key_led_on/led_schematic.png) ![key_pin](./assets/key_led_on/led_pin.png) è¿™é‡Œé€‰æ‹© LED0 ä½œä¸ºç»“æžœå¼•è„šæ¥éªŒè¯ä»£ç çŽ°è±¡ã€‚ ## æ“ä½œ ### å¼•è„šå¤ç”¨ DONE ### ç«¯å£å’Œå¼•è„š Port Direction Location dip_switch[2] input E9 dip_switch[3] input E8 dip_switch[4] output T4 dip_switch[5] output T5 led[0] output C13 ### ä»£ç  .. tabset:: ## xor_led_on.v Verilogæ–‡ä»¶ï¼› å®šä¹‰äº† 4 ä¸ªæ‹¨ç å¼€å…³è¾“å…¥ç«¯å£ï¼Œå’Œ 1 ä¸ª LED è¾“å‡ºç«¯å£ã€‚æ ¹æ®æ‹¨ç å¼€å…³è¾“å…¥çš„çŠ¶æ€ï¼Œå¼‚æˆ–è¿ç®—åŽè¾“å‡ºåˆ°å¯¹åº”çš„ç«¯å£ã€‚ ```verilog module xor_led_on( input [5:2] dip_switch, output led ); assign led dip_switch[5] ^ dip_switch[4] ^dip_switch[3] ^ dip_switch[2] ; endmodule ``` ## xor_led_on.cst ç‰©ç†çº¦æŸæ–‡ä»¶ï¼› å°† verilog ä»£ç é‡Œçš„ç«¯å£ç»‘å®šåˆ° FPGA å¼•è„šä¸Šé¢ ```txt IO_LOC \"led\" C13; IO_LOC \"dip_switch[5]\" T5; IO_LOC \"dip_switch[4]\" T4; IO_LOC \"dip_switch[3]\" E8; IO_LOC \"dip_switch[2]\" E9; IO_PORT \"led\" PULL_MODE UP DRIVE 8; IO_PORT \"dip_switch[5]\" PULL_MODE DOWN; IO_PORT \"dip_switch[4]\" PULL_MODE DOWN; IO_PORT \"dip_switch[3]\" PULL_MODE DOWN; IO_PORT \"dip_switch[2]\" PULL_MODE DOWN; ``` ## æ•ˆæžœ å››ä¸ªæ‹¨ç å¼€å…³ 2ã€3ã€4ã€5 ä½æœ‰å¥‡æ•°ä¸ªå¼€å…³æ‹¨ä¸‹æ˜¯ï¼›LED0 ç†„ç­ï¼Œå¶æ•°ä¸ªå¼€å…³æ‹¨ä¸‹æ—¶ï¼ŒLED0 ç‚¹äº®ã€‚ ## è¡¥å……è¯´æ˜Ž åœ¨é«˜äº‘ IDE ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è‡ªå·±ä»£ç ç»¼åˆåŽæ‰€æ¶ˆè€—èŠ¯ç‰‡èµ„æºæ•°é‡ä»¥åŠå æ¯”ã€‚ ![used_resource](./assets/xor_led_on/used_resource.png) ä»Žè¿™é‡Œé¢å¯ä»¥çœ‹åˆ°è¿™æ¬¡ç¼–å†™çš„ä»£ç æ¶ˆè€—é‡ 1 ä¸ª LUTï¼Œ5 ä¸ª IOã€‚ å¯¹äºŽ CLS çš„è§£é‡Šå¯ä»¥æŸ¥çœ‹é«˜äº‘åŠå¯¼ä½“å®˜æ–¹æ–‡æ¡£ [UG288](http://cdn.gowinsemi.com.cn/UG288.pdf) ä¸­çš„ç¬¬äºŒç« ã€‚ Tang Primer 20K çš„ä¸»æŽ§èŠ¯ç‰‡ [GW2A LV18PG256C8/I7](http://www.gowinsemi.com.cn/prod_view.aspx?TypeId 10&amp;FId t3:10:3&amp;Id 167#GW2A) å†…éƒ¨åŸºæœ¬é€»è¾‘å•å…ƒä¸º LUT4ã€‚LUT å³ä¸ºæŸ¥æ‰¾è¡¨ï¼ˆLook Up Tableï¼‰ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª RAMã€‚å®ƒå°†æ•°æ®äº‹å…ˆå†™å…¥ RAM åŽï¼Œæ¯ä¸ªè¾“å…¥ä¿¡å·å°±ç›¸å½“äºŽç›®æ ‡å†…å®¹åœ°å€ï¼Œæ‰¾å‡ºåœ°å€å¯¹åº”çš„å†…å®¹ï¼Œç„¶åŽè¾“å‡ºã€‚LUT4 æŒ‡çš„æ˜¯ 4 ä¸ªè¾“å…¥ä¿¡å·çš„æŸ¥æ‰¾è¡¨ã€‚å…¶ç®€å•è§£é‡Šå›¾å¦‚ä¸‹ï¼š > è¿™é‡Œç”¨ä¸€ä¸ª4è¾“å…¥ä¸Žé—¨ä¸ºä¾‹ <table> <tr> <td><img src \"./assets/xor_led_on/lut_actual.jpeg\"></td> <td><img src \"./assets/xor_led_on/lut_actual.jpeg\"></td> </tr> </table> æœ¬åœ°ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ°å¥½ 4 ä¸ªè¾“å…¥å’Œ 1 ä¸ªè¾“å‡ºã€‚æ‰€ä»¥ä½¿ç”¨ 1 ä¸ª lut4 å°±å¤Ÿäº†ã€‚ ## ç›¸å…³é—®é¢˜ ### çƒ§å½•ä»£ç åŽæ‹¨åŠ¨æ‹¨ç å¼€å…³ LED çŠ¶æ€æ²¡æœ‰æ”¹å˜ è¿™æ˜¯å› ä¸ºæ‹¨ç å¼€å…³å¼•è„šä¸Šæ‹‰äº†ï¼Œè‡ªå·±å°†ç‰©ç†çº¦æŸæ–‡ä»¶ (.cst) æ–‡ä»¶é‡Œé¢çš„ `PULL_MODE UP` æ”¹æˆ `PULL_MODE DOWN` <p id \"back\"> <a href \"#\" onClick \"javascript:history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/tang-primer-20k/examples/timing_decode_led_on.html":{"title":"Tang Primer 20K è¯‘ç å™¨äº®ç¯","content":" title: Tang Primer 20K è¯‘ç å™¨äº®ç¯ keywords: Tang Primer 20K ,ä¾‹ç¨‹, ä¸Šæ‰‹ update: date: 2022 11 03 version: v0.1 author: wonder content: åˆç¨¿ ## è¯´æ˜Ž åœ¨å‰é¢çš„ [è¯‘ç å™¨äº®ç¯](./decode_led_on.html) ä¸­ï¼Œä½¿ç”¨ verilog è¯­å¥æ¥å†™å‡ºçœŸå€¼è¡¨è¾¾å¼æ¥è¾¾åˆ°è¯‘ç å™¨çš„ç›®çš„ã€‚è¿™é‡Œä»‹ç»ä½¿ç”¨ case è¯­å¥æ¥å®žçŽ°è¯‘ç å™¨åŠŸèƒ½ã€‚ åœ¨å‰é¢çš„ [è¯‘ç å™¨äº®ç¯](./decode_led_on.html) ä¸­ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„æœ€ç»ˆç»“æžœå¦‚ä¸‹ï¼š <table> <tr> <th colspan \"2\"> æŒ‰é”® </th> <th colspan \"4\">LED ç”µå¹³çŠ¶æ€</th> </tr> <tr> <td>S0</td> <td>S1</td> <td>LED0</td> <td>LED1</td> <td>LED2</td> <td>LED3</td> </tr> <tr> <td></td> <td></td> <td>0</td> <td></td> <td></td> <td></td> </tr> <tr> <td>0</td> <td></td> <td></td> <td>0</td> <td></td> <td></td> </tr> <tr> <td></td> <td>0</td> <td></td> <td></td> <td>0</td> <td></td> </tr> <tr> <td>0</td> <td>0</td> <td></td> <td></td> <td></td> <td>0</td> </tr> </table> ### case è¯­æ³• ## æ“ä½œ ### å¼•è„šå¤ç”¨ READY DONE SSPI ### ç«¯å£å’Œå¼•è„š Port Direction Location key[0] input T10 key[1] input T3 led[0] output C13 led[1] output A13 led[2] output N16 led[3] output N14 ### ä»£ç  .. tabset:: ## decode_led_on.v Verilogæ–‡ä»¶ï¼› å®šä¹‰äº†ä¸¤ä¸ªæŒ‰é”®è¾“å…¥ç«¯å£ï¼Œå’Œå››ä¸ªè¾“å‡ºç«¯å£ã€‚æ ¹æ®æŒ‰é”®è¾“å…¥çš„çŠ¶æ€ï¼Œè¯‘ç è¾“å‡ºåˆ°å¯¹åº”çš„ç«¯å£ã€‚ ```verilog module decode_led_on( input [1:0] key, output [3:0] led ); assign led[0] !( key[0] & key[1] ) ; assign led[1] !(!key[0] & key[1] ) ; assign led[2] !( key[0] &!key[1] ) ; assign led[3] ( key[0] key[1] ) ; endmodule ``` ## decode_led_on.cst ç‰©ç†çº¦æŸæ–‡ä»¶ï¼› å°† verilog ä»£ç é‡Œçš„ç«¯å£ç»‘å®šåˆ° FPGA å¼•è„šä¸Šé¢ ```txt IO_LOC \"led[3]\" N14; IO_LOC \"led[2]\" N16; IO_LOC \"led[1]\" A13; IO_LOC \"led[0]\" C13; IO_LOC \"key[1]\" T3; IO_LOC \"key[0]\" T10; IO_PORT \"led[3]\" PULL_MODE UP DRIVE 8; IO_PORT \"led[2]\" PULL_MODE UP DRIVE 8; IO_PORT \"led[1]\" PULL_MODE UP DRIVE 8; IO_PORT \"led[0]\" PULL_MODE UP DRIVE 8; IO_PORT \"key[1]\" PULL_MODE UP; IO_PORT \"key[0]\" PULL_MODE UP; ``` ## æ•ˆæžœ é»˜è®¤åªæœ‰ LED0 äº®ï¼›æŒ‰ä¸‹ S0 æŒ‰é”® LED1 äº®ï¼›æŒ‰ä¸‹ S1 æŒ‰é”® LED1 äº®ï¼›æŒ‰ä¸‹ S0 å’Œ S2 æŒ‰é”® LED3 äº®ï¼› <table> <tr> <th colspan \"2\" >æŒ‰é”®</th> <th colspan \"4\">LED çŠ¶æ€</th> </tr> <tr> <td>S0</td> <td>S1</td> <td>LED0</td> <td>LED1</td> <td>LED2</td> <td>LED3</td> </tr> <tr> <td></td> <td></td> <td>äº®</td> <td></td> <td></td> <td></td> </tr> <tr> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td>äº®</td> <td></td> <td></td> </tr> <tr> <td></td> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td>äº®</td> <td></td> </tr> <tr> <td>æŒ‰ä¸‹</td> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td></td> <td>äº®</td> </tr> </table> <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/tang-primer-20k/examples/key_6leds_on.html":{"title":"Tang Primer 20K Dock æŒ‰é”®ç‚¹å…­ä¸ªç¯","content":" title: Tang Primer 20K Dock æŒ‰é”®ç‚¹å…­ä¸ªç¯ tags: Tang Primer 20K Dockï¼Œä¸Šæ‰‹ keywords: Primer, Tang, Dockï¼Œ å…¥é—¨ï¼Œ20K desc: Tang Primer 20K Dock åŸºç¡€è¿›é˜¶ update: date: 2022 11 27 version: v0.1 author: wonder content: åˆç¨¿ å‰é¢å·²ç»å®ŒæˆæŒ‰é”®äº®ä¸¤ä¸ªç¯æ“ä½œäº†ï¼Œæ¿å­ä¸Šè¿˜å‰©ä¸‹äº”ä¸ª LED å¯è‡ªå®šä¹‰æ“ä½œï¼Œè¿™æ¬¡å¯ä»¥ä½¿ç”¨ä½æ‹¼æŽ¥è¿ç®—ç¬¦ `{` `}` æ¥ä¸€èµ·æŽ§åˆ¶å…­ä¸ª LEDã€‚ ## ä½æ‹¼æŽ¥è¿ç®—ç¬¦ ### ä¾‹å­â‘  è¯­æ³•ï¼š `assign c[5:0] {{3{1'b1}},{3{1'b0}}};` ç­‰æ•ˆäºŽ `assign c[5:0] 6'b111000 ;` ### ä¾‹å­â‘¡ è¯­æ³•ï¼š ```verilog wire [2:0] a 3'b111; wire [2:0] b 3'b000; wire [5:0] c {a,b} ; ``` ç­‰æ•ˆäºŽ `assign c[5:0] 6'b111000 ;` ## ç¡¬ä»¶ç”µè·¯è¯´æ˜Ž ä»Ž [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Primer_20K/02_Schematic) ä¸­ï¼Œå¯ä»¥çŸ¥é“ä»¥ä¸‹ä¿¡æ¯ï¼š ### æŒ‰é”®ç”µè·¯ï¼š æ ¹æ® DOCK åº•æ¿åŽŸç†å›¾ï¼Œå¯ä»¥çœ‹å‡ºå½“æ¿è½½æŒ‰é”®æŒ‰ä¸‹æ—¶ï¼Œå¯¹åº”çš„ FPGA å¼•è„šä¼šä¸ºä½Žç”µå¹³è¾“å…¥ã€‚ æ¿è½½æŒ‰é”®ç”µè·¯åŽŸç†å›¾ æ¿è½½æŒ‰é”®ä¸Ž FPGA è¿žæŽ¥å¼•è„šå›¾ ![key_schematic](./assets/key_led_on/key_schematic.png) ![key_pin](./assets/key_led_on/key_pin.png) ### LED ç”µè·¯: æ ¹æ® LED ç”µè·¯ï¼Œå¯ä»¥çŸ¥é“å½“ FPGA å¼•è„šä¸ºä½Žç”µå¹³çš„æ—¶å€™å¯¹åº”è¿žæŽ¥çš„ LED ä¼šäº®èµ·æ¥ã€‚ æ¿è½½è‡ªå®šä¹‰ LED ç”µè·¯åŽŸç†å›¾ æ¿è½½è‡ªå®šä¹‰ LED ä¸Ž FPGA è¿žæŽ¥å¼•è„šå›¾ ![key_schematic](./assets/key_led_on/led_schematic.png) ![key_pin](./assets/key_led_on/led_pin.png) æ‰€ä»¥ç›´æŽ¥å°†æŒ‰é”®å¼•è„šçš„é€»è¾‘ç”µå¹³è¾“å‡ºä¸º LED çš„å¼•è„šé€»è¾‘ç”µå¹³å°±å¯ä»¥ç‚¹äº® LED ç¯ã€‚ ## æ“ä½œ ### å¼•è„šå¤ç”¨ READY DONE SSPI ### ç«¯å£å’Œå¼•è„š Port Direction Location key input T10 led[5] output L16 led[4] output L14 led[3] output N14 led[2] output N16 led[1] output A13 led[0] output C13 ### ä»£ç  .. tabset:: ## key_6leds_on.v Verilogæ–‡ä»¶ï¼› å®šä¹‰äº†ä¸€ä¸ªæŒ‰é”®è¾“å…¥ç«¯å£ï¼Œå’Œå…­ä¸ªè¾“å‡ºç«¯å£ã€‚å…­ä¸ªè¾“å‡ºç«¯å£çš„ IO ç”µå¹³çŠ¶æ€ç”±è¾“å…¥ç«¯å£å†³å®šã€‚ ```verilog module key_6leds_on( input key, output [5:0] led ); assign led[5:0] {{3{key}},{3{~key}}}; // led[5:0] {key,key,key,~key,~key,~key}; endmodule ``` ## key_6leds_on.cst ç‰©ç†çº¦æŸæ–‡ä»¶ï¼› å°† verilog ä»£ç é‡Œçš„ç«¯å£ç»‘å®šåˆ° FPGA å¼•è„šä¸Šé¢ ```txt IO_LOC \"led[5]\" L16; IO_PORT \"led[5]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[4]\" L14; IO_PORT \"led[4]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[3]\" N14; IO_PORT \"led[3]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[2]\" N16; IO_PORT \"led[2]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[1]\" A13; IO_PORT \"led[1]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[0]\" C13; IO_PORT \"led[0]\" PULL_MODE UP DRIVE 8; IO_LOC \"key\" T10; IO_PORT \"key\" PULL_MODE UP; ``` ## æ•ˆæžœ æ¾å¼€ S0 æŒ‰é”®ï¼ŒLED0ã€LED1 å’Œ LED2 äº®ï¼ŒLED3ã€LED4 å’Œ LED5 ç­ã€‚ æŒ‰ä¸‹ S0 æŒ‰é”®ï¼ŒLED3ã€LED4 å’Œ LED5 äº®ï¼ŒLED0ã€LED1 å’Œ LED2 ç­ã€‚ <! æ¾å¼€ S0 æŒ‰é”®æŒ‰ä¸‹ S0 æŒ‰é”® <img src \"./assets/key_led_on/led_off.png\" alt \"led_off\"><img src \"./assets/key_led_on/led_on.png\" alt \"led_on\"> > <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/tang-primer-20k/examples/lcd.html":{"title":"","content":"# æ–½å·¥ä¸­"},"/hardware/zh/tang/tang-primer-20k/examples/decode_led_on.html":{"title":"Tang Primer 20K è¯‘ç å™¨äº®ç¯","content":" title: Tang Primer 20K è¯‘ç å™¨äº®ç¯ keywords: Tang Primer 20K ,ä¾‹ç¨‹, ä¸Šæ‰‹ update: date: 2022 09 30 version: v0.1 author: wonder content: åˆç¨¿ ## è¯´æ˜Ž æœ¬ä¾‹ç¨‹ä½¿ç”¨ Dock åº•æ¿ä¸Šçš„ S0ã€S1 æŒ‰é”®ï¼Œå’Œ LED0ã€LED1ã€LED2ã€LED3 å››ä¸ª LED ç¯ã€‚ ä½¿ç”¨ä¸¤ä¸ªæŒ‰é”®æ¥æŽ§åˆ¶ 4 ä¸ªLEDç¯çš„çŠ¶æ€ï¼Œè¿›è¡Œçš„æ“ä½œä¸Žå¯¹åº”çš„ç»“æžœå¦‚ä¸‹ï¼š <table> <tr> <th colspan \"2\" >æŒ‰é”®</th> <th colspan \"4\">LED çŠ¶æ€</th> <th >çœŸå€¼è¡¨è¾¾å¼</th> </tr> <tr> <td>S0</td> <td>S1</td> <td>LED0</td> <td>LED1</td> <td>LED2</td> <td>LED3</td> <td></td> </tr> <tr> <td></td> <td></td> <td>äº®</td> <td></td> <td></td> <td></td> <td>$$ LED0 S0\\cdot S1 $$</td> </tr> <tr> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td>äº®</td> <td></td> <td></td> <td>$$ LED1 \\overline{S0}\\cdot S1 $$</td> </tr> <tr> <td></td> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td>äº®</td> <td></td> <td>$$ LED2 S0\\cdot \\overline{S1} $$</td> </tr> <tr> <td>æŒ‰ä¸‹</td> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td></td> <td>äº®</td> <td>$$ LED3 \\overline{S0}\\cdot \\overline{S1} $$</td> </tr> </table> ä»Žå‰é¢çš„ [æŒ‰é”®äº®ç¯](./examples/key_led_on.html) å·²çŸ¥ï¼šå½“ FPGA ä¸Ž LED æ‰€è¿žæŽ¥çš„å¼•è„šä¸ºä½Žç”µå¹³æ—¶ï¼Œå¯¹åº”çš„ LED ç¯ä¼šäº®ï¼›æŒ‰ä¸‹æŒ‰é”®ï¼Œå¯¹åº”çš„ FPGA å¼•è„šä¸ºä½Žç”µå¹³çŠ¶æ€ã€‚ ä¸Šé¢é‚£ä¸ªè¡¨æ ¼çš„è¾“å‡ºæ˜¯ä»¥ 1 ä¸ºç»“æžœï¼Œä¸ºäº†æ ¹æ®åŽŸç†å›¾æ¥ç‚¹ç¯ï¼Œéœ€è¦å°†ä¸Šé¢çš„çœŸå€¼è¡¨ç»“æžœå–åæ¥å®žçŽ°æœ€ç»ˆçš„æ•ˆæžœï¼š <table> <tr> <th colspan \"2\"> æŒ‰é”® </th> <th colspan \"4\">LED ç”µå¹³çŠ¶æ€</th> <th > çœŸå€¼è¡¨è¾¾å¼ </th> </tr> <tr> <td>S0</td> <td>S1</td> <td>LED0</td> <td>LED1</td> <td>LED2</td> <td>LED3</td> <td></td> </tr> <tr> <td></td> <td></td> <td>0</td> <td></td> <td></td> <td></td> <td>$$ LED0 \\overline{S0\\cdot S1} $$</td> <! <td> LED1 ! ( S0 & S1 ) </td> > </tr> <tr> <td>0</td> <td></td> <td></td> <td>0</td> <td></td> <td></td> <td>$$ LED1 \\overline{\\overline{S0}\\cdot S1} $$</td> <! <td> LED1 ! (!S0 & S1 ) </td> > </tr> <tr> <td></td> <td>0</td> <td></td> <td></td> <td>0</td> <td></td> <td>$$ LED2 \\overline{S0\\cdot \\overline{S1}} $$</td> <! <td> LED2 ! ( S0 & !S1) </td> > </tr> <tr> <td>0</td> <td>0</td> <td></td> <td></td> <td></td> <td>0</td> <td>$$ LED3 \\overline{\\overline{S0}\\cdot \\overline{S1}} S0 S1 $$</td> <! <td> LED3 ( S0 S1 ) </td> > </tr> </table> ## æ“ä½œ ### å¼•è„šå¤ç”¨ READY DONE SSPI ### ç«¯å£å’Œå¼•è„š Port Direction Location key[0] input T10 key[1] input T3 led[0] output C13 led[1] output A13 led[2] output N16 led[3] output N14 ### ä»£ç  .. tabset:: ## decode_led_on.v Verilogæ–‡ä»¶ï¼› å®šä¹‰äº†ä¸¤ä¸ªæŒ‰é”®è¾“å…¥ç«¯å£ï¼Œå’Œå››ä¸ªè¾“å‡ºç«¯å£ã€‚æ ¹æ®æŒ‰é”®è¾“å…¥çš„çŠ¶æ€ï¼Œè¯‘ç è¾“å‡ºåˆ°å¯¹åº”çš„ç«¯å£ã€‚ ```verilog module decode_led_on( input [1:0] key, output [3:0] led ); assign led[0] !( key[0] & key[1] ) ; assign led[1] !(!key[0] & key[1] ) ; assign led[2] !( key[0] &!key[1] ) ; assign led[3] ( key[0] key[1] ) ; endmodule ``` ## decode_led_on.cst ç‰©ç†çº¦æŸæ–‡ä»¶ï¼› å°† verilog ä»£ç é‡Œçš„ç«¯å£ç»‘å®šåˆ° FPGA å¼•è„šä¸Šé¢ ```txt IO_LOC \"led[3]\" N14; IO_LOC \"led[2]\" N16; IO_LOC \"led[1]\" A13; IO_LOC \"led[0]\" C13; IO_LOC \"key[1]\" T3; IO_LOC \"key[0]\" T10; IO_PORT \"led[3]\" PULL_MODE UP DRIVE 8; IO_PORT \"led[2]\" PULL_MODE UP DRIVE 8; IO_PORT \"led[1]\" PULL_MODE UP DRIVE 8; IO_PORT \"led[0]\" PULL_MODE UP DRIVE 8; IO_PORT \"key[1]\" PULL_MODE UP; IO_PORT \"key[0]\" PULL_MODE UP; ``` ## æ•ˆæžœ é»˜è®¤åªæœ‰ LED0 äº®ï¼›æŒ‰ä¸‹ S0 æŒ‰é”® LED1 äº®ï¼›æŒ‰ä¸‹ S1 æŒ‰é”® LED1 äº®ï¼›æŒ‰ä¸‹ S0 å’Œ S2 æŒ‰é”® LED3 äº®ï¼› <table> <tr> <th colspan \"2\" >æŒ‰é”®</th> <th colspan \"4\">LED çŠ¶æ€</th> </tr> <tr> <td>S0</td> <td>S1</td> <td>LED0</td> <td>LED1</td> <td>LED2</td> <td>LED3</td> </tr> <tr> <td></td> <td></td> <td>äº®</td> <td></td> <td></td> <td></td> </tr> <tr> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td>äº®</td> <td></td> <td></td> </tr> <tr> <td></td> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td>äº®</td> <td></td> </tr> <tr> <td>æŒ‰ä¸‹</td> <td>æŒ‰ä¸‹</td> <td></td> <td></td> <td></td> <td>äº®</td> </tr> </table> <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/tang-primer-20k/examples/gao.html":{"title":"Tang Primer 20K Dock ç‚¹ä¸€ä¸ªç¯ä»¿çœŸ","content":" title: Tang Primer 20K Dock ç‚¹ä¸€ä¸ªç¯ä»¿çœŸ tags: Tang Primer 20K Dockï¼Œä¸Šæ‰‹ keywords: Primer, Tang, Dockï¼Œå…¥é—¨ï¼Œ20K, GAO desc: ä½¿ç”¨ GAO update: date: 2022 09 22 version: v0.1 author: wonder content: åˆç¨¿ "},"/hardware/zh/tang/tang-primer-20k/examples/assign_led.html":{"title":"Tang Primer 20K Dock äº®ä¸€ä¸ªç¯","content":" title: Tang Primer 20K Dock äº®ä¸€ä¸ªç¯ tags: Tang Primer 20K Dockï¼Œä¸Šæ‰‹ keywords: Primer, Tang, Dockï¼Œ å…¥é—¨ï¼Œ20K desc: Tang Primer 20K Dock ç®€å•ä¸Šæ‰‹ update: date: 2022 09 29 version: v0.1 author: wonder content: åˆç¨¿ ## å®‰è£… IDE å‚è€ƒ [å®‰è£…IDE](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/install the ide.html) æ¥å®Œæˆæˆ‘ä»¬éœ€è¦å‡†å¤‡çš„è½¯ä»¶çŽ¯å¢ƒã€‚ Windows ç”¨æˆ·å»ºè®®é¢å¤–ä¸‹è½½ä¸€æ¬¡é«˜äº‘æ•™è‚²ç‰ˆçš„ç¼–ç¨‹å™¨è½¯ä»¶ï¼Œè¿™æ ·å¯ä»¥é¿å…çƒ§å½•æ—¶å› ä¸º Programmer è½¯ä»¶ç‰ˆæœ¬ä¸å…¼å®¹ BL702 ä¸‹è½½å™¨è€Œå¯¼è‡´çš„å¥‡æ€ªé—®é¢˜ã€‚ å¯¹äºŽ Linux ç”¨æˆ·çš„è¯å»ºè®®ä½¿ç”¨ [openfpgaLoader](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/flash_in_linux.html) è¿™è½¯ä»¶æ¥çƒ§å½•è¿™æ¬¾æ¿å­ã€‚ ## æ–°å»ºå·¥ç¨‹ æ–‡ä»¶ > æ–°å»º > FPGA Design > Project <div> <img src \"./assets/led_assets/new_project.png\" width 58% alt \"new_project\"> <img src \"./assets/led_assets/fpga_project.png\" width 35% alt \"fpga_project\"> </div> è®¾ç½®å·¥ç¨‹åç§°ï¼Œè¦æ±‚åªç”¨è‹±æ–‡çš„ä¸‹åˆ’çº¿å‘½åï¼Œå­˜æ”¾è·¯å¾„ä¸­ä¸è¦æœ‰ä¸­æ–‡å­—ç¬¦æˆ–è€…ç©ºæ ¼ç­‰ã€‚ ![project_path](./assets/assign_led_assets/assign_led_on.png) ç„¶åŽåœ¨ä¸‹é¢çš„èŠ¯ç‰‡åž‹å·ä¸­é€‰æ‹© GW2A LV18PG256C8/I7ï¼Œä½¿ç”¨ä¸Šé¢çš„ç­›é€‰èƒ½å¤Ÿæ›´å¿«åœ°é€‰æ‹©åˆ°æ­£ç¡®çš„åž‹å·ã€‚æ³¨æ„ Device é‚£ä¸€æ ä¸º GW2A 18C ![device_choose](./assets/led_assets/device_choose.png) ç„¶åŽç‚¹å‡»ç¡®å®šåŽå°±å¯ä»¥è¿›è¡Œæœ€ç»ˆé¡¹ç›®é¢„è§ˆäº†ã€‚ç¡®è®¤æ— è¯¯åŽå°±å®Œæˆå·¥ç¨‹åˆ›å»ºäº†ã€‚ ## ç¼–å†™ä»£ç  ### æ–°å»ºæ–‡ä»¶ é«˜äº‘åŠå¯¼ä½“ IDE æä¾›äº†ä¸‰ç§æ–°å»ºæ–‡ä»¶çš„æ–¹æ³•ã€‚åœ¨æ­¤æˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨å¿«æ·é”® `Ctrl + N` æ¥æ–°å»ºæ–‡ä»¶ï¼Œå…¶ä»–ä¸¤ç§ä¸åœ¨æ­¤è®²è¿°ã€‚ åœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹© `Verilog File`ï¼Œä¼š VHDL çš„ä¹Ÿå¯ä»¥é€‰æ‹©ä¸‹é¢çš„ `VHDL File`ï¼Œè¿™ç¯‡æ–‡ç« åªç”¨ Verilog æ¥åšç‚¹ç¯ç¤ºä¾‹ã€‚ <img src \"./assets/led_assets/new_verilog_file.png\" width 50% alt \"new_verilog_file\"> ç‚¹å‡» OK ä¹‹åŽä¼šæç¤ºè®©æˆ‘ä»¬è¾“å…¥æ–‡ä»¶åç§°ï¼Œæ­¤å¤„ä»¥ `led` ä¸ºæ–‡ä»¶ååšç¤ºèŒƒã€‚ <img src \"./assets/led_assets/file_name.png\" width 75% alt \"file_name\"> åˆ°è¿™é‡Œæˆ‘ä»¬å°±å®Œæˆæ–‡ä»¶çš„åˆ›å»ºäº†ï¼Œå¯ä»¥ç›´æŽ¥ç¼–å†™ä»£ç äº†ã€‚ ![created_file](./assets/led_assets/created_file.png) ### Verilog ç®€å•è¯´æ˜Ž Verilog æ˜¯ä¸€ç§ç¡¬ä»¶æè¿°è¯­è¨€ï¼Œç”¨æ¥å¯¹æ•°å­—ç”µè·¯è¿›è¡ŒæŠ½è±¡åŒ–æè¿°ã€‚ Verilog çš„åŸºæœ¬è®¾è®¡å•å…ƒæ˜¯â€œæ¨¡å—â€(module)ã€‚ ä¸€ä¸ªæ¨¡å—æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ï¼šä¸€éƒ¨åˆ†æè¿°æŽ¥å£ï¼Œå¦ä¸€éƒ¨åˆ†æè¿°å†…éƒ¨é€»è¾‘åŠŸèƒ½ï¼Œå³å®šä¹‰è¾“å…¥æ˜¯å¦‚ä½•å½±å“è¾“å‡ºçš„ã€‚ ä¸€ä¸ªæ¨¡å—é•¿æˆè¿™æ ·ï¼š ```v module module_name #(parameter) (port) ; function endmodule ``` æ¨¡å—æ•´ä½“ç»“æž„ç”± module å’Œ endmodule ç»„æˆï¼Œmodule åŽé¢è·Ÿç€çš„æ˜¯æ¨¡å—çš„åç§°(module_name)ï¼Œå¯ä¼ é€’å˜é‡å‚æ•°(parameter)ï¼Œç«¯å£åŠå…¶æ–¹å‘çš„ç”³æ˜Ž(port)ï¼Œç´§æŽ¥ç€å°±æ˜¯å†…éƒ¨é€»è¾‘åŠŸèƒ½æè¿°(function) ,æœ€åŽç”¨ endmodule æ¥è¡¨ç¤ºè¿™ä¸€ä¸ªæ¨¡å—ï¼Œæè¿°å®Œæ¯•ã€‚ å†…éƒ¨é€»è¾‘åŠŸèƒ½é€šå¸¸ç”± assign å’Œ always å—å®Œæˆï¼›å…¶ä¸­ assign è¯­å¥æè¿°é€»è¾‘åŠŸèƒ½ï¼Œalways å—å¸¸ç”¨äºŽæè¿°æ—¶åºåŠŸèƒ½ã€‚ ### ä»£ç æ€è·¯ æ ¹æ®æˆ‘ä»¬çš„ Dock åº•æ¿ [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Primer_20K/02_Schematic)ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å°† IO æŽ§åˆ¶ä¸ºåº•çš„æ—¶å€™ï¼ŒLED ä¼šäº®èµ·æ¥ã€‚ ![led_schematic](./assets/assign_led_assets/led_schematic.png) çŸ¥é“æ€Žä¹ˆæ ·èƒ½è®©ç¯äº®èµ·æ¥åŽï¼Œå°±å¿«ç‚¹ç¼–å†™ä»£ç å§ ### ä»£ç æè¿° ```v module assign_led_on( output led_voltage_level ); assign led_voltage_level 1'b0 ; endmodule ``` ä¸Šé¢çš„ä»£ç ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º assign_led_on å¾—æ¨¡å—ï¼Œä¸€ä¸ªåä¸º led_voltage_level çš„è¾“å‡ºç«¯å£ã€‚ `assign` è¯­å¥çº¦æŸäº† led_voltage_level çš„å€¼ï¼Œä½¿å…¶å€¼ä¿æŒä¸º 0ã€‚åŽé¢å†å°†è¿™ä¸ªç«¯å£ç»‘å®šåˆ° FPGA èŠ¯ç‰‡çš„å¼•è„šä¸ŠåŽï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªç”µå¹³çŠ¶æ€ä¸ºä½Žç”µå¹³çš„å¼•è„šï¼Œå€Ÿæ­¤æ¥ä½¿ LED äº®èµ·æ¥ã€‚ ## ç»¼åˆã€çº¦æŸã€å¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ ä»£ç ä¿å­˜åŽï¼Œå¯ä»¥åŒå‡» IDE å†…éƒ¨çš„ Process > Synthesize æ¥è¿›è¡Œä»£ç ç»¼åˆï¼Œå°† verilog ä»£ç å†…å®¹è½¬æ¢ä¸ºç»¼åˆç½‘è¡¨ã€‚ ![synthesize](./assets/assign_led_assets/synthesize.png) å…³äºŽç½‘è¡¨æœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±åŽ»æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œæ­¤å¤„ä¸å†é¢å¤–è¯´æ˜Žã€‚ ### çº¦æŸ ç»¼åˆå®Œä¹‹åŽæˆ‘ä»¬éœ€è¦è¿›è¡Œç®¡è„šçº¦æŸï¼Œæ‰èƒ½å°†æ‰€ç¼–å†™çš„æ¨¡å—ç«¯å£ä¸Ž FPGA å¼•è„šç›¸å¯¹åº”ï¼Œå¹¶ä¸”å®žçŽ°æ¨¡å—çš„åŠŸèƒ½ã€‚ ç‚¹å‡»ä¸Šå›¾ Synthesize ä¸Šé¢çš„ FloorPlanner æ¥è¿›è¡Œç®¡è„šçº¦æŸã€‚ ![floorplanner](./assets/led_assets/floorplanner.png) ç”±äºŽæ˜¯é¦–æ¬¡åˆ›å»ºï¼Œæ‰€ä»¥ä¼šå¼¹å‡ºä¸‹é¢çš„å¯¹è¯æ¡†ï¼Œç‚¹å‡» OK åŽå°±å¼¹å‡ºäº†å›¾å½¢åŒ–çº¦æŸäº¤äº’ç•Œé¢ã€‚ ![create_constrain_file](./assets/led_assets/create_constrain_file.png) ![floorplanner_intreface](./assets/led_assets/floorplanner_interface.png) å…³äºŽçº¦æŸçš„æ–¹æ³•å¯ä»¥æŸ¥çœ‹ [SUG935 1.3_Gowinè®¾è®¡ç‰©ç†çº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG935 1.3_Gowin%E8%AE%BE%E8%AE%A1%E7%89%A9%E7%90%86%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) æ­¤å¤„å› ä¸ªäººå–œæ‰€ä»¥ä»…ä½¿ç”¨ä¸‹å›¾ä¸­ IO Constranins æ–¹æ³•æ¥çº¦æŸå¼•è„šï¼š ![floor_planner_ioconstrain](./assets/assign_led_assets/floor_planner_ioconstrain.png) æ ¹æ®ä¸‹é¢ Dock åº•æ¿åŽŸç†å›¾ï¼Œå†³å®šç‚¹äº® LED4ï¼Œå¯¹åº”åœ¨ FPGA ä¸Šçš„å¼•è„šä¸º L14ã€‚ ![led_port](./assets/assign_led_assets/led_port.png) å› æ­¤å¯¹äºŽåœ¨ FloorPlanner äº¤äº’çª—å£ä¸‹é¢çš„ IO Constranins ä¸­å°† PORTï¼ˆç«¯å£ï¼‰ä¸Ž Locationï¼ˆå¼•è„šï¼‰ åˆ†åˆ«å¡«å…¥ä¸‹é¢çš„å€¼ï¼š ![io_constrain_value](./assets/assign_led_assets/io_constrain_value.png) è¾“å…¥å®Œæ¯•åŽå¿«æ·é”® Ctrl + S æ¥ä¿å­˜ä¸€ä¸‹å¼•è„šçº¦æŸï¼Œç„¶åŽæŽ¥å¯ä»¥å…³é—­ FloorPlanner çš„äº¤äº’å›¾å½¢ç•Œé¢äº†ã€‚ æŽ¥ç€å‘çŽ°åœ¨å·¥ç¨‹é¡¹ç›®é‡Œé¢å¤šå‡ºæ¥åˆšåˆšåˆ›å»ºçš„ cst æ–‡ä»¶äº†ï¼Œé‡Œé¢çš„å†…å®¹ä¹Ÿæ¯”è¾ƒå¥½ç†è§£ã€‚ ![cst_content](./assets/assign_led_assets/cst_content.png) ### å¸ƒå±€å¸ƒçº¿ å®Œæˆçº¦æŸåŽå°±è¦å¼€å§‹è¿è¡Œå¸ƒå±€å¸ƒçº¿äº†ï¼Œç›®çš„æ˜¯ä¸ºäº†æŠŠç»¼åˆæ‰€ç”Ÿæˆçš„ç½‘è¡¨ä¸Žæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„çº¦æŸæ¥é€šè¿‡ IDE ç®—å‡ºæœ€ä¼˜è§£ç„¶åŽå°†èµ„æºåˆç†åœ°åˆ†é…åœ¨ FPGA èŠ¯ç‰‡ä¸Šã€‚ åŒå‡»ä¸‹å›¾çº¢æ¡†å¤„çš„ Place&Route å°±å¼€å§‹è¿è¡Œäº†ã€‚ ![place_route](./assets/assign_led_assets/place_route.png) ç´§æŽ¥ç€æ²¡æœ‰æŠ¥é”™ï¼Œå…¨éƒ¨é€šè¿‡ã€‚å°±å¯ä»¥å¼€å§‹è¿›è¡Œçƒ§å½•äº†ã€‚ ## çƒ§å½•å›ºä»¶ Dock æ¿è½½äº†ä¸‹è½½å™¨ï¼Œåœ¨ [å®‰è£…IDE](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/install the ide.html) çš„æ—¶å€™æˆ‘ä»¬å·²ç»å®‰è£…äº†é©±åŠ¨ã€‚å› æ­¤æˆ‘ä»¬å°†æ¿å­ä¸Žç”µè„‘è¿žæŽ¥èµ·æ¥å°±è¡Œã€‚ ![connected](./assets/led_assets/connected.png) å¯¹äºŽ Programmer è½¯ä»¶å»ºè®®ä½¿ç”¨é«˜äº‘å®˜ç½‘ä¸‹è½½åˆ° [ç‚¹æˆ‘è·³è½¬](http://www.gowinsemi.com.cn/faq.aspx) ï¼Œä¸‹è½½ä¸‹å›¾æ‰€ç¤ºçš„é«˜äº‘äº‘æºç¼–ç¨‹å™¨è½¯ä»¶å³å¯ã€‚ ![educational_edition_programmer](./assets/led_assets/educational_edition_programmer.png) ### æ‰«æè®¾å¤‡ åœ¨ä½¿ç”¨ Dock åº•æ¿çš„æ—¶å€™ä¸è¦å¿˜è®°ä½¿èƒ½æ ¸å¿ƒæ¿ï¼ŒæŒ‰ä¸‹ 1 å·æ‹¨ç å¼€å…³å³å¯ã€‚ ![Enable_core_board](./../assets/start/switch_1_on.png) åŒå‡»ä¸‹å›¾ä¸­çš„ä¸‹è½½ç¨‹åº(Program Device) æ¥è¿è¡Œ Programmer è½¯ä»¶ ![open_programmer](./assets/led_assets/open_programmer.png) ç„¶åŽåœ¨æ‰“å¼€çš„é¡µé¢ä¸­ç‚¹å‡»ä¸€ä¸‹ scan_device æ¥æ‰«æåˆ°æˆ‘ä»¬çš„è®¾å¤‡ã€‚ ![scan_device](./assets/led_assets/scan_device.png) ç‚¹å‡» OK åŽå°±å¯ä»¥è¿›è¡Œçƒ§å½•æ“ä½œäº†ã€‚ çƒ§å½•ç›¸å…³çš„æ–‡æ¡£å¯ä»¥å‚è€ƒ [SUG502 1.3_Gowin_Programmerç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG502 1.3_Gowin_Programmer%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) æœ‰é—®é¢˜çš„è¯å¯ä»¥å‰å¾€ [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) è‡ªè¡ŒæŽ’æŸ¥ã€‚ ### ä¸‹è½½åˆ° SRAM ä¸€èˆ¬æ¥è¯´è¿™ä¸ªæ¨¡å¼æ˜¯ä»¥ç”¨æ¥å¿«é€ŸéªŒè¯æ‰€ç”Ÿæˆçš„å›ºä»¶æ˜¯å¦æ»¡è¶³è‡ªå·±ç›®çš„çš„ã€‚ å› ä¸ºå…¶çƒ§å½•å¿«çš„ç‰¹æ€§æ‰€ä»¥ä½¿ç”¨çš„è¾ƒå¤šï¼Œç„¶æ˜¯å½“ç„¶æ–­ç”µä¼šä¸¢å¤±æ•°æ®ï¼Œæ‰€ä»¥å¦‚æžœæƒ³ä¸Šç”µè¿è¡Œç¨‹åºçš„è¯æ˜¯ä¸èƒ½é€‰è¿™ä¸ªçš„ã€‚ ç‚¹å‡» Operation ä¸‹é¢çš„åŠŸèƒ½æ¡†æ¥æ‰“å¼€è®¾å¤‡è®¾ç½®ç•Œé¢ï¼ŒæŽ¥ç€åœ¨ Operation æ¡†ä¸­é€‰æ‹© SRAM Program é€‰é¡¹æ¥è®¾ç½®ä¸ºä¸‹è½½åˆ° SRAM ï¼Œæœ€åŽç‚¹å‡»ä¸‹é¢çš„é‚£ä¸‰ä¸ªç‚¹ç‚¹æ¡†æ¥é€‰æ‹©æˆ‘ä»¬æ‰€ç”Ÿæˆçš„ .fs ä¸‹è½½å›ºä»¶ã€‚é€šå¸¸æ¥è¯´ä¸‹è½½å›ºä»¶ç”Ÿæˆä¸Žå·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹çš„ impl > pnr ç›®å½•ä¸‹ã€‚ ![sram_mode](./assets/led_assets/sram_mode.png) æŽ¥ç€æ¥ç‚¹å‡»çº¢æ¡†å¤„å¼€å§‹è¿›è¡Œçƒ§å½• ![sram_download](./assets/led_assets/sram_download.png) æœ‰é—®é¢˜çš„è¯å¯ä»¥å‰å¾€ [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) è‡ªè¡ŒæŽ’æŸ¥ã€‚ åˆ°è¿™é‡Œå°±ä¸‹è½½å®Œæˆäº†ã€‚ ### ä¸‹è½½åˆ° Flash ä¸Šé¢è¯´è¿‡ä¸‹è½½åˆ° SRAM æ˜¯ä¸ºäº†å¿«é€ŸéªŒè¯ï¼Œä½†æ˜¯ä¸èƒ½ä¸Šç”µè¿è¡Œç¨‹åºã€‚ æ‰€ä»¥æƒ³è¦ä¸Šç”µè¿è¡Œçš„è¯æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸‹è½½åˆ° Flashã€‚ å’Œä¸Šé¢ä¸‹è½½åˆ° SRAM çš„æ­¥éª¤å‡ ä¹Žç±»ä¼¼ï¼Œå…ˆç‚¹å¼€ Operation ä¸‹é¢çš„åŠŸèƒ½æ¡†æ¥æ‰“å¼€è®¾å¤‡è®¾ç½®ç•Œé¢ï¼ŒæŽ¥ç€åœ¨ Operation æ¡†ä¸­é€‰æ‹© External Flash Mode é€‰é¡¹æ¥è®¾ç½®ä¸ºä¸‹è½½åˆ°å¤–éƒ¨ Flash ï¼Œæœ€åŽç‚¹å‡»ä¸‹é¢çš„é‚£ä¸‰ä¸ªç‚¹ç‚¹æ¡†æ¥é€‰æ‹©æˆ‘ä»¬æ‰€ç”Ÿæˆçš„ .fs ä¸‹è½½å›ºä»¶ï¼Œé€šå¸¸æ¥è¯´ä¸‹è½½å›ºä»¶ç”Ÿæˆä¸Žå·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹çš„ impl > pnr ç›®å½•ä¸‹ã€‚æœ€åŽåœ¨ä¸‹é¢çš„å¤–éƒ¨ Flash é€‰é¡¹ä¸­é€‰æ‹©è®¾å¤‡ä¸º Generic Flash ã€‚ ![flash_mode](./assets/led_assets/flash_mode.png) æŽ¥ç€æ¥ç‚¹å‡»çº¢æ¡†å¤„å¼€å§‹è¿›è¡Œçƒ§å½• ![flash_download](./assets/led_assets/flash_download.png) ç„¶åŽæˆ‘ä»¬çš„ç¨‹åºé‡æ–°ä¸Šç”µä¹Ÿèƒ½ç…§æ ·è¿è¡Œäº†ã€‚ æœ‰é—®é¢˜çš„è¯å¯ä»¥å‰å¾€ [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) è‡ªè¡ŒæŽ’æŸ¥ã€‚ ## ä»£ç ç»“æžœ å¦‚å›¾æ‰€ç¤ºï¼Œåªæœ‰ LED4 äº®ç€ã€‚ ![led_blink](./assets/assign_led_assets/led4_on.png) ## ç»“è¯­ åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»å®Œæˆäº† FPGA çš„ â€œHello worldâ€ äº†ã€‚ä»¥åŽçš„ç¤ºä¾‹å·¥ç¨‹ä¸ä¼šå†å™è¿°æ–°å»ºæ–‡ä»¶ç­‰æ“ä½œäº†ã€‚ ## å¸¸è§é—®é¢˜ ### No Cable found æ£€æŸ¥è®¾å¤‡ç®¡ç†å™¨é‡Œæœ‰æ²¡æœ‰ä¸‹å›¾è¿™ä¸¤ä¸ªï¼Œæ²¡æœ‰çš„è¯éœ€è¦å®‰è£… Programmer é©±åŠ¨ã€‚ ![converter](./../../assets/questions/converter.png) ### No gowin device found ç¡®è®¤è‡ªå·±ä½¿èƒ½äº†æ ¸å¿ƒæ¿ã€‚ ### æˆåŠŸçƒ§å½•è¿‡ä¸€æ¬¡å¤–éƒ¨ Flash åŽ Programmer è½¯ä»¶æ— æ³•å†çƒ§å½• æ³¨æ„æè¿°æ˜¯æˆåŠŸçƒ§å½•è¿‡ä¸€æ¬¡ Flashã€‚ è¿™ç§æƒ…å†µé»˜è®¤ä¸ºå¯ç”¨äº†é”™è¯¯çš„å¼•è„šå¤ç”¨è€Œå¯¼è‡´ä¸‹è½½å™¨ä¸èƒ½å†è¯†åˆ«åˆ° FPGA çš„ JTAGã€‚å¯ä»¥çŸ­æŽ¥ Flash çš„ 1ã€4 å¼•è„šï¼Œè®©èŠ¯ç‰‡ä¸Šç”µæ—¶ä¸èƒ½æ­£å¸¸è¯» FLASH ã€‚ ![flash_cs](./../assets/flash_cs.png) ### æ›´å¤šé—®é¢˜åŠå…¶è§£å†³åŠžæ³•å‰å¾€[ç›¸å…³é—®é¢˜](./../Tang Nano Doc/questions.html)æŸ¥çœ‹"},"/hardware/zh/tang/tang-primer-20k/examples/key_led_on.html":{"title":"Tang Primer 20K æŒ‰é”®äº®ç¯","content":" title: Tang Primer 20K æŒ‰é”®äº®ç¯ keywords: Tang Primer 20K ,ä¾‹ç¨‹, ä¸Šæ‰‹ update: date: 2022 09 29 version: v0.1 author: wonder content: åˆç¨¿ ## åŽŸç† ä»Ž [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Primer_20K/02_Schematic) ä¸­ï¼Œå¯ä»¥çŸ¥é“ä»¥ä¸‹ä¿¡æ¯ï¼š ### æŒ‰é”®ç”µè·¯ï¼š æ ¹æ® DOCK åº•æ¿åŽŸç†å›¾ï¼Œå¯ä»¥çœ‹å‡ºå½“æ¿è½½æŒ‰é”®æŒ‰ä¸‹æ—¶ï¼Œå¯¹åº”çš„ FPGA å¼•è„šä¼šä¸ºä½Žç”µå¹³è¾“å…¥ã€‚ æ¿è½½æŒ‰é”®ç”µè·¯åŽŸç†å›¾ æ¿è½½æŒ‰é”®ä¸Ž FPGA è¿žæŽ¥å¼•è„šå›¾ ![key_schematic](./assets/key_led_on/key_schematic.png) ![key_pin](./assets/key_led_on/key_pin.png) ### LED ç”µè·¯: æ ¹æ® LED ç”µè·¯ï¼Œå¯ä»¥çŸ¥é“å½“ FPGA å¼•è„šä¸ºä½Žç”µå¹³çš„æ—¶å€™å¯¹åº”è¿žæŽ¥çš„ LED ä¼šäº®èµ·æ¥ã€‚ æ¿è½½è‡ªå®šä¹‰ LED ç”µè·¯åŽŸç†å›¾ æ¿è½½è‡ªå®šä¹‰ LED ä¸Ž FPGA è¿žæŽ¥å¼•è„šå›¾ ![key_schematic](./assets/key_led_on/led_schematic.png) ![key_pin](./assets/key_led_on/led_pin.png) æ‰€ä»¥ç›´æŽ¥å°†æŒ‰é”®å¼•è„šçš„é€»è¾‘ç”µå¹³è¾“å‡ºä¸º LED çš„å¼•è„šè£¸æœºç”µå¹³å°±å¯ä»¥ç‚¹äº® LED ç¯ã€‚ ## æ“ä½œ ### å¼•è„šå¤ç”¨ LED5 å¤ç”¨äº† SSPI å¼•è„šï¼Œéœ€è¦æ‰‹åŠ¨å‰å¾€ Project >Configuration >Place&Route >Dual Purpose Pin ä¸­ï¼Œå‹¾é€‰ `Use SSPI as regular IO` ![dual_purpose_pin](./assets/key_led_on/dual_purpose_pin.png) **åŽç»­æ–‡ç« ä¸­ä¸å†é‡å¤æè¿°æ­¥éª¤ï¼Œä»…è¯´æ˜Žå¤ç”¨ç®¡è„šï¼Œç”¨æˆ·è‡ªè¡Œå‰å¾€è®¾ç½®å¯ç”¨ç®¡è„šå¤ç”¨ã€‚** ### ç«¯å£å’Œå¼•è„š Port Direction Location key input T10 led[5] output L16 led[4] output L14 ### ä»£ç  .. tabset:: ## key_led_on.v Verilogæ–‡ä»¶ï¼› å®šä¹‰äº†ä¸€ä¸ªæŒ‰é”®è¾“å…¥ç«¯å£ï¼Œå’Œä¸¤ä¸ªè¾“å‡ºç«¯å£ã€‚å°†è¾“å…¥ç«¯å£çš„ IO ç”µå¹³çŠ¶æ€è¾“å‡ºåˆ°ä¸¤ä¸ªè¾“å‡ºç«¯å£ã€‚ æ­¤å¤„ä½¿ç”¨äº†ä½æ‹“å±•è¯­æ³•ã€‚å¯ä»¥å‰å¾€ [ä½æ‹¼æŽ¥è¿ç®—](./examples/key_6leds_on.md.html) æŸ¥çœ‹ç›¸å…³è¯´æ˜Žï¼Œä½†æ˜¯æœ¬ç¯‡åŽç»­çš„æ–‡æ¡£è§„èŒƒè¿˜æ˜¯åº”å½“ç»§ç»­é˜…è¯»å®Œã€‚ ```verilog module key_led_on( input key, output [5:4] led ); assign led[5:4] {2{key}}; endmodule ``` ## key_led_on.cst ç‰©ç†çº¦æŸæ–‡ä»¶ï¼› å°† verilog ä»£ç é‡Œçš„ç«¯å£ç»‘å®šåˆ° FPGA å¼•è„šä¸Šé¢ ```txt IO_LOC \"led[5]\" L16; IO_PORT \"led[5]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[4]\" L14; IO_PORT \"led[4]\" PULL_MODE UP DRIVE 8; IO_LOC \"key\" T10; IO_PORT \"key\" PULL_MODE UP; ``` #### ä»£ç ç”¨æ³• **ä»…æœ¬æ¬¡è¯´æ˜Žï¼ŒåŽç»­ç« èŠ‚é™¤äº†ç‰¹å®šå†…å®¹å¤–ï¼Œä¸å†åšè¯´æ˜Žã€‚** æ ¹æ®æ–‡ä»¶é‡Œæ‰€æè¿°çš„æ–‡ä»¶ç±»åž‹ï¼Œåˆ›å»ºå¯¹åº”çš„æ–‡ä»¶ï¼Œå¹¶ä¸”æŠŠæ–‡ä»¶å†…å®¹å¤åˆ¶è¿›åŽ»ã€‚ å‘çŽ°è¿™æ˜¯ä¸€ä¸ª `ç‰©ç†çº¦æŸæ–‡ä»¶` ![ç‰©ç†çº¦æŸæ–‡ä»¶](./assets/key_led_on/cst_file.png) æ–°å»ºä¸€ä¸ª `ç‰©ç†çº¦æŸæ–‡ä»¶` ![file_kind](./assets/key_led_on/file_kind.png) å°†æ–‡ä»¶å†…å®¹å†…å®¹å¤åˆ¶è¿›åŽ» ![file_content](./assets/key_led_on/file_content.png) æŽ¥ç€ä¿å­˜è¿™ä¸ªæ–‡ä»¶ã€‚ å°†æ‰€æœ‰ä»£ç ä¸­æ¶‰åŠåˆ°çš„æ–‡ä»¶åˆ›å»ºã€å¤åˆ¶å†…å®¹ä¸”ä¿å­˜åŽï¼Œå°±å¯ä»¥è¿›è¡Œç»¼åˆã€å¸ƒå±€å¸ƒçº¿æ“ä½œæ¥ç”Ÿæˆä¸‹è½½å›ºä»¶äº†ã€‚ å…·ä½“åˆ›å»ºå·¥ç¨‹æ“ä½œå‚è€ƒ [Tang Primer 20K Dock äº®ä¸€ä¸ªç¯](./assign_led.html) ## æ•ˆæžœ æŒ‰ä¸‹ S0 æŒ‰é”®ï¼ŒLED4 å’Œ LED5 äº®ã€‚æ¾å¼€ S0 æŒ‰é”®ï¼ŒLED4 å’Œ LED5 ç­ã€‚ æ¾å¼€ S0 æŒ‰é”®æŒ‰ä¸‹ S0 æŒ‰é”® <img src \"./assets/key_led_on/led_off.png\" alt \"led_off\"><img src \"./assets/key_led_on/led_on.png\" alt \"led_on\"> <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/tang-primer-20k/examples/led.html":{"title":"Tang Primer 20K Dock ç‚¹ä¸€ä¸ªç¯","content":" title: Tang Primer 20K Dock ç‚¹ä¸€ä¸ªç¯ tags: Tang Primer 20K Dockï¼Œä¸Šæ‰‹ keywords: Primer, Tang, Dockï¼Œ å…¥é—¨ï¼Œ20K desc: Tang Primer 20K Dock ç®€å•ä¸Šæ‰‹ update: date: 2022 09 21 version: v0.1 author: wonder content: åˆç¨¿ date: 2022 09 29 version: v0.2 author: wonder content: ä¿®å¤éƒ¨åˆ†é”™è¯¯ å¯¹äºŽè½¯ä»¶å¼€å‘æ¥è¯´ï¼Œè¾“å‡º `hello world` å°±æ˜¯å…¥é—¨äº†ã€‚å¯¹äºŽç¡¬ä»¶ç›¸å…³çš„å¼€å‘è€Œè¨€ï¼Œç‚¹ç¯å°±æ˜¯åŒæ¬¾å…¥é—¨ã€‚ ## å®‰è£… IDE å‚è€ƒ [å®‰è£…IDE](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/install the ide.html) æ¥å®Œæˆæˆ‘ä»¬éœ€è¦å‡†å¤‡çš„è½¯ä»¶çŽ¯å¢ƒã€‚ å¯¹äºŽ Linux ç”¨æˆ·çš„è¯å»ºè®®ä½¿ç”¨ [openfpgaLoader](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/flash_in_linux.html) è¿™è½¯ä»¶æ¥çƒ§å½•è¿™æ¬¾è®¾å¤‡ã€‚ ## æ–°å»ºå·¥ç¨‹ æ–‡ä»¶ > æ–°å»º > FPGA Design > Project <div> <img src \"./assets/led_assets/new_project.png\" width 58% alt \"new_project\"> <img src \"./assets/led_assets/fpga_project.png\" width 35% alt \"fpga_project\"> </div> è®¾ç½®å·¥ç¨‹åç§°ï¼Œè¦æ±‚åªç”¨è‹±æ–‡çš„ä¸‹åˆ’çº¿å‘½åï¼Œå­˜æ”¾è·¯å¾„ä¸­ä¸è¦æœ‰ä¸­æ–‡å­—ç¬¦æˆ–è€…ç©ºæ ¼ç­‰ã€‚ ![project_path](./assets/led_assets/project_path.png) ç„¶åŽåœ¨ä¸‹é¢çš„èŠ¯ç‰‡åž‹å·ä¸­é€‰æ‹© GW2A LV18PG256C8/I7ï¼Œä½¿ç”¨ä¸Šé¢çš„ç­›é€‰èƒ½å¤Ÿæ›´å¿«åœ°é€‰æ‹©åˆ°æ­£ç¡®çš„åž‹å·ã€‚æ³¨æ„ Device é‚£ä¸€æ ä¸º GW2A 18C ![device_choose](./assets/led_assets/device_choose.png) ç„¶åŽç‚¹å‡»ç¡®å®šåŽå°±å¯ä»¥è¿›è¡Œæœ€ç»ˆé¡¹ç›®é¢„è§ˆäº†ã€‚ç¡®è®¤æ— è¯¯åŽå°±å®Œæˆå·¥ç¨‹åˆ›å»ºäº†ã€‚ ## ç¼–å†™ä»£ç  ### æ–°å»ºæ–‡ä»¶ é«˜äº‘åŠå¯¼ä½“ IDE æä¾›äº†ä¸‰ç§æ–°å»ºæ–‡ä»¶çš„æ–¹æ³•ã€‚åœ¨æ­¤æˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨å¿«æ·é”® `Ctrl + N` æ¥æ–°å»ºæ–‡ä»¶ï¼Œå…¶ä»–ä¸¤ç§ä¸åœ¨æ­¤è®²è¿°ã€‚ åœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹© `Verilog File`ï¼Œä¼š VHDL çš„ä¹Ÿå¯ä»¥é€‰æ‹©ä¸‹é¢çš„ `VHDL File`ï¼Œè¿™ç¯‡æ–‡ç« åªç”¨ Verilog æ¥åšç‚¹ç¯ç¤ºä¾‹ã€‚ <img src \"./assets/led_assets/new_verilog_file.png\" width 50% alt \"new_verilog_file\"> ç‚¹å‡» OK ä¹‹åŽä¼šæç¤ºè®©æˆ‘ä»¬è¾“å…¥æ–‡ä»¶åç§°ï¼Œæ­¤å¤„ä»¥ `led` ä¸ºæ–‡ä»¶ååšç¤ºèŒƒã€‚ <img src \"./assets/led_assets/file_name.png\" width 75% alt \"file_name\"> åˆ°è¿™é‡Œæˆ‘ä»¬å°±å®Œæˆæ–‡ä»¶çš„åˆ›å»ºäº†ï¼Œå¯ä»¥ç›´æŽ¥ç¼–å†™ä»£ç äº†ã€‚ ![created_file](./assets/led_assets/created_file.png) ### Verilog ç®€å•è¯´æ˜Ž Verilog æ˜¯ä¸€ç§ç¡¬ä»¶æè¿°è¯­è¨€ï¼Œç”¨æ¥å¯¹æ•°å­—ç”µè·¯è¿›è¡ŒæŠ½è±¡åŒ–æè¿°ã€‚ Verilog çš„åŸºæœ¬è®¾è®¡å•å…ƒæ˜¯â€œæ¨¡å—â€(module)ã€‚ ä¸€ä¸ªæ¨¡å—æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ï¼šä¸€éƒ¨åˆ†æè¿°æŽ¥å£ï¼Œå¦ä¸€éƒ¨åˆ†æè¿°å†…éƒ¨é€»è¾‘åŠŸèƒ½ï¼Œå³å®šä¹‰è¾“å…¥æ˜¯å¦‚ä½•å½±å“è¾“å‡ºçš„ã€‚ ä¸€ä¸ªæ¨¡å—é•¿æˆè¿™æ ·ï¼š ```v module module_name #(parameter) (port) ; function endmodule ``` æ¨¡å—æ•´ä½“ç»“æž„ç”± module å’Œ endmodule ç»„æˆï¼Œmodule åŽé¢è·Ÿç€çš„æ˜¯æ¨¡å—çš„åç§°(module_name)ï¼Œå¯ä¼ é€’å˜é‡å‚æ•°(parameter)ï¼Œç«¯å£åŠå…¶æ–¹å‘çš„ç”³æ˜Ž(port)ï¼Œç´§æŽ¥ç€å°±æ˜¯å†…éƒ¨é€»è¾‘åŠŸèƒ½æè¿°(function) ,æœ€åŽç”¨ endmodule æ¥è¡¨ç¤ºè¿™ä¸€ä¸ªæ¨¡å—ï¼Œæè¿°å®Œæ¯•ã€‚ å†…éƒ¨é€»è¾‘åŠŸèƒ½é€šå¸¸ç”± assign å’Œ always å—å®Œæˆï¼›å…¶ä¸­ assign è¯­å¥æè¿°é€»è¾‘åŠŸèƒ½ï¼Œalways å—å¸¸ç”¨äºŽæè¿°æ—¶åºåŠŸèƒ½ã€‚ ### é˜»å¡žèµ‹å€¼ä¸Žéžé˜»å¡žèµ‹å€¼ åœ¨æ—¶åºé€»è¾‘æè¿°ä¸­ï¼Œèµ‹å€¼ç¬¦å·æœ‰ ` ` å’Œ `< ` ä¸¤ç§ã€‚æ³¨æ„ `< ` åœ¨ if åˆ¤æ–­è¯­å¥ä¸­ä¸ºå°äºŽæˆ–ç­‰äºŽï¼Œä¸æ˜¯èµ‹å€¼ç¬¦å·ã€‚ è¯¦ç»†è§£é‡ŠæŸ¥çœ‹åº•éƒ¨çš„ [é˜»å¡žèµ‹å€¼ä¸Žéžé˜»å¡žèµ‹å€¼åŒºåˆ«](#é˜»å¡žèµ‹å€¼ä¸Žéžé˜»å¡žèµ‹å€¼åŒºåˆ«) ### ä»£ç æ€è·¯ å†™ä»£ç å‰æˆ‘ä»¬éœ€è¦å…ˆæƒ³æ¸…æ¥šä»£ç ç›®çš„ï¼šæ¯éš” 0.5S ç¯é—ªä¸€æ¬¡ã€‚ å¯¹æ­¤æ‰€ç”»çš„éœ€æ±‚æ¡†å›¾å¦‚ä¸‹ï¼š ![block_method](./assets/led_assets/block_method.png) ç„¶åŽå¯¹äºŽ 0.5S æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨æ¥è®¡æ—¶ï¼ŒLED ç¯é—ªå°±æ˜¯ IO ç¿»è½¬ ![count_block](./assets/led_assets/time_count.png) æŠŠä¸Šé¢çš„æ€ç»´æ¡†å›¾å…·ä½“åˆ°å®žé™…ä½¿ç”¨çš„è¯ï¼Œå°±å˜æˆä¸‹é¢çš„æ ·å¼äº†: ![clock_time_count](./assets/led_assets/clock_time_count.png) å…¶ä¸­ Clock ä¸ºæ—¶é’Ÿæºï¼Œç”¨æ¥ç»™è®¡æ—¶å™¨æä¾›å‡†ç¡®çš„æ—¶é—´ã€‚ ### ä»£ç æè¿° æ ¹æ®ä¸Šæ–‡ Verilog ç®€å•è¯´æ˜Žå’Œæ‰€æè¿°çš„æ¡†å›¾ï¼Œå¯ä»¥æ‰€è¦ç¼–å†™ Verilog æ¨¡å—æœ‰ Clock å’Œ IOç”µå¹³ ä¸¤ä¸ªç«¯å£ï¼› ```v module led( input Clock, output IO_voltage ); endmodule ``` å¯¹äºŽå†…éƒ¨çš„è®¡æ—¶æ¨¡å—ï¼ŒPrimer 20K æ ¸å¿ƒæ¿ä¸Šçš„æ™¶æŒ¯ä¸º 27MHZï¼Œå› æ­¤æˆ‘ä»¬æ¯ç§’é’Ÿä¼šæœ‰ 27000000 ä¸ªæ—¶é’Ÿä¸Šå‡æ²¿ï¼Œæƒ³è¦ 0.5S è®¡æ•°çš„è¯é‚£ä¹ˆåªéœ€è¦è®¡æ•° 13500000 æ¬¡ä¸Šå‡æ²¿å°±å¥½ã€‚è®¡æ•°æ˜¯ä»Ž 0 å¼€å§‹çš„ï¼Œæ•° 13500000 çš„è¯å°±æ˜¯ä»Ž 0 æ•°åˆ° 13499999ã€‚è®¡æ•°å®ŒåŽæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½ï¼Œæ¥é€šçŸ¥ LED çš„ IO ç¿»è½¬ä¸€ä¸‹ç”µå¹³ã€‚æ•´ä½“è®¡æ•°ä»£ç å¦‚ä¸‹ï¼š ```v //parameter Clock_frequency 27_000_000; // æ—¶é’Ÿé¢‘çŽ‡ä¸º27Mhz parameter count_value 13_499_999; // è®¡æ—¶ 0.5S æ‰€éœ€è¦çš„è®¡æ•°æ¬¡æ•° reg [23:0] count_value_reg ; // è®¡æ•°å™¨ reg count_value_flag; // IO ç”µå¹³ç¿»è½¬æ ‡å¿— always @(posedge Clock) begin if ( count_value_reg < count_value ) begin //æ²¡æœ‰è®¡æ•°åˆ° 0.5S count_value_reg < count_value_reg + 1'b1; // ç»§ç»­è®¡æ•° count_value_flag < 1'b0 ; // ä¸äº§ç”Ÿç¿»è½¬æ ‡å¿— end else begin //è®¡æ•°åˆ° 0.5S äº† count_value_reg < 23'b0; // æ¸…é›¶è®¡æ•°å™¨ï¼Œä¸ºé‡æ–°è®¡æ•°æœ€å‡†å¤‡ count_value_flag < 1'b1 ; // äº§ç”Ÿç¿»è½¬æ ‡å¿— end end ``` å¯¹äºŽ LED IO ç”µå¹³ç¿»è½¬ä»£ç å¦‚ä¸‹ï¼š ```v reg IO_voltage_reg 1'b0; // å£°æ˜Ž IO ç”µå¹³çŠ¶æ€ç”¨äºŽè¾¾åˆ°è®¡æ—¶æ—¶é—´åŽçš„ç¿»è½¬ï¼Œå¹¶èµ‹äºˆä¸€ä¸ªä½Žç”µå¹³åˆå§‹æ€ always @(posedge Clock) begin if ( count_value_flag ) // ç”µå¹³ç¿»è½¬æ ‡å¿—æœ‰æ•ˆ IO_voltage_reg < ~IO_voltage_reg; // IO ç”µå¹³ç¿»è½¬ else // ç”µå¹³ç¿»è½¬æ ‡å¿—æ— æ•ˆ IO_voltage_reg < IO_voltage_reg; // IO ç”µå¹³ä¸å˜ end ``` å°†ä¸Šé¢çš„ä»£ç æ•´åˆåŽå°±å˜æˆäº†ä¸‹é¢çš„å†…å®¹: ```v module led( input Clock, output IO_voltage ); /**********è®¡æ—¶éƒ¨åˆ†**********/ //parameter Clock_frequency 27_000_000; // æ—¶é’Ÿé¢‘çŽ‡ä¸º27Mhz parameter count_value 13_499_999; // è®¡æ—¶ 0.5S æ‰€éœ€è¦çš„è®¡æ•°æ¬¡æ•° reg [23:0] count_value_reg ; // è®¡æ•°å™¨ reg count_value_flag; // IO ç”µå¹³ç¿»è½¬æ ‡å¿— always @(posedge Clock) begin if ( count_value_reg < count_value ) begin //æ²¡æœ‰è®¡æ•°åˆ° 0.5S count_value_reg < count_value_reg + 1'b1; // ç»§ç»­è®¡æ•° count_value_flag < 1'b0 ; // ä¸äº§ç”Ÿç¿»è½¬æ ‡å¿— end else begin //è®¡æ•°åˆ° 0.5S äº† count_value_reg < 23'b0; // æ¸…é›¶è®¡æ•°å™¨ï¼Œä¸ºé‡æ–°è®¡æ•°æœ€å‡†å¤‡ count_value_flag < 1'b1 ; // äº§ç”Ÿç¿»è½¬æ ‡å¿— end end reg IO_voltage_reg 1'b0; // å£°æ˜Ž IO ç”µå¹³çŠ¶æ€ç”¨äºŽè¾¾åˆ°è®¡æ—¶æ—¶é—´åŽçš„ç¿»è½¬ï¼Œå¹¶èµ‹äºˆä¸€ä¸ªä½Žç”µå¹³åˆå§‹æ€ /**********ç”µå¹³ç¿»è½¬éƒ¨åˆ†**********/ always @(posedge Clock) begin if ( count_value_flag ) // ç”µå¹³ç¿»è½¬æ ‡å¿—æœ‰æ•ˆ IO_voltage_reg < ~IO_voltage_reg; // IO ç”µå¹³ç¿»è½¬ else // ç”µå¹³ç¿»è½¬æ ‡å¿—æ— æ•ˆ IO_voltage_reg < IO_voltage_reg; // IO ç”µå¹³ä¸å˜ end /**********è¡¥å……ä¸€è¡Œä»£ç **********/ assign IO_voltage IO_voltage_reg; endmodule ``` ä¸Šé¢ä»£ç æœ€åŽé¢è¡¥å……äº†ä¸€è¡Œä»£ç ï¼Œæ˜¯å› ä¸º IO_voltage å£°æ˜Žåœ¨äº† port ä½ç½®ï¼Œé»˜è®¤ä¸º wire åž‹ï¼Œæƒ³è¦å°†å®ƒä¸Ž reg å˜é‡ IO_voltage_reg è¿žæŽ¥èµ·æ¥ï¼Œéœ€è¦ç”¨åˆ° assign è¯­å¥ã€‚ ## ç»¼åˆï¼Œçº¦æŸï¼Œå¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ ä»£ç ä¿å­˜åŽï¼Œå¯ä»¥åŒå‡» IDE å†…éƒ¨çš„ Process > Synthesize æ¥è¿›è¡Œä»£ç ç»¼åˆï¼Œå°† verilog ä»£ç å†…å®¹è½¬æ¢ä¸ºç»¼åˆç½‘è¡¨ã€‚ ![synthesize](./assets/led_assets/synthesize.png) å…³äºŽç½‘è¡¨æœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±åŽ»æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œæ­¤å¤„ä¸å†é¢å¤–è¯´æ˜Žã€‚ ### çº¦æŸ ç»¼åˆå®Œä¹‹åŽæˆ‘ä»¬éœ€è¦è¿›è¡Œç®¡è„šçº¦æŸï¼Œæ‰èƒ½å°†æ‰€ç¼–å†™çš„æ¨¡å—ç«¯å£ä¸Ž FPGA å¼•è„šç›¸å¯¹åº”ï¼Œå¹¶ä¸”å®žçŽ°æ¨¡å—çš„åŠŸèƒ½ã€‚ ç‚¹å‡»ä¸Šå›¾ Synthesize ä¸Šé¢çš„ FloorPlanner æ¥è¿›è¡Œç®¡è„šçº¦æŸã€‚ ![floorplanner](./assets/led_assets/floorplanner.png) ç”±äºŽæ˜¯é¦–æ¬¡åˆ›å»ºï¼Œæ‰€ä»¥ä¼šå¼¹å‡ºä¸‹é¢çš„å¯¹è¯æ¡†ï¼Œç‚¹å‡» OK åŽå°±å¼¹å‡ºäº†å›¾å½¢åŒ–çº¦æŸäº¤äº’ç•Œé¢ã€‚ ![create_constrain_file](./assets/led_assets/create_constrain_file.png) ![floorplanner_intreface](./assets/led_assets/floorplanner_interface.png) å…³äºŽçº¦æŸçš„æ–¹æ³•å¯ä»¥æŸ¥çœ‹ [SUG935 1.3_Gowinè®¾è®¡ç‰©ç†çº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG935 1.3_Gowin%E8%AE%BE%E8%AE%A1%E7%89%A9%E7%90%86%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) æ­¤å¤„å› ä¸ªäººå–œæ‰€ä»¥ä»…ä½¿ç”¨ä¸‹å›¾ä¸­ IO Constranins æ–¹æ³•æ¥çº¦æŸå¼•è„šï¼š ![floor_planner_ioconstrain](./assets/led_assets/floor_planner_ioconstrain.png) æ ¹æ®[æ ¸å¿ƒæ¿åŽŸç†å›¾](https://dl.sipeed.com/fileList/TANG/Primer_20K/02_Schematic/)ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“æ™¶æŒ¯æ‰€è¾“å…¥çš„å¼•è„šä¸º H11ã€‚ <img src \"./assets/led_assets/crystal_port.png\" alt \"crystal_port\" width 45%> ç„¶åŽç»“åˆåº•æ¿ä¸Šçš„ IO ä¸å°ï¼Œå†³å®šç”¨åº•æ¿ä¸Šçš„ FPGA çš„ L14 å¼•è„šè¿›è¡Œç‚¹ç¯ï¼Œå¯¹åº”çš„ LED ç¼–å·ä¸º LED4ã€‚ ![led_port](./assets/led_assets/led_port.png) å› æ­¤å¯¹äºŽåœ¨ FloorPlanner äº¤äº’çª—å£ä¸‹é¢çš„ IO Constranins ä¸­å°† PORTï¼ˆç«¯å£ï¼‰ä¸Ž Locationï¼ˆå¼•è„šï¼‰ åˆ†åˆ«å¡«å…¥ä¸‹é¢çš„å€¼ï¼š ![io_constrain_value](./assets/led_assets/io_constrain_value.png) è¾“å…¥å®Œæ¯•åŽå¿«æ·é”® Ctrl + S æ¥ä¿å­˜ä¸€ä¸‹å¼•è„šçº¦æŸï¼Œç„¶åŽæŽ¥å¯ä»¥å…³é—­ FloorPlanner çš„äº¤äº’å›¾å½¢ç•Œé¢äº†ã€‚ æŽ¥ç€å‘çŽ°åœ¨å·¥ç¨‹é¡¹ç›®é‡Œé¢å¤šå‡ºæ¥åˆšåˆšåˆ›å»ºçš„ cst æ–‡ä»¶äº†ï¼Œé‡Œé¢çš„å†…å®¹ä¹Ÿæ¯”è¾ƒå¥½ç†è§£ã€‚ ![cst_content](./assets/led_assets/cst_content.png) ### å¸ƒå±€å¸ƒçº¿ å®Œæˆçº¦æŸåŽå°±è¦å¼€å§‹è¿è¡Œå¸ƒå±€å¸ƒçº¿äº†ï¼Œç›®çš„æ˜¯ä¸ºäº†æŠŠç»¼åˆæ‰€ç”Ÿæˆçš„ç½‘è¡¨ä¸Žæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„çº¦æŸæ¥é€šè¿‡ IDE ç®—å‡ºæœ€ä¼˜è§£ç„¶åŽå°†èµ„æºåˆç†åœ°åˆ†é…åœ¨ FPGA èŠ¯ç‰‡ä¸Šã€‚ åŒå‡»ä¸‹å›¾çº¢æ¡†å¤„çš„ Place&Route å°±å¼€å§‹è¿è¡Œäº†ã€‚ ![place_route](./assets/led_assets/place_route.png)ã€‚ ç´§æŽ¥ç€æ²¡æœ‰æŠ¥é”™ï¼Œå…¨éƒ¨é€šè¿‡ã€‚å°±å¯ä»¥å¼€å§‹è¿›è¡Œçƒ§å½•äº†ã€‚ ## çƒ§å½•å›ºä»¶ Dock æ¿è½½äº†ä¸‹è½½å™¨ï¼Œåœ¨ [å®‰è£…IDE](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/install the ide.html) çš„æ—¶å€™æˆ‘ä»¬å·²ç»å®‰è£…äº†é©±åŠ¨ã€‚å› æ­¤æˆ‘ä»¬å°†æ¿å­ä¸Žç”µè„‘è¿žæŽ¥èµ·æ¥å°±è¡Œã€‚ ![connected](./assets/led_assets/connected.png) å¯¹äºŽ Programmer è½¯ä»¶å»ºè®®ä½¿ç”¨é«˜äº‘å®˜ç½‘ä¸‹è½½åˆ° [ç‚¹æˆ‘è·³è½¬](http://www.gowinsemi.com.cn/faq.aspx) ï¼Œä¸‹è½½ä¸‹å›¾æ‰€ç¤ºçš„ Programmer è½¯ä»¶å³å¯ã€‚ ![educational_edition_programmer](./assets/led_assets/educational_edition_programmer.png) ### æ‰«æè®¾å¤‡ åœ¨ä½¿ç”¨ Dock åº•æ¿çš„æ—¶å€™ä¸è¦å¿˜è®°ä½¿èƒ½æ ¸å¿ƒæ¿ï¼ŒæŒ‰ä¸‹ 1 å·æ‹¨ç å¼€å…³å³å¯ã€‚ ![Enable_core_board](./../assets/start/switch_1_on.png) åŒå‡»ä¸‹å›¾ä¸­çš„ä¸‹è½½ç¨‹åº(Program Device) æ¥è¿è¡Œ Programmer è½¯ä»¶ ![open_programmer](./assets/led_assets/open_programmer.png) ç„¶åŽåœ¨æ‰“å¼€çš„é¡µé¢ä¸­ç‚¹å‡»ä¸€ä¸‹ scan_device æ¥æ‰«æåˆ°æˆ‘ä»¬çš„è®¾å¤‡ã€‚ ![scan_device](./assets/led_assets/scan_device.png) ç‚¹å‡» OK åŽå°±å¯ä»¥è¿›è¡Œçƒ§å½•æ“ä½œäº†ã€‚ çƒ§å½•ç›¸å…³çš„æ–‡æ¡£å¯ä»¥å‚è€ƒ [SUG502 1.3_Gowin_Programmerç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG502 1.3_Gowin_Programmer%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) ### ä¸‹è½½åˆ° SRAM ä¸€èˆ¬æ¥è¯´è¿™ä¸ªæ¨¡å¼æ˜¯ä»¥ç”¨æ¥å¿«é€ŸéªŒè¯æ‰€ç”Ÿæˆçš„å›ºä»¶æ˜¯å¦æ»¡è¶³è‡ªå·±ç›®çš„çš„ã€‚ å› ä¸ºå…¶çƒ§å½•å¿«çš„ç‰¹æ€§æ‰€ä»¥ä½¿ç”¨çš„è¾ƒå¤šï¼Œç„¶æ˜¯å½“ç„¶æ–­ç”µä¼šä¸¢å¤±æ•°æ®ï¼Œæ‰€ä»¥å¦‚æžœæƒ³ä¸Šç”µè¿è¡Œç¨‹åºçš„è¯æ˜¯ä¸èƒ½é€‰è¿™ä¸ªçš„ã€‚ ç‚¹å‡» Operation ä¸‹é¢çš„åŠŸèƒ½æ¡†æ¥æ‰“å¼€è®¾å¤‡è®¾ç½®ç•Œé¢ï¼ŒæŽ¥ç€åœ¨ Operation æ¡†ä¸­é€‰æ‹© SRAM Program é€‰é¡¹æ¥è®¾ç½®ä¸ºä¸‹è½½åˆ° SRAM ï¼Œæœ€åŽç‚¹å‡»ä¸‹é¢çš„é‚£ä¸‰ä¸ªç‚¹ç‚¹æ¡†æ¥é€‰æ‹©æˆ‘ä»¬æ‰€ç”Ÿæˆçš„ .fs ä¸‹è½½å›ºä»¶ã€‚é€šå¸¸æ¥è¯´ä¸‹è½½å›ºä»¶ç”Ÿæˆä¸Žå·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹çš„ impl > pnr ç›®å½•ä¸‹ã€‚ ![sram_mode](./assets/led_assets/sram_mode.png) æŽ¥ç€æ¥ç‚¹å‡»çº¢æ¡†å¤„å¼€å§‹è¿›è¡Œçƒ§å½• ![sram_download](./assets/led_assets/sram_download.png) æœ‰é—®é¢˜çš„è¯å¯ä»¥å‰å¾€ [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) è‡ªè¡ŒæŽ’æŸ¥ã€‚ åˆ°è¿™é‡Œå°±ä¸‹è½½å®Œæˆäº†ã€‚ ### ä¸‹è½½åˆ° Flash ä¸Šé¢è¯´è¿‡ä¸‹è½½åˆ° SRAM æ˜¯ä¸ºäº†å¿«é€ŸéªŒè¯ï¼Œä½†æ˜¯ä¸èƒ½ä¸Šç”µè¿è¡Œç¨‹åºã€‚ æ‰€ä»¥æƒ³è¦ä¸Šç”µè¿è¡Œçš„è¯æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸‹è½½åˆ° Flashã€‚ å’Œä¸Šé¢ä¸‹è½½åˆ° SRAM çš„æ­¥éª¤å‡ ä¹Žç±»ä¼¼ï¼Œå…ˆç‚¹å¼€ Operation ä¸‹é¢çš„åŠŸèƒ½æ¡†æ¥æ‰“å¼€è®¾å¤‡è®¾ç½®ç•Œé¢ï¼ŒæŽ¥ç€åœ¨ Operation æ¡†ä¸­é€‰æ‹© External Flash Mode é€‰é¡¹æ¥è®¾ç½®ä¸ºä¸‹è½½åˆ°å¤–éƒ¨ Flash ï¼Œæœ€åŽç‚¹å‡»ä¸‹é¢çš„é‚£ä¸‰ä¸ªç‚¹ç‚¹æ¡†æ¥é€‰æ‹©æˆ‘ä»¬æ‰€ç”Ÿæˆçš„ .fs ä¸‹è½½å›ºä»¶ï¼Œé€šå¸¸æ¥è¯´ä¸‹è½½å›ºä»¶ç”Ÿæˆä¸Žå·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹çš„ impl > pnr ç›®å½•ä¸‹ã€‚æœ€åŽåœ¨ä¸‹é¢çš„å¤–éƒ¨ Flash é€‰é¡¹ä¸­é€‰æ‹©è®¾å¤‡ä¸º Generic Flash ã€‚ ![flash_mode](./assets/led_assets/flash_mode.png) æŽ¥ç€æ¥ç‚¹å‡»çº¢æ¡†å¤„å¼€å§‹è¿›è¡Œçƒ§å½• ![flash_download](./assets/led_assets/flash_download.png) ç„¶åŽæˆ‘ä»¬çš„ç¨‹åºé‡æ–°ä¸Šç”µä¹Ÿèƒ½ç…§æ ·è¿è¡Œäº†ã€‚ ## ä»£ç ç»“æžœ å¦‚å›¾æ‰€ç¤ºï¼Œåªæœ‰ä¸€ä¸ªç¯åœ¨é—ªã€‚ ![led_blink](./assets/led_assets/led_blink.gif) ## ç»“è¯­ åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»å®Œæˆäº† FPGA çš„ â€œHello worldâ€ äº†ã€‚ä»¥åŽçš„ç¤ºä¾‹å·¥ç¨‹ä¸ä¼šå†å™è¿°æ–°å»ºæ–‡ä»¶ç­‰æ“ä½œäº†ã€‚ ## é˜»å¡žèµ‹å€¼ä¸Žéžé˜»å¡žèµ‹å€¼åŒºåˆ« ä»¥ä¸‹å†…å®¹æ¬è¿è‡ª `å¤§çŒªè¹„å­` ï¼ˆæœ‰æ”¹åŠ¨ï¼‰ï¼š ç¼–å†™ä¸€æ®µç®€å•çš„ä»£ç ï¼Œå¯¹å®ƒè¿›è¡Œç®€å•çš„ä»¿çœŸï¼š ```v module test( input CLK, input [3:0] A, output reg [3:0] B,C,D,E ); always@(posedge CLK) begin B < A; C < B; D A; E D; end endmodule ``` ![simulation_result](./assets/led_assets/simulation_result.png) æ ¹æ®ä»¿çœŸç»“æžœæˆ‘ä»¬å¯ä»¥çœ‹å‡ºé˜»å¡žå’Œéžé˜»å¡žèµ‹å€¼çš„å·®åˆ«ã€‚è¿™é‡Œå¯¹æ¯” `B` `C` `D` `E` å››ç§ç»“æžœã€‚`< ` å«åšéžé˜»å¡žèµ‹å€¼ï¼ŒåŒä¸€ä¸ª `always` ä¸­çš„ `< ` ä¼šåŒæ—¶æ‰§è¡Œã€‚è¿™å°±é€ æˆäº†ç»¿æ¡†å†…çš„æƒ…å†µï¼š`B` ç›´æŽ¥è¢«èµ‹äºˆ `A` çš„å€¼åŒæ—¶ `C` è¢«èµ‹äºˆ `B` çš„å€¼ã€‚ç”±äºŽè¿™ä¸¤æ­¥æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼Œå°±å¯¼è‡´ `C` è¢«èµ‹äºˆçš„å€¼æ˜¯ `B` çš„æ—§å€¼ï¼Œä¹Ÿå°±é€ æˆäº†å›¾ä¸­æ‰€ç¤ºï¼Œ`C` çš„æ•°æ®å˜åŒ–æ—¶é’Ÿè¦æ…¢ `B` ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚å†è¯´é˜»å¡žèµ‹å€¼ ` `ï¼Œä¹Ÿå°±æ˜¯è¯´åŒä¸€ä¸ª `always` ä¸­ä¸Šä¸€ä¸ª ` ` è¯­å¥æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ª ` ` è¯­å¥ã€‚åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œä¸Šä¸€ä¸ªè¯­å¥ `D` å·²ç»è¢«èµ‹äºˆäº† `A` çš„å€¼ï¼Œæ‰æ‰§è¡ŒæŠŠ `D` çš„å€¼èµ‹ç»™ `E`ï¼Œæ‰€ä»¥ `D` ã€`E` çš„å€¼åœ¨ä»¿çœŸä¸­å§‹ç»ˆä¿æŒä¸€è‡´ã€‚ > ä¸è¿‡ä¸€èˆ¬æ¥è¯´ï¼Œä¸å»ºè®®åœ¨æ—¶åºé€»è¾‘ä¸­ä½¿ç”¨é˜»å¡žèµ‹å€¼ ` `ã€‚ ä¹Ÿå¾—å‡ºäº†é¢å¤–ä¸¤ä¸ªç»“è®ºï¼š ç¬¬ä¸€ï¼Œè¾“å…¥çš„æ•°æ®ä¸æ˜¯å®Œå…¨æœ‰æ•ˆï¼Œä»¥æ—¶é’Ÿè¾¹æ²¿æ—¶åˆ»çš„è¾“å…¥æ•°æ®ä¸ºå‡†ã€‚`posedge` å°±æ˜¯ä»¥ä¸Šå‡æ²¿æ‰§è¡Œï¼Œ`negedge` å°±æ˜¯ä»¥ä¸‹é™æ²¿æ‰§è¡Œã€‚å¦‚æžœæ•°æ®ç»´æŒçš„æ—¶é—´å°äºŽä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œå°±å¾ˆæœ‰å¯èƒ½é‡‡é›†ä¸åˆ°ï¼ˆå¦‚çº¢æ¡†æ‰€ç¤ºï¼‰ã€‚ ç¬¬äºŒã€æ¯æ¬¡è§¦å‘ç‰¹å®šæ—¶é’Ÿè¾¹æ²¿ï¼Œå¯¹åº”çš„ `always` å—å°±ä¼šä»Žå¤´åˆ°å°¾æ‰§è¡Œä¸€æ¬¡ä»£ç ï¼ˆå¦‚ç»¿æ¡†æ‰€ç¤ºï¼‰ï¼Œè€Œä¸æ˜¯ä»Žä¸­é—´æŸå¤„æ‰§è¡Œã€‚ ## å¸¸è§é—®é¢˜ ### No Cable found æ£€æŸ¥è®¾å¤‡ç®¡ç†å™¨é‡Œæœ‰æ²¡æœ‰ä¸‹å›¾è¿™ä¸¤ä¸ªï¼Œæ²¡æœ‰çš„è¯éœ€è¦å®‰è£… Programmer é©±åŠ¨ã€‚ ![converter](./../../assets/questions/converter.png) ç¡®å®šæœ‰ converter è®¾å¤‡çš„è¯åœ¨ç¡®è®¤ç”¨çš„æ˜¯ä¸æ˜¯æ‰€è¦æ±‚ä½¿ç”¨çš„ Programmer, æœ¬æ–‡[è¿™é‡Œ](#çƒ§å½•å›ºä»¶)æœ‰å†™è¿‡ã€‚ ### No gowin device found ç¡®è®¤è‡ªå·±ä½¿èƒ½äº†æ ¸å¿ƒæ¿ã€‚ ### å…¶ä»–é—®é¢˜ å‰å¾€ [Gowin æ¿å¡å¸¸è§é—®é¢˜æŸ¥çœ‹](./../../Tang Nano Doc/questions.html)"},"/hardware/zh/tang/tang-primer-20k/examples/water_led.html":{"title":"Tang Primer 20K æµæ°´ç¯","content":" title: Tang Primer 20K æµæ°´ç¯ keywords: Tang Primer 20K ,ä¾‹ç¨‹, ä¸Šæ‰‹ update: date: 2022 11 25 version: v0.1 author: wonder content: åˆç¨¿ ## è¯´æ˜Ž æœ¬ä¾‹ç¨‹ä½¿ç”¨ Dock åº•æ¿ä¸Š LED0ã€LED1ã€LED2ã€LED3ã€LED4ã€LED5 å…±å…­ä¸ª LED ç¯ã€‚ ä¾æ¬¡åªç‚¹äº®åº•æ¿ä¸Šä¸€ä¸ª LED ç¯ï¼ŒLED ç¯åˆ‡æ¢é—´éš”ä¸º 0.5Sã€‚ åœ¨å‰é¢çš„ [è®¡æ•°å™¨äº®ç¯ä¸­](./led.html)ï¼Œå·²ç»ç‚¹äº®äº†ä¸€ä¸ªç¯äº†ã€‚è¿™æ¬¡åªæ˜¯å°†æ‰€ç‚¹äº®çš„ç¯çš„çŠ¶æ€ â€œè½¬ç§»â€ åˆ°åˆ«çš„ç¯ä¸Šï¼Œè¿™é‡Œä½¿ç”¨çŽ¯å½¢ [ç§»ä½å¯„å­˜å™¨](https://baike.baidu.com/item/%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8%E5%AD%98%E5%82%A8%E5%99%A8/22232752) å°±å¯ä»¥å®Œæˆç¯çš„æ•ˆæžœè½¬ç§»ç›®æ ‡ã€‚åœ¨ FPGA ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ä½æ‹¼æŽ¥è¿ç®—ç¬¦ `{` å’Œ `}` æ¥å®žçŽ°ç§»ä½å¯„å­˜å™¨çš„æ•ˆæžœã€‚ ### ç§»ä½å¯„å­˜å™¨ ç§»ä½å¯„å­˜å™¨æ˜¯æ˜¯ä¸€ç§åœ¨è‹¥å¹²ç›¸åŒæ—¶é—´è„‰å†²ä¸‹å·¥ä½œçš„ä»¥è§¦å‘å™¨ä¸ºåŸºç¡€çš„å™¨ä»¶ï¼Œæ•°æ®ä»¥å¹¶è¡Œæˆ–ä¸²è¡Œçš„æ–¹å¼è¾“å…¥åˆ°è¯¥å™¨ä»¶ä¸­ï¼Œç„¶åŽæ¯ä¸ªæ—¶é—´è„‰å†²ä¾æ¬¡å‘å·¦æˆ–å³ç§»åŠ¨ä¸€ä¸ªæ¯”ç‰¹ï¼Œåœ¨è¾“å‡ºç«¯è¿›è¡Œè¾“å‡ºã€‚ å¯¹äºŽä½¿ç”¨ç§»ä½å¯„å­˜å™¨æ¥å®žçŽ°æµæ°´ç¯ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯æœ€ä½Žè¦æœ‰ä¸€ä¸ªç¯äº®ç€ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬é€‰æ‹©çŽ¯å½¢ç§»ä½å¯„å­˜å™¨ã€‚å°†æ™®é€šç§»ä½å¯„å­˜å™¨çš„è¾“å‡ºä½œä¸ºå®ƒè‡ªå·±çš„è¾“å…¥å³å¯çœ‹ä½œä¸ºçŽ¯å½¢ç§»ä½å¯„å­˜å™¨ã€‚ åœ¨ verilog ä¸­ï¼Œä½¿ç”¨ç±»ä¼¼äºŽä¸‹é¢çš„ä»£ç å°±å¯ä»¥å¾ˆå®¹æ˜“çš„å®žçŽ°ä¸Šé¢çš„çŠ¶æ€å€¼è½¬ç§»è¡¨ï¼š ```v reg [5:0] q; always @(posedge clk or negedge rst_n) begin if (!rst_n) begin q[5:0] < 6'b000001; // å¤ä½ end begin q[5:0] < {q[4:0],q[5]}; //æœ€é«˜ä½ä½œä¸ºæœ€ä½Žä½è¾“å…¥ // q[5:0] < {q[0],q[5:1]}; //æœ€ä½Žä½ä½œä¸ºæœ€é«˜ä½è¾“å…¥ end end ``` <! å¯¹åº”çš„çœŸå€¼è¡¨çŠ¶æ€è½¬ç§»å¦‚ä¸‹ï¼š å…¶ä¸­ä»¥ M[5:0] æ¥è¡¨ç¤ºåº•æ¿ä¸Šçš„ LED0 åˆ° LED5ï¼›clk è¡¨ç¤ºç§»ä½è„‰å†²ï¼Œæ¯ 0.5s ä¸€æ¬¡ï¼›N[5:0] è¡¨ç¤ºç»ç§»åŠ¨è„‰å†²åŽçš„ LED0åˆ° LED5 çš„çŠ¶æ€å€¼ã€‚ rst clk M[5:0] N[5:0] 0 x 000001 xxxxxx 0 1 000001 000001 0 1 000001 xxxxxx 0 1 000001 xxxxxx 0 1 000001 xxxxxx 0 1 000001 xxxxxx 0 1 000001 xxxxxx åœ¨ verilog ä¸­ï¼Œä½¿ç”¨ç±»ä¼¼äºŽä¸‹é¢çš„ä»£ç å°±å¯ä»¥å¾ˆå®¹æ˜“çš„å®žçŽ°ä¸Šé¢çš„çŠ¶æ€å€¼è½¬ç§»è¡¨ï¼š ```v always @(posedge clk or negedge rst_n) begin if (!rst_n) begin M[5:0] < 6'b000001; // å¤ä½ N[5:0] < 6'b000001; // å¤ä½ end else begin end end ``` > ## æ“ä½œ ### å¼•è„šå¤ç”¨ READY DONE SSPI ### ç«¯å£å’Œå¼•è„š Port Direction Location rst_n input T10 Clock input H11 led[5] output L16 led[4] output L14 led[3] output N14 led[2] output N16 led[1] output A13 led[0] output C13 ### ä»£ç  .. tabset:: ## water_led.v Verilogæ–‡ä»¶ï¼› å®šä¹‰äº†ä¸€ä¸ªå¤ä½è¾“å…¥ï¼Œä¸€ä¸ªæ—¶é’Ÿè¾“å…¥å’Œå…­ä¸ªè¾“å‡ºç«¯å£ã€‚å¤ä½æœ‰æ•ˆæ—¶é‡ç½®è¾“å‡ºç«¯å£çš„ç”µå¹³çŠ¶æ€ã€‚ ```verilog module led( input rst_n, input Clock, output [5:0] led ); /**********è®¡æ—¶éƒ¨åˆ†**********/ //parameter Clock_frequency 27_000_000; // æ—¶é’Ÿé¢‘çŽ‡ä¸º27Mhz parameter count_value 13_499_999; // è®¡æ—¶ 0.5S æ‰€éœ€è¦çš„è®¡æ•°æ¬¡æ•° reg [23:0] count_value_reg ; // è®¡æ•°å™¨ reg count_value_flag; // IO ç”µå¹³æ ‡å¿— always @(posedge Clock or negedge rst_n) begin if (!rst_n) begin count_value_reg < 23'b0; // æ¸…é›¶è®¡æ•°å™¨ count_value_flag < 1'b0 ; // æ¸…é›¶æ ‡å¿—ä½ end else if ( count_value_reg < count_value ) begin //æ²¡æœ‰è®¡æ•°åˆ° 0.5S count_value_reg < count_value_reg + 1'b1; // ç»§ç»­è®¡æ•° count_value_flag < 1'b0 ; // ä¸äº§ç”Ÿç§»ä½æ ‡å¿— end else begin //è®¡æ•°åˆ° 0.5S äº† count_value_reg < 23'b0; // æ¸…é›¶è®¡æ•°å™¨ï¼Œä¸ºé‡æ–°è®¡æ•°æœ€å‡†å¤‡ count_value_flag < 1'b1 ; // äº§ç”Ÿç§»ä½æ ‡å¿— end end /**********ç”µå¹³çŠ¶æ€ç§»ä½éƒ¨åˆ†**********/ reg [5:0] led_reg 6'b000001; //åˆå§‹åŒ–è¾“å‡º IO ç”µå¹³çŠ¶æ€ always @(posedge Clock or negedge rst_n) begin if (!rst_n) begin led_reg[5:0] < 6'b000001 ; // å¤ä½åŽè¾“å‡º IO ç”µå¹³çŠ¶æ€ end else if ( count_value_flag ) // ç”µå¹³ç§»ä½æ ‡å¿—æœ‰æ•ˆ led_reg[5:0] < { led_reg[4:0],led_reg[5] } ; // IO ç”µå¹³ç§»ä½ else // ç”µå¹³ç§»ä½æ ‡å¿—æ— æ•ˆ led_reg[5:0] < led_reg[5:0] ; // IO ç”µå¹³ä¸å˜ end /**********å¯„å­˜å™¨å˜é‡ä¸Žç«¯å£è¿žæŽ¥**********/ assign led[5:0] led_reg[5:0] ; endmodule ``` ## water_led.cst ç‰©ç†çº¦æŸæ–‡ä»¶ï¼› å°† verilog ä»£ç é‡Œçš„ç«¯å£ç»‘å®šåˆ° FPGA å¼•è„šä¸Šé¢ ```txt IO_LOC \"led[5]\" L16; IO_PORT \"led[5]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[4]\" L14; IO_PORT \"led[4]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[3]\" N14; IO_PORT \"led[3]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[2]\" N16; IO_PORT \"led[2]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[1]\" A13; IO_PORT \"led[1]\" PULL_MODE UP DRIVE 8; IO_LOC \"led[0]\" C13; IO_PORT \"led[0]\" PULL_MODE UP DRIVE 8; IO_LOC \"Clock\" H11; IO_PORT \"Clock\" PULL_MODE UP; IO_LOC \"rst_n\" T10; IO_PORT \"rst_n\" PULL_MODE UP; ``` ## æ•ˆæžœ æŒ‰ä¸‹ S0 æŒ‰é”®ï¼ŒLED0 ç­ï¼Œå…¶ä½™ LED å‡äº®ã€‚ æ¾å¼€ S0 æŒ‰é”®ï¼ŒLED0 åˆ° LED5 ä¾æ¬¡åªç†„ç­ä¸€ä¸ªï¼ŒLED5 ç†„ç­åŽæ˜¯ LED0 ç†„ç­ï¼Œå½¢æˆäº†é—­çŽ¯çš„æ•ˆæžœã€‚ <! æ¾å¼€ S0 æŒ‰é”®æŒ‰ä¸‹ S0 æŒ‰é”® <img src \"./assets/key_led_on/led_off.png\" alt \"led_off\"><img src \"./assets/key_led_on/led_on.png\" alt \"led_on\"> > ## è¡¥å…… å¦‚æžœå°† `water_led.v` æ–‡ä»¶é‡Œæœ€åŽéƒ¨åˆ†çš„ ```verilog assign led[5:0] led_reg[5:0] ; ``` æ”¹æˆ ```verilog assign led[5:0] ~led_reg[5:0] ; ``` é‚£ä¹ˆæ¯æ¬¡åªä¼šæœ‰ä¸€ä¸ª LED äº®èµ·æ¥ï¼Œè€Œä¸æ˜¯äº”ä¸ª LED äº®ç€ã€‚ <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/tang-mega-138k/mega-138k.html":{"title":"Tang Mega 20K","content":" title: Tang Mega 20K keywords: FPGA, Tang, Mega, 20K update: date: 2023 06 29 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ ## èŠ¯ç‰‡å‚æ•° <table> <tbody> <tr> <td>åž‹å·</td> <td>GW5AST 138</td> </tr> <tr> <td>é€»è¾‘å•å…ƒ(LUT4)</td> <td>138,240</td> </tr> <tr> <td>å¯„å­˜å™¨(REG)</td> <td>138,240</td> </tr> <tr> <td>åˆ†å¸ƒå¼é™æ€éšæœºå­˜å‚¨å™¨SSRAM(Kbits)</td> <td>1,080</td> </tr> <tr> <td>å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨BSRAM(Kbits)</td> <td>6,120</td> </tr> <tr> <td>å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨æ•°ç›®BSRAM(ä¸ª)</td> <td>340</td> </tr> <tr> <td>DSP</td> <td>298</td> </tr> <tr> <td>æœ€å¤šé”ç›¸çŽ¯(PLLs)</td> <td>12</td> </tr> <tr> <td>å…¨å±€æ—¶é’Ÿ</td> <td>16</td> </tr> <tr> <td>é«˜é€Ÿæ—¶é’Ÿ</td> <td>24</td> </tr> <tr> <td>Transceivers</td> <td>8</td> </tr> <tr> <td>Transceivers é€ŸçŽ‡</td> <td>270Mbps 12.5Gbps</td> </tr> <tr> <td>PCIE ç¡¬æ ¸</td> <td>1,<br>x1, x2, x4, x8 PCIe 2.0</td> </tr> <tr> <td>LVDS (Gbps)</td> <td>1.25</td> </tr> <tr> <td>DDR3 (Mbps)</td> <td>1,333</td> </tr> <tr> <td>MIPI D PHYç¡¬æ ¸</td> <td>2.5Gbpsï¼ˆRXï¼‰ï¼Œ<br>8ä¸ªæ•°æ®é€šé“ï¼Œ<br>2ä¸ªæ—¶é’Ÿé€šé“</td> </tr> <tr> <td>ç¡¬æ ¸å¤„ç†å™¨</td> <td>RiscV AE350_SOC</td> </tr> <tr> <td>ADC</td> <td>2</td> </tr> </tbody> </table>"},"/hardware/zh/tang/tang-nano-20k/example/led.html":{"title":"Tang Nano 20K ç‚¹ç¯","content":" title: Tang Nano 20K ç‚¹ç¯ keywords: FPGA, Tang, Nano, 20K update: date: 2023 03 24 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ è¿™é‡Œæˆ‘ä»¬ç”¨ç‚¹äº®æ¿å­ä¸Šçš„LEDæ¥ä½œä¸ºä¾‹ç¨‹æ¥å¿«é€Ÿç†Ÿæ‚‰ä¸€ä¸‹é«˜äº‘åŠå¯¼ä½“ IDE çš„ä½¿ç”¨æµç¨‹ å¯¹äºŽè½¯ä»¶å¼€å‘æ¥è¯´ï¼Œè¾“å‡º `hello world` å°±æ˜¯å…¥é—¨äº†ã€‚å¯¹äºŽç¡¬ä»¶ç›¸å…³çš„å¼€å‘è€Œè¨€ï¼Œç‚¹ç¯å°±æ˜¯åŒæ¬¾å…¥é—¨ã€‚ ## å®‰è£… IDE å‚è€ƒ [å®‰è£…IDE](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/install the ide.html) æ¥å®Œæˆæˆ‘ä»¬éœ€è¦å‡†å¤‡çš„è½¯ä»¶çŽ¯å¢ƒã€‚ å¯¹äºŽ Linux ç”¨æˆ·çš„è¯å»ºè®®ä½¿ç”¨ [openfpgaLoader](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/flash_in_linux.html) è¿™è½¯ä»¶æ¥çƒ§å½•è¿™æ¬¾è®¾å¤‡ã€‚ ## æ–°å»ºå·¥ç¨‹ æ–‡ä»¶ > æ–°å»º > FPGA Design > Project <div> <img src \"./../../tang primer 20k/examples/assets/led_assets/new_project.png\" width 58% alt \"new_project\"> <img src \"./../../tang primer 20k/examples/assets/led_assets/fpga_project.png\" width 35% alt \"fpga_project\"> </div> è®¾ç½®å·¥ç¨‹åç§°ï¼Œè¦æ±‚åªç”¨è‹±æ–‡çš„ä¸‹åˆ’çº¿å‘½åï¼Œå­˜æ”¾è·¯å¾„ä¸­ä¸è¦æœ‰ä¸­æ–‡å­—ç¬¦æˆ–è€…ç©ºæ ¼ç­‰ç‰¹æ®Šç¬¦å·ã€‚ ![project_path](./../../tang primer 20k/examples/assets/led_assets/project_path.png) ç„¶åŽåœ¨ä¸‹é¢çš„èŠ¯ç‰‡åž‹å·ä¸­é€‰æ‹© GW2AR LV18QN88C8/I7ï¼Œä½¿ç”¨ä¸Šé¢çš„ç­›é€‰èƒ½å¤Ÿæ›´å¿«åœ°é€‰æ‹©åˆ°æ­£ç¡®çš„åž‹å·ã€‚æ³¨æ„ Device é‚£ä¸€æ ä¸º GW2AR 18Cã€‚ ![device_choose](./../assets/led/nano_20k_device_device_choose.png) ç„¶åŽç‚¹å‡»ç¡®å®šåŽå°±å¯ä»¥è¿›è¡Œæœ€ç»ˆé¡¹ç›®é¢„è§ˆäº†ã€‚ç¡®è®¤æ— è¯¯åŽå°±å®Œæˆå·¥ç¨‹åˆ›å»ºäº†ã€‚ ## ç¼–å†™ä»£ç  ### æ–°å»ºæ–‡ä»¶ é«˜äº‘åŠå¯¼ä½“ IDE æä¾›äº†ä¸‰ç§æ–°å»ºæ–‡ä»¶çš„æ–¹æ³•ã€‚åœ¨æ­¤æˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨å¿«æ·é”® `Ctrl + N` æ¥æ–°å»ºæ–‡ä»¶ï¼Œå…¶ä»–ä¸¤ç§ä¸åœ¨æ­¤è®²è¿°ã€‚ åœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹© `Verilog File`ï¼Œä¼š VHDL çš„ä¹Ÿå¯ä»¥é€‰æ‹©ä¸‹é¢çš„ `VHDL File`ï¼Œè¿™ç¯‡æ–‡ç« åªç”¨ Verilog æ¥åšç‚¹ç¯ç¤ºä¾‹ã€‚ <img src \"./../../tang primer 20k/examples/assets/led_assets/new_verilog_file.png\" width 50% alt \"new_verilog_file\"> ç‚¹å‡» OK ä¹‹åŽä¼šæç¤ºè®©æˆ‘ä»¬è¾“å…¥æ–‡ä»¶åç§°ï¼Œæ­¤å¤„ä»¥ `led` ä¸ºæ–‡ä»¶ååšç¤ºèŒƒã€‚ <img src \"./../../tang primer 20k/examples/assets/led_assets/file_name.png\" width 75% alt \"file_name\"> åˆ°è¿™é‡Œæˆ‘ä»¬å°±å®Œæˆæ–‡ä»¶çš„åˆ›å»ºäº†ï¼Œå¯ä»¥ç›´æŽ¥ç¼–å†™ä»£ç äº†ã€‚ ![nano_20k_created_file.png](./../assets/led/nano_20k_created_file.png.png) ### Verilog ç®€å•è¯´æ˜Ž Verilog æ˜¯ä¸€ç§ç¡¬ä»¶æè¿°è¯­è¨€ï¼Œç”¨æ¥å¯¹æ•°å­—ç”µè·¯è¿›è¡ŒæŠ½è±¡åŒ–æè¿°ã€‚ Verilog çš„åŸºæœ¬è®¾è®¡å•å…ƒæ˜¯â€œæ¨¡å—â€(module)ã€‚ ä¸€ä¸ªæ¨¡å—æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ï¼šä¸€éƒ¨åˆ†æè¿°æŽ¥å£ï¼Œå¦ä¸€éƒ¨åˆ†æè¿°å†…éƒ¨é€»è¾‘åŠŸèƒ½ï¼Œå³å®šä¹‰è¾“å…¥æ˜¯å¦‚ä½•å½±å“è¾“å‡ºçš„ã€‚ ä¸€ä¸ªæ¨¡å—é•¿æˆè¿™æ ·ï¼š ```v module module_name #(parameter) (port) ; function endmodule ``` æ¨¡å—æ•´ä½“ç»“æž„ç”± module å’Œ endmodule ç»„æˆï¼Œmodule åŽé¢è·Ÿç€çš„æ˜¯æ¨¡å—çš„åç§°(module_name)ï¼Œå¯ä¼ é€’å˜é‡å‚æ•°(parameter)ï¼Œç«¯å£åŠå…¶æ–¹å‘çš„ç”³æ˜Ž(port)ï¼Œç´§æŽ¥ç€å°±æ˜¯å†…éƒ¨é€»è¾‘åŠŸèƒ½æè¿°(function) ,æœ€åŽç”¨ endmodule æ¥è¡¨ç¤ºè¿™ä¸€ä¸ªæ¨¡å—ï¼Œæè¿°å®Œæ¯•ã€‚ å†…éƒ¨é€»è¾‘åŠŸèƒ½é€šå¸¸ç”± assign å’Œ always å—å®Œæˆï¼›å…¶ä¸­ assign è¯­å¥æè¿°é€»è¾‘åŠŸèƒ½ï¼Œalways å—å¸¸ç”¨äºŽæè¿°æ—¶åºåŠŸèƒ½ã€‚ ### é˜»å¡žèµ‹å€¼ä¸Žéžé˜»å¡žèµ‹å€¼ åœ¨æ—¶åºé€»è¾‘æè¿°ä¸­ï¼Œèµ‹å€¼ç¬¦å·æœ‰ ` ` å’Œ `< ` ä¸¤ç§ã€‚æ³¨æ„ `< ` åœ¨ if åˆ¤æ–­è¯­å¥ä¸­ä¸ºå°äºŽæˆ–ç­‰äºŽï¼Œä¸æ˜¯èµ‹å€¼ç¬¦å·ã€‚ è¯¦ç»†è§£é‡ŠæŸ¥çœ‹åº•éƒ¨çš„ [é˜»å¡žèµ‹å€¼ä¸Žéžé˜»å¡žèµ‹å€¼åŒºåˆ«](#é˜»å¡žèµ‹å€¼ä¸Žéžé˜»å¡žèµ‹å€¼åŒºåˆ«) ### ä»£ç æ€è·¯ å†™ä»£ç å‰æˆ‘ä»¬éœ€è¦å…ˆæƒ³æ¸…æ¥šä»£ç ç›®çš„ï¼šæ¯éš” 0.5S ç¯é—ªä¸€æ¬¡ã€‚ å¯¹æ­¤æ‰€ç”»çš„éœ€æ±‚æ¡†å›¾å¦‚ä¸‹ï¼š ![block_method](./../../tang primer 20k/examples/assets/led_assets/block_method.png) ç„¶åŽå¯¹äºŽ 0.5S æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨æ¥è®¡æ—¶ï¼ŒLED ç¯é—ªå°±æ˜¯ IO ç¿»è½¬ ![count_block](./../../tang primer 20k/examples/assets/led_assets/time_count.png) æŠŠä¸Šé¢çš„æ€ç»´æ¡†å›¾å…·ä½“åˆ°å®žé™…ä½¿ç”¨çš„è¯ï¼Œå°±å˜æˆä¸‹é¢çš„æ ·å¼äº†: ![clock_time_count](./../../tang primer 20k/examples/assets/led_assets/clock_time_count.png) å…¶ä¸­ Clock ä¸ºæ—¶é’Ÿæºï¼Œç”¨æ¥ç»™è®¡æ—¶å™¨æä¾›å‡†ç¡®çš„æ—¶é—´ã€‚ ### ä»£ç æè¿° æ ¹æ®ä¸Šæ–‡ Verilog ç®€å•è¯´æ˜Žå’Œæ‰€æè¿°çš„æ¡†å›¾ï¼Œå¯ä»¥æ‰€è¦ç¼–å†™ Verilog æ¨¡å—æœ‰ Clock å’Œ IOç”µå¹³ ä¸¤ä¸ªç«¯å£ï¼› ```v module led( input Clock, output IO_voltage ); endmodule ``` å¯¹äºŽå†…éƒ¨çš„è®¡æ—¶æ¨¡å—ï¼ŒPrimer 20K æ ¸å¿ƒæ¿ä¸Šçš„æ™¶æŒ¯ä¸º 27MHZï¼Œå› æ­¤æˆ‘ä»¬æ¯ç§’é’Ÿä¼šæœ‰ 27000000 ä¸ªæ—¶é’Ÿä¸Šå‡æ²¿ï¼Œæƒ³è¦ 0.5S è®¡æ•°çš„è¯é‚£ä¹ˆåªéœ€è¦è®¡æ•° 13500000 æ¬¡ä¸Šå‡æ²¿å°±å¥½ã€‚è®¡æ•°æ˜¯ä»Ž 0 å¼€å§‹çš„ï¼Œæ•° 13500000 çš„è¯å°±æ˜¯ä»Ž 0 æ•°åˆ° 13499999ã€‚è®¡æ•°å®ŒåŽæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½ï¼Œæ¥é€šçŸ¥ LED çš„ IO ç¿»è½¬ä¸€ä¸‹ç”µå¹³ã€‚æ•´ä½“è®¡æ•°ä»£ç å¦‚ä¸‹ï¼š ```v //parameter Clock_frequency 27_000_000; // æ—¶é’Ÿé¢‘çŽ‡ä¸º27Mhz parameter count_value 13_499_999; // è®¡æ—¶ 0.5S æ‰€éœ€è¦çš„è®¡æ•°æ¬¡æ•° reg [23:0] count_value_reg ; // è®¡æ•°å™¨ reg count_value_flag; // IO ç”µå¹³ç¿»è½¬æ ‡å¿— always @(posedge Clock) begin if ( count_value_reg < count_value ) begin //æ²¡æœ‰è®¡æ•°åˆ° 0.5S count_value_reg < count_value_reg + 1'b1; // ç»§ç»­è®¡æ•° count_value_flag < 1'b0 ; // ä¸äº§ç”Ÿç¿»è½¬æ ‡å¿— end else begin //è®¡æ•°åˆ° 0.5S äº† count_value_reg < 23'b0; // æ¸…é›¶è®¡æ•°å™¨ï¼Œä¸ºé‡æ–°è®¡æ•°æœ€å‡†å¤‡ count_value_flag < 1'b1 ; // äº§ç”Ÿç¿»è½¬æ ‡å¿— end end ``` å¯¹äºŽ LED IO ç”µå¹³ç¿»è½¬ä»£ç å¦‚ä¸‹ï¼š ```v reg IO_voltage_reg 1'b0; // å£°æ˜Ž IO ç”µå¹³çŠ¶æ€ç”¨äºŽè¾¾åˆ°è®¡æ—¶æ—¶é—´åŽçš„ç¿»è½¬ï¼Œå¹¶èµ‹äºˆä¸€ä¸ªä½Žç”µå¹³åˆå§‹æ€ always @(posedge Clock) begin if ( count_value_flag ) // ç”µå¹³ç¿»è½¬æ ‡å¿—æœ‰æ•ˆ IO_voltage_reg < ~IO_voltage_reg; // IO ç”µå¹³ç¿»è½¬ else // ç”µå¹³ç¿»è½¬æ ‡å¿—æ— æ•ˆ IO_voltage_reg < IO_voltage_reg; // IO ç”µå¹³ä¸å˜ end ``` å°†ä¸Šé¢çš„ä»£ç æ•´åˆåŽå°±å˜æˆäº†ä¸‹é¢çš„å†…å®¹: ```v module led( input Clock, output IO_voltage ); /**********è®¡æ—¶éƒ¨åˆ†**********/ //parameter Clock_frequency 27_000_000; // æ—¶é’Ÿé¢‘çŽ‡ä¸º27Mhz parameter count_value 13_499_999; // è®¡æ—¶ 0.5S æ‰€éœ€è¦çš„è®¡æ•°æ¬¡æ•° reg [23:0] count_value_reg ; // è®¡æ•°å™¨ reg count_value_flag; // IO ç”µå¹³ç¿»è½¬æ ‡å¿— always @(posedge Clock) begin if ( count_value_reg < count_value ) begin //æ²¡æœ‰è®¡æ•°åˆ° 0.5S count_value_reg < count_value_reg + 1'b1; // ç»§ç»­è®¡æ•° count_value_flag < 1'b0 ; // ä¸äº§ç”Ÿç¿»è½¬æ ‡å¿— end else begin //è®¡æ•°åˆ° 0.5S äº† count_value_reg < 23'b0; // æ¸…é›¶è®¡æ•°å™¨ï¼Œä¸ºé‡æ–°è®¡æ•°æœ€å‡†å¤‡ count_value_flag < 1'b1 ; // äº§ç”Ÿç¿»è½¬æ ‡å¿— end end reg IO_voltage_reg 1'b0; // å£°æ˜Ž IO ç”µå¹³çŠ¶æ€ç”¨äºŽè¾¾åˆ°è®¡æ—¶æ—¶é—´åŽçš„ç¿»è½¬ï¼Œå¹¶èµ‹äºˆä¸€ä¸ªä½Žç”µå¹³åˆå§‹æ€ /**********ç”µå¹³ç¿»è½¬éƒ¨åˆ†**********/ always @(posedge Clock) begin if ( count_value_flag ) // ç”µå¹³ç¿»è½¬æ ‡å¿—æœ‰æ•ˆ IO_voltage_reg < ~IO_voltage_reg; // IO ç”µå¹³ç¿»è½¬ else // ç”µå¹³ç¿»è½¬æ ‡å¿—æ— æ•ˆ IO_voltage_reg < IO_voltage_reg; // IO ç”µå¹³ä¸å˜ end /**********è¡¥å……ä¸€è¡Œä»£ç **********/ assign IO_voltage IO_voltage_reg; endmodule ``` ä¸Šé¢ä»£ç æœ€åŽé¢è¡¥å……äº†ä¸€è¡Œä»£ç ï¼Œæ˜¯å› ä¸º IO_voltage å£°æ˜Žåœ¨äº† port ä½ç½®ï¼Œé»˜è®¤ä¸º wire åž‹ï¼Œæƒ³è¦å°†å®ƒä¸Ž reg å˜é‡ IO_voltage_reg è¿žæŽ¥èµ·æ¥ï¼Œéœ€è¦ç”¨åˆ° assign è¯­å¥ã€‚ ## ç»¼åˆï¼Œçº¦æŸï¼Œå¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ ä»£ç ä¿å­˜åŽï¼Œå¯ä»¥åŒå‡» IDE å†…éƒ¨çš„ Process > Synthesize æ¥è¿›è¡Œä»£ç ç»¼åˆï¼Œå°† verilog ä»£ç å†…å®¹è½¬æ¢ä¸ºç»¼åˆç½‘è¡¨ã€‚ ![synthesize](./../../tang primer 20k/examples/assets/led_assets/synthesize.png) å…³äºŽç½‘è¡¨æœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±åŽ»æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œæ­¤å¤„ä¸å†é¢å¤–è¯´æ˜Žã€‚ ### çº¦æŸ ç»¼åˆå®Œä¹‹åŽæˆ‘ä»¬éœ€è¦è¿›è¡Œç®¡è„šçº¦æŸï¼Œæ‰èƒ½å°†æ‰€ç¼–å†™çš„æ¨¡å—ç«¯å£ä¸Ž FPGA å¼•è„šç›¸å¯¹åº”ï¼Œå¹¶ä¸”å®žçŽ°æ¨¡å—çš„åŠŸèƒ½ã€‚ ç‚¹å‡»ä¸Šå›¾ Synthesize ä¸Šé¢çš„ FloorPlanner æ¥è¿›è¡Œç®¡è„šçº¦æŸã€‚ ![floorplanner](./../../tang primer 20k/examples/assets/led_assets/floorplanner.png) ç”±äºŽæ˜¯é¦–æ¬¡åˆ›å»ºï¼Œæ‰€ä»¥ä¼šå¼¹å‡ºä¸‹é¢çš„å¯¹è¯æ¡†ï¼Œç‚¹å‡» OK åŽå°±å¼¹å‡ºäº†å›¾å½¢åŒ–çº¦æŸäº¤äº’ç•Œé¢ã€‚ ![create_constrain_file](./../../tang primer 20k/examples/assets/led_assets/create_constrain_file.png) ![nano_20k_floorplanner_interface](./../assets/led/nano_20k_floorplanner_interface.png) å…³äºŽçº¦æŸçš„æ–¹æ³•å¯ä»¥æŸ¥çœ‹ [SUG935 1.3_Gowinè®¾è®¡ç‰©ç†çº¦æŸç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG935 1.3_Gowin%E8%AE%BE%E8%AE%A1%E7%89%A9%E7%90%86%E7%BA%A6%E6%9D%9F%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) æ­¤å¤„å› ä¸ªäººå–œæ‰€ä»¥ä»…ä½¿ç”¨ä¸‹å›¾ä¸­ IO Constranins æ–¹æ³•æ¥çº¦æŸå¼•è„šï¼š ![floor_planner_ioconstrain](./../../tang primer 20k/examples/assets/led_assets/floor_planner_ioconstrain.png) æ ¹æ®[æ ¸å¿ƒæ¿åŽŸç†å›¾](https://dl.sipeed.com/fileList/TANG/Primer_20K/02_Schematic/)ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“æ™¶æŒ¯æ‰€è¾“å…¥çš„å¼•è„šä¸º PIN04ã€‚ <img src \"./../assets/led/nano_20k_crystal_port.png\" alt \"nano_20k_crystal_port\" width 45%> ç»“åˆåŽŸç†å›¾ä¸Š LED æ‰€è¿žæŽ¥çš„å¼•è„šï¼Œè¿™é‡Œåªå¯¹ LED0 è¿›è¡Œæ“ä½œ ![nano_20k_led_port](./../assets/led/nano_20k_led_port.png) å› æ­¤å¯¹äºŽåœ¨ FloorPlanner äº¤äº’çª—å£ä¸‹é¢çš„ IO Constranins ä¸­å°† PORTï¼ˆç«¯å£ï¼‰ä¸Ž Locationï¼ˆå¼•è„šï¼‰ åˆ†åˆ«å¡«å…¥ä¸‹é¢çš„å€¼ï¼š ![nano_20k_io_constrain_value](./../assets/led/nano_20k_io_constrain_value.png) è¾“å…¥å®Œæ¯•åŽå¿«æ·é”® Ctrl + S æ¥ä¿å­˜ä¸€ä¸‹å¼•è„šçº¦æŸï¼Œç„¶åŽæŽ¥å¯ä»¥å…³é—­ FloorPlanner çš„äº¤äº’å›¾å½¢ç•Œé¢äº†ã€‚ æŽ¥ç€å‘çŽ°åœ¨å·¥ç¨‹é¡¹ç›®é‡Œé¢å¤šå‡ºæ¥åˆšåˆšåˆ›å»ºçš„ cst æ–‡ä»¶äº†ï¼Œé‡Œé¢çš„å†…å®¹ä¹Ÿæ¯”è¾ƒå¥½ç†è§£ã€‚ ![nano_20k_cst_content](./../assets/led/nano_20k_cst_content.png) ### å¸ƒå±€å¸ƒçº¿ å®Œæˆçº¦æŸåŽå°±è¦å¼€å§‹è¿è¡Œå¸ƒå±€å¸ƒçº¿äº†ï¼Œç›®çš„æ˜¯ä¸ºäº†æŠŠç»¼åˆæ‰€ç”Ÿæˆçš„ç½‘è¡¨ä¸Žæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„çº¦æŸæ¥é€šè¿‡ IDE ç®—å‡ºæœ€ä¼˜è§£ç„¶åŽå°†èµ„æºåˆç†åœ°åˆ†é…åœ¨ FPGA èŠ¯ç‰‡ä¸Šã€‚ åŒå‡»ä¸‹å›¾çº¢æ¡†å¤„çš„ Place&Route å°±å¼€å§‹è¿è¡Œäº†ã€‚ ![nano_20k_place_route](./../assets/led/nano_20k_place_route.png)ã€‚ ç´§æŽ¥ç€æ²¡æœ‰æŠ¥é”™ï¼Œå…¨éƒ¨é€šè¿‡ã€‚å°±å¯ä»¥å¼€å§‹è¿›è¡Œçƒ§å½•äº†ã€‚ ## çƒ§å½•å›ºä»¶ Tang Nano 20K æ¿å¡ä¸Šæ­è½½äº† BL616 èŠ¯ç‰‡ï¼Œç”¨æ¥çƒ§å½• FPGA å›ºä»¶åˆ°æ¿å¡ä¸­ã€‚ åœ¨ [å®‰è£…IDE](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/install the ide.html) çš„æ—¶å€™å·²ç»å®‰è£…äº†é©±åŠ¨ã€‚å› æ­¤æˆ‘ä»¬å°†æ¿å­ä¸Žç”µè„‘è¿žæŽ¥èµ·æ¥å°±è¡Œã€‚ ![nano_20k_led_connect_debug](./../assets/led/nano_20k_led_connect_debug.png) ### æ‰«æè®¾å¤‡ åŒå‡»ä¸‹å›¾ä¸­çš„ä¸‹è½½ç¨‹åº(Program Device) æ¥è¿è¡Œ Programmer è½¯ä»¶ ![open_programmer](./../../tang primer 20k/examples/assets/led_assets/open_programmer.png) ç„¶åŽåœ¨æ‰“å¼€çš„é¡µé¢ä¸­ç‚¹å‡»ä¸€ä¸‹ scan_device æ¥æ‰«æåˆ°æˆ‘ä»¬çš„è®¾å¤‡ã€‚ ![nano_20k_scan_device](./../assets/led/nano_20k_scan_device.png) ç‚¹å‡» OK åŽå°±å¯ä»¥æŽ¥ä¸‹æ¥å¯¹ FPGA è¿›è¡Œæ“ä½œäº†ã€‚ çƒ§å½•ç›¸å…³çš„æ–‡æ¡£å¯ä»¥å‚è€ƒ [SUG502 1.3_Gowin_Programmerç”¨æˆ·æŒ‡å—.pdf](http://cdn.gowinsemi.com.cn/SUG502 1.3_Gowin_Programmer%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) ### ä¸‹è½½åˆ° SRAM ä¸€èˆ¬æ¥è¯´è¿™ä¸ªæ¨¡å¼æ˜¯ä»¥ç”¨æ¥å¿«é€ŸéªŒè¯æ‰€ç”Ÿæˆçš„å›ºä»¶æ˜¯å¦æ»¡è¶³è‡ªå·±ç›®çš„çš„ã€‚ å› ä¸ºå…¶çƒ§å½•å¿«çš„ç‰¹æ€§æ‰€ä»¥ä½¿ç”¨çš„è¾ƒå¤šï¼Œç„¶æ˜¯å½“ç„¶æ–­ç”µä¼šä¸¢å¤±æ•°æ®ï¼Œæ‰€ä»¥å¦‚æžœæƒ³ä¸Šç”µè¿è¡Œç¨‹åºçš„è¯æ˜¯ä¸èƒ½é€‰è¿™ä¸ªçš„ã€‚ ç‚¹å‡» Operation ä¸‹é¢çš„åŠŸèƒ½æ¡†æ¥æ‰“å¼€è®¾å¤‡è®¾ç½®ç•Œé¢ï¼ŒæŽ¥ç€åœ¨ Operation æ¡†ä¸­é€‰æ‹© SRAM Program é€‰é¡¹æ¥è®¾ç½®ä¸ºä¸‹è½½åˆ° SRAM ï¼Œæœ€åŽç‚¹å‡»ä¸‹é¢çš„é‚£ä¸‰ä¸ªç‚¹ç‚¹æ¡†æ¥é€‰æ‹©æˆ‘ä»¬æ‰€ç”Ÿæˆçš„ .fs ä¸‹è½½å›ºä»¶ã€‚é€šå¸¸æ¥è¯´ä¸‹è½½å›ºä»¶ç”Ÿæˆä¸Žå·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹çš„ impl > pnr ç›®å½•ä¸‹ã€‚ ![sram_mode](./../assets/led/nano_20K_sram_mode.png) æŽ¥ç€æ¥ç‚¹å‡»çº¢æ¡†å¤„å¼€å§‹è¿›è¡Œçƒ§å½• ![nano_20k_sram_download](./../assets/led/nano_20k_sram_download.png) æœ‰é—®é¢˜çš„è¯å¯ä»¥å‰å¾€ [å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) è‡ªè¡ŒæŽ’æŸ¥ã€‚ åˆ°è¿™é‡Œå°±ä¸‹è½½å®Œæˆäº†ã€‚ ### ä¸‹è½½åˆ° Flash ä¸Šé¢è¯´è¿‡ä¸‹è½½åˆ° SRAM æ˜¯ä¸ºäº†å¿«é€ŸéªŒè¯ï¼Œä½†æ˜¯ä¸èƒ½ä¸Šç”µè¿è¡Œç¨‹åºã€‚ æ‰€ä»¥æƒ³è¦ä¸Šç”µè¿è¡Œçš„è¯æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸‹è½½åˆ° Flashã€‚ å’Œä¸Šé¢ä¸‹è½½åˆ° SRAM çš„æ­¥éª¤å‡ ä¹Žç±»ä¼¼ï¼Œå…ˆç‚¹å¼€ Operation ä¸‹é¢çš„åŠŸèƒ½æ¡†æ¥æ‰“å¼€è®¾å¤‡è®¾ç½®ç•Œé¢ï¼ŒæŽ¥ç€åœ¨ Operation æ¡†ä¸­é€‰æ‹© External Flash Mode é€‰é¡¹æ¥è®¾ç½®ä¸ºä¸‹è½½åˆ°å¤–éƒ¨ Flash ï¼Œæœ€åŽç‚¹å‡»ä¸‹é¢çš„é‚£ä¸‰ä¸ªç‚¹ç‚¹æ¡†æ¥é€‰æ‹©æˆ‘ä»¬æ‰€ç”Ÿæˆçš„ .fs ä¸‹è½½å›ºä»¶ï¼Œé€šå¸¸æ¥è¯´ä¸‹è½½å›ºä»¶ç”Ÿæˆä¸Žå·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹çš„ impl > pnr ç›®å½•ä¸‹ã€‚æœ€åŽåœ¨ä¸‹é¢çš„å¤–éƒ¨ Flash é€‰é¡¹ä¸­é€‰æ‹©è®¾å¤‡ä¸º Generic Flash ã€‚ ![nano_20k_flash_mode](./../assets/led/nano_20k_flash_mode.png) æŽ¥ç€æ¥ç‚¹å‡»çº¢æ¡†å¤„å¼€å§‹è¿›è¡Œçƒ§å½• ![nano_20k_flash_download](./../assets/led/nano_20k_flash_download.png) ç„¶åŽæˆ‘ä»¬çš„ç¨‹åºé‡æ–°ä¸Šç”µä¹Ÿèƒ½ç…§æ ·è¿è¡Œäº†ã€‚ ## ä»£ç ç»“æžœ å¦‚å›¾æ‰€ç¤ºï¼Œåªæœ‰ä¸€ä¸ªç¯åœ¨é—ªã€‚ ![nano_20k_led_blink](./../assets/led/nano_20k_led_blink.gif) ## ç»“è¯­ åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»å®Œæˆäº† FPGA çš„ â€œHello worldâ€ äº†ã€‚ä»¥åŽçš„ç¤ºä¾‹å·¥ç¨‹ä¸ä¼šå†å™è¿°æ–°å»ºæ–‡ä»¶ç­‰æ“ä½œäº†ã€‚ ## é˜»å¡žèµ‹å€¼ä¸Žéžé˜»å¡žèµ‹å€¼åŒºåˆ« ä»¥ä¸‹å†…å®¹æ¬è¿è‡ª `å¤§çŒªè¹„å­` ï¼ˆæœ‰æ”¹åŠ¨ï¼‰ï¼š ç¼–å†™ä¸€æ®µç®€å•çš„ä»£ç ï¼Œå¯¹å®ƒè¿›è¡Œç®€å•çš„ä»¿çœŸï¼š ```v module test( input CLK, input [3:0] A, output reg [3:0] B,C,D,E ); always@(posedge CLK) begin B < A; C < B; D A; E D; end endmodule ``` ![simulation_result](./../../tang primer 20k/examples/assets/led_assets/simulation_result.png) æ ¹æ®ä»¿çœŸç»“æžœæˆ‘ä»¬å¯ä»¥çœ‹å‡ºé˜»å¡žå’Œéžé˜»å¡žèµ‹å€¼çš„å·®åˆ«ã€‚è¿™é‡Œå¯¹æ¯” `B` `C` `D` `E` å››ç§ç»“æžœã€‚`< ` å«åšéžé˜»å¡žèµ‹å€¼ï¼ŒåŒä¸€ä¸ª `always` ä¸­çš„ `< ` ä¼šåŒæ—¶æ‰§è¡Œã€‚è¿™å°±é€ æˆäº†ç»¿æ¡†å†…çš„æƒ…å†µï¼š`B` ç›´æŽ¥è¢«èµ‹äºˆ `A` çš„å€¼åŒæ—¶ `C` è¢«èµ‹äºˆ `B` çš„å€¼ã€‚ç”±äºŽè¿™ä¸¤æ­¥æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼Œå°±å¯¼è‡´ `C` è¢«èµ‹äºˆçš„å€¼æ˜¯ `B` çš„æ—§å€¼ï¼Œä¹Ÿå°±é€ æˆäº†å›¾ä¸­æ‰€ç¤ºï¼Œ`C` çš„æ•°æ®å˜åŒ–æ—¶é’Ÿè¦æ…¢ `B` ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚å†è¯´é˜»å¡žèµ‹å€¼ ` `ï¼Œä¹Ÿå°±æ˜¯è¯´åŒä¸€ä¸ª `always` ä¸­ä¸Šä¸€ä¸ª ` ` è¯­å¥æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ª ` ` è¯­å¥ã€‚åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œä¸Šä¸€ä¸ªè¯­å¥ `D` å·²ç»è¢«èµ‹äºˆäº† `A` çš„å€¼ï¼Œæ‰æ‰§è¡ŒæŠŠ `D` çš„å€¼èµ‹ç»™ `E`ï¼Œæ‰€ä»¥ `D` ã€`E` çš„å€¼åœ¨ä»¿çœŸä¸­å§‹ç»ˆä¿æŒä¸€è‡´ã€‚ > ä¸è¿‡ä¸€èˆ¬æ¥è¯´ï¼Œä¸å»ºè®®åœ¨æ—¶åºé€»è¾‘ä¸­ä½¿ç”¨é˜»å¡žèµ‹å€¼ ` `ã€‚ ä¹Ÿå¾—å‡ºäº†é¢å¤–ä¸¤ä¸ªç»“è®ºï¼š ç¬¬ä¸€ï¼Œè¾“å…¥çš„æ•°æ®ä¸æ˜¯å®Œå…¨æœ‰æ•ˆï¼Œä»¥æ—¶é’Ÿè¾¹æ²¿æ—¶åˆ»çš„è¾“å…¥æ•°æ®ä¸ºå‡†ã€‚`posedge` å°±æ˜¯ä»¥ä¸Šå‡æ²¿æ‰§è¡Œï¼Œ`negedge` å°±æ˜¯ä»¥ä¸‹é™æ²¿æ‰§è¡Œã€‚å¦‚æžœæ•°æ®ç»´æŒçš„æ—¶é—´å°äºŽä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œå°±å¾ˆæœ‰å¯èƒ½é‡‡é›†ä¸åˆ°ï¼ˆå¦‚çº¢æ¡†æ‰€ç¤ºï¼‰ã€‚ ç¬¬äºŒã€æ¯æ¬¡è§¦å‘ç‰¹å®šæ—¶é’Ÿè¾¹æ²¿ï¼Œå¯¹åº”çš„ `always` å—å°±ä¼šä»Žå¤´åˆ°å°¾æ‰§è¡Œä¸€æ¬¡ä»£ç ï¼ˆå¦‚ç»¿æ¡†æ‰€ç¤ºï¼‰ï¼Œè€Œä¸æ˜¯ä»Žä¸­é—´æŸå¤„æ‰§è¡Œã€‚ ## å¸¸è§é—®é¢˜ å‰å¾€ [Gowin æ¿å¡å¸¸è§é—®é¢˜æŸ¥çœ‹](./../../Tang Nano Doc/questions.html)"},"/hardware/zh/tang/tang-nano-20k/example/unbox.html":{"title":"Tang Nano 20K å¼€ç®±","content":" title: Tang Nano 20K å¼€ç®± keywords: FPGA, Tang, Nano, 20K update: date: 2023 05 22 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ Tang Nano 20K ä¸»è¦æœ‰æ¸¸æˆå¥—é¤å’Œæ™®é€šå¼€å‘æ¿ä¸¤ç§è´­ä¹°é€‰é¡¹ã€‚ ## åˆæ¬¡é€šç”µ Tang Nano 20K é»˜è®¤çš„å›ºä»¶å†…å®¹æ˜¯ [litex](https://github.com/litex hub) ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ [github](https://github.com/sipeed/TangNano 20K example/tree/main/litex) ç›´æŽ¥ä¸‹è½½å›ºä»¶ã€‚ ä¸Šç”µåŽå¯ä»¥çœ‹åˆ°æ¿å¡ä¸Šçš„å…­é¢— LED ä»¥æµæ°´ç¯æ ·å¼è¿è¡Œç€ã€‚ ![unbox_nano_20k_led_water_flow](./../assets/unbox/unbox_nano_20k_led_water_flow.gif) é€šç”µåŽ win10 å’Œ win11 ä¼šè‡ªåŠ¨åŠ è½½é©±åŠ¨ï¼Œç„¶åŽåœ¨ç”µè„‘çš„è®¾å¤‡ç®¡ç†å™¨ä¸­å¯ä»¥çœ‹åˆ°è‡³å°‘æœ‰ä¸€ä¸ªä¸²å£è®¾å¤‡ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ [Mobaxterm](https://mobaxterm.mobatek.net/) è¿™ç±»æ”¯æŒä¸²å£çš„è½¯ä»¶æ¥æ‰“å¼€å¼€å‘æ¿ä¸Šçš„ä¸²å£ã€‚ ![unbox_device_manager_serial_port](./../assets/unbox/unbox_device_manager_serial_port.png) è®¾ç½®æ³¢ç‰¹çŽ‡ä¸º 115200ï¼Œç„¶åŽæ‰“å¼€å¼€å‘æ¿ä¸Šçš„ä¸²å£ï¼Œå°±èƒ½è¿›å…¥é»˜è®¤ litex å›ºä»¶çš„ç»ˆç«¯äº†ã€‚ ![unbox_uart_litex_terminal](./../assets/unbox/unbox_uart_litex_terminal.png) ä½¿ç”¨ `Tab` è‡ªåŠ¨è¡¥å…¨å‘½ä»¤æ“ä½œå¯ä»¥çœ‹åˆ°æœ‰ä¸€äº›æŒ‡ä»¤èƒ½å¤Ÿè®©æˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨ã€‚ ![unbox_uart_litex_command_list](./../assets/unbox/unbox_uart_litex_command_list.png) ä»¥æœ€ç®€å•çš„ leds ä¸ºä¾‹ï¼Œè¾“å…¥ `leds` å‘½ä»¤ã€‚ ![unbox_uart_litex_leds_command_help](./../assets/unbox/unbox_uart_litex_leds_command_help.png) å¯ä»¥çœ‹åˆ°å®ƒè¦æ±‚ `leds` å‘½ä»¤åŽé¢åŠ ä¸Šä¸€ä¸ª value . ä¸‹é¢æ˜¯åœ¨ä¸²å£ç»ˆç«¯ä¸­è¾“å…¥äº† `leds 62` åŽæ¿å­ä¸Š led çš„å˜åŒ–ã€‚ ![unbox_uart_litex_leds_command_control](./../assets/unbox/unbox_uart_litex_leds_command_control.png) å¯ä»¥çœ‹åˆ°æ¿å­ä¸Šåªæœ‰ä¸€é¢— LED äº®èµ·ã€‚ ![unbox_uart_litex_leds_command](./../assets/unbox/unbox_uart_litex_leds_command.jpg) å¦‚æžœè¾“å…¥çš„æ•°å­—è¿‡å¤§çš„è¯ï¼Œå®ƒä¼šåœ¨ä¸²å£æç¤ºå°† led çŠ¶æ€è®¾ç½®æˆäº† `0xffffffff`ã€‚ ![unbox_uart_litex_leds_max_value](./../assets/unbox/unbox_uart_litex_leds_max_value.png) ## éšè—åŠŸèƒ½ ä¸Šé¢çš„ litex ç›¸å…³çš„ç»ˆç«¯æ“ä½œéƒ½æ˜¯åœ¨ FPGA ä¸Šè¿è¡Œçš„ï¼ŒTang Nano 20K é™¤äº† GW2AR 18C FPGA å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¿è½½çš„ BL616 èŠ¯ç‰‡ï¼Œå¯ä»¥è¿›å…¥å®ƒçš„ç»ˆç«¯æ¥è¿›è¡Œå…¶ä»–æ“ä½œã€‚ å’Œå‰é¢ä¸€æ ·ï¼Œåœ¨ Mobaxterm ä¸­æ‰“å¼€ä¸²å£ä¹‹åŽï¼Œå¯ä»¥ä½¿ç”¨ç»„åˆé”® `Ctrl + x` ç„¶åŽ `Ctrl + c`ï¼Œæœ€åŽæŒ‰ä¸‹å›žè½¦æ¥è¿›å…¥ BL616 èŠ¯ç‰‡ç»ˆç«¯ã€‚ ![unbox_uart_bl616_terminal](./../assets/unbox/unbox_uart_bl616_terminal.png) ç„¶åŽæŒ‰ä¸‹å›žè½¦å°±åˆ°äº†ç»ˆç«¯äº†ã€‚æ”¯æŒ tab è¡¥å…¨å‘½ä»¤ã€‚ ![unbox_uart_bl616_command_list](./../assets/unbox/unbox_uart_bl616_command_list.png) è¿™é‡Œä¸»è¦éœ€è¦å…³æ³¨ `pll_clk` å’Œ `choose` è¿™ä¸¤ä¸ªå‘½ä»¤ã€‚ ### pll_clk Tang Nano 20K æ¿å­ä¸Šå¸¦æœ‰ä¸€é¢— MS5351 ç²¾å‡†æ—¶é’Ÿå‘ç”Ÿå™¨ï¼Œå®ƒç”± BL616 ç»ˆç«¯çš„ `pll_clk` å‘½ä»¤æ¥æŽ§åˆ¶ã€‚ ![unbox_uart_bl616_pllclk_command](./../assets/unbox/unbox_uart_bl616_pllclk_command.png) MS5351 æ”¯æŒä¸‰è·¯æ—¶é’Ÿè¾“å‡ºï¼Œåœ¨åŽŸç†å›¾ä¸­å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å¯¹åº”å…³ç³»ï¼š ![unbox_uart_bl616_ms351_clk_pin](./../assets/unbox/unbox_uart_bl616_ms351_clk_pin.png) ä¸Šå›¾è¡¨ç¤º CLK0 æ—¶é’Ÿè¿žæŽ¥åˆ°äº† FPGA çš„ PIN10 å¼•è„šï¼ŒCLK1 æ—¶é’Ÿè¿žæŽ¥åˆ°äº† FPGA çš„ PIN11 å¼•è„šï¼ŒCLK2 æ—¶é’Ÿè¿žæŽ¥åˆ°äº† FPGA çš„ PIN13 å¼•è„š. é…ç½® CLK1 è¾“å‡º 50M æ—¶é’Ÿ `pll_clk O1 50M` <table> <tr> <td><img src \"./../assets/unbox/unbox_uart_bl616_ms351_set_o1_clk_50m.png\" alt \"unbox_uart_bl616_ms351_set_o1_clk_50m\"></td> <td> â‘  è¾“å…¥å‘½ä»¤åŽå¯ä»¥çœ‹åˆ°ä¸‹é¢æœ‰ä¸€äº› log <br> â‘¡ å†æ¬¡è¾“å…¥ `pll_clk` æŸ¥çœ‹å½“å‰çš„é…ç½® <br> â‘¢ å¯ä»¥çœ‹åˆ° O1 ç›®å‰æ˜¯ 50M é…ç½® <br> â‘£ æ­¤å¤„çš„ [EN] è¡¨ç¤º O1 æ­£å¸¸å·¥ä½œï¼Œ[DIS] è¡¨ç¤ºè¢«ç¦ç”¨ </td> </tr> </table> ç¦ç”¨ CLK1 `pll_clk O1` <table> <tr> <td><img src \"./../assets/unbox/unbox_uart_bl616_ms351_disable_o1_clk.png\" alt \"unbox_uart_bl616_ms351_disable_o1_clk\"></td> <td> â‘  æŸ¥çœ‹å½“å‰é…ç½®çŠ¶æ€ <br> â‘¡ CLK1 æ­£å¸¸å·¥ä½œçŠ¶æ€ <br> â‘¢ æ‰§è¡Œç¦ç”¨ CLK1 æŒ‡ä»¤ <br> â‘£ CLK1 è¢«ç¦ç”¨ </td> </tr> </table> ä¿å­˜é…ç½® `pll_clk s` ![unbox_uart_bl616_ms351_save](./../assets/unbox/unbox_uart_bl616_ms351_save.png) è®¾ç½® CLK2 è¾“å‡º 100M æ—¶é’Ÿå¹¶ä¸”ä¿å­˜ `pll_clk O2 100M s` ![unbox_uart_bl616_ms351_clk2_100m](./../assets/unbox/unbox_uart_bl616_ms351_clk2_100m.jpg) ### choose `choose` å‘½ä»¤åœ¨ BL616 èŠ¯ç‰‡ä¸­çš„ä½œç”¨æ˜¯é€‰æ‹© BL616 ä¸Ž FPGA çš„é€šä¿¡æ–¹å¼ã€‚ ![unbox_uart_bl616_choose_list](./../assets/unbox/unbox_uart_bl616_choose_list.png) æ‰“å¼€ä¸²å£æ—¶é»˜è®¤ä½¿ç”¨çš„æ˜¯ `uart` æ¨¡å¼ã€‚åœ¨ä½¿ç”¨å‘½ä»¤ `Ctrl + x`å’Œ `Ctrl + c`ï¼Œå†æ•²ä¸‹å›žè½¦åŽï¼Œ BL616 é€€å‡ºä¸²å£æ¨¡å¼ï¼Œå›žåˆ°ç»ˆç«¯æ¨¡å¼ã€‚ `uart` æ¨¡å¼æµ‹è¯• åœ¨ BL616 ç»ˆç«¯æ‰§è¡Œ `choose uart` å‘½ä»¤ï¼ŒBL616 ä¸Ž FPGA è¿›è¡Œä¸²å£é€šä¿¡ã€‚ ![unbox_uart_bl616_choose_uart](./../assets/unbox/unbox_uart_bl616_choose_uart.png) è¾“å…¥å®Œå‘½ä»¤åŽç»ˆç«¯ä¼šçœ‹èµ·æ¥å¡ä½äº†ä¸€æ ·ï¼Œå®žé™…ä¸Šè¿™æ˜¯å› ä¸º FPGA æ²¡æœ‰å‘ BL616 å‘é€ä¸²å£æ¶ˆæ¯ã€‚ é»˜è®¤çš„å›ºä»¶æ²¡æœ‰è¢«æ¸…é™¤çš„è¯ï¼Œç»§ç»­æ•²å‡»å›žè½¦å°±ä¼šé‡æ–°å›žåˆ° litex ç»ˆç«¯äº†ã€‚ ä¸Žå‰é¢çš„å™è¿°ä¸€æ ·ï¼Œä½¿ç”¨ç»„åˆé”® `Ctrl + x`å’Œ `Ctrl + c`ï¼Œå†æ•²ä¸‹å›žè½¦åŽï¼Œ BL616 é€€å‡ºä¸²å£æ¨¡å¼ï¼Œå›žåˆ°ç»ˆç«¯æ¨¡å¼ã€‚ ![unbox_uart_bl616_quit_uart_mode](./../assets/unbox/unbox_uart_bl616_quit_uart_mode.png) `spi` æ¨¡å¼æµ‹è¯• SPI æ¨¡å¼æ—¶ï¼ŒBL616 ä½œä¸º FPGA çš„ SPI ä»Žæœºï¼ŒæŽ¥æ”¶ FPGA å‘é€è¿‡æ¥çš„æ•°æ®ã€‚ ## æ¸¸æˆæœºå¥—è£… Tang Nano 20K å¯ä»¥åŠ è½½/è¿è¡Œå¼€æº FPGA NES æ¨¡æ‹Ÿå™¨ [NESTang](https://github.com/nand2mario/nestang)ï¼Œä¸‹é¢ç®€è¿°ä½¿ç”¨æ­¥éª¤ã€‚æºç å¯ä»¥æŸ¥çœ‹ [Tang Nano 20K nestang github example](https://github.com/sipeed/TangNano 20K example/tree/main/nestang) æˆ–è€… [NESTang](https://github.com/nand2mario/nestang)ã€‚ ### ç¡¬ä»¶å‡†å¤‡ ä¸€å— Tang Nano 20K è‡³å°‘ä¸€ä¸ª Joystick æ‰‹æŸ„å’Œæ‰‹æŸ„è½¬æŽ¥æ¿ ä¸€å¼  TF å¡ä¸Žä¸€ä¸ªè¯»å¡å™¨ ä¸€ä¸ªé¢åŒ…æ¿ (ç”¨æ¥ç»„åˆå›ºå®šä½æ¿å­) HDMI æ˜¾ç¤ºå™¨ ### çŽ¯å¢ƒå‡†å¤‡ Windowsï¼š[Gowin Programmer](http://www.gowinsemi.com.cn/faq.aspx) ï¼Œ [balenaEtcher](https://etcher.balena.io/) å’Œ `python` Linux: [Openfpgaloader](https://github.com/trabucayre/openFPGALoader) å’Œ `python` Linux çƒ§å½•æ–¹æ³•å¯ä»¥å‚è€ƒ [Tang Nano 20K nestang github example](https://github.com/sipeed/TangNano 20K example/tree/main/nestang)ï¼Œä¸‹é¢ä¸»è¦åŸºäºŽ Windows ç³»ç»Ÿæ¥è¯´æ˜Žä½¿ç”¨æ­¥éª¤ã€‚ ### çƒ§å½• FPGA å›ºä»¶ ä½¿ç”¨ [Gowin Programmer](http://www.gowinsemi.com.cn/faq.aspx) å°† [è¿™ä¸ªå›ºä»¶](https://dl.sipeed.com/shareURL/TANG/Nano_20K/7_Nestang/firmware) çƒ§å½•åˆ° FPGA çš„ Flash ä¸­ã€‚ ![unbox_burn_nestang_firmware_into_flash](./../assets/unbox/unbox_burn_nestang_firmware_into_flash.png) ### åˆ¶ä½œæ¸¸æˆé•œåƒ ä½¿ç”¨ [è¿™äº›æ–‡ä»¶](https://dl.sipeed.com/shareURL/TANG/Nano_20K/7_Nestang/script)ï¼ˆéƒ½è¦ä¸‹è½½ï¼‰ï¼Œå°†æƒ³è¦è¿è¡Œçš„ NES æ¸¸æˆ è½¬æ¢æˆèƒ½è¢« FPGA è¯†åˆ«çš„æ–‡ä»¶é•œåƒã€‚ ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å°† `1.nes` `2.nes` `3.nes` ä¸‰ä¸ª NES æ¸¸æˆè½¬æ¢æˆæ¸¸æˆé•œåƒæ–‡ä»¶ (games.img)ã€‚ ```bash python nes2img.py o games.img 1.nes 2.nes 3.nes ``` > æç¤º PIL ä¸å­˜åœ¨æ—¶ï¼Œæ‰‹åŠ¨é€šè¿‡ pip å®‰è£…ä¸€ä¸‹ã€‚ åœ¨å½“å‰ç›®å½•ä¸‹å°±æœ‰ç”Ÿæˆçš„æ¸¸æˆé•œåƒæ–‡ä»¶ games.img äº†ã€‚ ### çƒ§å½•æ¸¸æˆé•œåƒ åœ¨ Tang Nano 20K ä¸Šï¼Œéœ€è¦ä½¿ç”¨ TF å¡æ¥å­˜å‚¨æ¸¸æˆï¼Œå› æ­¤éœ€è¦å°†æ¸¸æˆé•œåƒæ–‡ä»¶çƒ§å½•åˆ° TF å¡ã€‚ è¿™é‡Œä½¿ç”¨ [balenaEtcher](https://etcher.balena.io/) è¿™ä¸ªè½¯ä»¶ã€‚ æ‰“å¼€è¿™ä¸ªè½¯ä»¶ï¼Œé€‰æ‹© `Flash from file`, é€‰ä¸­ä¹‹å‰ç”Ÿæˆçš„æ¸¸æˆé•œåƒæ–‡ä»¶ `games.img` <img src \"./../assets/unbox/unbox_burn_nestang_game_image_select_file.png\" alt \"unbox_burn_nestang_game_image_select_file\" width \"48%\"> <img src \"./../assets/unbox/unbox_burn_nestang_game_image_choose_game_image.png\" alt \"unbox_burn_nestang_game_image_choose_game_image\" width \"48%\"> ä¼šå¼¹å‡ºä¸€ä¸ªè­¦å‘Šï¼Œæ­¤æ—¶ç‚¹å‡»ç»§ç»­ã€‚ <img src \"./../assets/unbox/unbox_burn_nestang_game_warn_no_partition_table.png\" alt \"unbox_burn_nestang_game_warn_no_partition_table\" width \"48%\"> æŽ¥ä¸‹æ¥é€‰æ‹©çƒ§å½•çš„ TF å¡ï¼Œä¸è¦é€‰é”™äº†ç›˜ç¬¦ã€‚å‹¾é€‰ TF å¡åŽç‚¹å‡»å›¾ä¸­ â‘¡ å¤„æ¥ç»“æŸé€‰æ‹©ã€‚ <img src \"./../assets/unbox/unbox_burn_nestang_game_change_tfcard_select.png\" alt \"unbox_burn_nestang_game_change_tfcard_select\" width \"48%\"> <img src \"./../assets/unbox/unbox_burn_nestang_game_select_tf_card.png\" alt \"unbox_burn_nestang_game_select_tf_card\" width \"48%\"> ç‚¹å‡»çƒ§å½•ï¼Œæç¤ºçƒ§å½•æˆåŠŸåŽå°±å¯ä»¥å–å‡º TF å¡å¹¶ä¸”å°† TF å¡æ’å…¥åˆ° FPGA äº†ã€‚ <img src \"./../assets/unbox/unbox_burn_nestang_game_burn_game_image.png\" alt \"unbox_burn_nestang_game_burn_game_image\" width \"48%\"> <img src \"./../assets/unbox/unbox_burn_nestang_game_finish_burn_game_image.png\" alt \"unbox_burn_nestang_game_finish_burn_game_image\" width \"48%\"> ### ç»„è£…æ¿å­ æ’å…¥ TF å¡åˆ°æ¿å­ä¸­ ![unbox_burn_nestang_game_tf_card_onsert](./../assets/unbox/unbox_burn_nestang_game_tf_card_onsert.jpg) å°†æ¿å¡å’Œæ‰‹æŸ„è½¬æŽ¥æ¿éƒ½è¿žæŽ¥åœ¨é¢åŒ…æ¿ä¸Š ![unbox_burn_nestang_game_breadboard_connecting](./../assets/unbox/unbox_burn_nestang_game_breadboard_connecting.jpg) æ³¨æ„ä¸Šå›¾çš„çº¢è‰²ç›´çº¿ï¼Œé‚£è¡¨æ˜Žäº†æ‰‹æŸ„è½¬æŽ¥æ¿ä¸Ž FPGA åº”å½“å¯¹åº”çš„å¼•è„š è¿žæŽ¥ä¸Šæ‰‹æŸ„å’Œ HDMI çº¿ ![unbox_burn_nestang_game_connect_hdmi_cable](./../assets/unbox/unbox_burn_nestang_game_connect_hdmi_cable.jpg) > è¿žæŽ¥åŒæ‰‹æŸ„æ—¶ï¼ŒçŽ©å®¶ â‘  ä½¿ç”¨çš„æ˜¯ä¸Šå›¾ä¸­å³ä¾§çš„æ‰‹æŸ„ ### å¼€å§‹æ¸¸æˆ ç»™ Tang Nano 20K é€šä¸Šç”µï¼Œç„¶åŽä¼šæ˜¾ç¤ºå‡ºæ¸¸æˆèœå•ï¼Œé‡Œé¢çš„æ¸¸æˆæ•°é‡å’Œåç§°éƒ½æ˜¯æ ¹æ®åˆ¶ä½œæ¸¸æˆé•œåƒæ–‡ä»¶æ—¶æ‰€ä½¿ç”¨çš„ NES æ¸¸æˆæ–‡ä»¶å’Œåç§°æ¥ç”Ÿæˆçš„ã€‚ ![unbox_burn_nestang_power_game](./../assets/unbox/unbox_burn_nestang_power_game.jpg) æŒ‰ä¸‹æ‰‹æŸ„ä¸Šçš„ `â‘¡` æˆ–è€… `O` æ¥å¯åŠ¨æ¸¸æˆ æŒ‰ä¸‹ FPGA æ¿å­ä¸Šçš„ `S1` æ¥é‡æ–°è¿›å…¥æ¸¸æˆé€‰å• ## ç¼–ç¨‹ä½¿ç”¨ æ‰‹æŠŠæ‰‹æ•™ä¸Šæ‰‹ç‚¹ç¯ > [ç‚¹æˆ‘](https://wiki.sipeed.com/hardware/zh/tang/tang nano 20k/example/led.html)"},"/hardware/zh/tang/tang-nano-20k/nano-20k.html":{"title":"Tang Nano 20K","content":" title: Tang Nano 20K keywords: FPGA, Tang, Nano, 20K update: date: 2023 02 27 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ ## ç®€ä»‹ Tang Nano 20K æ˜¯é‡‡ç”¨é«˜äº‘åŠå¯¼ä½“ [GW2AR 18 QN88](http://www.gowinsemi.com.cn/prod_view.aspx?TypeId 10&FId t3:10:3&Id 167#GW2AR) çš„ä¸€æ¬¾æ ¸å¿ƒæ¿ï¼ŒèŠ¯ç‰‡å†…éƒ¨å…·æœ‰ 20736 ä¸ªé€»è¾‘æŸ¥æ‰¾è¡¨(LUT4) å’Œ 15552 ä¸ªå¯„å­˜å™¨(FF)ï¼Œå†…éƒ¨æœ‰ä¸¤ä¸ª PLLï¼Œè¿˜å¸¦æœ‰å¤šä¸ª DSP å•å…ƒæ”¯æŒ 18ä½ x 18ä½ çš„ä¹˜æ³•è¿ç®—æ¥åŠ é€Ÿæ•°å­—è¿ç®—ã€‚æ¿è½½ [BL616](https://bouffalolab.com/product/?type detail&id 21) èŠ¯ç‰‡æ¥ä½œä¸º FPGA JTAG ä¸‹è½½å™¨å’Œä¸Ž FPGA é€šä¿¡çš„ä¸²å£ã€‚æ¿ä¸Šé»˜è®¤ä½¿ç”¨ 27MHz æ™¶æŒ¯ç”¨äºŽå€é¢‘å‡º HDMI æ˜¾ç¤ºæ‰€éœ€è¦çš„æ—¶é’Ÿï¼Œè¿˜é¢å¤–æ­è½½ MS5351 æ—¶é’Ÿå‘ç”ŸèŠ¯ç‰‡æ¥éšæ„ç”Ÿæˆå¤šç§æ‰€éœ€è¦çš„æ—¶é’Ÿã€‚ æ·˜å®è´­ä¹°é“¾æŽ¥ï¼š[ç‚¹æˆ‘](https://item.taobao.com/item.htm?id 717932028073) ## å¤–è§‚æ¸²æŸ“å›¾ <img src \"./assets/nano_20k/tang_nano_20k_3920_top.png\" width \"40%\"> <img src \"./assets/nano_20k/tang_nano_20k_3920_bot.png\" width \"40%\"> ## è¯¦ç»†å‚æ•° <table> <thead> \t<tr> \t\t<th style \"text align:center\">é¡¹ç›®</th> \t\t<th style \"text align:center\">å‚æ•°</th> \t\t<th style \"text align:center\">è¡¥å……</th> \t</tr> </thead> <tbody> \t<tr> \t\t<td style \"text align:left\">FPGA èŠ¯ç‰‡</td> \t\t<td style \"text align:left\"><a href \"http://www.gowinsemi.com.cn/prod_view.aspx?TypeId 10&amp;FId t3:10:3&amp;Id 167#GW2AR\">GW2AR LV18QN88C8/I7</a> \t\t</td> \t\t<td style \"text align:left\"> \t\t\t<table> \t\t\t\t<tbody> \t\t\t\t\t<tr> \t\t\t\t\t<td>é€»è¾‘å•å…ƒ(LUT4)</td> \t\t\t\t\t<td>20736</td> \t\t\t\t</tr> \t\t\t\t<tr> \t\t\t\t\t<td>å¯„å­˜å™¨(FF)</td> \t\t\t\t\t<td>15552</td> \t\t\t\t</tr> \t\t\t\t<tr> \t\t\t\t\t<td>åˆ†å¸ƒå¼é™æ€éšæœºå­˜å‚¨å™¨S SRAM(bits)</td> \t\t\t\t\t<td>41472</td> \t\t\t\t</tr> \t\t\t\t<tr> \t\t\t\t\t<td>å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨B SRAM(bits)</td> \t\t\t\t\t<td>828K</td> \t\t\t\t</tr> \t\t\t\t<tr> \t\t\t\t\t<td>å—çŠ¶é™æ€éšæœºå­˜å‚¨å™¨æ•°ç›®B SRAM(ä¸ª)</td> \t\t\t\t\t<td>46</td> \t\t\t\t</tr> \t\t\t\t<tr> \t\t\t\t\t<td>32bits SDR SDRAM</td> \t\t\t\t\t<td>64M bits</td> \t\t\t\t</tr> \t\t\t\t<tr> \t\t\t\t\t<td>ä¹˜æ³•å™¨(18x18 Multiplier)</td> \t\t\t\t\t<td>48</td> \t\t\t\t</tr> \t\t\t\t<tr> \t\t\t\t\t<td>é”ç›¸çŽ¯(PLLs)</td> \t\t\t\t\t<td>2</td> \t\t\t\t</tr> \t\t\t\t<tr> \t\t\t\t\t<td>I/O Bank æ€»æ•°</td> \t\t\t\t\t<td>8</td> \t\t\t\t</tr> \t\t\t</tbody></table> \t\t</td> \t</tr> \t<tr> \t\t<td style \"text align:left\">æ¿è½½ä¸‹è½½å™¨</td> \t\t<td style \"text align:left\">BL616</td> \t\t<td style \"text align:left\">Â· ç»™ FPGA æä¾› JTAG ä¸‹è½½åŠŸèƒ½<br>Â· æä¾› USB è½¬ä¸²å£ä¸Ž FPGA é€šä¿¡<br>Â· æä¾›è™šæ‹Ÿä¸²å£ç”¨äºŽ FPGA é€šè¿‡ SPI é€šä¿¡<br>Â· æä¾›è™šæ‹Ÿä¸²å£æŽ§åˆ¶ MS5351 è¾“å‡ºæ—¶é’Ÿ</td> \t</tr> \t<tr> \t\t<td style \"text align:left\">æ—¶é’ŸèŠ¯ç‰‡</td> \t\t<td style \"text align:left\">MS5351</td> \t\t<td style \"text align:left\">ç»™ FPGA èŠ¯ç‰‡æä¾›é¢å¤–çš„ä¸‰è·¯æ—¶é’Ÿ<br> \t\t\t<a href \"https://wiki.sipeed.com/hardware/zh/tang/tang nano 20k/example/unbox.html#pll_clk\">ç‚¹æˆ‘æŸ¥çœ‹ MS5351 é…ç½®æ–¹æ³•</a> \t\t\t</td> \t</tr> \t<tr> \t\t<td style \"text align:left\">æ˜¾ç¤ºæŽ¥å£</td> \t\t<td style \"text align:left\">Â· 40Pins RGB lcd è¿žæŽ¥å™¨<br>Â· HDMI æŽ¥å£</td> \t\t<td style \"text align:left\"></td> \t</tr> \t<tr> \t\t<td style \"text align:left\"> å•è‰² LED </td> \t\t<td style \"text align:left\"> 6 ä¸ª </td> \t\t<td style \"text align:left\"> å…±é˜³æžè¿žæŽ¥ </td> \t</tr> \t<tr> \t\t<td style \"text align:left\"> RGB LED </td> \t\t<td style \"text align:left\"> 1 ä¸ª </td> \t\t<td style \"text align:left\"> åž‹å·æ˜¯ WS2812 </td> \t</tr> \t<tr> \t\t<td style \"text align:left\"> ç”¨æˆ·æŒ‰é”® </td> \t\t<td style \"text align:left\"> 2 ä¸ª </td> \t\t<td style \"text align:left\"> ç”¨äºŽè‡ªå®šä¹‰é€»è¾‘åŠŸèƒ½ </td> \t</tr> \t<tr> \t\t<td style \"text align:left\"> TF å¡æ§½ </td> \t\t<td style \"text align:left\"> 1 ä¸ª </td> \t\t<td style \"text align:left\"> æŽ¨æ‹‰å¼ </td> \t</tr> \t<tr> \t\t<td style \"text align:left\"> åŠŸçŽ‡æ”¾å¤§å™¨ </td> \t\t<td style \"text align:left\"> 1 ä¸ª </td> \t\t<td style \"text align:left\"> åž‹å·æ˜¯ MAX98357Aï¼Œç”¨äºŽæ’­æ”¾éŸ³é¢‘ </td> \t</tr> \t<tr> \t\t<td style \"text align:left\"> å­˜å‚¨ </td> \t\t<td style \"text align:left\"> 64Mbits Flash </td> \t\t<td style \"text align:left\"> ä¸‹è½½æ–¹å¼å‚è€ƒåº•éƒ¨ç›¸å…³é—®é¢˜ </td> \t</tr> \t<tr> \t\t<td style \"text align:left\"> å°ºå¯¸ </td> \t\t<td style \"text align:left\"> 22.55mm x 54.04mm </td> \t\t<td style \"text align:left\"> ç²¾ç¡®å°ºå¯¸å¯ä»¥å‚è€ƒ 3D æ–‡ä»¶ </td> \t</tr> </tbody> </table> ## å¤–è®¾æ¡†å›¾ ![tang_nano_20k_functionalannotation](./assets/nano_20k/tang_nano_20k_functionalannotation.jpg) ä¸‹é¢æ˜¯æ›´è¯¦ç»†çš„å¤–è®¾æ¡†å›¾ <img src \"./assets/nano_20k/tang_nano_20k_functionalannotation_top.png\" width \"40%\" alt \"tang_nano_20k_functionalannotation_top\"> <img src \"./assets/nano_20k/tang_nano_20k_functionalannotation_bot.png\" width \"40%\" alt \"tang_nano_20k_functionalannotation_bot\"> ## å¼•è„šæ¡†å›¾ ![tang_nano_20k_pinlabel](./assets/nano_20k/tang_nano_20k_pinlabel.png) ## FPGA Jtag è§¦ç‚¹æŒ‡ç¤ºå›¾ æˆ‘ä»¬åœ¨ Tang Nano 20K ä¸Šå¼•å‡ºäº† Jtag è§¦ç‚¹ï¼Œæ–¹ä¾¿æƒ³è¦ä½¿ç”¨é¢å¤–ä¸‹è½½å™¨çš„ç”¨æˆ·ã€‚ > Tang Nano 20K æ¿å¡ä¸Šæ˜¯å¸¦æœ‰ä¸‹è½½å™¨çš„ï¼Œè¿™ä¸ªæµ‹è¯•ç‚¹åªæ˜¯ç»™æœ‰é¢å¤–éœ€è¦çš„äººå‡†å¤‡çš„ã€‚ ![tang_nano_20k_testpointlannotation](./assets/nano_20k/tang_nano_20k_testpointlannotation.png) ## ç¡¬ä»¶èµ„æ–™ [æ¿å¡è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/TANG/Nano_20K/1_Datasheet) [æ¿å¡åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Nano_20K/2_Schematic) [PCB BOM](https://dl.sipeed.com/shareURL/TANG/Primer_20K/03_Bit_number_map) (æ ¹æ®è‡ªå·±æ¿å­çš„ç‰ˆæœ¬æŸ¥çœ‹é‡Œé¢çš„ html æ–‡ä»¶) [æ¿å¡å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/TANG/Nano_20K/4_Dimensional_drawing) [æ¿å¡ 3D æ¨¡åž‹](https://dl.sipeed.com/shareURL/TANG/Nano_20K/4_Dimensional_drawing) [éƒ¨åˆ†èŠ¯ç‰‡æ‰‹å†Œ](https://dl.sipeed.com/shareURL/TANG/Nano_20K/6_Chip_manual) ## ä¸Šæ‰‹ä½¿ç”¨ å®‰è£… IDE > ç¼–å†™ä»£ç  > çƒ§å½•è¿›æ¿å­ å®‰è£… IDE [ç‚¹æˆ‘](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/get_started/install the ide.html) å¼€ç®±è¯´æ˜Ž [ç‚¹æˆ‘](https://wiki.sipeed.com/hardware/zh/tang/tang nano 20k/example/unbox.html) ç‚¹ç¯ä¸Šæ‰‹æŒ‡å— [ç‚¹æˆ‘](https://wiki.sipeed.com/hardware/zh/tang/tang nano 20k/example/led.html) æ›´å¤šä¾‹ç¨‹ä»£ç  [github](https://github.com/sipeed/TangNano 20K example) ### å…¶ä»–å­¦ä¹ èµ„æº åœ¨çº¿å…è´¹æ•™ç¨‹ï¼š[Verilog æ•™ç¨‹](https://www.runoob.com/w3cnote/verilog tutorial.html)ï¼ˆå­¦ä¹ Verilogï¼‰ åœ¨çº¿å…è´¹ FPGA æ•™ç¨‹ï¼š[Verilog](https://www.asic world.com/verilog/index.html) ï¼ˆè‹±æ–‡ç½‘ç«™ï¼‰ Verilog åˆ·é¢˜ç½‘ç«™ï¼š[HDLBits](https://hdlbits.01xz.net/wiki/Main_Page)ï¼ˆè‹±æ–‡ç½‘ç«™ï¼‰ åœ¨çº¿é«˜äº‘åŠå¯¼ä½“å¯å‚è€ƒè§†é¢‘æ•™ç¨‹ï¼š[ç‚¹å‡»è¿™é‡Œ](http://www.gowinsemi.com.cn/video_complex.aspx?FId n15:15:26) ## äº¤æµæ–¹å¼ **äº¤æµè®ºå›: [bbs.sipeed.com](https://bbs.sipeed.com)** **QQ äº¤æµç¾¤ï¼š[834585530](https://jq.qq.com/?_wv 1027&k wBb8XUan)** ç›´æŽ¥æœ¬é¡µä¸‹æ–¹ç•™è¨€ å•†ä¸šé‚®ç®± : [support@sipeed.com](support@sipeed.com) ## å¸¸è§é—®é¢˜ ### æ€Žä¹ˆè®©å›ºä»¶ä¸Šç”µå¯åŠ¨ Tang Nano 20K ä½¿ç”¨å¤–éƒ¨ Flash æ¥å­˜æ”¾å›ºä»¶ï¼Œæ‰€ä»¥æƒ³è¦è®©å›ºä»¶å­˜åœ¨æ¿å­ä¸Šæˆ‘ä»¬éœ€è¦çƒ§å½•åˆ°å¤–éƒ¨ Flash. ![nano_20k_flash_mode](./assets/led/nano_20k_flash_mode.png) ### æ›´å¤šé—®é¢˜å‰å¾€ [Tang å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html) æŸ¥çœ‹"},"/hardware/zh/maixsense/maixsense-a010/maixsense-a010.html":{"title":"MaixSense-A010","content":"# MaixSense A010 æ—¶é—´ è´Ÿè´£äºº æ›´æ–°å†…å®¹ : : : : : : 2022.09.10 lyx åˆæ¬¡ç¼–å†™æ–‡æ¡£ 2022.11.12 lyx è¡¥å……ç»†èŠ‚ ## äº§å“æ¦‚è¿° ![ms_small](./assets/ms_s.jpg) **MaixSense A010** æ˜¯ **SIPEED** æŽ¨å‡ºç”± **BL702** + ç‚¬ä½‘ **100x100 TOF** æ‰€ç»„æˆçš„ **3D** ä¼ æ„Ÿå™¨æ¨¡ç»„ï¼Œæœ€å¤§æ”¯æŒ **100x100** çš„åˆ†è¾¨çŽ‡å’Œ **8** ä½ç²¾åº¦å¹¶è‡ªå¸¦ **240Ã—135** åƒç´ çš„ **LCD** å±å¯å®žæ—¶é¢„è§ˆ **colormap** åŽçš„æ·±åº¦å›¾ã€‚ ### èµ„æ–™æ±‡æ€» ç¡¬ä»¶èµ„æ–™ï¼š[ç‚¹å‡»æŸ¥çœ‹ä¸‹è½½](https://dl.sipeed.com/shareURL/MaixSense/MaixSense_A010) Githubï¼š[ç‚¹å‡»æŸ¥çœ‹](https://github.com/sipeed/MaixSense_ROS) ## äº§å“å¼€ç®±æŒ‡å— ### å‡†å¤‡å·¥ä½œ **MaixSense A010** é‡‡ç”¨ä¸²å£åè®®å¯¹å¤–æä¾›æŽ¥å£ä»¥åŠä¼ è¾“æ•°æ®ã€‚ æˆ‘ä»¬æä¾›çš„ç‰©ç†æŽ¥å£æœ‰ type cï¼ˆè™šæ‹Ÿä¸²å£ï¼‰åŠ 1.0mm 4pin æ¯åº§ï¼ˆUARTï¼‰éƒ½èƒ½èŽ·å–æ·±åº¦å›¾æ•°æ®ç”¨äºŽé›†æˆ. **äº§å“æŽ¥çº¿è¯´æ˜Ž** é€šè¿‡ type c æŽ¥å£è¿žæŽ¥ PC ç«¯åŽï¼Œå¯ä»¥è¯†åˆ«åˆ° `/dev/ttyUSBxï¼ˆLinuxï¼‰`æˆ– `COMxï¼ˆWindows)`. ![ms_pinb](./assets/ms_pinb.jpg) è¿˜å¯é€šè¿‡ usb2ttl æ¨¡ç»„æŒ‰ç…§ç¡¬ä»¶å¼•è„šå›¾ï¼ˆè®¾å¤‡å±å¹•æ­£é¢æœä¸‹ï¼‰è¿žæŽ¥ 4pin æ¯åº§ã€‚ <html> <img src \"./assets/ms_pin.jpg\" width 48%> <img src \"./asstes/../assets/ms_pinc.jpg\" width 48%> </html> <table> <tr> <td>MS A010</td> <td>TX</td> <td>RX</td> <td>GND</td> <td>5V</td> </tr> <tr> <td>usb2ttl æ¨¡å—</td> <td>RX</td> <td>TX</td> <td>GND</td> <td>5V</td> </tr> </table> ### ä¸Šç”µäº’åŠ¨é¢„è§ˆ **æŒ‰é”®åŠŸèƒ½**ï¼šå·¦ä¾§ä¸ºâ€œä¸‹ä¸€ä¸ªâ€å³ä¾§ä¸ºâ€œåˆ‡æ¢â€. **å±å¹•æ˜¾ç¤º**ï¼šå±å¹•ä¸­å¿ƒçš„ **+** å­—æ˜¯æµ‹è·ç‚¹ï¼Œå³ä¸Šæ–¹ä¼šå®žæ—¶æ˜¾ç¤º **xx cm** ä»£è¡¨æµ‹è·çš„è·ç¦»ã€‚å¦‚é•œå¤´å‰è¿‘å¤„æœ‰å¤§é¢ç§¯ç‰©ä½“æ—¶å±å¹•å³ä¸Šä¼šæ˜¾ç¤º **â€œblock!â€**è€Œå…¶ä»–æƒ…å†µä¸º **â€œopen!â€**. å°†è®¾å¤‡æŽ¥å…¥ç”µæºåŽï¼Œå¯åœ¨è®¾å¤‡ä¸Šè‡ªå¸¦ LCD å±å®žæ—¶é¢„è§ˆ color map åŽçš„æ·±åº¦ä¼ªå½©å›¾ã€‚ ![ms_lcd](./assets/ms_lcd.jpg) ### PC äº’åŠ¨é¢„è§ˆ åœ¨ PC ç«¯ä¸Šé¢„è§ˆä¿®æ”¹é…ç½®å‰éœ€è¦å…ˆå®‰è£…ä¸Šä½æœºè½¯ä»¶ COMTOOL. **COMTOOL/Windows ç³»ç»Ÿ**ï¼š[ç‚¹å‡»ä¸‹è½½](https://dl.sipeed.com/shareURL/MaixSense/MaixSense_A010/software_pack/comtool) **COMTOOL/Linux ç³»ç»Ÿ**ï¼š[éœ€ç”¨æˆ·è‡ªè¡Œç¼–è¯‘/ç‚¹å‡»è·³è½¬](https://github.com/sipeed/MetaSense ComTool) >æ³¨æ„ï¼šWin 7 åŠä»¥ä¸‹ç³»ç»Ÿéœ€è£…é©±åŠ¨ï¼Œå¯è‡ªè¡Œå‰å¾€ FTDI å®˜ç½‘ä¸‹è½½ã€‚ æ‰“å¼€ COMTOOL è½¯ä»¶åŽé€‰æ‹© `Graph` ç•Œé¢ï¼Œå¦‚æžœè½¯ä»¶ä¸Šæ–¹æ—  `Graph` çš„è¯å¯åœ¨å³ä¸Šè§’ **+** å·å¤„æ·»åŠ  `Graph`ï¼Œåˆ›å»ºåŽè‹¥å±…ä¸­éƒ¨åˆ†ä¸ºç™½æ— å›¾ï¼Œåˆ™**åŒå‡»**å·¦ä¸‹è§’ `MaixSenseLite` å³å¯æ‰“å¼€ç•Œé¢æ˜¾ç¤ºç«¯å£ã€‚ ![ms_comtool](./assets/ms_comtool.jpg) åœ¨å·¦ä¾§ `Port` é€‰æ‹©å°çš„ç«¯å£å’Œå¯¹åº”æ³¢ç‰¹çŽ‡ï¼ˆä»»æ„é€‰æ‹©é«˜æ³¢ç‰¹çŽ‡ï¼‰ï¼Œç‚¹å‡» `open` åŽå†å‹¾é€‰ä¸‹æ–¹ `USB` å³å¯æŽ¥æ”¶å¤§é‡æ•°æ®,å·¦ä¸‹è§’å¤„ä¼šæ˜¾ç¤º **Connected**. ![ms_comtool_two](./assets/ms_comtoolt.jpg) è®¾å®š `Header` ä¸º `\\x00\\xFF` å³å¯è§£æžæ­£ç¡®çš„å›¾åƒæ•°æ®å¹¶è§‚å¯Ÿåˆ°æ·±åº¦å›¾ï¼Œå¯ä»¥ç›´è§‚æ„Ÿå—äºŒç»´å¹³é¢å›¾åƒä¸Šçš„æ·±åº¦ã€‚ ![ms_comtoolh](./assets/ms_comtoolh.jpg) ### äº’åŠ¨é…ç½®è¯´æ˜Ž COMTOOL ä¸Šä½æœºçš„é…ç½®æŽ§ä»¶è¯´æ˜Ž **Header**ï¼šè®¾ç½®è¯†åˆ«åŒ…å¤´ **RawCMD**ï¼šç”¨æˆ·å¯ä»¥æ‰‹åŠ¨å‘é€æŒ‡ä»¤ï¼ˆUSB å’Œ UART ä¸²å£è¡Œä¸ºç›¸åŒï¼‰ **ISP**ï¼šå¯åŠ¨åœæ­¢ **LCD**ï¼šæ˜¾ç¤ºè‡ªå¸¦å±çš„å¼€å¯å…³é—­ **USB**ï¼šä¸²å£ä¼ è¾“æ·±åº¦å›¾å¼€å¯å…³é—­ **UART**ï¼šä¸²å£ä¼ è¾“æ·±åº¦å›¾å¼€å¯å…³é—­ **ANTIMMI**ï¼šè‡ªåŠ¨æŠ—å¤šæœºå¹²æ‰°å¼€å¯å…³é—­ï¼ˆæ˜“å—å¹²æ‰°ï¼Œå…³é—­çš„æ•ˆæžœéƒ½è¦æ›´å¥½äº›ï¼‰ **Binn**ï¼šå¯ä¸‹æ‹‰è®¾ç½® BINNINGï¼ŒBaud è®¾ç½® UART æ³¢ç‰¹çŽ‡ **Xã€Y**ï¼šè®¾ç½®åæ ‡ï¼šD å·¦ä¾§å¤šé€‰æ¡†å¼€å¯åŽæ˜¾ç¤ºå‡ºè¯¥æ‘„åƒå¤´çš„è·ç¦»ã€‚ **Unit**ï¼šè®¾ç½®é‡åŒ–å•ä½ï¼ˆ16ä½é‡åŒ–åˆ°8ä½ï¼Œæ¯”ä¾‹ç¼©å°ï¼Œè®¾ç½®å¤ªå°çš„è¯ä¼šåªèƒ½çœ‹æ¸…å¾ˆè¿‘å¤„çš„å½±åƒï¼‰ **FPS**ï¼šè®¾ç½®å‡ºå›¾å¸§çŽ‡ï¼ˆä¸å®œè¿‡é«˜ï¼Œæ ¹æ®å¯¹æŽ¥è®¾å¤‡çš„æ€§èƒ½åˆç†è®¾ç½®å³å¯ï¼Œå‡å°å¸§çŽ‡å¯ä»¥å‡å°‘ä¼ è¾“æ•°æ®é‡ï¼‰ **Ev**ï¼šæ›å…‰é—´éš™æŽ§åˆ¶ï¼ˆæœ€å·¦ä»£è¡¨ AEï¼Œå…¶ä»–æ˜¯å›ºå®šæ›å…‰æ—¶é—´ï¼‰ ## æ¡ˆä¾‹ï¼šè¿œè¿‘ä¸­ç‰©ä½“å®žæ‹ è®¾å¤‡è‡ªå¸¦ **LCD** å±ä¸Šç”µåŽå¯å®žæ—¶è§‚å¯Ÿåˆ°è¿œè¿‘ä¸­ç‰©ä½“çš„æ·±åº¦å€¼å·®å¼‚ã€‚ ç‰©ä½“ä¸åŒçš„æ”¾ç½®ä½ç½®å½¢æˆè·ç¦»çš„å·®å¼‚ï¼Œè®¾å¤‡æ•æ‰åˆ°å·®å¼‚åŽè½¬åŒ–ä¸ºæ·±åº¦å€¼å¹¶å› è·ç¦»çš„è¿œè¿‘æ˜¾ç¤ºå†·æš–è‰²è°ƒã€‚ ![ms_](./assets/ms_carton.jpg) ## æ¡ˆä¾‹ï¼šæ£€æµ‹äººæµ å®žæ—¶é«˜ç²¾åº¦ï¼Œå¤§åˆ†è¾¨çŽ‡çš„ç›‘æµ‹äººæµé‡èµ°åŠ¨çš„æƒ…å†µå¹¶ä¸”å¿«é€Ÿç»Ÿè®¡å‡ºæ•°æ®ã€‚ ![ms_people](./assets/ms people.jpg) >ä¾‹ç¨‹æºç æš‚æ—¶è¿˜æœªå¼€æºï¼Œå¾…æ•´ç†å…¬å¼€ã€‚ ## æ¡ˆä¾‹ï¼šé”®ç›˜ç¯è·Ÿéš å®žçŽ°è¶…é…·ç‚«çš„é”®ç›˜ç¯è·Ÿéšï¼Œè®¾å¤‡å®žæ—¶è·Ÿè¸ªæ‰‹éƒ¨çš„ä½ç½®å˜åŒ–ï¼Œå†æ ¹æ®æ‰‹éƒ¨çš„ä½ç½®æ˜ å°„é”®ç›˜ç¯ã€‚ **é”®ç›˜ç¯ç›¸å…³ä»£ç æ”¯æŒ**ï¼š[ç‚¹å‡»æŸ¥çœ‹](https://dl.sipeed.com/shareURL/others/maixsense_example) ![ma_lamp](./assets/ms_lamp.jpg) ## æ¡ˆä¾‹ï¼šæŽ¥å…¥ MCU å›  **MaixSense A010** æ‹¥æœ‰å¼ºå¤§çš„å…¼å®¹æ€§ï¼Œå¯åŸºäºŽä¸²å£åè®®å¤–æŽ¥ **K210 Maix bit** è¿™æ ·çš„ **AIOT** å¼€å‘æ¿æˆ–æ ‘èŽ“æ´¾ä¹‹ç±»çš„ **Linux** å¼€å‘æ¿æ¥è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·çš„ä½¿ç”¨æˆ‘ä»¬å¼€æ”¾æŽ¥å…¥ä¾‹ç¨‹ã€‚ .. details::ç‚¹å‡»æŸ¥çœ‹ K210 Maix Bit ä»‹ç» Maix Bit æ˜¯ sipeed Maix ä¸­äº§å“çº¿çš„ä¸€å‘˜ï¼ŒåŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡ K210 è®¾è®¡çš„ä¸€æ¬¾ AIOT å¼€å‘æ¿ã€‚ä»¥ K210 ä½œä¸ºæ ¸å¿ƒå•å…ƒï¼ŒåŠŸèƒ½éžå¸¸å¾ˆå¼ºå¤§ï¼ŒèŠ¯ç‰‡å†…ç½® 64 ä½åŒæ ¸å¤„ç†å™¨ï¼Œæ‹¥æœ‰ 8M çš„ç‰‡ä¸Š SRAMï¼Œåœ¨Alæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹ä¾¿è¡¨çŽ°çªå‡ºï¼Œå†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒ(KPUã€FPUï¼ŒFFTç­‰)ï¼Œæ€»ç®—åŠ›æœ€é«˜å¯è¾¾ 1TOPSï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•,ä¹Ÿå¯ä»¥è¿›è¡Œè¯­éŸ³æ–¹å‘æ‰«æå’Œè¯­éŸ³æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œã€‚ ![bit](./../../../../soft/maixduino/assets/BiT.png) **Maix Bit è´­ä¹°ä¼ é€é—¨**ï¼š[ç‚¹å‡»æŸ¥çœ‹](https://item.taobao.com/item.htm?spm a230r.1.14.11.681570a1yq4sJD&id 586580351110&ns 1&abbucket 10&mt ) **Maix Bit èµ„æ–™ä¼ é€é—¨**ï¼š[æ›´å¤šè¯¦ç»†èµ„æ–™](https://wiki.sipeed.com/hardware/zh/maix/maixpy_develop_kit_board/maix_bit.html) **Maix Bit æºç ä¼ é€é—¨**ï¼š[ç‚¹å‡»æŸ¥çœ‹](./maixsense a010/../code.html#tof_mainpy) <! **MaixSense A010 å¤–æŽ¥ Maix Bit ä¾‹ç¨‹**ï¼š[ç‚¹å‡»æŸ¥çœ‹](http://wiki.sipeed.com/hardware/zh/maixsense/maixsense a010/mcu.html) > ![ms_mcu](./assets/ms_mcu.jpg) ## äºŒæ¬¡å¼€å‘ï¼šä¸²å£åè®® å¯å‚è€ƒä¸Šæ–¹çš„æ¡ˆä¾‹ï¼š**MS A010 å¤–æŽ¥ K210 bit** **MaixSense A010 ä¸²å£åè®®ä¼ é€é—¨**ï¼š[ç‚¹å‡»æŸ¥çœ‹](http://wiki.sipeed.com/hardware/zh/maixsense/maixsense a010/at_command.html) ## äºŒæ¬¡å¼€å‘ï¼šæŽ¥å…¥ ROS ### æŽ¥å…¥ ROS1 **1. å‡†å¤‡å·¥ä½œ** è¿è¡Œ ROS å‰æˆ‘ä»¬è¦å‡†å¤‡é€‚ç”¨çš„çŽ¯å¢ƒï¼š`Linux` ç³»ç»Ÿã€‚ å¯ä½¿ç”¨è™šæ‹Ÿæœº `virtual box` æˆ–è€… `vmware`ï¼š[ç‚¹å‡»èŽ·å–](https://www.vmware.com/cn/products/workstation player/workstation player evaluation.html) ä¹Ÿå¯ä»¥è‡ªè¡Œå®‰è£…åŒç³»ç»Ÿï¼Œå®‰è£…æ–¹æ³•è¯·è‡ªè¡Œæœç´¢æˆ–å‚è€ƒå³ä¾§ï¼š[åŒç³»ç»Ÿå®‰è£…æ•™ç¨‹](https://neucrack.com/p/330) **2. å®‰è£…è¿è¡Œ** ROS æŽ¥å…¥åŒ…ï¼š[ç‚¹å‡»å‰å¾€ä¸‹è½½](https://dl.sipeed.com/shareURL/MaixSense/MaixSense_A010/software_pack/SDK) ```bash #è§£åŽ‹ç¼© sipeed_tof_ms_a010.zipï¼Œå¹¶è¿›å…¥ç›®å½• cd ros1 source /opt/ros/*/setup.sh catkin_make source devel/setup.sh rosrun sipeed_tof_ms_a010 a010_publisher _device: \"/dev/ttyUSB0\" #ä¹‹åŽç»ˆç«¯ä¼šæŒç»­åˆ·æ–°æ˜¾ç¤º[sipeed_tof]: Publishingï¼Œå³æ­£å¸¸å·¥ä½œ ``` ![ros_adb](./assets/ros_adb.jpg) **3. å¯è‡ªè¡Œåœ¨ RQT æŸ¥çœ‹å¸§çŽ‡** ![ms_rosone](./assets/ms_rosone.jpg) **4. RVIZ2 é¢„è§ˆ** æ‰“å¼€ `rviz2` åŽï¼Œåœ¨ç•Œé¢å·¦ä¸‹è§’çš„ `Add` >`By topic` >`PointCloud2æˆ–/depth` >`Image æ·»åŠ ` >`Display/Global Options/Fixed Frame` éœ€è¦ä¿®æ”¹æˆ `tof`ï¼Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤ºç‚¹äº‘ï¼Œæ ¹æ®æ·»åŠ çš„å†…å®¹ï¼Œå·¦ä¾§ä¼šæ˜¾ç¤º `Image` è€Œä¸­é—´åˆ™æ˜¾ç¤ºç‚¹äº‘ã€‚ ![ms_rviz](./assets/ms_rviz.jpg) ### æŽ¥å…¥ ROS2 **1. å‡†å¤‡å·¥ä½œ** è¿è¡Œ ROS å‰æˆ‘ä»¬è¦å‡†å¤‡é€‚ç”¨çš„çŽ¯å¢ƒï¼š`Linux` ç³»ç»Ÿã€‚ å¯ä½¿ç”¨è™šæ‹Ÿæœº `virtual box` æˆ–è€… `vmware`ï¼š[ç‚¹å‡»èŽ·å–](https://www.vmware.com/cn/products/workstation player/workstation player evaluation.html) ä¹Ÿå¯ä»¥è‡ªè¡Œå®‰è£…åŒç³»ç»Ÿï¼Œå®‰è£…æ–¹æ³•è¯·è‡ªè¡Œæœç´¢æˆ–å‚è€ƒå³ä¾§ï¼š[åŒç³»ç»Ÿå®‰è£…æ•™ç¨‹](https://neucrack.com/p/330) > å¦‚æžœçŽ¯å¢ƒåŒæ—¶å®‰è£…äº† ROS1ï¼Œä½¿ç”¨ ROS2 çš„è¯éœ€è¦é€‰é¢å¤–æ‹©æ­£ç¡®çš„ç‰ˆæœ¬ã€‚ ```bash ls /opt/ros ros@ros virtual machine:~/Desktop$ ls /opt/ros noetic rolling ``` **2. å®‰è£…è¿è¡Œ** æˆ‘ä»¬æä¾›äº† ROS2 çš„æŽ¥å…¥åŠŸèƒ½åŒ…ï¼Œç”¨æˆ·éœ€è¦åœ¨è¿è¡Œ ROS2 çš„ç³»ç»Ÿä¸Šç¼–è¯‘å®‰è£…ã€‚ ROS æŽ¥å…¥åŒ…ï¼š[ç‚¹å‡»å‰å¾€ä¸‹è½½](https://dl.sipeed.com/shareURL/MaixSense/MaixSense_A010/software_pack/SDK) ```bash #è§£åŽ‹ç¼©sipeed_tof_ms_a010.zipï¼Œå¹¶è¿›å…¥ç›®å½• cd ros2 source /opt/ros/*/setup.sh colcon build #ï¼ˆå¦‚æç¤ºç¼ºå°‘colconæ—¶éœ€è¦sudo apt install python3 colcon rosï¼‰ source install/setup.sh ros2 run sipeed_tof_ms_a010 publisher ros args p device: \"/dev/ttyUSB0\" #ä¹‹åŽç»ˆç«¯ä¼šæŒç»­åˆ·æ–°æ˜¾ç¤º[sipeed_tof]: Publishingï¼Œå³æ­£å¸¸å·¥ä½œ ``` **3. RQT æŸ¥çœ‹å¸§çŽ‡** ![ms_rqt](asstes/../asstes/../assets/ms_rqt.jpg) **4. RVIZ2 é¢„è§ˆ** æ‰“å¼€ `rviz2` åŽï¼Œåœ¨ç•Œé¢å·¦ä¸‹è§’çš„ `Add` >`By topic` >`PointCloud2æˆ–/depth` >`Image æ·»åŠ ` >`Display/Global Options/Fixed Frame` éœ€è¦ä¿®æ”¹æˆ `tof`ï¼Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤ºç‚¹äº‘ï¼Œæ ¹æ®æ·»åŠ çš„å†…å®¹ï¼Œå·¦ä¾§ä¼šæ˜¾ç¤º `Image` è€Œä¸­é—´åˆ™æ˜¾ç¤ºç‚¹äº‘ã€‚ ![ms_ros](assets/ms_ros.jpg)"},"/hardware/zh/maixsense/maixsense-a010/at_command.html":{"title":"MaixSense-A010 äºŒæ¬¡å¼€å‘æ‰‹å†Œ","content":"# MaixSense A010 äºŒæ¬¡å¼€å‘æ‰‹å†Œ ## AT æŒ‡ä»¤è¡¨ AT Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  +ISP<br>Image Signal Processor :0: turn ISP off<br> 1: turn ISP on Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  +BINN<br>full binning Â  Â  Â  Â  Â  1: output 100x100 pixel frame<br> 2: output 50x50 pixel frame<br> 4: output 25x25 pixel frame<br> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  +DISP<br>display mux Â  Â  Â  Â  Â  0: all off<br> 1: lcd display on<br> 2: usb display on<br> 3: lcd and usb display on<br> 4: uart display on<br> 5: lcd and uart display on<br> 6: usb and uart display on<br> 7: lcd, usb and uart display on +BAUD<br>uart baudrate Â  Â  Â  Â  0: 9600<br> 1: 57600<br> 2: 115200<br> 3: 230400<br> 4: 460800<br> 5: 921600<br> 6: 1000000<br> 7: 2000000<br> 8: 3000000 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  +UNIT<br>quantization unit Â  Â  0: auto<br> 1 10: quantizated by unit(mm) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  +FPS<br>frame per second Â  Â  Â  1 19: set frame per second Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  +Save<br>save config Â  Â  Â  Â  Â  : save current configuration Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¥æ³•ï¼š è¾“å…¥æ‰§è¡Œæ³¨é‡Š AT+ISP? \\rè¿”å›žå½“å‰ISPçŠ¶æ€ AT+ISP ? \\rè¿”å›žæ‰€æœ‰æ”¯æŒçš„ISPçŠ¶æ€ AT+ISP < MODE >\\ré€‰æ‹©ISPçŠ¶æ€ å‚æ•°ï¼š < MODE > å«ä¹‰ 0 \"STOP ISP\" ç«‹å³å…³é—­æ¨¡ç»„ISPï¼Œåœæ­¢IRå‘å°„å™¨ 1 \"LAUNCH ISP\" è®¡åˆ’å¯åŠ¨æ¨¡ç»„ISPï¼Œå®žé™…å‡ºå›¾éœ€ç­‰å¾…1ï½ž2ç§’ ### BINNæŒ‡ä»¤ å¥æ³•ï¼š è¾“å…¥ æ‰§è¡Œ æ³¨é‡Š AT+BINN? \\r è¿”å›žå½“å‰BINNçŠ¶æ€ AT+BINN ? \\r è¿”å›žæ‰€æœ‰æ”¯æŒçš„BINNçŠ¶æ€ AT+BINN < MODE > \\r é€‰æ‹©BINNçŠ¶æ€ å‚æ•°ï¼š < MODE > å«ä¹‰ 1 \"1x1 BINN\" 1x1ç›¸å½“äºŽæ— binningï¼Œå®žé™…å‡ºå›¾åˆ†è¾¨çŽ‡ä¸º100x100ã€‚ 2 \"2x2 BINN\" 2Ã—2binningï¼Œ4ä¸ªåƒç´ ç‚¹åˆå¹¶æˆ1ä¸ªï¼Œå®žé™…å‡ºå›¾åˆ†è¾¨çŽ‡ä¸º50Ã—50è®¡åˆ’å¯åŠ¨æ¨¡ç»„ISPï¼Œå®žé™…å‡ºå›¾éœ€ç­‰å¾…1ï½ž2ç§’ã€‚ 4 \"4x4 BINN\" 4Ã—4binningï¼Œ16ä¸ªåƒç´ ç‚¹åˆå¹¶æˆ1ä¸ªï¼Œå®žé™…å‡ºå›¾åˆ†è¾¨çŽ‡ä¸º25Ã—25ã€‚ ### DISPæŒ‡ä»¤ è¯·æŒ‰éœ€å¼€å¯ï¼Œé¿å…èµ„æºè¿‡åº¦å ç”¨ å¥æ³•ï¼š è¾“å…¥ æ‰§è¡Œ æ³¨é‡Š AT+DISP? \\r è¿”å›žå½“å‰DISPçŠ¶æ€ AT+DISP ? \\r è¿”å›žæ‰€æœ‰æ”¯æŒçš„DISPçŠ¶æ€ AT+DISP < MODE > \\r é€‰æ‹©DISPçŠ¶æ€ å‚æ•°ï¼š < MODE > å«ä¹‰ 0 all off 1 lcd display on 2 usb display on 3 lcd and usb display on 4 uart display on 5 lcd and uart display on 6 usb and uart display on 7 lcd, usb and uart display on ### BAUDæŒ‡ä»¤ å¥æ³•ï¼š è¾“å…¥ æ‰§è¡Œ æ³¨é‡Š AT+BAUD? \\r è¿”å›žå½“å‰BAUDçŠ¶æ€ AT+BAUD ? \\r è¿”å›žæ‰€æœ‰æ”¯æŒçš„BAUDçŠ¶æ€ AT+BAUD < MODE > \\r é€‰æ‹©BAUDçŠ¶æ€ å‚æ•°ï¼š < MODE > å«ä¹‰ 0 9600 1 57600 2 115200 3 230400 4 460800 5 921600 6 1000000 7 2000000 8 3000000 ### UNITæŒ‡ä»¤ å¥æ³•ï¼š è¾“å…¥ æ‰§è¡Œ æ³¨é‡Š AT+UNIT? \\r è¿”å›žå½“å‰UNITå€¼ AT+UNIT ? \\r è¿”å›žæ‰€æœ‰æ”¯æŒçš„UNITå€¼ AT+UNIT < UINT > \\r é€‰æ‹©UNITå€¼ å‚æ•°ï¼š < UINT > å«ä¹‰ 0 \"DEFAULT UNIT\" é‡‡ç”¨é»˜è®¤é‡åŒ–ç­–ç•¥ï¼Œå› tofç‰¹æ€§å¯¼è‡´æˆåƒè¿‘å¤„ç²¾åº¦ä¼˜äºŽè¿œè·ç¦»å¤„ï¼Œæ•…æ”¾å¤§è¿‘è·ç¦»å¤„å·®å¼‚ï¼Œé‡‡ç”¨5.1*sqrt(x)å°†16bitçš„åŽŸæ•°æ®é‡åŒ–ä¸º8bit 1...9 \"QUANTIZE UNIT\" ä»£è¡¨ä»¥x mmä¸ºå•ä½è¿›è¡Œé‡åŒ–ï¼Œå–å€¼è¶Šå°ç»†èŠ‚è¶Šå¤šï¼ŒåŒæ—¶å¯è§†è·ç¦»è¶ŠçŸ­ï¼Œè¯·åˆç†è®¾ç½® ### FPSæŒ‡ä»¤ å¥æ³•ï¼š è¾“å…¥ æ‰§è¡Œ æ³¨é‡Š AT+FPS? \\r è¿”å›žå½“å‰FPSå€¼ AT+FPS ? \\r è¿”å›žæ‰€æœ‰æ”¯æŒçš„FPSå€¼ AT+FPS <FPS> \\r é€‰æ‹©FPSå€¼ å‚æ•°ï¼š < FPS > å«ä¹‰ 1...19 \"frame per second\" tofå‡ºå›¾å¸§çŽ‡ï¼Œè¶Šå¤§è¶Šæµç•… ### SAVEæŒ‡ä»¤ å¥æ³•ï¼š è¾“å…¥ æ‰§è¡Œ æ³¨é‡Š AT+SAVE \\r å›ºåŒ–TOFæ‘„åƒå¤´å½“å‰é…ç½®ï¼Œäº‹åŽéœ€è¦å¤ä½ å¤šæœºå’Œ AE æŒ‡ä»¤å»ºè®®åŠ å…¥ ### ANTIMMIæŒ‡ä»¤ å¥æ³•ï¼š è¾“å…¥ æ‰§è¡Œ æ³¨é‡Š AT+ANTIMMI? \\r è¿”å›žå½“å‰ANTIMMIçŠ¶æ€ AT+ANTIMMI ? \\r è¿”å›žæ‰€æœ‰æ”¯æŒçš„ANTIMMIçŠ¶æ€ AT+ANTIMMI < MODE > \\r é€‰æ‹©ANTIMMIçŠ¶æ€ å‚æ•°ï¼š < MODE > å«ä¹‰ 1 disable anti mmi 0 auto anti mmi 1 41 manual anti mmi usb display on ### å›¾åƒæ•°æ®åŒ…è¯´æ˜Ž ä¸Šç”µé»˜è®¤å¯åŠ¨ISPå¹¶åœ¨æ˜¾ç¤ºå±æ˜¾ç¤ºå›¾åƒï¼ŒåŒæ—¶è¾“å‡ºå›¾åƒæ•°æ®åˆ°uartå’Œusb å›¾åƒæ•°æ®å°è£…æˆåŒ…ï¼ˆæœªç¨³å®šï¼‰ï¼š 1. åŒ…å¤´2å­—èŠ‚ï¼š0X00ã€0XFF 2. åŒ…é•¿åº¦2å­—èŠ‚ï¼šå½“å‰åŒ…å‰©ä½™æ•°æ®çš„å­—èŠ‚æ•° 3. å…¶ä»–å†…å®¹16å­—èŠ‚ï¼šåŒ…æ‹¬åŒ…åºå·ã€åŒ…é•¿åº¦ã€åˆ†è¾¨çŽ‡ç­‰ç­‰ 4. å›¾åƒå¸§ 5. æ ¡éªŒ1å­—èŠ‚ï¼šä¹‹å‰æ‰€æœ‰å­—èŠ‚çš„â€œå’Œâ€ä½Žå…«ä½ 6. åŒ…å°¾1å­—èŠ‚ï¼š0XDD AT+UNIT? å¯æŸ¥è¯¢å½“å‰UNITå€¼ã€‚ è®¾pä¸ºå›¾åƒå¸§å„åƒç´ å€¼ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š è‹¥UNITéž0ï¼Œåˆ™è¯¥åƒç´ ç¦»TOFè·ç¦»è®¡ç®—æ–¹æ³•ä¸º `p` x `UNIT` ; è‹¥UNITä¸º0ï¼Œåˆ™è¯¥åƒç´ ç¦»TOFè·ç¦»è®¡ç®—æ–¹æ³•ä¸º (`p`/5.1)^2 ã€‚"},"/hardware/zh/maixsense/maixsense-a010/mcu.html":{"title":"MS-A010 æŽ¥å…¥ MCUï¼ˆMaix Bitï¼‰","content":"# MS A010 æŽ¥å…¥ MCUï¼ˆMaix Bitï¼‰ æ­¤æ–‡è¯¦ç»†è¯´æ˜Žä¸€ä¸‹ MaixSense a010 æŽ¥å…¥ K210 Bit ä¾‹ç¨‹ï¼Œç”¨æˆ·å¯åŸºäºŽæ­¤ç¯‡å¿«é€Ÿè¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚ [Maix Bit è´­ä¹°é“¾æŽ¥æŒ‡è·¯](https://item.taobao.com/item.htm?spm a230r.1.14.11.681570a1yq4sJD&id 586580351110&ns 1&abbucket 10&mt ) []() ![ms_mscu](./assets/ms_mcu.jpg) ## æ¦‚è¿° MS A010 æ‹¥æœ‰å¼ºå¤§çš„å…¼å®¹æ€§ï¼Œå¯åŸºäºŽä¸²å£åè®®å¤–æŽ¥ Maix I Bit è¿™æ ·çš„å•ç‰‡æœºå¼€å‘æ¿æˆ–æ ‘èŽ“æ´¾ä¹‹ç±»çš„ linux å¼€å‘æ¿æ¥è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚ MAIX I BIT å¼€å‘æ¿æ˜¯ Sipeed Maix ä¸­äº§å“çº¿çš„ä¸€å‘˜ï¼ŒåŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡ K210 (RISC V æž¶æž„ 64ä½åŒæ ¸) è®¾è®¡çš„ä¸€æ¬¾ AIOT å¼€å‘æ¿ã€‚ ## å‡†å¤‡å·¥ä½œ é¦–å…ˆï¼Œæˆ‘ä»¬è‚¯å®šè¦å„è‡ªæ‹¥æœ‰ä¸€ä¸ª MS A010 æ¨¡ç»„å’Œ Bit å¼€å‘æ¿ å¦‚æžœæ²¡æœ‰çš„è¯ï¼ŒæŽ¥å…¥ä¾‹ç¨‹å°±æ­¤åœæ­¥ã€‚ æŽ¥ä¸‹æ¥ å‡†å¤‡ 4pin ç«¯å­çº¿ä»¥åŠ USB type c çº¿ä¸€æ¡ã€‚ ### æŽ¥çº¿æ•™ç¨‹ æŽ¥çº¿éœ€è¦äº†è§£ A010 çš„æŽ¥å£çš„å¼•è„šä¿¡æ¯ï¼Œ"},"/hardware/zh/maixsense/maixsense-a010/code.html":{"title":"æºç æ€»è§ˆ","content":"# æºç æ€»è§ˆ [æºç æ€»è§ˆ](#æºç æ€»è§ˆ) [tof_mainpy](#tof_mainpy) [streampy](#streampy) [calvolumespy](#calvolumespy) ## tof_mainpy ```python from fpioa_manager import fm from machine import UART import lcd, image # lcd.init(invert True) lcd.init() img image.Image() fm.register(24, fm.fpioa.UART1_TX, force True) fm.register(25, fm.fpioa.UART1_RX, force True) uart_A UART(UART.UART1, 115200, 8, 0, 0, timeout 1000, read_buf_len 4096) def uart_readBytes(): return uart_A.read() def uart_hasData(): return uart_A.any() def uart_sendCmd(cmd): uart_A.write(cmd) uart_sendCmd(b\"AT+BAUD 5\\r\") uart_A.deinit() uart_A UART(UART.UART1, 921600, 8, 0, 0, timeout 1000, read_buf_len 4096) jetcolors [ (128, 0, 0), (132, 0, 0), (136, 0, 0), (140, 0, 0), (144, 0, 0), (148, 0, 0), (152, 0, 0), (156, 0, 0), (160, 0, 0), (164, 0, 0), (168, 0, 0), (172, 0, 0), (176, 0, 0), (180, 0, 0), (184, 0, 0), (188, 0, 0), (192, 0, 0), (196, 0, 0), (200, 0, 0), (204, 0, 0), (208, 0, 0), (212, 0, 0), (216, 0, 0), (220, 0, 0), (224, 0, 0), (228, 0, 0), (232, 0, 0), (236, 0, 0), (240, 0, 0), (244, 0, 0), (248, 0, 0), (252, 0, 0), (255, 0, 0), (255, 4, 0), (255, 8, 0), (255, 12, 0), (255, 16, 0), (255, 20, 0), (255, 24, 0), (255, 28, 0), (255, 32, 0), (255, 36, 0), (255, 40, 0), (255, 44, 0), (255, 48, 0), (255, 52, 0), (255, 56, 0), (255, 60, 0), (255, 64, 0), (255, 68, 0), (255, 72, 0), (255, 76, 0), (255, 80, 0), (255, 84, 0), (255, 88, 0), (255, 92, 0), (255, 96, 0), (255, 100, 0), (255, 104, 0), (255, 108, 0), (255, 112, 0), (255, 116, 0), (255, 120, 0), (255, 124, 0), (255, 128, 0), (255, 132, 0), (255, 136, 0), (255, 140, 0), (255, 144, 0), (255, 148, 0), (255, 152, 0), (255, 156, 0), (255, 160, 0), (255, 164, 0), (255, 168, 0), (255, 172, 0), (255, 176, 0), (255, 180, 0), (255, 184, 0), (255, 188, 0), (255, 192, 0), (255, 196, 0), (255, 200, 0), (255, 204, 0), (255, 208, 0), (255, 212, 0), (255, 216, 0), (255, 220, 0), (255, 224, 0), (255, 228, 0), (255, 232, 0), (255, 236, 0), (255, 240, 0), (255, 244, 0), (255, 248, 0), (255, 252, 0), (254, 255, 1), (250, 255, 6), (246, 255, 10), (242, 255, 14), (238, 255, 18), (234, 255, 22), (230, 255, 26), (226, 255, 30), (222, 255, 34), (218, 255, 38), (214, 255, 42), (210, 255, 46), (206, 255, 50), (202, 255, 54), (198, 255, 58), (194, 255, 62), (190, 255, 66), (186, 255, 70), (182, 255, 74), (178, 255, 78), (174, 255, 82), (170, 255, 86), (166, 255, 90), (162, 255, 94), (158, 255, 98), (154, 255, 102), (150, 255, 106), (146, 255, 110), (142, 255, 114), (138, 255, 118), (134, 255, 122), (130, 255, 126), (126, 255, 130), (122, 255, 134), (118, 255, 138), (114, 255, 142), (110, 255, 146), (106, 255, 150), (102, 255, 154), (98, 255, 158), (94, 255, 162), (90, 255, 166), (86, 255, 170), (82, 255, 174), (78, 255, 178), (74, 255, 182), (70, 255, 186), (66, 255, 190), (62, 255, 194), (58, 255, 198), (54, 255, 202), (50, 255, 206), (46, 255, 210), (42, 255, 214), (38, 255, 218), (34, 255, 222), (30, 255, 226), (26, 255, 230), (22, 255, 234), (18, 255, 238), (14, 255, 242), (10, 255, 246), (6, 255, 250), (2, 255, 254), (0, 252, 255), (0, 248, 255), (0, 244, 255), (0, 240, 255), (0, 236, 255), (0, 232, 255), (0, 228, 255), (0, 224, 255), (0, 220, 255), (0, 216, 255), (0, 212, 255), (0, 208, 255), (0, 204, 255), (0, 200, 255), (0, 196, 255), (0, 192, 255), (0, 188, 255), (0, 184, 255), (0, 180, 255), (0, 176, 255), (0, 172, 255), (0, 168, 255), (0, 164, 255), (0, 160, 255), (0, 156, 255), (0, 152, 255), (0, 148, 255), (0, 144, 255), (0, 140, 255), (0, 136, 255), (0, 132, 255), (0, 128, 255), (0, 124, 255), (0, 120, 255), (0, 116, 255), (0, 112, 255), (0, 108, 255), (0, 104, 255), (0, 100, 255), (0, 96, 255), (0, 92, 255), (0, 88, 255), (0, 84, 255), (0, 80, 255), (0, 76, 255), (0, 72, 255), (0, 68, 255), (0, 64, 255), (0, 60, 255), (0, 56, 255), (0, 52, 255), (0, 48, 255), (0, 44, 255), (0, 40, 255), (0, 36, 255), (0, 32, 255), (0, 28, 255), (0, 24, 255), (0, 20, 255), (0, 16, 255), (0, 12, 255), (0, 8, 255), (0, 4, 255), (0, 0, 255), (0, 0, 252), (0, 0, 248), (0, 0, 244), (0, 0, 240), (0, 0, 236), (0, 0, 232), (0, 0, 228), (0, 0, 224), (0, 0, 220), (0, 0, 216), (0, 0, 212), (0, 0, 208), (0, 0, 204), (0, 0, 200), (0, 0, 196), (0, 0, 192), (0, 0, 188), (0, 0, 184), (0, 0, 180), (0, 0, 176), (0, 0, 172), (0, 0, 168), (0, 0, 164), (0, 0, 160), (0, 0, 156), (0, 0, 152), (0, 0, 148), (0, 0, 144), (0, 0, 140), (0, 0, 136), (0, 0, 132), (0, 0, 128) ] def show(frameData, res): resR res[0] resC res[1] for y in range(resR): for x in range(resC): pixel_cmap_rgb jetcolors[frameData[y*resR + x]] img.set_pixel(110 + x, 70 + y, pixel_cmap_rgb) lcd.display(img) img.clear() FRAME_HEAD b\"\\x00\\xFF\" FRAME_TAIL b\"\\xCC\" from struct import unpack # send_cmd(\"AT+BINN 2\\r\") uart_sendCmd(b\"AT+DISP 5\\r\") uart_sendCmd(b\"AT+FPS 10\\r\") # while True: # if uart_hasData(): # print(uart_readBytes()) rawData b'' while True: if not uart_hasData(): continue rawData + uart_readBytes() idx rawData.find(FRAME_HEAD) if idx < 0: continue rawData rawData[idx:] # print(rawData) # check data length 2Byte dataLen unpack(\"H\", rawData[2: 4])[0] # print(\"len: \"+str(dataLen)) frameLen len(FRAME_HEAD) + 2 + dataLen + 2 frameDataLen dataLen 16 if len(rawData) < frameLen: continue # get data frame rawData[:frameLen] # print(frame.hex()) rawData rawData[frameLen:] frameTail frame[ 1] # print(\"tail: \"+str(hex(frameTail))) _sum frame[ 2] # print(\"checksum: \"+str(hex(_sum))) # check sum # spi has no checksum but i add one if frameTail ! 0xdd and _sum ! sum(frame[:frameLen 2]) % 256: continue frameID unpack(\"H\", frame[16:18])[0] # print(\"frame ID: \"+str(frameID)) resR unpack(\"B\", frame[14:15])[0] resC unpack(\"B\", frame[15:16])[0] res (resR, resC) # print(res) # frameData [ unpack(\"H\", frame[20+i:22+i])[0] for i in range(0, frameDataLen, 2) ] frameData [unpack(\"B\", frame[20+i:21+i])[0] for i in range(0, frameDataLen, 1)] show(frameData, res) del frameData ``` ## streampy ```python from PIL import Image import requests import matplotlib.pyplot as plt import struct import numpy as np import cv2 def frame_config_decode(frame_config): ''' @frame_config bytes @return fields, tuple (trigger_mode, deep_mode, deep_shift, ir_mode, status_mode, status_mask, rgb_mode, rgb_res, expose_time) ''' return struct.unpack(\"<BBBBBBBBi\", frame_config) def frame_config_encode(trigger_mode 1, deep_mode 1, deep_shift 255, ir_mode 1, status_mode 2, status_mask 7, rgb_mode 1, rgb_res 0, expose_time 0): return struct.pack(\"<BBBBBBBBi\", trigger_mode, deep_mode, deep_shift, ir_mode, status_mode, status_mask, rgb_mode, rgb_res, expose_time) def frame_payload_decode(frame_data: bytes, with_config: tuple): deep_data_size, rgb_data_size struct.unpack(\"<ii\", frame_data[:8]) frame_payload frame_data[8:] # 0:16bit 1:8bit, resolution: 320*240 deepth_size (320*240*2) >> with_config[1] deepth_img struct.unpack(\"<%us\" % deepth_size, frame_payload[:deepth_size])[ 0] if 0 ! deepth_size else None frame_payload frame_payload[deepth_size:] # 0:16bit 1:8bit, resolution: 320*240 ir_size (320*240*2) >> with_config[3] ir_img struct.unpack(\"<%us\" % ir_size, frame_payload[:ir_size])[ 0] if 0 ! ir_size else None frame_payload frame_payload[ir_size:] status_size (320*240//8) * (16 if 0 with_config[4] else 2 if 1 with_config[4] else 8 if 2 with_config[4] else 1) status_img struct.unpack(\"<%us\" % status_size, frame_payload[:status_size])[ 0] if 0 ! status_size else None frame_payload frame_payload[status_size:] assert(deep_data_size deepth_size+ir_size+status_size) rgb_size len(frame_payload) assert(rgb_data_size rgb_size) rgb_img struct.unpack(\"<%us\" % rgb_size, frame_payload[:rgb_size])[ 0] if 0 ! rgb_size else None if (not rgb_img is None) and (1 with_config[6]): jpeg cv2.imdecode(np.frombuffer( rgb_img, 'uint8', rgb_size), cv2.IMREAD_COLOR) if not jpeg is None: rgb cv2.cvtColor(jpeg, cv2.COLOR_BGR2RGB) rgb_img rgb.tobytes() else: rgb_img None return (deepth_img, ir_img, status_img, rgb_img) HOST '192.168.233.1' PORT 80 def post_encode_config(config frame_config_encode(), host HOST, port PORT): r requests.post('http://{}:{}/set_cfg'.format(host, port), config) if(r.status_code requests.codes.ok): return True return False def get_frame_from_http(host HOST, port PORT): r requests.get('http://{}:{}/getdeep'.format(host, port)) if(r.status_code requests.codes.ok): # print('Get deep image') deepimg r.content # print('Length {}'.format(len(deepimg))) (frameid, stamp_msec) struct.unpack('<QQ', deepimg[0:8+8]) # print((frameid, stamp_msec/1000)) return deepimg def show_frame(fig, frame_data: bytes): config frame_config_decode(frame_data[16:16+12]) frame_bytes frame_payload_decode(frame_data[16+12:], config) depth np.frombuffer(frame_bytes[0], 'uint16' if 0 config[1] else 'uint8').reshape( 240, 320) if frame_bytes[0] else None ir np.frombuffer(frame_bytes[1], 'uint16' if 0 config[3] else 'uint8').reshape( 240, 320) if frame_bytes[1] else None status np.frombuffer(frame_bytes[2], 'uint16' if 0 config[4] else 'uint8').reshape( 240, 320) if frame_bytes[2] else None rgb np.frombuffer(frame_bytes[3], 'uint8').reshape( (480, 640, 3)) if frame_bytes[3] else None ax1 fig.add_subplot(221) if not depth is None: # center_dis depth[240//2, 320//2] # if 0 config[1]: # print(\"%f mm\" % (center_dis/4)) # else: # print(\"%f mm\" % ((center_dis/5.1) ** 2)) # depth depth.copy() # l,r 200,5000 # depth_f ((depth.astype('float64') l) * (65535 / (r l))) # depth_f[np.where(depth_f < 0)] 0 # depth_f[np.where(depth_f > 65535)] 65535 # depth depth_f.astype(depth.dtype) # depth[240//2, 320//2 5:320//2+5] 0x00 # depth[240//2 5:240//2+5, 320//2] 0x00 ax1.imshow(depth, cmap 'jet_r') ax2 fig.add_subplot(222) if not ir is None: ax2.imshow(ir, cmap 'gray') ax3 fig.add_subplot(223) if not status is None: ax3.imshow(status) ax4 fig.add_subplot(224) if not rgb is None: ax4.imshow(rgb) if post_encode_config(frame_config_encode(1, 1, 255, 0, 2, 7, 1, 0, 0)): # æ‰“å¼€äº¤äº’æ¨¡å¼ plt.ion() figsize (12, 12) fig plt.figure('2D frame', figsize figsize) while True: p get_frame_from_http() show_frame(fig, p) # åœé¡¿æ—¶é—´ plt.pause(0.001) # æ¸…é™¤å½“å‰ç”»å¸ƒ fig.clf() plt.ioff() ``` ## calvolumespy ```python from PIL import Image, ImageDraw import requests import matplotlib.pyplot as plt import struct import numpy as np import cv2 HOST '192.168.233.1' PORT 80 def depth2xyz(xp, yp, z, fx, fy, cx, cy, depth_scale 1000): # h,w np.mgrid[0:depth_map.shape[0],0:depth_map.shape[1]] z z/depth_scale x (xp cx)*z/fx y (yp cy)*z/fy # xyz np.dstack((x,y,z)) # xyz cv2.rgbd.depthTo3d(depth_map,depth_cam_matrix) return [x, y, z] def polygon_area(polygon): area 0 q polygon[ 1] for p in polygon: area + p[0] * q[1] p[1] * q[0] q p return abs(area) / 2.0 def get_lenscoeff(host HOST, port PORT): r requests.get('http://{}:{}/getinfo'.format(host, port)) if(r.status_code requests.codes.ok): lenscoeff_bin r.content (_fx,_fy,_cx,_cy) struct.unpack('<ffff', lenscoeff_bin[41:41+4*4]) # print((frameid, stamp_msec/1000)) return (_fx,_fy,_cx,_cy) diff_low 30 diff_high 500 fx 2.265142e+02 fy 2.278584e+02 cx 1.637246e+02 # cx cy 1.233738e+02 # cy (fx,fy,cx,cy) get_lenscoeff() def cal_volume(d_bk, d_bg): img_h, img_w d_bk.shape[0], d_bk.shape[1] d_bk d_bk.astype(np.float32) # cvt to mm d_bg d_bg.astype(np.float32) diff (d_bg d_bk).astype(np.int16) diff1 diff.copy() diff1 np.where(diff1 < diff_low, 0, diff1) diff1 np.where(diff1 > diff_high, 0, diff1) diff1 (np.where(diff1 > 0, 1, 0)*255).astype(np.uint8) # plt.imshow(diff1) # print(d_bk.shape) (240, 320) output np.zeros((img_h, img_w, 3), np.uint8) num_labels, labels, stats, centroids cv2.connectedComponentsWithStats( diff1, connectivity 8) # print('num_labels ',num_labels) # è¿žé€šåŸŸçš„ä¿¡æ¯ï¼šå¯¹åº”å„ä¸ªè½®å»“çš„xã€yã€widthã€heightå’Œé¢ç§¯ # print('stats ',stats) res list() max_stats list() for i in range(5): max_label 1+np.argmax(stats[1:, 4]) # print('stats[max_label] ', stats[max_label]) if i > 0 and stats[max_label][4] < 700: break max_stat stats[max_label] max_stats.append(max_stat) stats[max_label][4] 0 mask (labels max_label) # (np.random.rand(3)*255).astype(np.uint8) output[:, :, :][mask] [200, 0, 0] # plt.imshow(output) # kernel cv2.getStructuringElement(cv2.MORPH_RECT, (3, 3)) # eroded cv2.erode(output, kernel) # dilated cv2.dilate(output, kernel) kernel cv2.getStructuringElement(cv2.MORPH_RECT, (5, 5)) # output dilated output cv2.morphologyEx(output, cv2.MORPH_OPEN, kernel) output cv2.morphologyEx(output, cv2.MORPH_CLOSE, kernel) volumes [] # points [] # areas [] for yp in range(img_h): for xp in range(img_w): if mask[yp, xp]: x1, y1, z1 depth2xyz( xp, yp, d_bk[yp, xp], fx, fy, cx, cy, depth_scale 1) x0, y0, z0 depth2xyz( xp, yp, d_bg[yp, xp], fx, fy, cx, cy, depth_scale 1) x xp 1 if x < 0: x 0 y yp xl, yl, zl depth2xyz( x, y, d_bk[y, x], fx, fy, cx, cy, depth_scale 1) x xp+1 if x > img_w: x img_w 1 y yp xr, yr, zr depth2xyz( x, y, d_bk[y, x], fx, fy, cx, cy, depth_scale 1) x xp y yp 1 if y < 0: y 0 xt, yt, zt depth2xyz( x, y, d_bk[y, x], fx, fy, cx, cy, depth_scale 1) x xp y yp+1 if y > img_h: y img_h 1 xb, yb, zb depth2xyz( x, y, d_bk[y, x], fx, fy, cx, cy, depth_scale 1) area_a polygon_area( [[xt, yt], [xl, yl], [xb, yb], [xr, yr]])/2 dz z0 z1 dx z1/fx dy z1/fy area_b dx*dy*2/2 area (area_a+area_b)/2 # avg get better acc volume area*dz # areas.append(area) volumes.append(volume) # points.append((x1, y1, dz)) # areas np.array(areas) volumes np.array(volumes) # points np.array(points) res.append(\"{}:{} cm3\".format(i, int(np.sum(volumes)/1000))) # print(res) img_pil Image.fromarray(output) draw ImageDraw.Draw(img_pil) for i in range(len(max_stats)): max_stat max_stats[i] draw.rectangle([(max_stat[0], max_stat[1]), (max_stat[0] + max_stat[2], max_stat[1] + max_stat[3])], outline \"red\") draw.text((max_stat[0], max_stat[1]), res[i], fill (255, 255, 255)) output np.array(img_pil) return output def frame_config_decode(frame_config): ''' @frame_config bytes @return fields, tuple (trigger_mode, deep_mode, deep_shift, ir_mode, status_mode, status_mask, rgb_mode, rgb_res, expose_time) ''' return struct.unpack(\"<BBBBBBBBi\", frame_config) def frame_config_encode(trigger_mode 1, deep_mode 1, deep_shift 255, ir_mode 1, status_mode 2, status_mask 7, rgb_mode 1, rgb_res 0, expose_time 0): return struct.pack(\"<BBBBBBBBi\", trigger_mode, deep_mode, deep_shift, ir_mode, status_mode, status_mask, rgb_mode, rgb_res, expose_time) def frame_payload_decode(frame_data: bytes, with_config: tuple): deep_data_size, rgb_data_size struct.unpack(\"<ii\", frame_data[:8]) frame_payload frame_data[8:] # 0:16bit 1:8bit, resolution: 320*240 deepth_size (320*240*2) >> with_config[1] deepth_img struct.unpack(\"<%us\" % deepth_size, frame_payload[:deepth_size])[ 0] if 0 ! deepth_size else None frame_payload frame_payload[deepth_size:] # 0:16bit 1:8bit, resolution: 320*240 ir_size (320*240*2) >> with_config[3] ir_img struct.unpack(\"<%us\" % ir_size, frame_payload[:ir_size])[ 0] if 0 ! ir_size else None frame_payload frame_payload[ir_size:] status_size (320*240//8) * (16 if 0 with_config[4] else 2 if 1 with_config[4] else 8 if 2 with_config[4] else 1) status_img struct.unpack(\"<%us\" % status_size, frame_payload[:status_size])[ 0] if 0 ! status_size else None frame_payload frame_payload[status_size:] assert(deep_data_size deepth_size+ir_size+status_size) rgb_size len(frame_payload) assert(rgb_data_size rgb_size) rgb_img struct.unpack(\"<%us\" % rgb_size, frame_payload[:rgb_size])[ 0] if 0 ! rgb_size else None if (not rgb_img is None) and (1 with_config[6]): jpeg cv2.imdecode(np.frombuffer( rgb_img, 'uint8', rgb_size), cv2.IMREAD_COLOR) if not jpeg is None: rgb cv2.cvtColor(jpeg, cv2.COLOR_BGR2RGB) rgb_img rgb.tobytes() else: rgb_img None return (deepth_img, ir_img, status_img, rgb_img) def post_encode_config(config frame_config_encode(), host HOST, port PORT): r requests.post('http://{}:{}/set_cfg'.format(host, port), config) if(r.status_code requests.codes.ok): return True return False def get_frame_from_http(host HOST, port PORT): r requests.get('http://{}:{}/getdeep'.format(host, port)) if(r.status_code requests.codes.ok): # print('Get deep image') deepimg r.content # print('Length {}'.format(len(deepimg))) (frameid, stamp_msec) struct.unpack('<QQ', deepimg[0:8+8]) # print((frameid, stamp_msec/1000)) return deepimg def show_frame(fig, frame_data: bytes): config frame_config_decode(frame_data[16:16+12]) frame_bytes frame_payload_decode(frame_data[16+12:], config) depth np.frombuffer(frame_bytes[0], 'uint16' if 0 config[1] else 'uint8').reshape( 240, 320) if frame_bytes[0] else None # ir np.frombuffer(frame_bytes[1], 'uint16' if 0 config[3] else 'uint8').reshape( # 240, 320) if frame_bytes[1] else None # status np.frombuffer(frame_bytes[2], 'uint16' if 0 config[4] else 'uint8').reshape( # 240, 320) if frame_bytes[2] else None rgb np.frombuffer(frame_bytes[3], 'uint8').reshape( (480, 640, 3)) if frame_bytes[3] else None ax1 fig.add_subplot(122) if not depth is None: # center_dis depth[240//2, 320//2] # if 0 config[1]: # print(\"%f mm\" % (center_dis/4)) # else: # print(\"%f mm\" % ((center_dis/5.1) ** 2)) # depth depth.copy() # l,r 200,5000 # depth_f ((depth.astype('float64') l) * (65535 / (r l))) # depth_f[np.where(depth_f < 0)] 0 # depth_f[np.where(depth_f > 65535)] 65535 # depth depth_f.astype(depth.dtype) # depth[240//2, 320//2 5:320//2+5] 0x00 # depth[240//2 5:240//2+5, 320//2] 0x00 if not UPDATE_BG[1] is None: ax1.imshow(cal_volume(depth, UPDATE_BG[1])) else: ax1.imshow(depth) if UPDATE_BG[0]: UPDATE_BG[1] depth # ax2 fig.add_subplot(222) # if not ir is None: # ax2.imshow(ir, cmap 'gray') # ax3 fig.add_subplot(223) # if not status is None: # ax3.imshow(status) ax4 fig.add_subplot(121) if not rgb is None: ax4.imshow(rgb) UPDATE_BG [False, None] if post_encode_config(frame_config_encode(1, 0, 255, 0, 2, 7, 1, 0, 0)): # æ‰“å¼€äº¤äº’æ¨¡å¼ def on_key_press(event): if event.key ' ': UPDATE_BG[0] True elif event.key 'c': UPDATE_BG[1] None plt.ion() figsize (12, 12) fig plt.figure('2D frame', figsize figsize) fig.canvas.mpl_connect('key_press_event', on_key_press) print(\"æŒ‰ä¸‹ç©ºæ ¼é”®æ›´æ–°èƒŒæ™¯å›¾ï¼ŒæŒ‰ä¸‹cé”®æ¸…ç©ºèƒŒæ™¯å›¾\") while True: p get_frame_from_http() show_frame(fig, p) if UPDATE_BG[0]: UPDATE_BG[0] False print(\"update bg success!\") # åœé¡¿æ—¶é—´ plt.pause(0.001) # æ¸…é™¤å½“å‰ç”»å¸ƒ fig.clf() plt.ioff() ```"},"/hardware/zh/maixsense/maixsense-a075v/install_drivers.html":{"title":"å®‰è£… RNDIS é©±åŠ¨","content":"# å®‰è£… RNDIS é©±åŠ¨ > ç¼–è¾‘äºŽ 2022å¹´8æœˆ9æ—¥ ## è¯´æ˜Ž RNDIS å…¨ç§°ä¸º Remote Network Driver Interface Specificationï¼Œå³è¿œç¨‹ç½‘ç»œé©±åŠ¨æŽ¥å£è§„èŒƒï¼Œæ˜¯åœ¨ USB è®¾å¤‡ä¸Šè·‘ TCP/IP ä¸€ç§è§„èŒƒã€‚ ## ç›¸å…³æ“ä½œ åœ¨ Windows7 åŠå…¶ä»¥ä¸Šçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œå‡å·²ç»å†…ç½®äº† RNDISï¼Œä½†æ˜¯å¦‚æžœä¸è¿›è¡Œä¸€äº›ç‰¹æ®Šæ“ä½œçš„è¯ï¼Œç”µè„‘ä¸€èˆ¬æ˜¯è¯†åˆ«ä¸åˆ°ç›¸å…³ç¬¦åˆ RNDIS è®¾å¤‡çš„ã€‚ ### ä¸‹è½½é©±åŠ¨ <! **Windows é©±åŠ¨**ï¼š[ç‚¹å‡»èŽ·å–](https://dl.sipeed.com/shareURL/MaixSense/Drivers) > **Windows é©±åŠ¨**ï¼š[ç‚¹å‡»èŽ·å–](https://dl.sipeed.com/fileList/MaixSense/Drivers/Ethernet_RNDIS_drivers_20220808.zip) ### å®‰è£…é©±åŠ¨ å°†ç›®æ ‡è®¾å¤‡ä¸Žç”µè„‘é€šè¿‡ USB æŽ¥å£è¿žæŽ¥èµ·æ¥ï¼Œä¸”èƒ½å¤Ÿåœ¨ç”µè„‘çš„è®¾å¤‡ç®¡ç†å™¨ä¸­çœ‹åˆ°ä¸²è¡Œè®¾å¤‡ã€‚å¦‚æžœæ²¡æœ‰çœ‹åˆ°æœ‰ä¸²è¡Œè®¾å¤‡çš„è¯å¤§æ¦‚çŽ‡æ˜¯ä¾›ç”µä¸è¶³æ‰€å¯¼è‡´çš„ï¼šå¯¹äºŽå°å¼æœºå»ºè®®ä½¿ç”¨ä¸»æœºèƒŒéƒ¨çš„ USB æŽ¥å£ï¼›ä½¿ç”¨ USB hub çš„è¯å»ºè®®ä½¿ç”¨å¸¦æœ‰é¢å¤–ä¾›ç”µçš„ï¼›å¦å¤–å»ºè®®ä½¿ç”¨ USB 3.0 çš„æ•°æ®å£ï¼Œå› ä¸º USB 2.0 é©±åŠ¨ä¾›ç”µå¯èƒ½ä¸è¶³ã€‚ ![ä¸²è¡Œè®¾å¤‡](./assets/install_drivers/serial.png) å³é”®å®ƒï¼Œé€‰æ‹©æ›´æ–°é©±åŠ¨ç¨‹åºï¼ŒæŽ¥ç€åœ¨ä¸‹é¢çš„ç•Œé¢ä¸­é€‰æ‹©æ›´æ–°é©±åŠ¨ç¨‹åº ![æ›´æ–°é©±åŠ¨](./assets/install_drivers/update.png) è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä¸‹é¢çš„ `è®©æˆ‘ä»Žè®¡ç®—æœºä¸Šçš„å¯ç”¨é©±åŠ¨åˆ—è¡¨ä¸­é€‰å‡º(L)` ![é€‰æ‹©é©±åŠ¨](./assets/install_drivers/scan.png) æŽ¥ç€å¯¹äºŽä¸‹é¢çš„å›¾æˆ‘ä»¬é€‰æ‹©åå³ä¸‹æ–¹çš„ `ä»Žç£ç›˜å®‰è£…(H)...` ![ä»Žç£ç›˜å®‰è£…](./assets/install_drivers/install.png) ç„¶åŽåœ¨ä¸‹é¢çš„å¯¹è¯æ¡†ä¸­é€‰æ‹©å³ä¸‹è§’çš„æµè§ˆ ![æµè§ˆ](./assets/install_drivers/path.png) é€‰ä¸­æˆ‘ä»¬æ‰€ä¸‹è½½ä¸”è§£åŽ‹ä¹‹åŽçš„æ–‡ä»¶å¤¹é‡Œé¢ï¼Œé€‰æ‹©ä¸€ä¸ª .inf æ–‡ä»¶åŽï¼Œç‚¹å‡»å³ä¸‹è§’çš„ `æ‰“å¼€` ![inf](./assets/install_drivers/inf.png) æŽ¥ç€ä¼šå›žé€€åˆ°ä¸‹é¢çš„ç•Œé¢ï¼Œè¿™é‡Œç›´æŽ¥å³ä¸‹è§’çš„ç‚¹å‡»ä¸‹ä¸€é¡µå³å¯ ![ä¸‹ä¸€é¡µ](./assets/install_drivers/next.png) ç„¶åŽå°±ä¼šæ˜¾ç¤ºå·²ç»æ›´æ–°é©±åŠ¨äº† ![ç»“æŸå®‰è£…é©±åŠ¨](./assets/install_drivers/finish.png) é‡æ–°æ‹”æ’ USB è®¾å¤‡åŽï¼Œç­‰å¾…å¤§æ¦‚åç§’å·¦å³ï¼Œå¯ä»¥åœ¨ç³»ç»Ÿçš„è®¾å¤‡ç®¡ç†å™¨é‡Œç½‘ç»œé€‚é…å™¨ä¸­çœ‹åˆ°çœ‹åˆ°æœ‰ `RNDIS/Ethernet Gadget`ï¼Œåˆ°æ­¤å·²ç»æˆåŠŸå®‰è£…é©±åŠ¨äº†"},"/hardware/zh/maixsense/maixsense-a075v/maixsense-a075v.html":{"title":"MaixSense-A075V","content":"# MaixSense A075V æ—¶é—´ è´Ÿè´£äºº æ›´æ–°å†…å®¹ : : : : : : 2022.08.10 lyx åˆæ¬¡ç¼–å†™æ–‡æ¡£ 2022.11.15 lyx è¡¥å……ç»†èŠ‚ ## äº§å“æ¦‚è¿° ![mt_big](asstes/../assets/mt_big.jpg) **MaixSense A075V** æ˜¯ä¸€æ¬¾å…·æœ‰ **320x240** åˆ†è¾¨çŽ‡åŠ **RGB** åŠŸèƒ½çš„ **3D TOF** æ‘„åƒæœºæ¨¡ç»„ï¼Œ æ”¯æŒ **Linux** ä¸‹å…é©±çš„å³æ’å³ç”¨ï¼Œå¯é€šè¿‡ä¸Šä½æœºæ˜¾ç¤ºå½©è‰² **3D** ç”»é¢å¹¶è®°å½•ç‚¹äº‘ ## äº§å“å¼€ç®±æŒ‡å— ### å‡†å¤‡å·¥ä½œ åœ¨ Windows ç³»ç»Ÿä¸Šè¿è¡Œé¢„è§ˆ **MaixSense A075V** çš„è¯éœ€è¦å®‰è£…é©±åŠ¨ã€‚ **Windows å®‰è£…é©±åŠ¨æ•™ç¨‹**ï¼š[ç‚¹å‡»æŸ¥çœ‹](./install_drivers.html) ### ç½‘é¡µä¸Šä½æœºé¢„è§ˆ >**æ³¨æ„**ï¼šæ¨¡ç»„ä¸Šç”µå‰ä¸€å®šè¦ç¡®ä¿ç½‘ç»œçŽ¯å¢ƒä¸­æ²¡æœ‰ä½¿ç”¨ `192.168.233.0/24` çš„åœ°å€æ®µï¼Œ >**MaixSense A075V** ä¼šä½¿ç”¨ **RNDIS** å¹¶è®¾ç½®è‡ªå·±çš„ `iP` åœ°å€ä¸º `http://192.168.233.1`. ![tof 07514](asstes/../assets/mt_pin.jpg) æ ¹æ®ä¸Šå›¾å°†æ¨¡ç»„é€šç”µæŽ¥å…¥ `PC` ç«¯ï¼Œè¿™æ—¶è‡ªå¸¦çš„é£Žæ‰‡ä¼šå¼€å§‹å·¥ä½œä»¥åŠé•œå¤´å¤„ä¼šæ˜¾ç¤ºæœ‰è“ç¯åœ¨é—ªçƒï¼Œé€‰æ‹©æµè§ˆå™¨è¾“å…¥ `http://192.168.233.1` é¢„è§ˆ 3D ç‚¹äº‘å›¾ï¼Œä¸Šç”µåŽæœ‰å»¶è¿Ÿç­‰å¾… `10s 15s` ç³»ç»Ÿå’Œç¨‹åºæ‰ä¼šå¯åŠ¨å®Œæˆã€‚ **ä½¿ç”¨ç½‘é¡µä¸Šä½æœºå¿«é€Ÿé¢„è§ˆï¼ˆæ­£é¢å’Œä¾§é¢ï¼‰ï¼š** <html> <img src \"./assets/mt_examle.jpg\" width 48%> <img src \"./assets/mt_examleb.jpg\" width 48%> </html> å¯é€‰é¢„è§ˆæ·±åº¦ä¼ªå½©ç‚¹äº‘ï¼Œå–æ¶ˆå‹¾é€‰é¡µé¢å³ä¾§çš„äº¤äº’é¢æ¿ä¸Šçš„ç¬¬ä¸€è¡Œ `RGB_Map` å³å¯ã€‚ ![mt_examlec](assets/mt_examlec.jpg) ### äº’åŠ¨é…ç½® ç½‘é¡µä¸Šä½æœºäº¤äº’é¢æ¿æä¾›äº†ä¸€ç³»åˆ—é…ç½®å’ŒåŠŸèƒ½ï¼Œå¯ä»¥å®žæ—¶é¢„è§ˆå˜åŠ¨çš„æ•ˆæžœã€‚ ![mt_examled](assets/mt_examled.jpg) **äº¤äº’é¢æ¿æŽ§ä»¶è¯´æ˜Ž** **RGB_Map**ï¼šå¤šé€‰æ¡† å¼€å…³ RGB æ˜ å°„ï¼Œå³å…³é—­æ—¶åªæ˜¾ç¤ºæ·±åº¦ä¼ªå½©ç‚¹äº‘ï¼Œæ‰“å¼€æ—¶æ˜¾ç¤º RGB æ˜ å°„ç‚¹äº‘ã€‚ **colorMap**ï¼šä¸‹æ‹‰æ  æä¾›äº†å‡ ä¸ªä¼ªå½©æ˜ å°„é€‰é¡¹(å³ cmap )ï¼ŒæŽ¨èä½¿ç”¨ jetï¼ŒRGB_Map å…³é—­æ—¶æœ‰æ•ˆã€‚ **deepRangeMax** å’Œ **deepRangeMin** æ»‘åŠ¨æ¡æ˜¯è®¾å®š cmap çš„æ˜ å°„èŒƒå›´çš„ï¼Œå³åªæœ‰ä½äºŽ deepRangeMin å’Œ deepRangeMax ä¹‹é—´çš„æ•°å€¼ï¼ˆæ·±åº¦å€¼ï¼‰ä¼šé€šè¿‡ cmapï¼ŒRGB_Map å…³é—­æ—¶æœ‰æ•ˆã€‚ **NormalPoint**ï¼šå¤šé€‰æ¡† å¼€å…³æ˜¾ç¤ºæ­£å¸¸ç‚¹ï¼ˆTOF æˆåƒä¼šæœ‰æ— æ•ˆç‚¹ï¼Œå¯¹åº”çš„ç›¸åæè¿°ï¼‰ï¼Œéœ€è¦æ‰“å¼€ã€‚ **OE_Points**ï¼šå¤šé€‰æ¡† å¼€å…³æ˜¾ç¤º OE ç‚¹ï¼Œå»ºè®®å…³é—­ã€‚ **UE_Points**ï¼šå¤šé€‰æ¡† å¼€å…³æ˜¾ç¤º UE ç‚¹ï¼Œå»ºè®®å…³é—­ã€‚ **Bad_Points**ï¼šå¤šé€‰æ¡† å¼€å…³æ˜¾ç¤ºæ— æ•ˆç‚¹ï¼Œå»ºè®®å…³é—­ã€‚ **SpatialFilter**ï¼šå¤šé€‰æ¡† å¼€å…³ç©ºé—´æ»¤æ³¢ï¼ŒåŸºäºŽä¸‹é¢çš„ SpatialFilterSize å€¼å’Œ SpatialFilterType æŒ‡å®šçš„ç®—æ³•è¿›è¡Œå¤„ç†ã€‚ **TemporalFilter**ï¼šå¤šé€‰æ¡† å¼€å…³æ—¶é—´æ»¤æ³¢ï¼ŒåŸºäºŽä¸‹é¢çš„ TemporalFilteralpha å€¼åšäº†ä¸€ä¸ªæ—¶é—´ä¸Šçš„å¹³å‡ã€‚ **TemporalFilteralpha**ï¼šæ»‘åŠ¨æ¡ è®¾å®šæ—¶é—´æ»¤æ³¢æ‰€éœ€æ—¶é•¿ï¼Œé€‚ä¸­å³å¯ï¼Œå¯è‡ªè¡Œå°è¯•ä½“éªŒå…¶å®ƒæ•ˆæžœã€‚ **SpatialFilterType**ï¼šä¸‹æ‹‰æ  è®¾å®šç©ºé—´æ»¤æ³¢ç®—æ³•ï¼Œæä¾›é«˜æ–¯æ»¤æ³¢ï¼ˆGaussianï¼‰å’ŒåŒè¾¹æ»¤æ³¢ï¼ˆBilateralï¼‰ï¼ŒåŒè¾¹æ»¤æ³¢æ€§èƒ½è¦æ±‚è¾ƒé«˜ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚ **SpatialFilterSize**ï¼šæ»‘åŠ¨æ¡ è®¾å®šç©ºé—´æ»¤æ³¢æ‰€éœ€èŒƒå›´ï¼Œé€‚ä¸­å³å¯ï¼Œå¯è‡ªè¡Œå°è¯•ä½“éªŒå…¶å®ƒæ•ˆæžœã€‚ **FlyingPointFilter**ï¼šå¤šé€‰æ¡† å¼€å…³é£žç‚¹è¿‡æ»¤ï¼ŒåŸºäºŽä¸‹é¢çš„ FlyingPointThreshold å€¼ä½œä¸ºè¿‡æ»¤é˜ˆå€¼ï¼Œè¶…è¿‡é˜ˆå€¼çš„å°†è¢«è¿‡æ»¤æŽ‰ï¼Œå»ºè®®é€‚ä¸­é…ç½®ï¼Œå¦åˆ™æœ‰æ•ˆç‚¹ä¹Ÿä¼šè¢«å‰”é™¤ã€‚ ### ä¿å­˜æ•°æ® ç½‘é¡µç‰ˆä¸Šä½æœºæŽ§ä»¶æ æœ€ä¸‹æ–¹æä¾›ä¸¤ä¸ªæŒ‰é’®ï¼Œç”¨æˆ·å¯æ ¹æ®ä»¥ä¸‹çš„è¯´æ˜ŽåŽ»ä½¿ç”¨ã€‚ **SaveRaw**ï¼šå¯ä¿å­˜ä¸€å¸§ raw æ•°æ®ï¼Œå¦‚æžœéœ€è¦ä½¿ç”¨æ·±åº¦æˆ– IR æˆ– RGB æ•°æ®è¿›è¡ŒäºŒæ¬¡å¼€å‘çš„è¯ï¼Œåˆ™éœ€è¦äº†è§£ raw çš„æ•°æ®ç»“æž„ã€‚ä¸è¿‡æˆ‘ä»¬ä¹Ÿæä¾›è¯¦ç»†çš„ `jupyter notebook` ä¾›ç”¨æˆ·å’Œå¼€å‘è€…ä½¿ç”¨å’Œäº†è§£ raw æ•°æ®çš„å¤„ç†è¿‡ç¨‹ã€‚ **SavePointCloud**ï¼šå¯ä¿å­˜ä¸€å¸§ 3D ç‚¹äº‘å›¾ï¼Œä¿å­˜æ ¼å¼ä¸º `pcd` ï¼ŒåŒæ ·å¯ä»¥é€šè¿‡ä¸Šè¿°æä¾›çš„è„šæœ¬é¢„è§ˆã€‚ >æ³¨æ„ï¼š**raw** æ•°æ®å¯é€šè¿‡å¼€æ”¾çš„æŽ¥å£èŽ·å–ï¼Œå¼€å‘è€…è¿›è¡Œè§£æžå³å¯åŸºäºŽæ­¤äºŒæ¬¡å¼€å‘ï¼Œä½†ç‚¹äº‘ **pointcloud** æ˜¯åŸºäºŽ **raw** æ•°æ®å’Œç›¸æœºå†…å‚è¿›è¡Œè®¡ç®—å¾—åˆ°çš„ï¼Œæ— ç›¸åº”æŽ¥å£æä¾›ã€‚ ### SSH ç™»å½• é™¤äº†ç›´æŽ¥ä½¿ç”¨ç½‘é¡µä¸Šä½æœºè¿›è¡Œé¢„è§ˆï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ SSH è¿›è¡Œç™»å½•æ“ä½œã€‚ .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ MobaXterm ä»‹ç» MobaXterm æ˜¯åœ¨ Windows ä¸‹ä½¿ç”¨çš„å…¨èƒ½ç»ˆç«¯ç®¡ç†è½¯ä»¶ï¼Œè€Œ Linux ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ ssh è¿œç¨‹è¢«æ“ä½œï¼Œä½¿ç”¨ MobaXterm è¿›è¡Œ ssh ç™»é™†æ¿å­ç›´æŽ¥ç¼–è¾‘æ¿å†…çš„ä»£ç æˆ–æ‰§è¡Œå‘½ä»¤ï¼Œä¹Ÿèƒ½æ–¹ä¾¿çš„æ‹–æ‹½æ–‡ä»¶ä¸Šä¼ æˆ–ä¸‹è½½åˆ°ç”µè„‘é‡Œï¼Œç±»ä¼¼çš„å·¥å…·è¿˜æœ‰ vscode remote è¿œç¨‹ç™»å½• linux æœåŠ¡å™¨ã€‚ ![mobaxterm_ssh](./../../maixIII/assets/ssh.jpg) **MobaXterm**ï¼š[ç‚¹å‡»å‰å¾€ä¸‹è½½](mobaxterm.mobatek.net/download) åˆ†åˆ«æœ‰ä»˜è´¹ä¸Žå…è´¹åŒç‰ˆæœ¬ï¼Œä¸‹è½½å…è´¹ç‰ˆæœ¬å³å¯ã€‚ **MobaXterm ä½¿ç”¨ä¾‹ç¨‹**ï¼š[ç‚¹å‡»æŸ¥çœ‹](https://wiki.sipeed.com/hardware/zh/maixII/M2/tools/mobaxterm.html?highlight ssh) æ ¹æ®ä¸Šé¢ç½‘é¡µé¢„è§ˆçš„ç”»é¢å¯ä»¥çŸ¥é“æ‰€ä½¿ç”¨çš„ ip ä¸º `192.168.233.1`, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ª ip å’Œç™»å½•å¯†ç  `root` æ¥ç™»å½•åˆ° TOF æ¨¡ç»„çš„ç»ˆç«¯ç³»ç»Ÿä¸­ã€‚ Windowsï¼šå‚ç…§ä¸Šæ–‡ä¾‹ç¨‹ä½¿ç”¨æ¨¡ç»„è‡ªå¸¦çš„ `ip` åœ°å€ `192.168.233.1` è¿›è¡Œç™»å½•ã€‚ Linuxï¼šä½¿ç”¨ç™»å½•å¯†ç  `root` ç›´æŽ¥ä½¿ç”¨ä»¥ä¸‹çš„å‘½ä»¤è¡Œç™»å½•ç»ˆç«¯è¿›è¡Œæ“ä½œã€‚ ```bash ssh root@192.168.233.1 ``` ### å›ºä»¶æ›´æ–° æ›¿æ¢ `/root/maix_dist` ä¸‹å¯¹åº”çš„æ–‡ä»¶å³å¯ã€‚ [ç‚¹å‡»ä¸‹è½½æ›´æ–°æ–‡ä»¶](https://dl.sipeed.com/shareURL/MaixSense/MaixSense_A075V/03_Firmware) ## æ¡ˆä¾‹ï¼šè¿œä¸­è¿‘ç‚¹äº‘å®žæ‹ é«˜ç²¾åº¦çš„æ˜ å°„ç‰©å“æ‘†æ”¾è·ç¦»çš„å·®å¼‚ï¼Œç‚¹äº‘å›¾å¯ç›´è§‚æ¸…æ¥šæ„Ÿå—åˆ°æ›´çœŸå®žçš„å¯è§†åŒ–ã€‚ ![mt_cloud](assets/mt_cloud.jpg) ## æ¡ˆä¾‹ï¼šé¿éšœå°è½¦ æ¨¡ç»„å¯æ­è½½å°è½¦æˆ–æ— äººæœºæ¥å›žç§»åŠ¨èŽ·å–éšœç¢ç‰©çš„è¿œè¿‘æ·±åº¦å€¼ï¼Œå¹¶é€šè¿‡å·®å¼‚åˆ¤æ–­ç”»é¢ä¸­æ˜¯å¦æœ‰éšœç¢ç‰©ï¼Œåšå‡ºå¿«é€Ÿååº”å¹¶ç²¾å‡†è§„é¿éšœç¢ç‰©ã€‚ ![me_car](./../assets/me_car.jpg) >ä¾‹ç¨‹æš‚æœªå¼€æºï¼Œå¾…æ•´ç†å…¬å¼€ ## æ¡ˆä¾‹ï¼šæ£€æµ‹äººæµ å¯å®žæ—¶ç›‘æŽ§äººæµï¼Œè¿›è¡Œæ›´é«˜ç²¾åº¦ä»¥åŠå¤§åˆ†è¾¨çŽ‡çš„ç»Ÿè®¡ã€‚ ![me_pt](./../assets/me_pt.jpg) >ä¾‹ç¨‹æš‚æœªå¼€æºï¼Œå¾…æ•´ç†å…¬å¼€ã€‚ ## äºŒæ¬¡å¼€å‘ï¼šSDK æ”¯æŒ ### python SDK è¿™æ˜¯åŸºäºŽ `python 3` è½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼ŒMaixSense A075V å¯¹å¤–å¼€å‘äº† `http` æŽ¥å£ï¼Œæˆ‘ä»¬å¯é€šè¿‡ `http` è¯·æ±‚èŽ·å–åˆ°åŽŸç”Ÿæ•°æ®ï¼ˆåŒ…æ‹¬æ·±åº¦å›¾ï¼Œir å›¾ï¼Œrgb å›¾ï¼‰ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ç†è§£æ•°æ®åŒ…çš„ç»“æž„åŠèŽ·å–è¿˜æœ‰è§£ç çš„ç›¸å…³é€»è¾‘ï¼Œå› æ­¤æˆ‘ä»¬æä¾›å°è£…äº† `http` è¯·æ±‚å’ŒåŽŸç”Ÿæ•°æ®çš„è§£ç ç›¸å…³å‡½æ•°ï¼Œç”¨æˆ·åŸºäºŽæ­¤å¯è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚ **SDK èŽ·å–æ–¹å¼**ï¼š[ç‚¹å‡»ä¸‹è½½](https://dl.sipeed.com/fileList/others/maixsense_example/maixsense_075_tutorial.ipynb) **ä½¿ç”¨æ–¹å¼**ï¼šå®‰è£… `jupyter` åŽè¿žæŽ¥æ¨¡ç»„æ‰“å¼€æˆ‘ä»¬æä¾›çš„ `toturial.py` å³å¯ã€‚ ### è§£åŒ…æŽ¨æµ ç†è§£äº†ä¸Šè¿° `python SDK` æ•°æ®èŽ·å–å’Œè§£ç çš„é€»è¾‘åŽï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•è¿›é˜¶ç‰ˆï¼Œè¿žç»­èŽ·å–è§£ç å¹¶è°ƒç”¨ç¬¬ä¸‰æ–¹ `python` å›¾åƒåº“ã€‚ä¾‹å¦‚ï¼š`matplotlib` è¿›è¡Œå®žæ—¶æ˜¾ç¤ºï¼Œè€Œ `toturial.py` ç»™å‡ºäº†èŽ·å–ä¸€å¸§æ•°æ®çš„é€»è¾‘å®žçŽ°ï¼Œé€šè¿‡ `plt` æ˜¾ç¤ºå¹¶å¤–å¥—å¾ªçŽ¯å³å¯åšåˆ°å®žæ—¶æ˜¾ç¤ºã€‚ **è§£åŒ…æŽ¨æµ**ï¼š[ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ stream.py å†…å®¹](./../maixsense a010/code.html#streampy) **ä½¿ç”¨æ–¹å¼**ï¼šè£…å¥½æ‰€æœ‰çš„ä¾èµ–åŒ…åŽå³å¯ `python stream.py` è¿è¡Œã€‚ ![mt_sdk](assets/mt_sdk.jpg) ### æ£€æµ‹ä½“ç§¯ åŸºäºŽç¬¬ä¸‰æ–¹ `python` åŒ…ï¼Œç†è§£äº†ä¸Šè¿°æ•°æ®èŽ·å–å’Œè§£ç çš„é€»è¾‘åŽå†æ¬¡è¿›é˜¶ï¼Œ æŒç»­æ˜¾ç¤ºå¤šå¸§å¹¶ä¸”å†é€šè¿‡ `SDK` èŽ·å–æ¨¡ç»„å†…å‚æ•°è®¡ç®—å‡ºç²—ç•¥çš„ç‚¹äº‘ï¼Œå¹¶è¿›è¡Œç´¯åŠ å¾—åˆ°ç‰©å“çš„æ€»ä½“ç§¯ã€‚ >é™åˆ¶ï¼šè¦æ±‚ä¿¯è§†å›¾å¯ä»¥çœ‹åˆ°é™¤åº•é¢å¤–çš„æ‰€æœ‰ç»†èŠ‚ **æ£€æµ‹ä½“ç§¯**ï¼š[ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ calVolumes.py å†…å®¹](./../maixsense a010/code.html#calvolumespy) **ä½¿ç”¨æ–¹å¼**ï¼šè£…å¥½æ‰€æœ‰çš„ä¾èµ–åŒ…åŽå³å¯ `python calVolumes.py` è¿è¡Œï¼Œå‘½ä»¤è¡Œæœ‰åŽç»­æ“ä½œæç¤ºã€‚ ![mt_volumbs](assets/mt_volumbs.jpg) ## äºŒæ¬¡å¼€å‘ï¼šæŽ¥å…¥ ROS > é¦–å…ˆéœ€è¦æ ¹æ®è‡ªå·±ç”µè„‘å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ ROS ### æŽ¥å…¥ ROS1 **1. å‡†å¤‡å·¥ä½œ** è¿è¡Œ ROS å‰æˆ‘ä»¬è¦å‡†å¤‡é€‚ç”¨çš„çŽ¯å¢ƒï¼š`Linux` ç³»ç»Ÿã€‚ å¯ä½¿ç”¨è™šæ‹Ÿæœº `virtual box` æˆ–è€… `vmware`ï¼š[ç‚¹å‡»å‰å¾€ä¸‹è½½](https://www.vmware.com/cn/products/workstation player/workstation player evaluation.html) ä¹Ÿå¯ä»¥è‡ªè¡Œå®‰è£…åŒç³»ç»Ÿï¼Œå®‰è£…æ–¹æ³•è¯·è‡ªè¡Œæœç´¢æˆ–å‚è€ƒå³ä¾§ï¼š[åŒç³»ç»Ÿå®‰è£…æ•™ç¨‹](https://neucrack.com/p/330) **2. å®‰è£…è¿è¡Œ** ROS1 æŽ¥å…¥åŒ…ï¼š[ç‚¹å‡»å‰å¾€ä¸‹è½½](https://dl.sipeed.com/shareURL/MaixSense/MaixSense_A075V/software/SDK) ```bash #è§£åŽ‹ç¼©sipeed tofv075 ros.zipï¼Œå¹¶è¿›å…¥ç›®å½• source /opt/ros/*/setup.sh catkin_make source devel/setup.sh rosrun sipeed_tof_cpp publisher #ä¹‹åŽç»ˆç«¯ä¼šæŒç»­åˆ·æ–°å‘½ä»¤è¡Œ ``` ![mt_adb](./assets/mt_adb.jpg) **3. å¯è‡ªè¡Œåœ¨ RQT æŸ¥çœ‹å¸§çŽ‡** ![mt_rqta](./assets/mt_rqta.jpg) **4. RVIZ é¢„è§ˆ** æ‰“å¼€ `rviz2` åŽï¼Œåœ¨ç•Œé¢å·¦ä¸‹è§’çš„ `Add` >`By topic` >`PointCloud2æˆ–/depth` >`Image æ·»åŠ ` >`Display/Global Options/Fixed Frame` éœ€è¦ä¿®æ”¹æˆ `tof` æ‰èƒ½æ­£å¸¸æ˜¾ç¤ºç‚¹äº‘ï¼Œæ ¹æ®æ·»åŠ çš„å†…å®¹å·¦ä¾§ä¼šæ˜¾ç¤º **Image** è€Œä¸­é—´åˆ™æ˜¾ç¤ºç‚¹äº‘ã€‚ ![mt_ros](assets/mt_ros.jpg) ### æŽ¥å…¥ ROS2 **1. å‡†å¤‡å·¥ä½œ** è¿è¡Œ ROS å‰æˆ‘ä»¬è¦å‡†å¤‡é€‚ç”¨çš„çŽ¯å¢ƒï¼š`Linux` ç³»ç»Ÿã€‚ å¯ä½¿ç”¨è™šæ‹Ÿæœº `virtual box` æˆ–è€… `vmware`ï¼š[ç‚¹å‡»èŽ·å–](https://www.vmware.com/cn/products/workstation player/workstation player evaluation.html) ä¹Ÿå¯ä»¥è‡ªè¡Œå®‰è£…åŒç³»ç»Ÿï¼Œå®‰è£…æ–¹æ³•è¯·è‡ªè¡Œæœç´¢æˆ–å‚è€ƒå³ä¾§ï¼š[åŒç³»ç»Ÿå®‰è£…æ•™ç¨‹](https://neucrack.com/p/330) **2. å®‰è£…è¿è¡Œ** æˆ‘ä»¬æä¾›äº† ROS2 çš„æŽ¥å…¥åŠŸèƒ½åŒ…ï¼Œç”¨æˆ·éœ€è¦åœ¨è¿è¡Œ ROS2 çš„ç³»ç»Ÿä¸Šç¼–è¯‘å®‰è£…ã€‚ ROS2 æŽ¥å…¥åŒ…ï¼š[ç‚¹å‡»å‰å¾€ä¸‹è½½](https://dl.sipeed.com/shareURL/MaixSense/MaixSense_A075V/software/SDK) ``` bash #è§£åŽ‹ç¼©sipeed tofv075 ros2.zipï¼Œå¹¶è¿›å…¥ç›®å½• source /opt/ros/*/setup.sh colcon build #ï¼ˆå¦‚æç¤ºç¼ºå°‘colconæ—¶éœ€è¦sudo apt install python3 colcon rosï¼‰ source install/setup.sh ros2 run sipeed_tof_cpp publisher #ä¹‹åŽç»ˆç«¯ä¼šæŒç»­åˆ·æ–°æ˜¾ç¤º[sipeed_tof]: Publishingï¼Œå³æ­£å¸¸å·¥ä½œ ``` **3. RQT æŸ¥çœ‹å¸§çŽ‡** æ‰“å¼€ `RQT` åŽé€‰æ‹© `Plugins` >`Topics` >`Topic Monitor`ã€‚ ![mt_rqt](asstes/../assets/mt_rqt.jpg) **4. RVIZ2 é¢„è§ˆ** æ‰“å¼€ `rviz2` åŽï¼Œåœ¨ç•Œé¢å·¦ä¸‹è§’çš„ `Add` >`By topic` >`PointCloud2` æˆ– `/depthã€/intensityã€/rgb` >`Image æ·»åŠ ` >`Display/Global Options/Fixed Frame` éœ€è¦ä¿®æ”¹æˆ `â€œtofâ€` æ‰èƒ½æ­£å¸¸æ˜¾ç¤ºç‚¹äº‘ã€‚æ ¹æ®æ·»åŠ çš„å†…å®¹å·¦ä¾§ä¼šæ˜¾ç¤º **Image** è€Œä¸­é—´åˆ™æ˜¾ç¤ºç‚¹äº‘ã€‚ **ä¼ªå½©ç‚¹äº‘å’Œ RGBD èžåˆçš„ç‚¹äº‘æ•ˆæžœï¼š** <html> <img src \"./assets/mt_rosb.jpg\" width 48%> <img src \"./assets/mt_rosc.jpg\" width 48%> </html>"},"/hardware/zh/maixsense/index.html":{"title":"MaixSense ç³»åˆ—","content":" title: MaixSense ç³»åˆ— ## MaixSense æ˜¯ä»€ä¹ˆ? MaixSense ç³»åˆ—äº§å“æ­è½½ TOF æ·±åº¦æ‘„åƒå¤´ï¼Œç›®å‰æœ‰ MaixSense A010 å’Œ MaixSense A075V ä¸¤æ¬¾äº§å“ã€‚ MS A010 æ˜¯ä¸€æ¬¾ç”± BL702 + ç‚¬ä½‘ 100x100 TOF æ¨¡ç»„æ‰€ç»„æˆçš„æžè‡´æ€§ä»·æ¯”çš„ TOF 3D ä¼ æ„Ÿå™¨æ¨¡ç»„ï¼Œæœ€å¤§æ”¯æŒ 100x100 çš„åˆ†è¾¨çŽ‡å’Œ 8 ä½ç²¾åº¦ï¼Œå¹¶ä¸”å¸¦æœ‰ 240Ã—135 çš„ LCD æ˜¾ç¤ºå±å¯å®žæ—¶é¢„è§ˆ color map åŽçš„æ·±åº¦å›¾ã€‚ è€Œ MS A075V æ˜¯ä¸€æ¬¾å…·æœ‰ RGB åŠŸèƒ½çš„ 3D TOF æ‘„åƒæœºæ¨¡ç»„ï¼Œè¯¥æ¨¡ç»„å¯ä»¥å®žçŽ° Linux å…é©±çš„å³æ’å³ç”¨ï¼Œå®žçŽ°å®žæ—¶å½©è‰² 3D æ˜¾ç¤ºã€‚ <img src \"./assets/meta.jpg\" alt \"summary\" width 100%> è´­ä¹°æ–¹å¼ï¼š[æ·˜å®é“¾æŽ¥](https://item.taobao.com/item.htm?id 684566484141) <p style \"white space:nowrap\">MaixSense A010</p> <p style \"white space:nowrap\">MaixSense A075V</p> : : : ![me small](./assets/me_small.jpg) ![me big](./assets/me_big.jpg) æŽ¥å£ 1.25mm ä¸²å£è¿žæŽ¥å™¨ \\*1<br>Type C USB2.0 \\*1 1.25mm ä¸²å£è¿žæŽ¥å™¨ \\*1 <br>Type C USB2.0 \\*1 åˆ†è¾¨çŽ‡ TOFï¼š100x100@30fps RGBï¼š1600x1200@30fps<br>TOFï¼š320x240@60fps è§†åœºè§’ RGBï¼šæ— <br>TOFï¼š70Â°(H) * 60Â°(V) RGBï¼š120Â°<br>TOFï¼š55Â°(H)*72Â°(H) <p style \"white space:nowrap\">TOF åƒç´ å°ºå¯¸</p> 15um æ¿€å…‰å‘å°„å™¨ 40nm VCSEL 940nm,3W æµ‹é‡èŒƒå›´ 0.2 2.5m 0.15 1.5m æµ‹é‡ç²¾åº¦ &lt; 1%/cm &lt; 1%/cm ## MaixSense èƒ½åšä»€ä¹ˆï¼Ÿ ### æ¡ˆä¾‹ï¼šè¿œä¸­è¿‘ç‰©ä½“å®žæ‹ é«˜ç²¾åº¦çš„æ˜ å°„ç‰©å“æ‘†æ”¾è·ç¦»çš„å·®å¼‚ï¼Œç‚¹äº‘å›¾å¯ç›´è§‚æ„Ÿå—åˆ°æ›´çœŸå®žçš„å¯è§†åŒ–ã€‚ <html> <img src \"./maixsense a010/assets/ms_cloud.jpg\" width 48%> <img src \"./maixsense a075v/assets/mt_cloud.jpg\" width 48%> </html> ### æ¡ˆä¾‹ï¼šäººæµç»Ÿè®¡ å¯å®žæ—¶ç›‘æŽ§äººæµï¼Œè¿›è¡Œé«˜ç²¾åº¦ã€å¤§åˆ†è¾¨çŽ‡çš„ç»Ÿè®¡ã€‚ <html> <img src \"./assets/me_p.jpg\" width 48%> <img src \"./assets/me_pt.jpg\" width 48%> </html> ### æ¡ˆä¾‹ï¼šå°è½¦é¿éšœ å¯æ­è½½äºŽå°è½¦ç§»åŠ¨å¹¶åˆ¤æ–­ç”»é¢æ˜¯å¦æœ‰éšœç¢ç‰©ï¼Œæ¨¡ç»„è‡ªå¸¦ LCD å±å¹•ç²¾å‡†æ˜¾ç¤ºè·ç¦»å¹¶åšå‡ºååº”è§„é¿éšœç¢ç‰©ã€‚ ![me_car](./assets/me_car.gif) ### æ¡ˆä¾‹ï¼šé”®ç›˜ç¯è·Ÿéš å®žçŽ°è¶…é…·ç‚«çš„é”®ç›˜ç¯è·Ÿéšï¼Œå®žæ—¶è·Ÿè¸ªæ‰‹éƒ¨çš„ä½ç½®ï¼Œå†æ ¹æ®æ‰‹éƒ¨çš„ä½ç½®æ˜ å°„é”®ç›˜ç¯ã€‚ ![ms_lamp](./maixsense a010/assets/ms_lamp.jpg) ### æ¡ˆä¾‹ï¼šä½“ç§¯æµ‹é‡ é€šè¿‡ SDK èŽ·å–åˆ°çš„æ¨¡ç»„å†…å‚æ•°åŽï¼Œè®¡ç®—ç²—ç•¥ç‚¹äº‘å¹¶ç´¯åŠ æ€»ä½“ç§¯ï¼Œè¾¾åˆ°ä½“ç§¯æµ‹é‡çš„æ•ˆæžœã€‚ ![mt_volume](./maixsense a075v/assets/mt_volumbs.jpg) ### æ¡ˆä¾‹ï¼šå¤–æŽ¥ MCU MS A010 æ‹¥æœ‰å¼ºå¤§çš„å…¼å®¹æ€§ï¼ŒåŸºäºŽä¸²å£åè®®çš„æ•°æ®ä¼ è¾“ã€‚ å¯å¤–æŽ¥ K210 bit è¿™æ ·çš„å•ç‰‡æœºå¼€å‘æ¿æˆ–æ ‘èŽ“æ´¾ä¹‹ç±»çš„ linux å¼€å‘æ¿æ¥è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚ ![ms_mcu](./maixsense a010/assets/ms_mcu.jpg) ### æ¡ˆä¾‹ï¼šæŽ¥å…¥ ROS1 + ROS2 åŒæ”¯æŒ ROS ç³»ç»Ÿï¼Œå¼€æ”¾ ROS1+ROS2 æŽ¥å…¥åŠŸèƒ½åŒ…ï¼Œå¯å¿«é€ŸèŽ·å¾—æ·±åº¦æ•°æ®åŠæ·±åº¦å›¾ã€‚ <html> <img src \"./assets/me_ross.jpg\" height 250 width 49%> <img src \"./assets/me_rosb.jpg\" width 49% height 250> </html> ## å¿«é€Ÿäº†è§£ TOF æŠ€æœ¯ 1. TOF: æ˜¯ä¸€ç§è·ç¦»æµ‹é‡çš„æ–¹æ³•ï¼Œé€šè¿‡æµ‹é‡å‘å°„å™¨å’Œåå°„å™¨ä¹‹é—´çš„è¶…å£°æ³¢/å¾®æ³¢/å…‰ç­‰ä¿¡å·çš„â€œé£žè¡Œæ—¶é—´â€æ¥è®¡ç®—ä¸¤è€…ä¹‹é—´çš„è·ç¦»ã€‚ å¯ä»¥å®žçŽ°TOFæµ‹è·çš„æ˜¯TOFä¼ æ„Ÿå™¨ã€‚ æœ€å¸¸ç”¨çš„æ˜¯çº¢å¤–çº¿æˆ–æ¿€å…‰æµ‹è·ã€‚ 2. ç‰©ä½“ä¹‹é—´çš„è·ç¦»å­˜åœ¨å·®å¼‚ã€‚ è¯¥æ¨¡å—é€šè¿‡æ•èŽ·çš„æ·±åº¦å€¼çš„å·®å¼‚æ¥æ˜¾ç¤ºå†·è‰²å’Œæš–è‰²ã€‚å†·æš–è‰²éšç€è·ç¦»çš„æ˜ å°„è€Œå˜åŒ–ï¼Œè·ç¦»è¶Šè¿‘è‰²è°ƒå‘ˆæš–è°ƒï¼ˆæ©˜çº¢ï¼‰è€Œè¶Šè¿œè‰²è°ƒå‘ˆå†·è°ƒï¼ˆè“è‰²ï¼‰ã€‚ <html> <img src \"./assets/tof_two.jpg\" height 250 width 49%> <img src \"./assets/tof.jpg\" width 49% height 250> </html> ## æ›´å¤š å…³äºŽ MS 010 æ›´è¯¦ç»†çš„èµ„æ–™èŽ·å–ï¼š[ç‚¹å‡»è·³è½¬](https://wiki.sipeed.com/hardware/zh/maixsense/maixsense a010/maixsense a010.html) å…³äºŽ MS 075 æ›´è¯¦ç»†çš„èµ„æ–™èŽ·å–ï¼š[ç‚¹å‡»è·³è½¬](https://wiki.sipeed.com/hardware/zh/maixsense/maixsense a075v/maixsense a075v.html)"},"/hardware/zh/index.html":{"title":"Sipeed å¼€æºäº§å“é€Ÿè§ˆ","content":" title: Sipeed å¼€æºäº§å“é€Ÿè§ˆ keywords: Sipeed, Hardware, çŸ½é€Ÿ, ç¡¬ä»¶èµ„æ–™, æ–‡æ¡£, èµ„æ–™ä¸‹è½½, æ·±åº¦å­¦ä¹ , äººå·¥æ™ºèƒ½, K210 desc: çŸ½é€Ÿç§‘æŠ€çš„å¼€æºè½¯ç¡¬ä»¶ WIKI èµ„æ–™ç«™ ## æ€»è§ˆ [Maix Zero](https://wiki.sipeed.com/hardware/zh/index.html#Maix Zero) ä»¥ MCU ä¸ºä¸»æŽ§çš„ AIOT å¼€å‘æ¿ [Maix I](https://wiki.sipeed.com/hardware/zh/index.html#Maix I) ä»¥ MCU ä¸ºä¸»æŽ§çš„ AI å¼€å‘æ¿ [Maix II](https://wiki.sipeed.com/hardware/zh/index.html#Maix II ç³»åˆ—)ï¼šLinux AI å¼€å‘æ¿ï¼Œå°å·§ä¾¿æºä¸”å®žç”¨ [Maix III](https://wiki.sipeed.com/hardware/zh/index.html#Maix III)ï¼š Linux AI å¼€å‘æ¿ï¼Œè¶…å¼ºç®—åŠ›è¶…å¤§å†…å­˜å¤šç§çŽ©æ³• [LicheePI](https://wiki.sipeed.com/hardware/zh/index.html#LicheePi ç³»åˆ—)ï¼š Linux å¼€å‘æ¿ [Tang](https://wiki.sipeed.com/hardware/zh/index.html#Tang FPGA ç³»åˆ—)ï¼šFPGA å¼€å‘æ¿ [MaixSense](https://wiki.sipeed.com/hardware/zh/index.html#Maixsense ç³»åˆ—)ï¼š3D TOF æ¨¡ç»„ [SLogic](https://wiki.sipeed.com/hardware/zh/index.html#SLogic ç³»åˆ—): å¤šåŠŸèƒ½é€»è¾‘åˆ†æžä»ª [Longon](https://wiki.sipeed.com/hardware/zh/index.html#Longon ç³»åˆ—)ï¼šMCU å¼€å‘æ¿ [MaixFace](https://wiki.sipeed.com/hardware/zh/index.html#Maixface æ¨¡ç»„)ï¼šå•†ä¸šé¡¹ç›®æ¿å¡ [å…¶ä»–å¤–è®¾](https://wiki.sipeed.com/hardware/zh/index.html#å¤–è®¾æ¨¡ç»„) ## Maix Zero é¡¹ç›® M0S M0P M0sense : : : : ä¸»æŽ§ BL616 BL618 BL702 æ ¸å¿ƒ RV32GCP@320MHz RV32@320MHz RV32@144MHz RAM 480KB 480KB 132KB å‚¨å­˜ å†…ç½® 4MB Flash å†…ç½® 8MB Flash å†…ç½® 192KB ROM, 512KB Flash æ— çº¿ Â· Wifi<br>Â· è“ç‰™<br>Â· Zigbee Â· Wifi<br>Â· è“ç‰™<br>Â· Zigbee è“ç‰™ æ¨¡åž‹å¹³å° [MaixHub](https://www.maixhub.com) [MaixHub](https://www.maixhub.com) [MaixHub](https://www.maixhub.com) å°ºå¯¸ 11(L)x10(W)mm 25.5(L) x 18(W) mm è¯¦æƒ…é¡µ [ç‚¹æˆ‘](./maixzero/m0s/m0s.html) [ç‚¹æˆ‘](./maixzero/m0p/m0p.html) [ç‚¹æˆ‘](./maixzero/sense/maix_zero_sense.html) å¤–è§‚å›¾ <img src \"./maixzero/m0s/assets/m0s/m0s_pin_map.png\" alt \"m0sense\" width \"230\"> <img src \"./maixzero/m0p/assets/m0p/m0p_module_outlook.png\" alt \"m0p_module_outlook\" width \"230\"> <img src \"./maixzero/sense/assets/m0sense_1.png\" alt \"m0sense\" width \"230\"> ## Maix I é¡¹ç›® M1/M1w M1n M1s : : : : ä¸»æŽ§ K210 K210 BL808 æ ¸å¿ƒ RV64@400MHz \\* 2 RV64@400MHz \\* 2 RV64GCV@480MHz<br>RV32GCP@320MHz<br>RV32EMC@160MHz RAM 8MB 8MB 64MB æ— çº¿ M1w æ”¯æŒ Wifi Â· Wifi<br>Â· è“ç‰™<br>Â· Zigbee å°è£…æ ·å¼ é‚®ç¥¨å­” é‡‘æ‰‹æŒ‡ é‚®ç¥¨å­” æ¨¡åž‹å¹³å° [MaixHub](https://www.maixhub.com) [MaixHub](https://www.maixhub.com) [MaixHub](https://www.maixhub.com) å°ºå¯¸ 25.4(L)x25.4(W)mm 25.0(L)x22.0(W)mm 31.0(L)x18.0(W)mm è¯¦æƒ…é¡µ [ç‚¹æˆ‘](./maix/core_module.html) [ç‚¹æˆ‘](./maix/M1n.html) [ç‚¹æˆ‘](./maix/m1s/m1s_module.html) ### Maix I S è¿™æ˜¯ä¸€æ¬¾ä»¥åšæµ 808 ä¸ºä¸»æŽ§æ‰€åˆ¶ä½œçš„ AIOT æ¨¡ç»„ä¸Žæ ¸å¿ƒæ¿ [M1s](./maix/m1s/m1s_module.html) [M1s Dock](./maix/m1s/m1s_dock.html) å›¾ç‰‡ <a href \"https://wiki.sipeed.com/m1s\"><img src \"https://gd4.alicdn.com/imgextra/i4/2200606237318/O1CN011g9yY323vhCXEyiKU_!!2200606237318.jpg\" style \"transform:rotate(270deg);\" alt \"M1s_module\" width \"80%\"></a> <a href \"https://wiki.sipeed.com/m1s#dock\"><img src \"https://gd1.alicdn.com/imgextra/i1/2200606237318/O1CN01gE4a1E23vhCV77ggE_!!2200606237318.jpg\" style \"transform:rotate(270deg);\" alt \"M1s_Dock\" width \"80%\"></a> ### Maix I è¿™æ˜¯ 2019 å¹´ä»¥ K210 ä¸ºæ ¸å¿ƒæ‰€åˆ¶ä½œçš„ä¸€ç³»åˆ— AIOT å¼€å‘æ¿ã€‚ <table role \"table\" class \"center_table\"> <tbody> <tr> <th scope \"col\"></th> <th scope \"col\">Maix Bit</th> <th scope \"col\">Maix Dock</th> <th scope \"col\">Maix Duino</th> <th scope \"col\">Maix nano</th> </tr> <tr> <td style \"white space:nowrap\">å›¾ç‰‡</td> <td> <a href \"./maix/maixpy_develop_kit_board/maix_bit.html\" target \"_blank\"><img src \"./maix/assets/dk_board/maix_bit/Bit.png\" ></a> </td> <td><a href \"./maix/maixpy_develop_kit_board/Maix_dock.html\" target \"_blank\"><img src \"./maix/assets/dk_board/maix_dock/Dan_Dock.png\" ></a></td> <td><a href \"./maix/maixpy_develop_kit_board/maix_duino.html\" target \"_blank\"><img src \"./maix/assets/dk_board/maix_duino/maixduino_0.png\" ></a></td> <td><a href \"./maix/maixpy_develop_kit_board/maix_nano.html\"><img src \"./maix/assets/dk_board/maix_nano/maix_nano.jpg\" alt \"Maxi nano\"></a></td> </tr> <tr> <th scope \"col\"></th> <th scope \"col\">Maix Cube</th> <th scope \"col\">Maix Amigo</th> <th scope \"col\">Maix HAT</th> <th scope \"col\">Maix Go</th> </tr> <tr> <td style \"white space:nowrap\">å›¾ç‰‡</td> <td><a href \"./maix/maixpy_develop_kit_board/maix_cube.html\" target \"_blank\"><img src \"./maix/assets/dk_board/maix_cube/maix_cube.png\" ></a></td> <td><a href \"./maix/maixpy_develop_kit_board/maix_Amigo.html\" target \"_blank\"><img src \"./maix/assets/dk_board/maxi_amigo/maix_amigo_0.png\" ></a></td> <td><a href \"./maix/maixpy_develop_kit_board/maix_hat.html\"><img src \"./../../soft/maixpy/assets/hardware/grove_ai_hat/grove_ai_hat1.png\" alt \"Maix HAT\"></a></td> <td><a href \"./maix/maixpy_develop_kit_board/maix_go.html\" target \"_blank\"><img src \"./maix/assets/dk_board/maix_go/Go.jpg\" ></a></td> </tr> </tbody> </table> ### äº§å“æ”¯æŒ Maix ç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨ AIoT ä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚å•†ä¸šåˆä½œå¯ä»¥è”ç³» <support@sipeed.com>ã€‚ ## Maix II é¡¹ç›® MaixII Dock MaixII Sense MaixII S : : : : ä¸»æŽ§ V831 R329 V833 æ ¸å¿ƒ Cortex A7@800MHz Cortex A53\\*2@1.5GHz Cortex A7@1.2GHz RAM 64MB 256MB é»˜è®¤ 128MB æ— çº¿ Wifi Â· Wifi<br>Â· è“ç‰™ Â· Wifi å¤–è§‚å›¾ <img src \"https://gd3.alicdn.com/imgextra/i3/2200606237318/O1CN01dT63dq23vhAOtdtm7_!!2200606237318.png_400x400.jpg\" style \"transform:rotate(0deg);\" alt \"MaixII Dock\"> <img src \"https://gd3.alicdn.com/imgextra/i3/2200606237318/O1CN01AJdLYs23vh6b40oy2_!!2200606237318.png_400x400.jpg\" style \"transform:rotate(0deg);\" alt \"MaixII Sense\"> <img src \"https://gd2.alicdn.com/imgextra/i2/2200606237318/O1CN01C4iTYi23vh6muQApg_!!2200606237318.png_400x400.jpg\" style \"transform:rotate(0deg);\" alt \"MaixII S\"> æ¨¡åž‹å¹³å° [MaixHub](https://www.maixhub.com) è¯¦æƒ…é¡µ [ç‚¹æˆ‘](http://wiki.sipeed.com/m2dock) [ç‚¹æˆ‘](./maixii/m2a/maixsense.html) [ç‚¹æˆ‘](./maixii/M2S/V833.html) å¤‡æ³¨ <strong>æŽ¨èäº§å“</strong>ï¼Œé«˜æ€§ä»·æ¯”èƒ½è·‘ Linux çš„ SOCï¼ŒåŒæ—¶æ”¯æŒç¡¬ä»¶ AI åŠ é€Ÿï¼ˆ0.2Tops ç®—åŠ›ï¼‰ï¼Œç›®å‰è½¯ä»¶æ”¯æŒæœ€å®¹æ˜“å…¥é—¨ï¼Œæä¾› C SDK å’Œ Python SDKï¼Œ ä»¥åŠåœ¨çº¿æ¨¡åž‹è®­ç»ƒæœåŠ¡(<a href \"https://maixhub.com\" target \"_blank\">MaixHub</a>) æœ‰æä¾›ç¡¬ä»¶ AI åŠ é€Ÿï¼Œ0.25Tops ç®—åŠ›ã€‚ ä»…æ”¯æŒå•†ä¸š ## Maix III ç›®å‰ Maix III axpi æ˜¯æœ€æ–°æ¬¾çš„ AI å¼€å‘æ¿ï¼Œæ‹¥æœ‰é«˜ç®—åŠ›ã€å¤§å†…å­˜ã€å¤šç§æŽ¥å£ï¼Œæ”¯æŒè¶…å¤šç®—å­ã€‚å¼ºçƒˆæŽ¨èã€‚ é¡¹ç›® MaixIII axpi : : ä¸»æŽ§ Ax620a æ ¸å¿ƒ Cortex A7\\*4@1.0GHz NPU 14.4Tops@int4ï¼Œ3.6Tops@int8 ISP 4K@30fps RAM 2GB LPDDR4X 3733Mhz æ‘„åƒå¤´è¾“å…¥ é»˜è®¤å•æ‘„, æœ€é«˜æ”¯æŒ 3 æ‘„:<br>1 ä¸ª MIPI4 LANE+2 ä¸ª MIPI2 LANE å±å¹•è¾“å‡º æ”¯æŒæœ€é«˜ 4 LANE MIPI DSI å±å¹• ç½‘ç»œæŽ¥å£ æ”¯æŒ åƒå…†ä»¥å¤ªç½‘ï¼ˆETHï¼‰ å’Œ 2.4GHZ WI FI æ¿è½½å¤©çº¿ USB æŽ¥å£ 1xUSB2.0HS æ”¯æŒ OTG æˆ– HOST åŠŸèƒ½ï¼Œ<br>1xUSB UART ç³»ç»Ÿä¸²å£ å¤–è§‚å›¾ <img src \"https://gd2.alicdn.com/imgextra/i2/2200606237318/O1CN01AY6Mu123vhBaHWr6H_!!2200606237318.jpg_400x400.jpg\" style \"transform:rotate(0deg);\" alt \"MaixIII Axpi\" width \"40%\"> æ¨¡åž‹å¹³å° [MaixHub](https://www.maixhub.com) æ›´å¤šå†…å®¹è¯·å‰å¾€[è¯¦æƒ…é¡µ](./maixIII/ax pi/axpi.html)æŸ¥çœ‹ ## Lichee ### Lichee 4A ä½¿ç”¨ TH1520 SOC çš„è®¾å¤‡ Lichee Pi 4A : : å¤–è§‚ ![](./../assets/lichee/th1520/licheepi4a.png) ### Lichee Linux Lichee Linux å¼€å‘æ¿ä½¿ç”¨äº†å…¨å¿—ç§‘æŠ€çš„ SOC èŠ¯ç‰‡ï¼Œæ˜¯ä¸ºäº†å®žæˆ˜ linux åº•å±‚ç›¸å…³çš„å†…å®¹çš„äº§å“ã€‚ ç±»åˆ« Lichee RV Lichee Zero Plus Lichee Zero Lichee nano : : : : : SOC Allwinner D1 Allwinner S3 Allwinner V3s Allwinner F1c100s CPU æž¶æž„ çŽ„é“ C906 Cortexâ„¢ A7 Cortexâ„¢ A7 ARM 926EJS è¿è¡Œé¢‘çŽ‡ 1GHz 1.2GHz 1.2GHz(max) 600MHz(max) RAM 512MB DDR3 128Mbyte DDR3 64MB DRAM 32MB DDR FLASH å¯é€‰ SD nand å¯é€‰ SD Nandã€<br>SPI Nor Flash<br>æˆ–è€… eMMC é¢„ç•™<br>SOP8 SPI Flash<br>ç„Šç›˜ æ¿è½½ 16MB NOR FLASH TF è¿žæŽ¥å™¨ æœ‰ æœ‰ æœ‰ æœ‰ <table> <thead> <tr> <th style \"text align:center\">Lichee Zero</th> <th style \"text align:center\">Lichee Nano</th> </tr> </thead> <tbody> <tr> <td style \"text align:center\"><a href \"./lichee/Zero/Zero.html\"><img src \"./lichee/assets/Zero/Zero_1.png\" alt \"Lichee Zero\"></a></td> <td style \"text align:center\"><a href \"./lichee/Nano/Nano.html\" ><img src \"./lichee/assets/Nano/Nano_2.png\" alt \"Lichee Nano\"></a></td> </tr> </tbody> <thead> <tr> <th style \"text align:center\">Lichee Zero Plus</th> <th style \"text align:center\">Lichee RV</th> </tr> </thead> <tbody> <tr> <td style \"text align:center\"><a href \"./lichee/ZeroPlus/ZeroPlus.html\"><img src \"./lichee/assets/Zero Plus/Plus_1.jpg\" alt \"Tang Nano 4K\"></a></td> <td style \"text align:center\"><a href \"./lichee/RV/RV.html\"><img src \"./lichee/assets/RV/D1 4.png\" alt \"Lichee RV\"></a></td> </tr> </tbody> </table> ### Lichee 4A Lichee 4A æ˜¯ä½¿ç”¨äº† TH1520 èŠ¯ç‰‡çš„ä¸€ç³»åˆ—è®¾å¤‡ï¼Œç›®å‰æœ‰ Lichee Module 4A å’Œ Lichee Pi 4A ä¸¤æ¬¾äº§å“ Lichee Module 4A ä»‹ç»ï¼š[ç‚¹æˆ‘](https://wiki.sipeed.com/licheem4a) Lichee Pi 4A ä»‹ç»ï¼š[ç‚¹æˆ‘](https://wiki.sipeed.com/licheepi4a) æ¡ç›® è¯´æ˜Ž : : ä¸»æŽ§èŠ¯ç‰‡\tTH1520 CPUå¤„ç†å™¨\tRISC V 64GCV C910*4@1.85GHz <br>Â· æ¯æ ¸æ”¯æŒ 64KB I cache å’Œ 64KB D Cache<br>Â· å››æ ¸å…±äº« 1MB L2 Cache<br>Â· æ”¯æŒ TEE å’Œ REEï¼ŒTEE/REE æ”¯æŒæ ¸æ•°å¯åŠ¨æ—¶å¯é…ç½®<br>Â· æ”¯æŒè‡ªå®šä¹‰ä¸”æŽ¥å£å…¼å®¹ RISC V çš„å¤šæ ¸è°ƒè¯•æ¡†æž¶<br>Â· ç‹¬ç«‹ç”µæºåŸŸï¼Œæ”¯æŒ DVFS å›¾å½¢å¤„ç†å™¨\tÂ· OpenCL 1.1/1.2/2.0<br>Â· OpenGL ES 3.0/3.1/3.2<br>Â· Vulkan 1.1/1.2<br>Â· Android NN HAL<br> NPUå¤„ç†å™¨\tæ”¯æŒ 4TOPS@INT8 é€šç”¨ NNA ç®—åŠ›ï¼Œä¸»é¢‘ 1GHz<br>Â· æ”¯æŒ TensorFlowã€ONNXã€Caffe<br>Â· æ”¯æŒ CNNã€RNNã€DNN ç­‰<br> è§†é¢‘è§£ç å™¨\tå®žæ—¶è§£ç å™¨ï¼Œæ”¯æŒ H.265/H.264/VP9/8/7/6/AVS/AVS+/AVS2.0/VC1/MPEG4<br>Â· æ”¯æŒ H.264 BP/MP/HP@level 5.1 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ H.265/HEVC Main Profile@level 5.1 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ VP9 Profile 2 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ AVS2.0 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ VP6/7/8/AVS/AVS+/VC1/MPEG4 è§£ç ï¼Œæœ€å¤§ 1920x1080 åˆ†è¾¨çŽ‡<br>Â· è§£ç æ€§èƒ½æœ€å¤§ 4K@75fps è§†é¢‘ç¼–ç å™¨\tÂ· æ”¯æŒ H.264 BP/MP/HP@level4.2 ç¼–ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ H.265/HEVC Main Profile ç¼–ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· ä»…æ”¯æŒ I å¸§å’Œ P å¸§<br>Â· ç¼–ç æ€§èƒ½æœ€å¤§ 4K@40fps ## Tang FPGA ç³»åˆ— Tang FPGA ç›®å‰åˆ†ä¸º Tang Nano å’Œ Tang Primer ä¸¤ä¸ªç³»åˆ—ã€‚ Tang Nano æ˜¯å°½å¯èƒ½å°ä½“ç§¯çš„æ ¸å¿ƒæ¿ Tang Primer æ˜¯å¤šå¼•è„šå¤šæ‹“å±•æ€§çš„å¼€å‘æ¿ã€‚ ### Tang Nano é¡¹ç›® <p style \"white space:nowrap\">Tang Nano 20K</p> <p style \"white space:nowrap\">Tang Nano 9K</p> <p style \"white space:nowrap\">Tang Nano 4K</p> <p style \"white space:nowrap\">Tang Nano 1K</p> : : : : é€»è¾‘å•å…ƒ(LUT4) 20736 8640 4608 1152 å¯„å­˜å™¨ï¼ˆFFï¼‰ 15552 6480 3456 864 S SRAM (bits) 41472 17280 B SRAM (bits) 828K 468K 180K 72K ç”¨æˆ·é—ªå­˜ (bits) 608K 256K 96K é”ç›¸çŽ¯ (PLL) 2 2 2 1 RAM 32bits SDR SDRAM 16 bits PSRAM 8bits HyperRam RAM å®¹é‡ 64Mb 64M 64Mb æ¿è½½ Flash 64Mbits NOR Flash 32Mbits NOR Flash 32Mbits NOR Flash é¢„ç•™ç„Šç›˜ ç¡¬æ ¸å¤„ç†å™¨ Cortex M3 <table> <thead> <tr> <th style \"text align:center\">Tang Nano 20K</th> <th style \"text align:center\">Tang Nano 9K</th> </tr> </thead> <tbody> <tr> <td style \"text align:center\"><a href \"./tang/tang nano 20k/nano 20k.html\"><img src \"./../assets/Tang/nano_20k/tang_nano_20k_3920_top.png\" alt \"Tang Nano 20K\"></a></td> <td style \"text align:center\"><a href \"./tang/Tang Nano 9K/Nano 9K.html\"><img src \"./../assets/Tang/Nano 9K/9K.png\" alt \"Tang Nano 9K\"></a></td> </tr> </tbody> <thead> <tr> <th style \"text align:center\">Tang Nano 4K</th> <th style \"text align:center\">Tang Nano 1K</th> </tr> </thead> <tbody> <tr> <td style \"text align:center\"><a href \"./tang/Tang Nano 4K/Nano 4K.html\"><img src \"./../assets/Tang/Nano_4K/Nano_4K.png\" alt \"Tang Nano 4K\"></a></td> <td style \"text align:center\"><a href \"./tang/Tang Nano 1K/Nano 1k.html\"><img src \"./../assets/Tang/Nano 1K/1K.png\" alt \"Tang Nano 1K\"></a></td> </tr> </tbody> </table> ### Tang Primer é¡¹ç›® <p style \"white space:nowrap\">Tang Primer 20K</p> <p style \"white space:nowrap\">Tang Primer 25K</p> : : é€»è¾‘å•å…ƒ(LUT4) 20736 23040 å¯„å­˜å™¨ï¼ˆFFï¼‰ 15552 23040 S SRAM (bits) 41472 180K B SRAM (bits) 828K 1008K é”ç›¸çŽ¯ (PLL) 4 æ¿è½½å†…å­˜ 16bits DDR3 RAM æ¿è½½å†…å­˜å®¹é‡ 128MB æ¿è½½ Flash 32Mbits NOR Flash æ ¸å¿ƒæ¿ç…§ç‰‡ <img src \"./../assets/Tang/primer_20k/primer_20k.png\" alt \"Tang Primer 20Kï¼ˆæ ¸å¿ƒæ¿ï¼‰\" width 45%> åº•æ¿æ•°é‡ 2 è¯¦æƒ…é¡µ <a href \"./tang/tang primer 20k/primer 20k.html\"> ç‚¹æˆ‘ </a> ### å”®ç½„äº§å“ Tang Nano Tang Primer : : : : [![Tang Nano](./../assets/Tang/Nano/Tang_Nano.jpg)](./tang/Tang Nano/Nano.html) [![Tang Primer](./../assets/Tang/permier/Tang_permier.jpg)](./tang/Tang primer/Tang primer.html) ## MaixSense ç³»åˆ— åŸºäºŽ TOF æŠ€æœ¯çš„æ·±åº¦ç›¸æœº Maixsense a010 MaixSense a075V å›¾ç‰‡ ![me_small](./maixsense/assets/me_small.jpg) ![me_big](./maixsense/assets/me_big.jpg) æŽ¥å£ 1.25mm ä¸²å£è¿žæŽ¥å™¨ \\*1<br>Type C USB2.0 \\*1 1.25mm ä¸²å£è¿žæŽ¥å™¨ \\*1 <br>Type C USB2.0 \\*1 åˆ†è¾¨çŽ‡ TOFï¼š100x100@30fps RGBï¼š1600x1200@30fps<br>TOFï¼š320x240@60fps è§†åœºè§’ RGBï¼šæ— <br>TOFï¼š70Â°(H) \\* 60Â°(V) RGBï¼š120Â°<br>TOFï¼š55Â°(H)\\*72Â°(H) <p style \"white space:nowrap\">TOF åƒç´ å°ºå¯¸</p> 15um æ¿€å…‰å‘å°„å™¨ 40nm VCSEL 940nm,3W æµ‹é‡èŒƒå›´ 0.2 2.5m 0.15 1.5m æµ‹é‡ç²¾åº¦ &lt; 1%/cm &lt; 1%/cm ## SLogic ç³»åˆ— SLogic å…¨ç§°ä¸º Sipeed Logic Analyzerï¼Œæ˜¯é€»è¾‘åˆ†æžä»ªã€‚ Lite8 Combo8 é‡‡æ ·èŠ¯ç‰‡ BL616 BL616 é€šè®¯æ–¹å¼ USB2.0 HS USB2.0 HS é‡‡æ ·çŽ‡@é€šé“æ•° 160M@2Channel<br>80M@4Channel<br>40M@8Channel 160M@2Channel<br>80M@4Channel<br>40M@8Channel ä¿¡å·è¾“å…¥èŒƒå›´ 0ï½ž3.6V 0ï½ž3.6V é«˜ä½Žç”µå¹³è¯†åˆ«èŒƒå›´ VIH: >2V<br>VIL: <0.8V VIH: >2V<br>VIL: <0.8V CKLink åŠŸèƒ½ æ”¯æŒ DapLink åŠŸèƒ½ æ”¯æŒ ä¸²å£åŠŸèƒ½ æ”¯æŒå››ä¸²å£åŠŸèƒ½ï¼Œæ¯ä¸ªä¸²å£æœ€å¤§20MBps SLogic Combo8 åŠŸèƒ½æŒ‡ç¤º LED çŠ¶æ€ åŠŸèƒ½ 111 SLogic 110 UARTx4 101 DAPLink 100 CKLink CH7 CH6 RX1 RX3 RTS TMS/SWDIO RTS TMS CH5 CH4 TX1 TX3 DTR TDO DTR TDO CH3 CH2 RX0 RX2 RXD TDI RXD TDI CH1 CH0 TX0 TX2 TXD TCK/SWCLK TXD TCK 3V3 5V 3V3 5V 3V3 5V 3V3 5V GND GND GND GND GND GND GND GND ## Longon ç³»åˆ— MCU å¼€å‘æ¿ <img src \"./longan/Nano/assets/longan_nano.jpg\" alt \"longan_nano\" width \"40%\"> è¯¦æƒ…é¡µï¼š[ç‚¹æˆ‘](./longan/Nano/assets/index.html) ## MaixFace æ¨¡ç»„ å•†ä¸šåˆä½œæ¨¡ç»„ï¼Œæ— ä¸ªäººæ”¯æŒ å‰å¾€é¦–é¡µå•†ä¸šæ–¹æ¡ˆæ¿å—æŸ¥çœ‹å¯¹åº”è®¾å¤‡ ## å¤–è®¾æ¨¡ç»„ å‰å¾€é¦–é¡µå¤–è®¾æ¨¡ç»„æ¿å—æŸ¥é˜…å¯¹åº”è®¾å¤‡"},"/hardware/zh/modules_spmod/spmod_template.html":{"title":"SPMOD - XXX","content":"# SPMOD XXX ## æ¦‚è¿° <img src \"../../assets/spmod/sipeed_spmod_xxx.jpg\" alt \"XXX\" style \"zoom:60%;\" /> SPMOD_XX(XX æ¨¡å—)é‡‡ç”¨XXXã€‚ ## SPMOD XXX ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ XXX æ¨¡å—å°ºå¯¸ï¼šX.XX\\*XX.X\\*XX.Xmm ### XXXX ä»‹ç» XXXXX XXXX XXXX åŠŸèƒ½ç‰¹ç‚¹ï¼š ### SPMOD_XXX æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G XX 2 XXX I XX 3 MISO O XX 4 XXX I XX 5 XXX O XX 6 SCK I XX 7 MOSI I XX 8 VCC G XX ## ä½¿ç”¨ä¾‹ç¨‹ MaixPy ä¾‹ç¨‹ï¼š > NOTE: å¾…æ›´æ–° STM32 ä¾‹ç¨‹ï¼š ## å‚è€ƒè®¾è®¡ SPMOD_XXX åŽŸç†å›¾ï¼š ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_grove.html":{"title":"SPMOD - Grove","content":"# SPMOD Grove ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_grove/sp_grove.png\" width \"\" height \"400\" /> SPMOD_Grove(GROVE æ¨¡å—) ## SPMOD Grove ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ ä½œä¸ºæ‹“å±•ç‰ˆï¼Œæä¾›ä¸‰ä¸ªæ ‡å‡†çš„GroveæŽ¥å£ã€‚æ–¹ä¾¿æ‚¨å°†Groveæ¨¡å—ä¸ŽSP MODä¸€èµ·ä½¿ç”¨ã€‚ æ¯æ¡æ•°æ®çº¿å‡æä¾›å¤–éƒ¨ä¸Šæ‹‰ã€‚ æä¾›é«˜è¾¾1000mAçš„ä¾›ç”µèƒ½åŠ›ã€‚ æ¨¡å—å°ºå¯¸ï¼š35.0\\*10.0\\*2.1mm ## æ¦‚æ‹¬ åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° Grove è¿žæŽ¥å™¨ (HY 2.0mm 4Pè¿žæŽ¥å™¨)*3 ç”¨äºŽè¿žæŽ¥Groveçº¿ç¼† æŽ’é’ˆ4*2ï¼Œé—´è·2.54mm *1 ç”¨äºŽå’ŒSP MODæŽ¥å£è¿žæŽ¥ å¤–éƒ¨ä¾›ç”µç”µåŽ‹ è§†è¿žæŽ¥çš„æ¨¡å—è€Œå®š å¤–éƒ¨ä¾›ç”µç”µæµ è§†æ¨¡å—å·¥ä½œæƒ…å†µè€Œå®šï¼Œé€šå¸¸å°äºŽ1000mA å·¥ä½œæ¸©åº¦ 30â„ƒ ~ 85â„ƒ ## å‚è€ƒè®¾è®¡ SPMOD_Grove å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_grove/sipeed_spmod_grove.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_eink.html":{"title":"SPMOD - Eink","content":"# SPMOD Eink ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_eink/sp_eink.png\" alt \"XXX\" style \"zoom:40%;\" /> SPMOD_Eink(å¢¨æ°´å±æ¨¡å—)é‡‡ç”¨ GDEW0154M09 ç”µå­å¢¨æ°´å±ã€‚ ## SPMOD Eink ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ é€šè¿‡SP MOD SPIæŽ¥å£ä¸Žå±å¹•åº•æ¿ç›¸è¿ž ç”µå­å¢¨æ°´å±ï¼šGDEW0154M09æ˜¯ä¸€æ¬¾1.54â€ï¼ŒSPIæŽ¥å£æŽ§åˆ¶ï¼Œæ‹¥æœ‰24P FPC(0.5mmé—´è·)æŽ¥å£çš„ç”µå­å¢¨æ°´å±ã€‚æ‹¥æœ‰è¶…å¹¿å¯è§†è§’ã€‚ æ”¯æŒ 1 bit é»‘/ç™½æ˜¾ç¤º åˆ†è¾¨çŽ‡ï¼š200x200 æ¨¡å—å°ºå¯¸ï¼š35*30*3.8mm ### GDEW0154M09 ç”µå­å¢¨æ°´å±ä»‹ç» åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° å·¥ä½œç”µåŽ‹ 2.3V~3.6V å·¥ä½œç”µæµ 1~3mA å·¥ä½œæ¸©åº¦èŒƒå›´ 40â„ƒ~85â„ƒ ä¼‘çœ ç”µæµ <5uA å±å¹•å¤§å° 1.54è‹±å¯¸ æœ‰æ•ˆæ˜¾ç¤ºåŒºåŸŸ 27.6mm åˆ†è¾¨çŽ‡ 200*200 è‰²å½© 1 bit é»‘/ç™½æ˜¾ç¤º å¯¹å¤–æŽ¥å£ 24P FPC (0.5mmé—´è·) > å†…éƒ¨é›†æˆç”µè·¯åŒ…å«é—¨ç¼“å†²å™¨ã€æºç¼“å†²å™¨ï¼ŒæŽ¥å£ï¼Œæ—¶åºæŽ§åˆ¶é€»è¾‘ï¼ŒæŒ¯è¡å™¨ï¼ŒDC DCï¼ŒSRAMï¼ŒLUTï¼ŒVCOM ### SPMOD_Eink æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 CS I SPIç‰‡é€‰å¼•è„š 3 D/C I æ•°æ®/å‘½ä»¤è¾“å…¥åˆ‡æ¢å¼•è„š 4 RES I æ¨¡å—å¤ä½å¼•è„šï¼Œä½Žæœ‰æ•ˆ 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 SCK I SPIä¸²è¡Œæ—¶é’Ÿå¼•è„š 7 SI I/O MOSIæ•°æ®å¼•è„šï¼Œä¸»æœºè¾“å‡ºä»Žæœºè¾“å…¥ 8 BSY O BUSYçŠ¶æ€è¾“å‡ºå¼•è„š <img src \"../../assets/spmod/spmod_eink/sp_eink_back.png\" height \"300\" /> æŽ¥çº¿æ–¹å¼ï¼š MCU:FUN(IO) SP_Eink : : : : GPIOHS(IO_7) RES SPIOHS(IO_15) D/C SPIOHS(IO_20) CS SPI:SCK(IO_21) SCK SPI:MOSI(IO_8) SI GPIOHS(IO_6) BSY 2.3 3.6V 3.3V GND GND <img src \"../../assets/spmod/spmod_eink/connection.png\" height \"250\"> ### åŸºæœ¬æŒ‡ä»¤åˆ—è¡¨ æŒ‡ä»¤ åŠŸèƒ½ : : : : 0x10 å¼€å§‹å‘é€é»‘ç™½å›¾åƒ 0x13 å¼€å§‹å‘é€çº¢ç™½å›¾åƒ 0x12 åˆ·æ–°å›¾åƒåˆ°å±å¹• *æ›´å¤šæŒ‡ä»¤ä¿¡æ¯å‚è€ƒ[GDEW0154M09.pdf](https://dl.sipeed.com/shareURL/MAIX/HDK/Spmod_CN/sp_eink)* ## ä½¿ç”¨ä¾‹ç¨‹ * æµç¨‹ 1. åˆå§‹åŒ–é…ç½® 2. åˆ›å»º Image å¹¶å¡«å…… 3. å‘é€å›¾åƒå¹¶åˆ·æ–° ### C ç¤ºä¾‹ï¼š ```c spi_init(1, SPI_WORK_MODE_0, SPI_FF_STANDARD, DATALENGTH, 0); fpioa_set_function(SPI_Eink_CS_PIN_NUM, FUNC_SPI1_SS0); // SPI_Eink_CS_PIN_NUM: 20; fpioa_set_function(SPI_Eink_SCK_PIN_NUM, FUNC_SPI1_SCLK); // SPI_Eink_SCK_PIN_NUM: 21; fpioa_set_function(SPI_Eink_MOSI_PIN_NUM, FUNC_SPI1_D0); // SPI_Eink_MOSI_PIN_NUM: 8; fpioa_set_function(SPI_Eink_DC_PIN_NUM, FUNC_GPIOHS0 + SPI_Eink_DC_GPIO_NUM); // SPI_Eink_DC_PIN_NUM: 21; fpioa_set_function(SPI_Eink_RST_PIN_NUM, FUNC_GPIOHS0 + SPI_Eink_RST_GPIO_NUM); // SPI_Eink_RST_PIN_NUM: 7; fpioa_set_function(SPI_Eink_BL_PIN_NUM, FUNC_GPIOHS0 + SPI_Eink_BL_GPIO_NUM); // SPI_Eink_BL_PIN_NUM: 6; gpiohs_set_drive_mode(SPI_Eink_DC_GPIO_NUM, GPIO_DM_OUTPUT); gpiohs_set_drive_mode(SPI_Eink_RST_GPIO_NUM, GPIO_DM_OUTPUT); gpiohs_set_pin(SPI_Eink_DC_GPIO_NUM, GPIO_PV_HIGH); gpiohs_set_pin(SPI_Eink_RST_GPIO_NUM, GPIO_PV_HIGH); gpiohs_set_drive_mode(SPI_Eink_BL_PIN_NUM, GPIO_DM_INPUT_PULL_UP); gpiohs_set_pin_edge(SPI_Eink_BL_PIN_NUM, GPIO_PE_BOTH); EPD_DisplayInit(); //EPD init //Paint initialization Paint_NewImage(BlackImage, EPD_WIDTH, EPD_HEIGHT, 270, WHITE); //Set screen size and display orientation Paint_SelectImage(BlackImage); //Set the virtual canvas data storage location Paint_Clear(WHITE); //clear paint Paint_DrawString_EN(0, 0, \"sipeed\", &Font8, WHITE, BLACK); //5*8 Paint_DrawString_EN(0, 10, \"sipeed\", &Font12, WHITE, BLACK); //7*12 Paint_DrawString_EN(0, 25, \"sipeed\", &Font16, WHITE, BLACK); //11*16 Paint_DrawString_EN(0, 45, \"sipeed\", &Font20, WHITE, BLACK); //14*20 Paint_DrawString_EN(0, 80, \"sipeed\", &Font24, WHITE, BLACK); //17*24 EPD_FullDisplay(BlackImage, BlackImage, 0); //display image ``` ### MaixPy ä¾‹ç¨‹ï¼š ```python spi1 SPI(SPI.SPI1, mode SPI.MODE_MASTER, baudrate 600 * 1000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck 21, mosi 8) fm.register(20, fm.fpioa.GPIOHS20, force True) # SPI_Eink_SS_PIN_NUM: 20; fm.register(15, fm.fpioa.GPIOHS15, force True) # SPI_Eink_DC_PIN_NUM: 15; fm.register(6, fm.fpioa.GPIOHS6, force True) # SPI_Eink_BUSY_PIN_NUM: 6; fm.register(7, fm.fpioa.GPIOHS7, force True) # SPI_Eink_RST_PIN_NUM: 7; cs GPIO(GPIO.GPIOHS20, GPIO.OUT) dc GPIO(GPIO.GPIOHS15, GPIO.OUT) busy GPIO(GPIO.GPIOHS6, GPIO.IN, GPIO.PULL_DOWN) rst GPIO(GPIO.GPIOHS7, GPIO.OUT) epd SPEink(spi1, cs, dc, rst, busy, SPEink_WIDTH, SPEink_HEIGHT, SPEink_ROTATION) epd.init() img image.Image() img img.resize(200, 200) img.draw_line(0, 0, 100, 100) epd.display(img) ``` ### è¿è¡ŒçŽ¯å¢ƒ è¯­è¨€ å¼€å‘æ¿ SDK/å›ºä»¶ç‰ˆæœ¬ : : : : : : C MaixCube kendryte standalone sdk v0.5.6 MaixPy MaixCube maixpy v0.5.1 *MaixPyå›ºä»¶å»ºè®®è‡ªè¡Œä»Žæœ€æ–°æºç ç¼–è¯‘* ### è¿è¡Œç»“æžœ * C <img src \"../../assets/spmod/spmod_eink/sp_eink_c.png\" height \"250\" /> * MaixPy <img src \"../../assets/spmod/spmod_eink/sp_eink_py.png\" height \"250\" /> ### ç§»æ¤ ä¿®æ”¹ä»¥ä¸‹å‚æ•°å³å¯ * C ```c // board_config.h #define SPI_INDEX 1 #define SPI_SCLK_RATE 600 * 1000 #define SPI_CHIP_SELECT_NSS 0 //SPI_CHIP_SELECT_0 #define SPI_Eink_CS_PIN_NUM 20 #define SPI_Eink_SCK_PIN_NUM 21 #define SPI_Eink_MOSI_PIN_NUM 8 #define SPI_Eink_DC_PIN_NUM 15 #define SPI_Eink_BL_PIN_NUM 6 #define SPI_Eink_RST_PIN_NUM 7 #define SPI_Eink_DC_GPIO_NUM 15 #define SPI_Eink_BL_GPIO_NUM 6 #define SPI_Eink_RST_GPIO_NUM 7 ``` * MaixPy ```python ################### config ################### SPI_Eink_NUM SPI.SPI1 SPI_Eink_DC_PIN_NUM const(15) SPI_Eink_BUSY_PIN_NUM const(6) SPI_Eink_RST_PIN_NUM const(7) SPI_Eink_CS_PIN_NUM const(20) SPI_Eink_SCK_PIN_NUM const(21) SPI_Eink_MOSI_PIN_NUM const(8) SPI_Eink_FREQ_KHZ const(600) ############################################## ``` ## å‚è€ƒè®¾è®¡ SPMOD_Eink å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_eink/sipeed_spmod_eink.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maixhub.com](https://maixhub.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/shareURL/MAIX/SDK](https://dl.sipeed.com/shareURL/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/shareURL/MAIX/HDK](https://dl.sipeed.com/shareURL/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ 862340358 "},"/hardware/zh/modules_spmod/spmod_lora.html":{"title":"SPMOD - LoRa","content":"# SPMOD LoRa ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_lora/sp_lora.png\" width \"\" height \"300\" /> SPMOD_LoRa(LoRa æ¨¡å—)é‡‡ç”¨ M XL8 æ¨¡å—ã€‚ ## SPMOD LoRa ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ åˆ©ç”¨ SP MOD SPI å’Œ LoRa æ¨¡å—é€šè®¯ LoRa æ¨¡å—ï¼šM XL8 SX1276 æ¨¡å—æ˜¯ä¸€ä¸ª SPI æŽ¥å£ï¼Œå†…ç½® LoRaTM è°ƒåˆ¶è§£è°ƒå™¨å’Œå¯è°ƒåŠŸçŽ‡æ”¾å¤§å™¨çš„ LoRa æ¨¡å—ï¼Œå®ƒå…·æœ‰é«˜æ€§èƒ½å’Œå¯é æ€§ 370MHz 1200MHz, æœ€å¤§20dBm (100mW)æŒç»­å‘å°„åŠŸçŽ‡ æ¨¡å—å°ºå¯¸ï¼š25.0\\*10.0\\*4.3mm ### M XL8 SX1276 LoRa æ¨¡å— ä»‹ç» åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° å·¥ä½œé¢‘æ®µ 370MHz 1200Mhz å‘å°„åŠŸçŽ‡ 20dBmï¼ˆæœ€å¤§ï¼‰ é€šä¿¡æŽ¥å£ SPI å·¥ä½œç”µåŽ‹ 1.8V~6.3V å·¥ä½œæ¸©åº¦ 40â„ƒ 80â„ƒ å¤©çº¿ å¤–ç½®å¤©çº¿ï¼ŒIPEXæˆ–ç„ŠæŽ¥ æŽ¥æ”¶çµæ•åº¦ 148dbm RSSIåŠ¨æ€èŒƒå›´ 127dB æœ€å¤§é“¾è·¯é¢„ç®— 168dB æ”¶å‘çŠ¶æ€ç”µæµ 9.9mA ç¡çœ çŠ¶æ€ç”µæµ 50nA è°ƒåˆ¶æ–¹å¼ FSK, GFSK, MSK, GMSK, LoRaTMåŠOOK > å†…ç½®LoRaTMè°ƒåˆ¶è§£è°ƒå™¨ï¼Œå†…ç½®CRCï¼Œç»§æ‰¿+12dBmå¯è°ƒPA+LNA ### SPMOD_lora æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 CS I/O SPIç‰‡é€‰å¼•è„š 3 SO I/O MISOæ•°æ®å¼•è„šï¼Œä¸»æœºè¾“å…¥ä»Žæœºè¾“å‡º 4 RST I æ¨¡å—å¤ä½å¼•è„šï¼Œä½Žæœ‰æ•ˆ 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 SCK I SPIä¸²è¡Œæ—¶é’Ÿå¼•è„š 7 SI I/O MOSIæ•°æ®å¼•è„šï¼Œä¸»æœºè¾“å‡ºä»Žæœºè¾“å…¥ 8 IRQ I è¿žæŽ¥è‡³æ¨¡å—DIO0ï¼Œå¯ç¼–ç¨‹å†³å®šåŠŸèƒ½ <img src \"../../assets/spmod/spmod_lora/back.png\" width \"300\" /> æŽ¥çº¿æ–¹å¼: MCU:FUN(IO) SP_LCD : : : : GPIOHS7(IO_7) RST SPI:MISO(IO_15) SO SPI:SS0(IO_20) CS SPI:SCK(IO_21) SCK SPI:MOSI(IO_8) SI GPIOH(IO_6) IRQ 1.8 6.3V 3.3V GND GND <img src \"../../assets/spmod/spmod_lora//connection.png\" height \"250\"> ## ä½¿ç”¨ä¾‹ç¨‹ * æµç¨‹ 1. åˆ›å»º LoRa å¯¹è±¡å¹¶åˆå§‹åŒ– 2. å‘é€æˆ–è€…æŽ¥æ”¶æ•°æ® ### C ç¤ºä¾‹ï¼š ```c fpioa_set_function(SPI_LoRa_SX127X_CS_PIN_NUM, FUNC_SPI1_SS0); // CS: 20 fpioa_set_function(SPI_LoRa_SX127X_SCK_PIN_NUM, FUNC_SPI1_SCLK); // SCLK: 21 fpioa_set_function(SPI_LoRa_SX127X_MOSI_PIN_NUM, FUNC_SPI1_D0); // MOSI: 8 fpioa_set_function(SPI_LoRa_SX127X_MISO_PIN_NUM, FUNC_SPI1_D1); // MISO: 15 fpioa_set_function(SPI_LoRa_SX127X_IRQ_PIN_NUM, FUNC_GPIOHS0 + SPI_LoRa_SX127X_IQR_GPIO_NUM); // IQR: 6 fpioa_set_function(SPI_LoRa_SX127X_RST_PIN_NUM, FUNC_GPIOHS0 + SPI_LoRa_SX127X_RST_GPIO_NUM); // RST: 7 spi_init(SPI_DEVICE_1, SPI_WORK_MODE_0, SPI_FF_STANDARD, DATALENGTH, 0); sx1278_begin(&SX1278, SX1278_433MHZ, SX1278_POWER_17DBM, SX1278_LoRa_SF_8, SX1278_LoRa_BW_20_8KHZ, 10); if (master 1) { printf(\" MASTER \\r\\n\"); ret sx1278_LoRaEntryTx(&SX1278, 16, 2000); } else { printf(\" SALAVE \\r\\n\"); ret sx1278_LoRaEntryRx(&SX1278, 16, 2000); } ``` ### MaixPy ä¾‹ç¨‹ï¼š ```python fm.register(20, fm.fpioa.GPIOHS20, force True) # RST fm.register(7, fm.fpioa.GPIOHS7, force True) # CS # set gpiohs work mode to output mode cs GPIO(GPIO.GPIOHS20, GPIO.OUT) rst GPIO(GPIO.GPIOHS7, GPIO.IN) # The other pins are configured at SPI initialization time spi1 SPI(SPI.SPI1, mode SPI.MODE_MASTER, baudrate 100 * 1000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck 21, mosi 8, miso 15) lora SX127x(spi spi1, pin_ss cs) lora.init() #######receiver########### receive(lora) ########sender########### # send(lora) ``` ### è¿è¡ŒçŽ¯å¢ƒ è¯­è¨€ å¼€å‘æ¿ SDK/å›ºä»¶ç‰ˆæœ¬ : : : : : : C MaixCube kendryte standalone sdk v0.5.6 MaixPy MaixCube maixpy v0.5.1 *MaixPyå›ºä»¶å»ºè®®è‡ªè¡Œä»Žæœ€æ–°æºç ç¼–è¯‘* ### è¿è¡Œç»“æžœ * C <center class \"third\"> \t <img src \"../../assets/spmod/spmod_lora/lora_send_log_c.png\" height \"250\"/><img src \"../../assets/spmod/spmod_lora/lora_recv_log_c.png\" height \"250\"/> </center> * MaixPy <center class \"third\"> \t <img src \"../../assets/spmod/spmod_lora/lora_send_log.png\" height \"250\"/><img src \"../../assets/spmod/spmod_lora/lora_recv_log.png\" height \"250\"/> </center> ### ç§»æ¤ ä¿®æ”¹ä»¥ä¸‹å‚æ•°å³å¯é€‚é…å…¶ä»– K210 å¼€å‘æ¿. * C ```c // board_config.h #define SPI_INDEX 1 #define SPI_SCLK_RATE 600*1000 #define SPI_CHIP_SELECT_NSS 0//SPI_CHIP_SELECT_0 #define SPI_LoRa_SX127X_CS_PIN_NUM 20 #define SPI_LoRa_SX127X_SCK_PIN_NUM 21 #define SPI_LoRa_SX127X_MOSI_PIN_NUM 8 #define SPI_LoRa_SX127X_MISO_PIN_NUM 15 #define SPI_LoRa_SX127X_IRQ_PIN_NUM 6 #define SPI_LoRa_SX127X_RST_PIN_NUM 7 #define SPI_LoRa_SX127X_IQR_GPIO_NUM 6 #define SPI_LoRa_SX127X_RST_GPIO_NUM 7 ``` * MaixPy ```python ################### config ################### LoRa_RST const(20) LoRa_CS const(7) LoRa_SPI_SCK const(21) LoRa_SPI_MOSI const(8) LoRa_SPI_MISO const(15) LoRa_SPI_NUM SPI.SPI1 LoRa_SPI_FREQ_KHZ const(100) ############################################## ``` ## å‚è€ƒè®¾è®¡ SPMOD_LoRa å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_lora/sipeed_spmod_lora.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_micarray.html":{"title":"SPMOD - MicArray","content":"# SPMOD MicArray ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_micarray/sp_micarray.png\" width \"\" height \"300\" /> SPMOD_MicArray(éº¦å…‹é£Žé˜µåˆ—æ¨¡å—)é‡‡ç”¨ RY3708(DC DC)å‡åŽ‹æ¨¡å— ## SPMOD MicArray ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ å°†SP MODè½¬è‡³FPCï¼Œåˆ©ç”¨FPCä¸Žéº¦å…‹é£Žé˜µåˆ—æ¿ç›¸è¿žã€‚ æ¿è½½3.3Vè‡³5Vå‡åŽ‹DC DC (RY3708)ï¼Œè½»æ¾é©±åŠ¨éº¦å…‹é£Žé˜µåˆ—ã€‚ åˆ©ç”¨GroveæŽ¥å£æŽ§åˆ¶éº¦å…‹é£Žé˜µåˆ—æ¿ä¸Šçš„LEDã€‚ éœ€è¦é…åˆSIPEED MICARRAYä¸€èµ·ä½¿ç”¨ã€‚ æ¨¡å—å°ºå¯¸ï¼š35.0\\*10.0\\*11.2mm ### BOOST DC DC RY3708 æ¨¡å— ä»‹ç» åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° è¾“å‡ºç”µåŽ‹ 5.1V Â±0.2V å¤–éƒ¨ä¾›ç”µç”µåŽ‹ \t3.3V Â±0.2V å¤–éƒ¨ä¾›ç”µç”µæµ è§†éº¦å…‹é£Žé˜µåˆ—æ¿çš„å·¥ä½œæƒ…å†µè€Œå®šï¼Œé€šå¸¸å°äºŽ500mA å·¥ä½œæ¸©åº¦èŒƒå›´ 40â„ƒ ~ 85â„ƒ > 1.2MHzå›ºå®šå¼€å…³é¢‘çŽ‡,å†…éƒ¨4Aå¼€å…³ç”µæµé™åˆ¶,é«˜æ¸©è‡ªåŠ¨åˆ‡æ–­,é›†æˆ80mÎ©å†…éƒ¨åŠŸçŽ‡MOSFET ### SPMOD_MicArray æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 D2 I Mic_D0 3 D3 I Mic_D2 4 D0 I Mic_WS 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 D4 I Mic_D1 7 D5 I Mic_D3 8 D1 I Mic_BCK 9 CK I LEDæŽ§åˆ¶ä¸²è¡Œæ—¶é’Ÿå¼•è„š (ç›¸å½“äºŽI2C SCL) 10 DA I LEDæŽ§åˆ¶ä¸²è¡Œæ•°æ®å¼•è„š (ç›¸å½“äºŽI2C SDA) <img src \"\" width \"300\" /> ## ä½¿ç”¨ä¾‹ç¨‹ ```python from Maix import MIC_ARRAY as mic import lcd lcd.init() mic.init() #mic.init(i2s_d0 23, i2s_d1 22, i2s_d2 21, i2s_d3 20, i2s_ws 19, i2s_sclk 18, sk9822_dat 24, sk9822_clk 25) while True: imga mic.get_map() b mic.get_dir(imga) a mic.set_led(b,(0,0,255)) imgb imga.resize(160,160) imgc imgb.to_rainbow(1) a lcd.display(imgc) mic.deinit() ``` > éœ€è¦æ ¹æ®è‡ªå·±æŽ¥æ¿å­ä¸Šçš„ç®¡è„šå·æ¥è¿›è¡Œä¿®æ”¹mic.init()ä¸­å‚æ•° ## å‚è€ƒè®¾è®¡ SPMOD_MicArray å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_micarray/sipeed_spmod_micarray.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_extender.html":{"title":"SPMOD - Extender","content":"# SPMOD Extender ## æ¦‚è¿° ![](../../assets/spmod/spmod_extender/sp_extender.png) SPMOD_Extender(8PINæ‰©å±•æ¨¡å—) ## SPMOD Extender ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ åˆ©ç”¨SP Extenderå°†SP MODä¸€åˆ†ä¸ºå››ï¼ŒåŒ…å«ä¸‰ä¸ªç›¸è¿žçš„2çº¿æŽ¥å£ï¼ˆè¿žæŽ¥è‡³SP MODçš„D0å’ŒD1ï¼‰å’Œä¸€ä¸ªå•ç‹¬çš„å››çº¿æŽ¥å£ï¼ˆè¿žæŽ¥è‡³SP MODçš„D2 D5ï¼‰ æ¨¡å—å°ºå¯¸ï¼š35.0\\*20.0\\*1.6mm ## æ¦‚æ‹¬ åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° ä¸¤çº¿SP MODæŽ¥å£*3 è¿žæŽ¥è‡³SP MODçš„D0å’ŒD1ï¼Œå¯ç”¨ä½œUART (æœ€å¤šè¿žæŽ¥ä¸€ä¸ªè®¾å¤‡)æˆ–I2Cï¼ˆæœ€å¤šè¿žæŽ¥ä¸‰ä¸ªè®¾å¤‡ï¼‰æˆ–è€…ä¸¤ä¸ªç‹¬ç«‹çš„GPIO å››çº¿SP MODæŽ¥å£ è¿žæŽ¥è‡³SP MODçš„D2 D5ï¼Œé€šå¸¸ç”¨ä½œSPIæŽ¥å£ï¼Œä¹Ÿå¯ç”¨ä½œå››ä¸ªæœç«‹çš„GPIOæŽ¥å£ å¤–éƒ¨ä¾›ç”µç”µåŽ‹ è§†è¿žæŽ¥çš„æ¨¡å—è€Œå®š å¤–éƒ¨ä¾›ç”µç”µæµ è§†æ¨¡å—å·¥ä½œæƒ…å†µè€Œå®šï¼Œé€šå¸¸å°äºŽ1000mA å·¥ä½œæ¸©åº¦ 40â„ƒ ~ 85â„ƒ ## å‚è€ƒè®¾è®¡ SPMOD_Extender å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_extender/sipeed_spmod_extender.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_psram.html":{"title":"SPMOD - PSRAM","content":"# SPMOD PSRAM ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_psram/sp_psram.png\" width \"\" height \"300\" /> SPMOD_PSRAM(PSRAMæ¨¡å—)é‡‡ç”¨ IPS6404L SQ èŠ¯ç‰‡ã€‚ ## SPMOD PSRAM ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ é€šè¿‡SP MOD SPI/QPIæŽ¥å£è¿žæŽ¥ Pseudoâˆ’SRAMèŠ¯ç‰‡ï¼šIPS6404L SQæ˜¯ä¸€ä¸ªå®¹é‡ä¸º64Mbitï¼ŒSPI/QPIæŽ¥å£ï¼Œå…·æœ‰å‡ºè‰²çš„å¯é æ€§çš„å’Œå“åº”æ—¶é—´çš„ä¼ªéšæœºåŠ¨æ€å­˜å‚¨å™¨èŠ¯ç‰‡ã€‚ å·¥ä½œé¢‘çŽ‡ï¼š104MHz SPIè¯»å–å“åº”æ—¶é—´ï¼š30.3ns æ¨¡å—å°ºå¯¸ï¼š15.0\\*10.0\\*13.3mm ### IPS6404L SQ è¿«çœŸé™æ€éšæœºå­˜å‚¨å™¨ä»‹ç» åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° å·¥ä½œç”µåŽ‹ 2.7V~3.6V å·¥ä½œç”µæµ 10mA å·¥ä½œæ¸©åº¦ 30â„ƒ~85â„ƒ ä¼‘çœ ç”µæµ <250Î¼A å·¥ä½œé¢‘çŽ‡ 104Mhz SPIè¯»å–å“åº”æ—¶é—´ 30.3ns å…¶ä»–æ“ä½œå“åº”æ—¶é—´ 9.3ns å¯¹å¤–æŽ¥å£ PI/QPIå¯é€‰ï¼Œé»˜è®¤SPI ### SPMOD_PSRAM æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 CS I SPIç‰‡é€‰å¼•è„š 3 D1 I/0 MISOæ•°æ®å¼•è„šï¼Œæ¨¡å—æ•°æ®è¾“å‡º 4 D3 I/O æ— åŠŸèƒ½ (QSPIæ¨¡å¼ä¸‹ä¸ºIO3) 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 SCK I SPIä¸²è¡Œæ—¶é’Ÿå¼•è„š 7 D0 I/0 MOSIæ•°æ®å¼•è„šï¼Œæ¨¡å—æ•°æ®è¾“å…¥ (QSPIæ¨¡å¼ä¸‹ä¸ºIO0) 8 D2 I/O æ— åŠŸèƒ½ (QSPIæ¨¡å¼ä¸‹ä¸ºIO2) <img src \"\" width \"300\" /> ## ä½¿ç”¨ä¾‹ç¨‹ å¾…æ›´æ–° ## å‚è€ƒè®¾è®¡ SPMOD_PSRAM å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_psram/sipeed_spmod_psram.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_lcd1.14.html":{"title":"SPMOD - LCD 1.14","content":"# SPMOD LCD 1.14 ## æ¦‚è¿° ![](../../assets/spmod/spmod_lcd1.14/sp_lcd.png) SPMOD_LCD1.14(1.14å¯¸ LCD å±å¹•æ¨¡å—)é‡‡ç”¨ ST7735S TFT LCDå±ã€‚ ## SPMOD LCD1.14 ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ é‡‡ç”¨å¸¸è§ LCD é©±åŠ¨ IC ST7735S(4 çº¿ SPI é€šè®¯) åˆ†è¾¨çŽ‡ï¼š240\\*135 æ¨¡å—å°ºå¯¸ï¼š35.0\\*20.0mm ### ST7735S TFT LCDå± ä»‹ç» åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° å·¥ä½œç”µåŽ‹ 2.5V~4.8V å·¥ä½œç”µæµ <20mA å·¥ä½œæ¸©åº¦ 30â„ƒ ~ 85â„ƒ ä¼‘çœ ç”µæµ <0.1mA å±å¹•å¤§å° 1.14è‹±å¯¸ æœ‰æ•ˆæ˜¾ç¤ºåŒºåŸŸ 1.7mm * 10.8mm åˆ†è¾¨çŽ‡ 160*80 è‰²å½© 132ä¸ªRGBé€šé“ å¯¹å¤–æŽ¥å£ 8P FPC (0.5mmé—´è·) > å†…éƒ¨é›†æˆç”µè·¯åŒ…å«DC / DCè½¬æ¢å™¨ã€å¯è°ƒVCOMç”Ÿæˆå™¨ã€éžæ˜“å¤±æ€§ï¼ˆNVï¼‰å­˜å‚¨å™¨ï¼ˆç”¨äºŽå­˜å‚¨åˆå§‹å¯„å­˜å™¨è®¾ç½®ï¼‰ã€æ˜¾ç¤ºæ—¶é’Ÿçš„æŒ¯è¡å™¨ä»¥åŠæ—¶åºæŽ§åˆ¶å™¨ ### SPMOD_LCD1.14 æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 CS I SPIç‰‡é€‰å¼•è„š 3 D/C I æ•°æ®/å‘½ä»¤è¾“å…¥åˆ‡æ¢å¼•è„š 4 RST I æ¨¡å—å¤ä½å¼•è„šï¼Œä½Žæœ‰æ•ˆ 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 SCK I SPIä¸²è¡Œæ—¶é’Ÿå¼•è„š 7 SI I/O MOSIæ•°æ®å¼•è„šï¼Œä¸»æœºè¾“å‡ºä»Žæœºè¾“å…¥ 8 BL I èƒŒå…‰æŽ§åˆ¶å¼•è„šï¼Œä½Žç”µå¹³å…³é—­èƒŒå…‰ <img src \"../../assets/spmod/spmod_lcd1.14/back.png\" width \"300\" /> æŽ¥çº¿æ–¹å¼: MCU:FUN(IO) SP_LCD : : : : GPIOHS7(IO_7) RST GPIOHS15(IO_15) D/C SPI:SS0(IO_20) CS SPI:SCK(IO_21) SCK SPI:MOSI(IO_8) SI GPIOHS6(IO_6) BL 2.5~4.8V 3.3V GND GND <img src \"../../assets/spmod/spmod_lcd1.14//connection.png\" height \"250\"> ## ä½¿ç”¨ä¾‹ç¨‹ * æµç¨‹ 1. åˆå§‹åŒ–é…ç½® 2. åˆ›å»º Image å¹¶å¡«å…… 3. å‘é€å›¾åƒå¹¶åˆ·æ–° ### C ç¤ºä¾‹ï¼š ```c fpioa_set_function(SPI_IPS_LCD_CS_PIN_NUM, FUNC_SPI1_SS0); // SPI_IPS_LCD_CS_PIN_NUM: 20; fpioa_set_function(SPI_IPS_LCD_SCK_PIN_NUM, FUNC_SPI1_SCLK); // SPI_IPS_LCD_SCK_PIN_NUM: 21; fpioa_set_function(SPI_IPS_LCD_MOSI_PIN_NUM, FUNC_SPI1_D0); // SPI_IPS_LCD_MOSI_PIN_NUM: 8; fpioa_set_function(SPI_IPS_LCD_DC_PIN_NUM, FUNC_GPIOHS0 + SPI_IPS_LCD_DC_GPIO_NUM); // SPI_IPS_LCD_DC_PIN_NUM: 15; SPI_IPS_LCD_DC_GPIO_NUM: 15; fpioa_set_function(SPI_IPS_LCD_RST_PIN_NUM, FUNC_GPIOHS0 + SPI_IPS_LCD_RST_GPIO_NUM); // SPI_IPS_LCD_RST_PIN_NUM: 7; SPI_IPS_LCD_RST_GPIO_NUM: 7; fpioa_set_function(SPI_IPS_LCD_BL_PIN_NUM, FUNC_GPIOHS0 + SPI_IPS_LCD_BL_GPIO_NUM); // SPI_IPS_LCD_BL_PIN_NUM: 6; SPI_IPS_LCD_BL_GPIO_NUM: 6; // set gpiohs work mode to output mode gpiohs_set_drive_mode(SPI_IPS_LCD_DC_GPIO_NUM, GPIO_DM_OUTPUT); gpiohs_set_drive_mode(SPI_IPS_LCD_RST_GPIO_NUM, GPIO_DM_OUTPUT); gpiohs_set_drive_mode(SPI_IPS_LCD_BL_GPIO_NUM, GPIO_DM_OUTPUT); spi_init(1, SPI_WORK_MODE_0, SPI_FF_STANDARD, DATALENGTH, 0); ips_lcd_init(); // init LCD_ShowPicture(0, 0, LCD_W, LCD_H, gImage_nanke); // display ``` ### MaixPy ä¾‹ç¨‹ï¼š ```python # 20: SPI_LCD_CS_PIN_NUM; fm.register(SPI_LCD_CS_PIN_NUM, fm.fpioa.GPIOHS20, force True) # 15: SPI_LCD_DC_PIN_NUM; fm.register(SPI_LCD_DC_PIN_NUM, fm.fpioa.GPIOHS15, force True) # 6: SPI_LCD_BUSY_PIN_NUM; fm.register(SPI_LCD_BUSY_PIN_NUM, fm.fpioa.GPIOHS6, force True) # 7: SPI_LCD_RST_PIN_NUM; fm.register(SPI_LCD_RST_PIN_NUM, fm.fpioa.GPIOHS7, force True) # set gpiohs work mode to output mode cs GPIO(GPIO.GPIOHS20, GPIO.OUT) dc GPIO(GPIO.GPIOHS15, GPIO.OUT) busy GPIO(GPIO.GPIOHS6, GPIO.OUT) rst GPIO(GPIO.GPIOHS7, GPIO.OUT) # 21: SPI_LCD_SCK_PIN_NUM; 8: SPI_LCD_MOSI_PIN_NUM; spi1 SPI(SPI_LCD_NUM, mode SPI.MODE_MASTER, baudrate SPI_LCD_FREQ_KHZ * 1000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck SPI_LCD_SCK_PIN_NUM, mosi SPI_LCD_MOSI_PIN_NUM) ips SPLCD114(spi1, cs, dc, rst, busy, IPS_WIDTH, IPS_HEIGHT, IPS_MODE) # create an 'image' and fill it img image.Image() img.draw_rectangle(80, 80, 30, 30) # display ips.display(img) ``` ### è¿è¡ŒçŽ¯å¢ƒ è¯­è¨€ å¼€å‘æ¿ SDK/å›ºä»¶ç‰ˆæœ¬ : : : : : : C MaixCube kendryte standalone sdk v0.5.6 MaixPy MaixCube maixpy v0.5.1 *MaixPyå›ºä»¶å»ºè®®è‡ªè¡Œä»Žæœ€æ–°æºç ç¼–è¯‘* ### è¿è¡Œç»“æžœ * C <img src \"../../assets/spmod/spmod_lcd1.14//sp_lcd1.14_c.png\" height \"250\" /> * MaixPy <img src \"../../assets/spmod/spmod_lcd1.14//sp_lcd1.14_py.png\" alt \"sp_lcd1.14_py\" height \"250\" /> ### ç§»æ¤ ä¿®æ”¹ä»¥ä¸‹å‚æ•°å³å¯é€‚é…å…¶ä»– K210 å¼€å‘æ¿. * C ```c // board_config.h #define SPI_INDEX 1 #define SPI_SCLK_RATE 600*1000 #define SPI_CHIP_SELECT_NSS 0 // SPI_CHIP_SELECT_0 #define SPI_IPS_LCD_CS_PIN_NUM 20 #define SPI_IPS_LCD_SCK_PIN_NUM 21 #define SPI_IPS_LCD_MOSI_PIN_NUM 8 #define SPI_IPS_LCD_DC_PIN_NUM 15 #define SPI_IPS_LCD_BL_PIN_NUM 6 #define SPI_IPS_LCD_RST_PIN_NUM 7 #define SPI_IPS_LCD_DC_GPIO_NUM 15 #define SPI_IPS_LCD_BL_GPIO_NUM 6 #define SPI_IPS_LCD_RST_GPIO_NUM 7 #define USE_HORIZONTAL 3 // 0/1 is horizontal, and 2/3 is vertical. ``` * Maixpy ```python ################### config ################### SPI_LCD_NUM SPI.SPI1 SPI_LCD_DC_PIN_NUM const(15) SPI_LCD_BUSY_PIN_NUM const(6) SPI_LCD_RST_PIN_NUM const(7) SPI_LCD_CS_PIN_NUM const(20) SPI_LCD_SCK_PIN_NUM const(21) SPI_LCD_MOSI_PIN_NUM const(8) SPI_LCD_FREQ_KHZ const(600) ############################################## ``` ## å‚è€ƒè®¾è®¡ SPMOD_LCD1.14 å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_lcd1.14/sipeed_spmod_lcd1.14.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maixhub.com](https://maixhub.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ 862340358 "},"/hardware/zh/modules_spmod/spmod_servo.html":{"title":"SPMOD - SERVO","content":"# SPMOD SERVO ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_servo/sp_servo.png\" width \"\" height \"300\" /> SPMOD_SERVO (SERVOæ¨¡å—)ã€‚ ## SPMOD SERVO ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ åˆ©ç”¨SP MODæŽ§åˆ¶å¤šè¾¾6ä¸ªç‹¬ç«‹çš„PWM 9gèˆµæœº èˆµæœºæŽ¥å£é‡‡ç”¨3P 2.54é—´è·æŽ’é’ˆ ç‹¬ç«‹çš„å¤–éƒ¨5Vä¾›ç”µï¼Œé€šè¿‡USB Type Cæˆ–è€…KFèžºé’‰æŽ¥çº¿æŸ±ï¼Œä¸ä¼šä»ŽSP MODå–ç”µ æ¿è½½ç”µæºæŒ‡ç¤ºç¯ï¼Œé€šç”µçŠ¶æ€ä¸€ç›®äº†ç„¶ æ¨¡å—å°ºå¯¸ï¼š35.0\\*20\\*1.6mm åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° PWM 9gèˆµæœºæŽ¥å£*6 å¤–æŽ¥4.8 6Vç”µæºçš„æƒ…å†µä¸‹ï¼Œå¯è¿žæŽ¥6ä¸ªPWM 9gèˆµæœºå¹¶åˆ†åˆ«æŽ§åˆ¶ å¤–éƒ¨ä¾›ç”µç”µåŽ‹ 4.8V 6.0V å¤–éƒ¨ä¾›ç”µç”µæµ è§†æ¨¡å—å·¥ä½œæƒ…å†µè€Œå®šï¼Œé€šå¸¸å°äºŽ1500mA å·¥ä½œæ¸©åº¦ 40â„ƒ ~ 85â„ƒ ### SPMOD_SERVO æ¨¡å—å¼•è„šå®šä¹‰ï¼š <img src \"../../assets/spmod/spmod_servo/sp_servo_pin.png\" width \"500\" /> ## ä½¿ç”¨ä¾‹ç¨‹ å¾…æ›´æ–° ## å‚è€ƒè®¾è®¡ SPMOD_SERVO å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_servo/sipeed_spmod_servo.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_rfid.html":{"title":"SPMOD - RFID","content":"# SPMOD RFID ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_rfid/sp_rfid.png\" style \"padding right:100px;\" width \"\" height \"300\" /> SPMOD_RFID (NFC æ¨¡å—)é‡‡ç”¨å¤æ—¦å¾®ç”µå­ FM17510 é«˜åº¦é›†æˆçš„éžæŽ¥è§¦å¼ï¼ˆ13Mhzï¼‰çš„è¯»å†™èŠ¯ç‰‡ã€‚ ## SPMOD RFID ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ åˆ©ç”¨SP MOD SPIå’ŒRFIDæ¨¡å—é€šè®¯ 64Byteæ”¶å‘ç¼“å†²FIFO RIFC IC ä¸º FM17510ã€‚ æ¨¡å—å°ºå¯¸ï¼š25.0\\*20.1\\*6.2mm ### FM17510 ä»‹ç» FM17510 æ˜¯ä¸€æ¬¾é«˜åº¦é›†æˆçš„å·¥ä½œåœ¨ 13.56MHz ä¸‹çš„éžæŽ¥è§¦è¯»å†™å™¨èŠ¯ç‰‡ï¼Œæ”¯æŒç¬¦åˆ ISO/IEC 14443 TypeA åè®®çš„éžæŽ¥è§¦è¯»å†™å™¨æ¨¡å¼ã€‚ åŒæ—¶æä¾›äº†ä½ŽåŠŸè€—çš„å¤–éƒ¨å¡ç‰‡ä¾¦æµ‹åŠŸèƒ½ï¼Œæ–¹ä¾¿ç”µæ± ä¾›ç”µã€éœ€è¦ä½ŽåŠŸè€—å·¥ä½œã€å¹¶ä¸”éœ€è¦å®žæ—¶å¤„ç†ä»»æ„ æ—¶åˆ»ä¼šè¿›å…¥å°„é¢‘åœºçš„å¤–éƒ¨å¡ç‰‡çš„è¯»å†™å™¨è®¾å¤‡ã€‚ FM17510 å…·æœ‰ä½Žç”µåŽ‹ã€ä½ŽåŠŸè€—ã€ å•ç«¯é©±åŠ¨ç­‰ç‰¹ç‚¹ã€‚é€‚ç”¨äºŽä½ŽåŠŸè€—ã€ä½Žç”µåŽ‹ã€ä½Žæˆæœ¬è¦æ±‚çš„éžæŽ¥è§¦è¯»ã€‚ FM1750XX åœ¨è½¯ç¡¬ä»¶å±‚é¢ä¸Šå…¼å®¹ MFRC552ï¼Œæ”¯æŒå·¥ä½œæ¨¡å¼ï¼š FM17510 åŠŸèƒ½ç‰¹ç‚¹ï¼š æ”¯æŒ ISO/IEC 14443 TypeA è¯»å†™å™¨æ¨¡å¼ è¯»å†™å™¨æ¨¡å¼æ”¯æŒ M1 åŠ å¯†ç®—æ³• ISO14443 TYPEA æ”¯æŒé€šè®¯é€ŸçŽ‡ 106kbpsï¼Œ 212kbpsï¼Œ 424kbps æ”¯æŒ SPI ä¸²è¡ŒæŽ¥å£ï¼Œæœ€é«˜ 10Mbps Host æŽ¥å£ç‹¬ç«‹ç”µæºä¾›ç”µï¼Œç”µåŽ‹èŒƒå›´ 2.2~3.6V å·¥ä½œæ¸©åº¦èŒƒå›´ 40â„ƒ ~ 85â„ƒ 64Byte æ”¶å‘ç¼“å†² FIFO ä¸­æ–­è¾“å‡ºæ¨¡å¼çµæ´»å¯é… å¤šç§ä½ŽåŠŸè€—æ¨¡å¼ : Soft powerdownæ¨¡å¼ , Hard powerdown æ¨¡å¼, Deep powerdown æ¨¡å¼ï¼ˆå…¸åž‹å€¼ 1uAï¼‰ æ”¯æŒä½ŽåŠŸè€—å¤–éƒ¨å¡ç‰‡ä¾¦æµ‹åŠŸèƒ½ å¯ç¼–ç¨‹å®šæ—¶å™¨ å†…ç½®æŒ¯è¡ç”µè·¯å¤–æŽ¥ 27.12MHz æ™¶æŒ¯ å®½ç”µåŽ‹å·¥ä½œèŒƒå›´ 2.2V~3.6V å†…ç½® CRC åå¤„ç†å™¨ å¯ç¼–ç¨‹ I/O å¼•è„š ### SPMOD_RFID æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž Note 1 GND G æ¨¡å—ç”µæºåœ° 2 CS I SPIç‰‡é€‰å¼•è„š 3 SO I/O MISOæ•°æ®å¼•è„šï¼Œä¸»æœºè¾“å…¥ä»Žæœºè¾“å‡º 4 NPD I å¤ä½/ä¼‘çœ æŽ§åˆ¶å¼•è„š 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 SCK I SPIä¸²è¡Œæ—¶é’Ÿå¼•è„š 7 SI I/O MOSIæ•°æ®å¼•è„šï¼Œä¸»æœºè¾“å‡ºä»Žæœºè¾“å…¥ 8 IRQ O æ¨¡å—ä¸­æ–­è¾“å‡ºå¼•è„š > å½“ NPD å¼•è„šä¸ºä½Žç”µå¹³æ—¶ï¼Œæ¨¡å—è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼›å½“ NPD å¼•è„šè¾“å…¥ä¸€ä¸ªä¸Šå‡æ²¿æ—¶ï¼Œæ¨¡å—å¤ä½ã€‚ <img src \"../../assets/spmod/spmod_rfid/back.png\" height \"300\" /> æŽ¥çº¿æ–¹å¼: MCU:FUN(IO) SP_RFID : : : : NC(IO_7) NPD SPI:MISO(IO_15) SO SPI:SS0(IO_20) CS SPI:SCK(IO_21) SCK SPI:MOSI(IO_8) SI NC(IO_6) IRQ 2.2~3.6V 3.3V GND GND <img src \"../../assets/spmod/spmod_rfid/connection.png\" height \"250\"> ## ä½¿ç”¨ä¾‹ç¨‹ * æµç¨‹ 1. åˆå§‹åŒ– 2. æ‰«æå¹¶ç»‘å®šå¡ç‰‡ 3. è¯»å†™æ•°æ® ### C ç¤ºä¾‹ï¼š ```c fpioa_set_function(RFID_CS_PIN, FUNC_GPIOHS0 + RFID_CS_HSNUM); // RFID_CS_PIN: 20; fpioa_set_function(RFID_CK_PIN, FUNC_GPIOHS0 + RFID_CK_HSNUM); // RFID_CK_PIN: 21; fpioa_set_function(RFID_MO_PIN, FUNC_GPIOHS0 + RFID_MO_HSNUM); // RFID_MO_PIN: 8; fpioa_set_function(RFID_MI_PIN, FUNC_GPIOHS0 + RFID_MI_HSNUM); // RFID_MI_PIN: 15; gpiohs_set_drive_mode(spi_io_cfg.hs_cs, GPIO_DM_OUTPUT); gpiohs_set_drive_mode(spi_io_cfg.hs_clk, GPIO_DM_OUTPUT); gpiohs_set_drive_mode(spi_io_cfg.hs_mosi, GPIO_DM_OUTPUT); gpiohs_set_drive_mode(spi_io_cfg.hs_miso, GPIO_DM_INPUT); // detected card PcdRequest(0x52, type) // auth and bind... // read or write 16 bytes data from sector 0x11 PcdWrite(0x11, w_buf) PcdRead(0x11, &r_buf) ``` ### MaixPy ä¾‹ç¨‹ï¼š ```python # 20: CS_NUM; fm.register(20, fm.fpioa.GPIOHS20, force True) # set gpiohs work mode to output mode cs GPIO(GPIO.GPIOHS20, GPIO.OUT) # RFID_SCK: 21; RFID_SI:8; RFID_SO: 15; spi1 SPI(SPI.SPI1, mode SPI.MODE_MASTER, baudrate 600 * 1000, polarity 0, phase 0, bits 8, firstbit SPI.MSB, sck 21, mosi 8, miso 15) # Create an object of the class MFRC522 MIFAREReader MFRC522(spi1, cs) # detected and auth, bind... # read or write 16 bytes data from sector 0x11 MIFAREReader.MFRC522_Write(0x11, data) MIFAREReader.MFRC522_Read(0x11) ``` ### è¿è¡ŒçŽ¯å¢ƒ è¯­è¨€ å¼€å‘æ¿ SDK/å›ºä»¶ç‰ˆæœ¬ : : : : C MaixCube kendryte standalone sdk v0.5.6 MaixPy MaixCube maixpy v0.5.1 ### è¿è¡Œç»“æžœ * C <img src \"../../assets/spmod/spmod_rfid/c_log.png\" height \"200\" /> * MaixPy <img src \"../../assets/spmod/spmod_rfid/maixpy_log.png\" height \"200\" /> ### ç§»æ¤ ä¿®æ”¹ä»¥ä¸‹å‚æ•°å³å¯é€‚é…å…¶ä»– K210 å¼€å‘æ¿. * C ```c // board_config.h #define RFID_CS_PIN (20) #define RFID_CK_PIN (21) #define RFID_MO_PIN (8) #define RFID_MI_PIN (15) #define RFID_CS_HSNUM (20) #define RFID_CK_HSNUM (21) #define RFID_MO_HSNUM (8) #define RFID_MI_HSNUM (15) ``` * MaixPy ```python ################### config ################### CS_NUM const(20) SPI_FREQ_KHZ const(600) SPI_SCK const(21) SPI_MOSI const(8) SPI_MISO const(15) ############################################# ``` ## å‚è€ƒè®¾è®¡ SPMOD_RFID å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_rfid/sipeed_spmod_rfid.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_bt.html":{"title":"SPMOD - BT","content":"# SPMOD BT ## æ¦‚è¿° ![](./../../assets/spmod/spmod_bt/sp_bt.png) SPMOD BT(è“ç‰™ æ¨¡å—)é‡‡ç”¨ YDJ 23ã€‚ ## SPMOD BT ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ åˆ©ç”¨ SP MOD UART å’Œè“ç‰™æ¨¡å—é€šè®¯ JDY 23è“ç‰™æ¨¡å—ï¼šæ”¯æŒBLE 5.0ï¼ˆå…¼å®¹ BLE4.0ã€BLE4.2ï¼‰ã€‚å…·æœ‰UARTæŽ¥å£ã€‚æ¨¡å—æ”¯æŒATæŒ‡ä»¤æŽ§åˆ¶ã€‚å…·å¤‡è¶…ä½ŽåŠŸè€—ç‰¹æ€§å’Œé«˜å¯é æ€§ æ¿è½½ä¸¤ä¸ªçŠ¶æ€æŒ‡ç¤ºLEDï¼Œæ¨¡å—çŠ¶æ€ä¸€ç›®äº†ç„¶ æ¨¡å—å°ºå¯¸ï¼š25.6\\*20.2\\*3.2mm ### JDY 23 è“ç‰™ä»‹ç»ï¼š åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° å·¥ä½œé¢‘æ®µï¼š 2.4G å‘å°„åŠŸçŽ‡ï¼š 4dbï¼ˆæœ€å¤§ï¼‰ é€šä¿¡æŽ¥å£ï¼š UART å·¥ä½œç”µåŽ‹ï¼š 1.8V~3.6V å·¥ä½œæ¸©åº¦ï¼š 40â„ƒ 80â„ƒ å¤©çº¿ï¼š æ¿è½½PCBå¤©çº¿ æŽ¥æ”¶çµæ•åº¦ï¼š 97dbm ä¸»ä»Žæ”¯æŒï¼š ä»Žæœº è“ç‰™ç‰ˆæœ¬ï¼š BLE 5.0ï¼ˆå…¼å®¹ BLE4.0ã€BLE4.2ï¼‰ å”¤é†’çŠ¶æ€ç”µæµï¼š 800uAï¼ˆå¹¿æ’­æ¨¡å¼ï¼‰ æµ…ç¡çŠ¶æ€ç”µæµï¼š <50uA (å¹¿æ’­æ¨¡å¼) æ·±åº¦ç¡çœ ç”µæµï¼š 9uA ï¼ˆæ— å¹¿æ’­ï¼‰ é»˜è®¤ä¸²å£æ³¢ç‰¹çŽ‡ï¼š 9600 ### SPMOD_BT æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 AWK I/O æ¨¡å—ä¼‘çœ å”¤é†’å¼•è„šï¼Œä½Žæœ‰æ•ˆ 3 STA I/O è“ç‰™è¿žæŽ¥çŠ¶æ€è¿žæŽ¥ï¼Œè¿žæŽ¥æˆåŠŸæ—¶è¾“å‡ºé«˜ç”µå¹³ 4 RX I æ¨¡å—UARTæ•°æ®æŽ¥å—å¼•è„šï¼Œè¿žæŽ¥ä¸Šä½æœºTX 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 7 RST I/O æ¨¡å—å¤ä½å¼•è„šï¼Œä½Žç”µå¹³æœ‰æ•ˆ 8 TX O æ¨¡å—UARTæ•°æ®å‘é€å¼•è„šï¼Œè¿žæŽ¥ä¸Šä½æœºçš„RX <img src \"../../assets/spmod/spmod_bt/back.jpg\" height \"250\" /> æŽ¥çº¿æ–¹å¼ï¼š MCU:FUN(IO) SP_BT : : : : UART:TX(IO_7) RX USRT:RX(IO_6) TX 1.8 3.3V 3.3V GND GND <img src \"../../assets/spmod/spmod_bt/connection.png\" height \"250\"> ### ä¸»è¦ AT æŒ‡ä»¤åˆ—è¡¨ï¼š æŒ‡ä»¤ æè¿° AT+POWR æ˜¾ç¤ºæ¨¡å—å‘é€åŠŸçŽ‡ AT+RST\t è½¯å¤ä½ AT+MAC\t æ˜¾ç¤ºMAC åœ°å€ AT+NAME æ˜¾ç¤ºå¹¿æ’­å AT+HOSTEN ä»Žæ¨¡å¼æˆ– IBEACON å·¥ä½œæ¨¡å¼ AT+IBUUID IBEACON çš„ UUID AT+DISC æŒ‡ä»¤æ–­å¼€è¿žæŽ¥ AT+SLEEP ç¡çœ  AT+MTU è®¾ç½®æ¨¡å—å‘é€çš„å‘åŒ…æ•°é•¿ *æ›´å¤šATæŒ‡ä»¤è¯·å‚è€ƒ[JDY 23 V2.1.pdf](https://cn.dl.sipeed.com/shareURL/MAIX/HDK/sp_mod/sp_bt)* ## ä½¿ç”¨ä¾‹ç¨‹ * æµç¨‹ 1. å‘é€ AT æŒ‡ä»¤ 2. æŽ¥æ”¶æ•°æ® 3. åˆ¤æ–­æ˜¯å¦è®¾ç½®æˆåŠŸ ### C ç¤ºä¾‹ï¼š ```c // set uart rx/tx func to io_6/7 fpioa_set_function(6, FUNC_UART1_RX + UART_NUM * 2); fpioa_set_function(7, FUNC_UART1_TX + UART_NUM * 2); uart_init(UART_DEVICE_1); uart_configure(UART_DEVICE_1, 9600, 8, UART_STOP_1, UART_PARITY_NONE); //change the name of sp_bt module to MAIXCUBE uart_send_data(UART_NUM, \"AT+NAMEMAIXCUBE\\r\\n\", strlen(\"AT+NAMEMAIXCUBE\\r\\n\")); //send AT order msleep(100); ret uart_receive_data(UART_NUM, rcv_buf, sizeof(rcv_buf)); //receive response if(ret ! 0 && strstr(rcv_buf, \"OK\")) { printk(LOG_COLOR_W \"set name success!\\r\\n\"); } // get the name of sp_bt module uart_send_data(UART_NUM, \"AT+NAME\\r\\n\", strlen(\"AT+NAME\\r\\n\")); //send AT order msleep(100); ret uart_receive_data(UART_NUM, rcv_buf, sizeof(rcv_buf)); //receive response if(ret ! 0 && strstr(rcv_buf, \"NAME\")) { printk(LOG_COLOR_W \"get name success!\\r\\n\"); } ``` ### MaixPy ä¾‹ç¨‹ï¼š ```python # set uart rx/tx func to io_6/7 fm.register(6,fm.fpioa.UART1_RX) fm.register(7,fm.fpioa.UART1_TX) uart UART(UART.UART1,9600,8,1,0,timeout 1000, read_buf_len 4096) #change the name of sp_bt module to MAIXCUBE uart.write(\"AT+NAMEMAIXCUBE\\r\\n\") #send AT order time.sleep_ms(100) read_data uart.read() #receive response if read_data: read_str read_data.decode('utf 8') count read_str.count(\"OK\") if count ! 0: uart.write(\"set name success\\r\\n\") # get the name of sp_bt module uart.write(\"AT+NAME\\r\\n\") #send AT order time.sleep_ms(100) read_data uart.read() #receive response if read_data: read_str read_data.decode('utf 8') count read_str.count(\"NAME\") if count ! 0: uart.write(\"get name success\\r\\n\") ``` *æ³¨æ„å‘é€ATæŒ‡ä»¤åŽä¸€å®šè¦åŠ ä¸Š\\r\\n* ### è¿è¡Œç»“æžœ: ä½¿ç”¨[BLE Utility](../../tools/bledebugger.apk)è¿žæŽ¥è®¾å¤‡åŽè¿›è¡Œæ”¶å‘æµ‹è¯•ç»“æžœå¦‚ä¸‹: <center class \"third\"> <img src \"../../assets/spmod/spmod_bt/res.png\" height \"250\"/><img src \"../../assets/spmod/spmod_bt/res1.png\" height \"250\"/> </center> ### è¿è¡ŒçŽ¯å¢ƒ: è¯­è¨€ å¼€å‘æ¿ SDK/å›ºä»¶ç‰ˆæœ¬ : : : : : C MaixCube kendryte standalone sdk v0.5.6 MaixPy MaixCube maixpy v0.5.1 ## å‚è€ƒè®¾è®¡ SPMOD_BLE å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_bt/sipeed_spmod_bt.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/shareURL/MAIX/SDK](https://dl.sipeed.com/shareURL/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/shareURL/MAIX/HDK](https://dl.sipeed.com/shareURL/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_weather.html":{"title":"SPMOD - Weather","content":"# SPMOD Weather ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_weather/sp_weather.png\" SPMOD Weather (æ°”è±¡ç«™æ¨¡å—), é›†æˆä¸‰è½´ä¼ æ„Ÿå™¨ QMC7983,ä¸Žæ¸©æ¹¿åº¦æ°”åŽ‹ä¼ æ„Ÿå™¨ BME280ã€‚ <img src \"../../assets/spmod/spmod_weather/demo.gif\" width \"500\" > ## SPMOD Weather ä»‹ç» ç‰¹æ€§ï¼š é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2*4PIN 2.54mm æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ é€šè¿‡SP MOD I2CæŽ¥å£è¿žæŽ¥ ç£æ€§ä¼ æ„Ÿå™¨ï¼šQMC7983æ˜¯ä¸€ä¸ªå†…ç½®çµæ•åº¦è¡¥å¿ä¸ŽNTCçš„ä¸‰è½´ç£æ€§ä¼ æ„Ÿå™¨ï¼ŒI2CæŽ¥å£è¾“å‡ºï¼ˆæœ€é«˜é¢‘çŽ‡400KHzï¼‰ï¼Œå…·æœ‰å‡ºè‰²çš„åŠ¨æ€èŒƒå›´å’Œç²¾åº¦ä»¥åŠè¶…ä½Žçš„åŠŸè€— ç£æ„Ÿåº”é‡ç¨‹ï¼šÂ±30 é«˜æ–¯ æ¸©æ¹¿åº¦æ°”åŽ‹ä¼ æ„Ÿå™¨ï¼šBME280æ˜¯åŒæ—¶é›†æˆäº†æ¸©æ¹¿åº¦ä¸Žæ°”åŽ‹ä¼ æ„Ÿå™¨çš„æ•°å­—ä¼ æ„Ÿå™¨ æ¨¡å—å°ºå¯¸ï¼š25.0\\*10\\*2.9mm ## ä¼ æ„Ÿå™¨ç‰¹æ€§ï¼š ç£æ€§ä¼ æ„Ÿå™¨ QMC7983 å·¥ä½œç”µåŽ‹ 2.6V~3.6V å·¥ä½œç”µæµ 70uA ä¼‘çœ ç”µæµ <1uA ç£æ„Ÿåº”é‡ç¨‹ Â±30 é«˜æ–¯ ç²¾åº¦ æ¯ LSB 1mG RMS å™ªå£° 2 mG å¯¹å¤–æŽ¥å£ I2Cï¼Œé»˜è®¤åœ°å€ 0x2C,å¯é€šè¿‡é€‰æ‹©ç”µé˜»è°ƒèŠ‚ æ¸©æ¹¿åº¦æ°”åŽ‹ä¼ æ„Ÿå™¨ BME280 å·¥ä½œç”µåŽ‹ 1.71V~3.6V å·¥ä½œç”µæµ <633uA ä¼‘çœ ç”µæµ <5uA æ¹¿åº¦ä¼ æ„Ÿå™¨çš„å…³é”®å‚æ•°ï¼š å“åº”æ—¶é—´ï¼ˆðœ63ï¼…ï¼‰ 1s ç²¾åº¦å…¬å·® Â±3ï¼… ç›¸å¯¹æ¹¿åº¦ ç£æ»ž < 2ï¼… ç›¸å¯¹æ¹¿åº¦ æ°”åŽ‹åŠ›ä¼ æ„Ÿå™¨çš„å…³é”®å‚æ•°ï¼š RMS å™ªå£° 0.2 Paï¼ˆç­‰æ•ˆ åˆ°æµ·æ‹” 1.7 åŽ˜ç±³ï¼‰ åç§»æ¸©åº¦ç³»æ•° Â±1.5 Pa/Kï¼ˆç­‰æ•ˆæ¸©åº¦å˜åŒ– 1Â°C æ—¶ï¼Œè¾¾åˆ°æµ·æ‹” Â±12.6 cm1sï¼‰ å¯¹å¤–æŽ¥å£ I2Cï¼Œé»˜è®¤åœ°å€ 0x76, å¯é€šè¿‡é€‰æ‹©ç”µé˜»è°ƒèŠ‚ ### SPMOD_Weather æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 3 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 4 SDA I/O æ¨¡å—I2Cä¸²è¡Œæ•°æ®å¼•è„š 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 7 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 8 SCL I æ¨¡å—I2Cä¸²è¡Œæ—¶é’Ÿå¼•è„š <img src \"../../assets/spmod/spmod_weather/back.png\" width \"300\" /> ## æŽ¥çº¿æ–¹å¼ <img src \"../../assets/spmod/spmod_weather/connection.png\" height \"250\"> MCU:FUN(IO) SP_RFID : : : : I2C:SDA(IO_7) SDA NC(IO_15) NC NC(IO_20) IRQ NC(IO_21) NC GPIOHS(IO_8) SHT I2C:SCL(IO_6) SCL 2.8~3.5V 3.3V GND GND ## ä½¿ç”¨ä¾‹ç¨‹ * æµç¨‹ 1. åˆå§‹åŒ– weather SPWeather(i2c i2c_bus) # create sp_weather while 1: time.sleep_ms(500) print(weather.qmc_read_xyz) # QMC7983 read data print(weather.bme_values) # BME280 read data 2. æ ¡å‡†(å¯é€‰) 3. è¯»å–è·ç¦»(å¤šç§æ¨¡å¼å¯é€‰) ### C ç¤ºä¾‹ï¼š ```c fpioa_set_function(Weather_SCL, FUNC_I2C0_SCLK + Weather_I2C_DEVICE * 2); // Weather_SCL: 6; fpioa_set_function(Weather_SDA, FUNC_I2C0_SDA + Weather_I2C_DEVICE * 2); // Weather_SDA: 7; maix_i2c_init(Weather_I2C_DEVICE, 7, 400000); // Weather_I2C_DEVICE: 0; rslt qmc_init(); // Magnetic sensor QMC7983 init rslt bme280_init(&dev); // Temperature, humidity and pressure sensors BME280 init stream_sensor_data_normal_mode(&dev); // read and print sensor data ``` ### MaixPy ä¾‹ç¨‹ï¼š ```python i2c_bus I2C(I2C.I2C0, freq 100*1000, scl 6, sda 7) # scl: io_6, sda: io_7 weather SPWeather(i2c i2c_bus) # create sp_weather while 1: time.sleep_ms(500) print(weather.qmc_read_xyz) # QMC7983 read data print(weather.bme_values) # BME280 read data ``` ## è¿è¡ŒçŽ¯å¢ƒ è¯­è¨€ å¼€å‘æ¿ SDK/å›ºä»¶ç‰ˆæœ¬ : : : : : C MaixCube kendryte standalone sdk v0.5.6 MaixPy MaixCube maixpy v0.5.1 ## è¿è¡Œç»“æžœ * C <img src \"../../assets/spmod/spmod_weather/log_c.png\" height \"200\"> * MaixPy <img src \"../../assets/spmod/spmod_weather/log_py.png\" height \"200\"> ## å‚è€ƒè®¾è®¡ SPMOD_Weather å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_weather/sipeed_spmod_weather.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_ethernet.html":{"title":"SPMOD - Ethernet","content":"# SPMOD Ethernet ## æ¦‚è¿° ![](../../assets/spmod/spmod_ethernet/sp_ethernet.png) SPMOD_Ethernet(ç½‘ç»œæ‰©å±•æ¨¡å—)é‡‡ç”¨ W5500 ä»¥å¤ªç½‘ä¸»æŽ§èŠ¯ç‰‡ã€‚ ## SPMOD Ethernet ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ é€šè¿‡SP MOD SPIæŽ¥å£è¿žæŽ¥ ä¸»æŽ§èŠ¯ç‰‡ï¼šW5500 æ˜¯ä¸€æ¬¾é›†æˆå…¨ç¡¬ä»¶ TCP/IP åè®®æ ˆçš„åµŒå…¥å¼ä»¥å¤ªç½‘æŽ§åˆ¶å™¨ã€‚ SPI é€ŸçŽ‡ç†è®ºä¸Šå¯è¾¾80MHz \té›†æˆä»¥å¤ªç½‘æ•°æ®é“¾è·¯å±‚ï¼ˆMACï¼‰å’Œ10BaseT/100BaseTX ä»¥å¤ªç½‘ç‰©ç†å±‚ï¼ˆPHYï¼‰ï¼Œæ”¯æŒè‡ªåŠ¨åå•†ï¼ˆ10/100 Basedå…¨åŒå·¥/åŠåŒå·¥ï¼‰ æ¨¡å—å°ºå¯¸ï¼š35.76\\*19.74\\*8.7mm ### W5500 ä»¥å¤ªç½‘ä¸»æŽ§èŠ¯ç‰‡ä»‹ç» åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° å·¥ä½œç”µåŽ‹ 2.97V~3.63V å·¥ä½œç”µæµ <132mA å·¥ä½œæ¸©åº¦ 40â„ƒ~85â„ƒ ä¼‘çœ ç”µæµ <15mA SPI æ—¶é’Ÿ æœ€é«˜80MHz å…¨ç¡¬ä»¶TCP/IPåè®®æ ˆ æ”¯æŒTCPã€UDPã€ICMPã€IPv4ã€ARPã€IGMPã€PPPoEåè®® > æ”¯æŒ8è·¯ç‹¬ç«‹ç¡¬ä»¶ Socket åŒæ—¶é€šä¿¡ ,é€šä¿¡æ•ˆçŽ‡äº’ä¸å½±å“ ,å†…éƒ¨32Kå­—èŠ‚æ”¶å‘ç¼“å­˜ä¾›TCP/IPåŒ…å¤„ç† ,æ”¯æŒæŽ‰ç”µæ¨¡å¼ã€ç½‘ç»œå”¤é†’ ,é›†æˆ 10BaseT / 100Base T ä»¥å¤ªç½‘ PHY ,æ”¯æŒè‡ªåŠ¨åå•†ï¼ˆå…¨/åŠåŒå·¥ï¼Œ10M/100M) ,ä¸æ”¯æŒè‡ªåŠ¨æžæ€§å˜æ¢MDIX ### SPMOD_Ethernet æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 CS I SPIç‰‡é€‰å¼•è„š 3 SO I/0 MISOæ•°æ®å¼•è„šï¼Œä¸»æœºè¾“å…¥ä»Žæœºè¾“å‡º 4 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 SCK I SPIä¸²è¡Œæ—¶é’Ÿå¼•è„š 7 SI I/0 MOSIæ•°æ®å¼•è„šï¼Œä¸»æœºè¾“å‡ºä»Žæœºè¾“å…¥ 8 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ <img src \"\" width \"300\" /> ## ä½¿ç”¨ä¾‹ç¨‹ å¾…æ›´æ–° ## å‚è€ƒè®¾è®¡ SPMOD_Ethernet å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_ethernet/sipeed_spmod_ethernet.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_tof.html":{"title":"SPMOD - TOF","content":"# SPMOD TOF ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_tof/sp_tof.png\" style \"padding right:100px;\" width \"\" height \"300\" /> SPMOD_TOF(TOF æ¨¡å—) é‡‡ç”¨ VL53L0X æ¨¡å—ã€‚ ## SPMOD TOF ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ åˆ©ç”¨SP MOD I2C å’Œ TOF æ¨¡å—é€šè®¯ ToFæ¨¡å—ï¼šVL53L0Xæ¨¡å—æ˜¯ä¸€ä¸ªI2CæŽ¥å£ï¼Œé•¿è·ç¦»å•ç‚¹é£žè¡Œæ—¶é—´æµ‹å®šï¼ˆToFï¼‰æ¨¡å—ï¼Œå®ƒå…·æœ‰é«˜æ€§èƒ½å’Œå¯é æ€§ æœ€è¿œæµ‹é‡è·ç¦»4000mmï¼Œæœ€é«˜50Hzçš„æµ‹é‡åˆ·æ–°çŽ‡ã€‚å…¸åž‹å‰æ–¹æµ‹é‡è§’åº¦27Â° å¯é€‰é…çº¢è‰²æ¿€å…‰å™¨çž„å‡†å¤´ï¼Œé€šè¿‡XSHUTå¼•è„šæŽ§åˆ¶æ¿€å…‰å™¨å¼€å…³ æ¨¡å—å°ºå¯¸ï¼š25.0\\*10\\*3.15mm ### VL53L0X ä»‹ç» VL53L0X åŠŸèƒ½ç‰¹æ€§ï¼š æµ‹é‡è·ç¦» æœ€å¤§ 4000mm(4m) å·¥ä½œåˆ·æ–°çŽ‡ 50Hz æµ‹é‡è§’åº¦ï¼ˆæ­£é¢ï¼‰ 27Â° é€šä¿¡æŽ¥å£ I2C å·¥ä½œç”µåŽ‹ 2.6V~3.5V (é€‰ç”¨çº¢è‰²æ¿€å…‰æ—¶ï¼š 2.8V~3.3V) å·¥ä½œçŠ¶æ€ç”µæµ 18mA (é€‰ç”¨çº¢è‰²æ¿€å…‰æ—¶ï¼š 20mA) å·¥ä½œæ¸©åº¦ 40â„ƒ 80â„ƒ ç¡çœ çŠ¶æ€ç”µæµ 5uA ### SPMOD_TOF æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 IRQ I æ¨¡å—ä¸­æ–­è¾“å…¥å¼•è„šï¼Œè¿žæŽ¥è‡³ VL53L0X çš„GPIO1 3 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 4 SDA I/O æ¨¡å— I2C ä¸²è¡Œæ•°æ®å¼•è„š 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 7 SHT I æ¨¡å—ä¼‘çœ &æ¿€å…‰å¤´æŽ§åˆ¶å¼•è„š #æ³¨é‡Š 8 SCL I æ¨¡å— I2C ä¸²è¡Œæ—¶é’Ÿå¼•è„š > SHT ä½Žç”µå¹³æ—¶ï¼Œæ¨¡å—ä¼‘çœ  &æ¿€å…‰å¤´å…³é—­ <img src \"../../assets/spmod/spmod_tof/back.png\" height \"300\" /> æŽ¥çº¿æ–¹å¼: MCU:FUN(IO) SP_RFID : : : : I2C:SDA(IO_7) SDA NC(IO_15) NC NC(IO_20) IRQ NC(IO_21) NC GPIOHS(IO_8) SHT I2C:SCL(IO_6) SCL 2.8~3.5V 3.3V GND GND <img src \"../../assets/spmod/spmod_tof/connection.png\" height \"250\"> ## ä½¿ç”¨ä¾‹ç¨‹ * æµç¨‹ 1. åˆå§‹åŒ– 2. æ ¡å‡†(å¯é€‰) 3. è¯»å–è·ç¦»(å¤šç§æ¨¡å¼å¯é€‰) ### C ç¤ºä¾‹ï¼š ```c //set io mux fpioa_set_function(VL53L0X_SCL, FUNC_I2C0_SCLK + VL53L0X_I2C_DEVICE * 2); fpioa_set_function(VL53L0X_SDA, FUNC_I2C0_SDA + VL53L0X_I2C_DEVICE * 2); fpioa_set_function(VL53L0X_SHT, FUNC_GPIOHS0 + VL53L0X_SHT); gpiohs_set_drive_mode(VL53L0X_SHT, GPIO_DM_OUTPUT); //i2c init maix_i2c_init(VL53L0X_I2C_DEVICE, 7, VL53L0X_I2C_FREQ_KHZ * 1000); while (vl53l0x_init(&vl53l0x_dev)) { printf(\"VL53L0X init error!!!\\r\\n\"); msleep(500); } printf(\"VL53L0X init success!\\r\\n\"); // adjusting printf(\"VL53L0X adjusting\\r\\n\"); vl53l0x_calibration_test(&vl53l0x_dev); // get distance printf(\"VL53L0X start work\\r\\n\"); vl53l0x_general_test(&vl53l0x_dev); ``` ### MaixPy ä¾‹ç¨‹ï¼š ```python fm.register(VL53L0X_SHT, fm.fpioa.GPIOHS0, force True) XSHUT GPIO(GPIO.GPIOHS0, GPIO.OUT) i2c I2C(VL53L0X_I2C_NUM, freq VL53L0X_FREQ, scl VL53L0X_SCL, sda VL53L0X_SDA) # create obj and read distance \t tof VL53L0X(i2c) \t while True: mm tof.read() utime.sleep_ms(100) print(mm) ``` ### è¿è¡ŒçŽ¯å¢ƒ è¯­è¨€ å¼€å‘æ¿ SDK/å›ºä»¶ç‰ˆæœ¬ : : : : C MaixCube kendryte standalone sdk v0.5.6 MaixPy MaixCube maixpy v0.5.1 ### è¿è¡Œç»“æžœ * C <img src \"../../assets/spmod/spmod_tof/log_c.png\" height \"200\" /> * MaixPy [None] ## ç§»æ¤ ä¿®æ”¹ä»¥ä¸‹å‚æ•°å³å¯é€‚é…å…¶ä»– K210 å¼€å‘æ¿. * C ```c // board_config.h #define VL53L0X_I2C_DEVICE 0 // i2c device number #define VL53L0X_I2C_FREQ_KHZ 100 // i2c frequence #define VL53L0X_SCL 6 // scl #define VL53L0X_SDA 7 // sda #define VL53L0X_SHT 8 // sht ``` * MaixPy ```python ################### config ################### VL53L0X_I2C_NUM const(I2C.I2C0) VL53L0X_FREQ const(100000) VL53L0X_SCL const(6) VL53L0X_SDA const(7) VL53L0X_SHT const(8) ############################################## ``` ## å‚è€ƒè®¾è®¡ SPMOD_TOF å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_tof/sipeed_spmod_tof.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_fpc.html":{"title":"SPMOD - FPC","content":"# SPMOD FPC ## æ¦‚è¿° ![](../../assets/spmod/spmod_fpc/sp_fpc.png) SPMOD_FPC(FPC è½¬æŽ¥çº¿æ¨¡å—) ## SPMOD FPC ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ ä½œä¸ºå»¶é•¿å¥—ä»¶ï¼Œè½»æ¾çš„å°†SP MODæŽ¥å£ç”¨FPCå»¶é•¿è‡³å¦ä¸€ç«¯ã€‚æ‚¨å°†æœ‰æ›´å¤§çš„è‡ªç”±è¿žæŽ¥æ¨¡å—æž„å»ºç³»ç»Ÿã€‚ æä¾›ä¸€å¯¹SP MODè‡³FPCè½¬æ¢æ¿ï¼ˆä¸€å…¬ä¸€æ¯ï¼‰ï¼Œä¸€æ¡FPCæŽ’çº¿, 10Pè§„æ ¼ã€‚ æ¨¡å—å°ºå¯¸ï¼š15.0\\*10.0\\*3.3mm ## æ¦‚æ‹¬ åŠŸèƒ½ç‰¹ç‚¹ï¼š å‚æ•° SP MODè‡³FPC10è½¬æ¢å™¨å™¨(å…¬æ¯ä¸€å¯¹)\t ç”¨äºŽå°†SP MODæŽ¥å£å’ŒFPCçš„åŒå‘è½¬æ¢ FPCæŽ’çº¿\t ç”¨äºŽè¿žæŽ¥ä¸¤ä¸ªè½¬æ¢å™¨ å¤–éƒ¨ä¾›ç”µç”µåŽ‹ è§†è¿žæŽ¥çš„æ¨¡å—è€Œå®š å¤–éƒ¨ä¾›ç”µç”µæµ è§†æ¨¡å—å·¥ä½œæƒ…å†µè€Œå®šï¼Œé€šå¸¸å°äºŽ1000mA å·¥ä½œæ¸©åº¦ 30â„ƒ ~ 85â„ƒ ## å‚è€ƒè®¾è®¡ SPMOD_FPC å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_fpc/sipeed_spmod_fpc.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/modules_spmod/spmod_joystick.html":{"title":"SPMOD - JoyStick","content":"# SPMOD JoyStick ## æ¦‚è¿° <img src \"../../assets/spmod/spmod_joystick/sp_joystick.png\" width \"\" height \"300\" /> SPMOD_JoyStick (JoyStickæ¨¡å—)ã€‚ ## SPMOD JoyStick ä»‹ç» é‡‡ç”¨ **Sipeed SPMOD** æŽ¥å£(2.54mm * 8PIN æŽ’é’ˆ)ï¼Œç»Ÿä¸€ MaixPy å¼€å‘æ¿æŽ¥å£ é€šè¿‡SP MOD SPIæŽ¥å£è¿žæŽ¥ å¯é€šè¿‡å¤–éƒ¨é€‚é…å™¨å•ç‹¬è¿žæŽ¥7.2V~9V DCï¼Œä¸ºæ‰‹æŸ„çš„æŒ¯åŠ¨é©¬è¾¾ä¾›ç”µ å†…ç½®å‡åŽ‹ç”µè·¯ï¼Œè½»æ¾é©±åŠ¨æ‰‹æŸ„ PSX/PS2å…¼å®¹ æ¨¡å—å°ºå¯¸ï¼š35.0\\*20.0\\*13.3mm ### SPMOD_JoyStick æ¨¡å—å¼•è„šå®šä¹‰ï¼š å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 CS I SPIç‰‡é€‰å¼•è„š 3 SO I/O MISOæ•°æ®å¼•è„šï¼Œæ‰‹æŸ„ä¿¡å·è¾“å‡º 4 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 SCK I SPIä¸²è¡Œæ—¶é’Ÿå¼•è„š 7 SI I/O MOSIæ•°æ®å¼•è„šï¼Œæ‰‹æŸ„ä¿¡å·è¾“å…¥ 8 ACK O ç¡®è®¤ä¿¡å·è¾“å‡ºå¼•è„š <img src \"\" width \"500\" /> ## ä½¿ç”¨ä¾‹ç¨‹ å¾…æ›´æ–° ## å‚è€ƒè®¾è®¡ SPMOD_JoyStick å°ºå¯¸å›¾ï¼š <img src \"../../assets/spmod/spmod_joystick/sipeed_spmod_joystick.png\" height \"250\" /> ## èµ„æºé“¾æŽ¥ èµ„æº é“¾æŽ¥ å®˜ç½‘ www.sipeed.com SIPEED å®˜æ–¹æ·˜å®åº— [sipeed.taobao.com](sipeed.taobao.com) Github [https://github.com/sipeed](https://github.com/sipeed) BBS [http://bbs.sipeed.com](http://bbs.sipeed.com) MaixPy æ–‡æ¡£å®˜ç½‘ [http://maixpy.sipeed.com](http://wiki.sipeed.com/maixpy) Sipeed æ¨¡åž‹å¹³å° [https://maix.sipeed.com](https://maix.sipeed.com) SDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/SDK](https://dl.sipeed.com/MAIX/SDK) HDK ç›¸å…³ä¿¡æ¯ [https://dl.sipeed.com/MAIX/HDK](https://dl.sipeed.com/MAIX/HDK) E mail(æŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œ) [Support@sipeed.com](mailto:support@sipeed.com) telgram link https://t.me/sipeed MaixPy AI QQ äº¤æµç¾¤ï¼ˆå››ç¾¤ï¼‰ 862340358"},"/hardware/zh/maixface/core_modules/k210_core_modules.html":{"title":"K210 æ ¸å¿ƒæ¨¡å—","content":"# K210 æ ¸å¿ƒæ¨¡å— çŽ°æœ‰å››æ¬¾åŸºäºŽ K210 å¼€å‘çš„ AIOT æ¨¡å—ï¼šM1, M1w, M1n, MF0 ç‰¹æ€§è¯´æ˜Žï¼š è¿™å››æ¬¾æ¨¡å—éƒ½æ˜¯åŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡K210ï¼ˆRISC Væž¶æž„ï¼‰è®¾è®¡çš„ã€‚ä¸»æŽ§èŠ¯ç‰‡å†…ç½®64ä½åŒæ ¸é«˜æ€§èƒ½ä½ŽåŠŸè€—å¤„ç†å™¨ï¼Œæ¯ä¸ªæ ¸éƒ½æœ‰æµ®ç‚¹è¿ç®—å•å…ƒï¼ˆFPUï¼‰ï¼Œå…·å¤‡å·ç§¯äººå·¥ç¥žç»ç½‘ç»œæ™ºèƒ½ç¡¬ä»¶åŠ é€Ÿå™¨ï¼ˆKPUï¼‰å’Œå¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨ï¼ˆFFTï¼‰ã€æ­è½½çŽ°åœºå¯ç¼–ç¨‹IOé˜µåˆ—ï¼ˆFPIOAï¼‰ï¼Œæ”¯æŒå¤šç§ä¸»æµAIç¼–ç¨‹æ¡†æž¶ã€‚ ### Maix AIOT æ¨¡å—å·®å¼‚å¯¹æ¯” M1 M1w M1n MF0 å¤–è§‚ ![M1 æ¨¡ç»„](./../assets/mf_module/m1_m1w/sipeed_m1_module.png) ![M1W æ¨¡ç»„](./../assets/mf_module/m1_m1w/sipeed_m1w_module.png) ![M1n æ¨¡ç»„](./../assets/mf_module/m1n/sipeed_m1n_module.png) ![MF0 æ¨¡ç»„](./../assets/mf_module/mf0_mf0dock/sipeed_mf0_module.png) å°ºå¯¸ 25.4x25.4x3.3ï¼ˆmmï¼‰ 25.4x25.4x3.3ï¼ˆmmï¼‰ 25.0x22.0x2.7ï¼ˆmmï¼‰ 20.0x20.0x4.5ï¼ˆmmï¼‰ ç”µåŽ‹è¾“å‡ºï¼ˆæä¾›ç»™åº•æ¿ä½¿ç”¨ï¼‰ 1.8Vå’Œ3.3V 1.8Vå’Œ3.3V 1.8Vå’Œ3.3V 3.3V æœ€å¤§åŠŸè€—ï¼ˆéžçž¬æ€ï¼‰ 1.5W 3W 1.5W 1.5W WIFIåŠŸèƒ½ æ—  æœ‰ï¼ˆK210ä¸ŽESP8285é€šè¿‡SPIæŽ¥å£å’Œä¸²å£è¿žæŽ¥ï¼‰ æ—  æ—  æ¿è½½æ‘„åƒå¤´è¿žæŽ¥å™¨ æ—  æ—  æœ‰ï¼ˆä»…å…¼å®¹å•æ‘„åƒå¤´ï¼‰ æœ‰ï¼ˆä»…å…¼å®¹å•æ‘„åƒå¤´ï¼‰ å¼•è„šå½¢å¼ é‚®ç¥¨å­” é‚®ç¥¨å­” NGFFé‡‘æ‰‹æŒ‡ B KEY 2.54mmé—´è·ç›´æ’ç„Šç›˜+SMDç„Šç›˜ æ˜¯å¦å¼•å‡ºæ‘„åƒå¤´ä¿¡å· å…¨å¼•å‡º å…¨å¼•å‡º å…¨å¼•å‡º æ—  æ˜¯å¦å¼•å‡ºå±å¹•ä¿¡å· å…¨å¼•å‡º å…¨å¼•å‡º å…¨å¼•å‡º æ—  å¼•å‡ºæ™®é€šIOå£æ•°é‡ 48ä¸ªï¼ˆå…¨å¼•å‡ºï¼‰ 48ä¸ªï¼ˆå…¨å¼•å‡ºï¼‰ 44ä¸ªï¼ˆIO0 3æ²¡å¼•å‡ºï¼‰ 9ä¸ª ## æ¨¡å—å¼•è„šå®šä¹‰ å…·ä½“å¯ä¸‹è½½è§„æ ¼ä¹¦ M1/M1w: https://dl.sipeed.com/MAIX/HDK/Sipeed M1&M1W/Specifications M1n: https://dl.sipeed.com/MAIX/HDK/Sipeed M1n MF0: https://dl.sipeed.com/MAIX/HDK/Sipeed MF0/MF0 2802 ## M1/M1W(k210) ISP æ¨¡å¼(çƒ§å½•æ¨¡å¼) æ›´æ–° K210 æ—¶ï¼Œéœ€è¦è®© K210 è¿›å…¥ ISP æ¨¡å¼ï¼Œç›¸å…³ä¿¡æ¯å¦‚ä¸‹ï¼š ISP å¼•è„š ISP å¼•è„š æè¿° å¤‡æ³¨ BOOT (IO_16) å¯åŠ¨æ¨¡å¼é€‰æ‹© ä½Žç”µå¹³è¿›å…¥ï¼ŒISP æ¨¡å¼ ISP_RX (IO_4) ISP ä¸²å£æ•°æ®æŽ¥æ”¶ ISP_TX (IO_5) ISP ä¸²å£æ•°æ®å‘é€ Boot é€‰æ‹© **IO_16** ç”¨äºŽ **boot** æ¨¡å¼é€‰æ‹©ï¼Œä¸Šç”µæ—¶ï¼Œæ‹‰é«˜è¿›å…¥ **Flash** å¯åŠ¨ï¼Œæ‹‰ä½Žè¿›å…¥ **ISP** æ¨¡å¼ Boot é€‰æ‹©å¼•è„š æ‹‰é«˜ æ‹‰ä½Ž IO_16 Flash å¯åŠ¨ ISP æ¨¡å¼ > K210 ISP æ¨¡å¼ä¸‹ï¼Œä¸²å£æ³¢ç‰¹çŽ‡å»ºè®®é…ç½®ä¸º: 115200ï¼Œ1 åœæ­¢ä½ï¼Œ8 æ•°æ®ä½ï¼Œä¸æ ¡éªŒã€‚ å‚è€ƒè‡ªåŠ¨è¿›å…¥ä¸‹è½½æ¨¡å¼ç”µè·¯ï¼š ![](../../assets/mf_module/m1_m1w/K210_boot_reference.png) å‚è€ƒæ¥æºï¼š > ã€ŠK210æŠ€æœ¯è§„æ ¼ä¹¦ v0.1.5ã€‹ > 2.5 ç‰¹æ®Šå¼•è„š: IO_16 ç”¨äºŽ boot æ¨¡å¼é€‰æ‹©ï¼Œä¸Šç”µå¤ä½æ—¶ï¼Œæ‹‰é«˜è¿›å…¥ FLASH å¯åŠ¨ï¼Œæ‹‰ä½Žè¿›å…¥ ISP æ¨¡å¼ã€‚å¤ä½åŽï¼ŒIO_0ã€ IO_1ã€IO_2ã€IO_3 ä¸º JTAG å¼•è„šã€‚IO_4ã€IO_5 ä¸º ISP å¼•è„šã€‚ ## MF PCB æ³¨æ„äº‹é¡¹ ä½¿ç”¨ K210(M1/M1W) è‡ªè¡Œè®¾è®¡äººè„¸è¯†åˆ«äº§å“ï¼Œè¯·å‚è€ƒ [ã€ŠMF äººè„¸è¯†åˆ«æ¨¡å— PCB è®¾è®¡æ³¨æ„äº‹é¡¹ã€‹](../mf_ml_module/mf_precautions.html)"},"/hardware/zh/maixface/mf_ml_module/mf_precautions.html":{"title":"MF PCB è®¾è®¡æ³¨æ„äº‹é¡¹","content":"# MF PCB è®¾è®¡æ³¨æ„äº‹é¡¹ ## è¡¥å…‰ç¯ï¼š 1ã€850nm çº¢å¤–è¡¥å…‰ç¯å¯ä»¥è€ƒè™‘é€‰ç”¨ 1W æˆ–è€… 3W åŠŸçŽ‡çš„ç¯ç ï¼Œå› ä¸ºæ›´å¤§åŠŸçŽ‡çš„ç¯ç å¯ä»¥å»¶é•¿ä½¿ç”¨å¯¿å‘½ã€å‡å°‘æ•…éšœçŽ‡å’Œæé«˜è¯†åˆ«æ•ˆæžœ 2ã€çº¢å¤–ç¯ç å’Œç™½å…‰ç¯ç çš„é©±åŠ¨ç”µè·¯å’Œå…ƒä»¶å‚æ•°ï¼Œä¸€å®šè¦æ ¹æ®å®žé™…ç¯ç é€‰åž‹å’Œæ•°é‡å†³å®šã€‚å› ä¸ºä¸åŒçš„ç”µè·¯æˆæœ¬ä¸ä¸€æ ·ï¼Œäº®åº¦æ„Ÿè§‰ä¸ä¸€æ ·ï¼Œä¸åŒå®¢æˆ·çš„éœ€æ±‚ä¸ä¸€æ ·ï¼Œå› æ­¤å®¢æˆ·éœ€è¦æ ¹æ®å®žé™…æƒ…å†µé€‰æ‹©å’Œè°ƒæ•´å‚æ•°ã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨å…‰åº¦è®¡åŽ»æŽ§åˆ¶æ•´ä¸ªè®¾è®¡è°ƒè¯•å’Œæ‰¹é‡ç”Ÿäº§çš„çº¢å¤–ç¯ç äº®åº¦çš„ä¸€è‡´æ€§ 3ã€850nm å…‰çº¿å…·æœ‰ä¸€å®šçš„ç©¿é€æ€§ã€‚ ç›®å‰å·²è¯å®žçº¢å¤–è¡¥å…‰ç¯çš„ 850nm å…‰çº¿ä¼šä»Žæ‘„åƒå¤´æ¨¡ç»„çš„å››å‘¨å’ŒåŽèƒŒç©¿é€è¿›åŽ»ï¼Œå½±å“æˆåƒï¼Œè¿›è€Œå½±å“å±å¹•ç”»é¢æˆ–è€…å½±å“è¯†åˆ«æ•ˆæžœã€‚ å› æ­¤å¿…é¡»åœ¨æ‘„åƒå¤´å’Œè¡¥å…‰ç¯ä¹‹é—´ï¼Œç”¨ 850nm æ— æ³•ç©¿é€çš„ææ–™/å–·æ¼†/èƒ¶å¸ƒç­‰é˜»éš”ä»Žç¯ç æ•£å°„åˆ°æ‘„åƒå¤´å†…éƒ¨çš„çº¢å¤–å…‰çº¿ã€‚ å¦å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ‹‰å¼€çº¢å¤–ç¯ç ä¸Žæ‘„åƒå¤´çš„è·ç¦»ï¼Œè·ç¦»ä¿æŒ 15mm ä»¥ä¸Šå°±èƒ½å‡å°‘ 80% çš„è´Ÿé¢å½±å“ï¼Œè·ç¦»ä¿æŒ 20mm ä»¥ä¸Šï¼Œçº¢å¤–çº¿å°±åŸºæœ¬ä¸ä¼šé€å°„è¿›æ‘„åƒå¤´äº† 4ã€çº¢å¤–è¡¥å…‰ç¯ä¸Žå¤–å£³å‰ç›–æ¿ï¼ˆäºšå…‹åŠ›/å¡‘æ–™ç­‰æè´¨ï¼‰ä¹‹é—´çš„è·ç¦»åº”å°½é‡å°‘ï¼Œå³è¡¥å…‰ç¯ä¸Žç›–æ¿å°½é‡ç´§è´´ã€‚å¦‚æžœè¡¥å…‰ç¯ä¸Žç›–æ¿è·ç¦»è¾ƒå¤§ï¼Œä¼šä¸¥é‡å½±å“è¯†åˆ«æ•ˆæžœ 5ã€åœ¨ç™½å…‰è¡¥å…‰ç¯æ–¹é¢ï¼Œå°½é‡æ”¾ç½®å¤šä¸ªLEDï¼Œä½¿ç”¨å‡å…‰æ¿åšæŸ”å…‰å¤„ç†ã€‚å‡å…‰æ¿çš„é¢ç§¯å°½é‡å¤§ã€‚ç›®å‰å¸‚é¢ä¸Šçš„æ–¹æ¡ˆæœ‰åœ†åœˆè·‘é“å¼çš„å‡å…‰æ¿ï¼Œæœ‰å°èŒƒå›´ç‰‡çŠ¶å¼çš„å‡å…‰æ¿ï¼Œè¿™ä¸ªè¯·å®¢æˆ·çš„ç»“æž„å·¥ç¨‹å¸ˆåœ¨ä½¿ç”¨ä½“éªŒå’Œå¤–è§‚è®¾è®¡ä¸Šå¯¹æ­¤è¿›è¡Œè®¾è®¡ã€‚å¦‚æžœä¸åšæŸ”å…‰å¤„ç†ï¼Œç™½å…‰è¡¥å…‰ç¯ä¼šåˆºçœ¼ï¼Œå¹¶ä¸”ä½¿ç”¨æˆ·çœ¼ç›æœ‰åå‡ ç§’çš„æ®‹å½±ï¼Œä½¿ç”¨ä½“éªŒä¸å¥½ 6ã€ç™½å…‰ç¯ç å’Œçº¢å¤–ç¯ç çš„ç„Šç›˜ï¼Œéœ€è¦è¿žæŽ¥åˆ°å°½å¯èƒ½å¤§çš„é“œçš®ï¼Œä»¥æ­¤æé«˜æ•£çƒ­æ€§èƒ½ 7ã€ç™½å…‰è¡¥å…‰ç¯å¯¹åœ°çš„ç”µå®¹åº”è¯¥åŽ»æŽ‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´å¼€ç¯çš„æ—¶å€™å¤ä½ ## åŸºæœ¬ä¿¡æ¯ï¼š 1ã€M1/M1w æ¨¡å—åº•éƒ¨çš„æ•£çƒ­ç„Šç›˜ï¼Œéœ€è¦è¿žæŽ¥åˆ°å°½å¯èƒ½å¤§çš„é“œçš®ï¼Œä»¥æ­¤æé«˜æ•£çƒ­æ€§èƒ½ 2ã€æ¨¡å—çš„ 5V æ˜¯è¾“å…¥ï¼Œå¤–éƒ¨ç»™æ¨¡å—ä¾›ç”µçš„ï¼›æ¨¡å—çš„ 1.8V å’Œ 3.3V æ˜¯æ¨¡å—å†…éƒ¨ DC DC ç”Ÿæˆçš„ï¼Œä¸»è¦æ˜¯ç»™æ¨¡å—å†…éƒ¨æ ¸å¿ƒå…ƒä»¶ä½¿ç”¨çš„ï¼Œå…¶æ¬¡æ˜¯ç»™æ¨¡å—å¤–éƒ¨çš„å°ç”µæµå…ƒä»¶ä½¿ç”¨ï¼ˆæ¯”å¦‚ä½œä¸ºå±å¹•å’Œæ‘„åƒå¤´çš„ 1.8V å‚è€ƒç”µåŽ‹ç­‰å°ç”µæµéœ€æ±‚ã€‚ä¸å»ºè®®æä¾›ç»™æ¨¡å—å¤–éƒ¨çš„å¤§ç”µæµå…ƒä»¶ä½¿ç”¨ï¼‰ 3ã€å¦‚æžœéœ€è¦åšç”µå®¹è§¦æ‘¸ï¼Œå°½é‡æŠŠè§¦æ‘¸èŠ¯ç‰‡æ”¾åˆ°é è¿‘æ‰‹æŒ‡è§¦æ‘¸çš„ä½ç½®ä¹‹ä¸‹ã€‚å› ä¸ºè§¦æ‘¸èŠ¯ç‰‡åˆ°è§¦æ‘¸é¢æ¿ä¹‹é—´çš„èµ°çº¿é•¿åº¦ï¼Œé•¿åº¦è¶Šé•¿è¶Šéš¾æŠŠæ¡çµæ•åº¦ã€è¶Šå®¹æ˜“å—å¹²æ‰° 4ã€å¦‚æžœä½¿ç”¨ M1w æ¨¡å—ï¼Œåˆ™éœ€è¦éµå®ˆå¤©çº¿çš„æ‘†æ”¾åŽŸåˆ™æ¥æ‘†æ”¾ IPEX 2.4G å¤©çº¿ï¼Œå¦åˆ™ä¿¡å·ä¼šæœ‰è¾ƒå¤§ç¨‹åº¦çš„æŸå¤± 5ã€M1/M1w æ¨¡å—çš„ RSTã€BANK6/7ã€æ‘„åƒå¤´ 8 ä½æ•°æ®å’Œå±å¹• 8 ä½æ•°æ®çš„å·¥ä½œç”µåŽ‹å’Œå®¹å¿ç”µåŽ‹éƒ½æ˜¯ 1.8Vï¼ŒBANK0/1/2/3/4/5 çš„å·¥ä½œç”µåŽ‹å’Œå®¹å¿ç”µåŽ‹éƒ½æ˜¯ 3.3V è€åŽ‹ï¼Œä¸€å®šä¸èƒ½è¶…å‡ºè€åŽ‹èŒƒå›´ä½¿ç”¨ã€‚å¦‚æžœè¦æŠŠ RST å¼•è„šå¼•å‡ºä½¿ç”¨ï¼Œå¼ºçƒˆå»ºè®®å¢žåŠ ä¿æŠ¤ç”µè·¯ï¼Œä»¥ä¸‹ä¸¤ç§ç”µè·¯éƒ½å¯ä»¥èµ·åˆ°ä¿æŠ¤/å…¼å®¹æ›´é«˜ç”µå¹³çš„ä½œç”¨ï¼š ![](./../assets/other/mf_precautions.png) 6ã€IO16ï¼ˆBOOTï¼‰è¦åœ¨åº•æ¿åŠ  10K ä¸Šæ‹‰ç”µé˜»åˆ° 3.3V 7ã€FPIOA å…è®¸ç”¨æˆ·å°† 255 ä¸ªå†…éƒ¨åŠŸèƒ½æ˜ å°„åˆ°èŠ¯ç‰‡å¤–å›´çš„ 48 ä¸ªè‡ªç”± IO ä¸Š 8ã€M1 å’Œ M1w çš„åŒºåˆ«æ˜¯ï¼šM1 æ²¡æœ‰ WIFIï¼ŒM1w æœ‰ WIFIï¼ŒM1w æ¨¡å—çš„ IO0 IO3 è¿™ 4 ä¸ªå¼•è„šæ˜¯ K210 ä¸Ž WIFI(ESP8285) èŠ¯ç‰‡ä¹‹é—´çš„ SPI è¿žæŽ¥ï¼Œå› æ­¤ä¸èƒ½ç”¨ä½œå…¶ä»–ç”¨é€” 9ã€è¯·ä¸€å®šè¦åœ¨ PCB ä¸Šé¢„ç•™ M1/M1w æ¨¡å—çš„ K210 å’Œ WIFI çš„ä¸‹è½½æŽ¥å£ï¼Œå…·ä½“å¯ä»¥å‚è€ƒæˆ‘ä»¬æä¾›çš„æ ‡æ¡ˆåŽŸç†å›¾ ### è®¤è¯æ–¹é¢ï¼š 1ã€æ‰€æœ‰ä¿¡å·éƒ½è¦åœ¨é è¿‘æºç«¯çš„åœ°æ–¹é¢„ç•™ä¸²è”ç£ç æˆ–è€…RC ä½Žé€šæ»¤æ³¢ç”µè·¯ï¼Œç”¨æ¥æ¶ˆé™¤è¿‡å†²å’ŒæŒ¯é“ƒã€‚ RC å‚æ•°æ˜¯ 100R+100PFï¼ˆè¿™æ˜¯å±å¹•ä¿¡å·çš„å‚æ•°ï¼Œå…¶ä»–ä¿¡å·å¿…é¡»æ ¹æ®å®žé™…æµ‹è¯•å†³å®šï¼Œä¸èƒ½å½±å“æ­£å¸¸åŠŸèƒ½ï¼‰ã€‚ ä½Žé€š RC å½¢å¼æ˜¯æŒ‡ï¼šä¿¡å·ä»Žæºç«¯è¾“å‡ºå…ˆç»è¿‡ç”µé˜»/ç£ç åŽç»è¿‡ç”µå®¹ï¼ŒRC å…ƒä»¶é è¿‘æºç«¯æ”¾ç½®ã€‚ 2ã€å°½é‡åœ¨å„è·¯ç”µæºVCCé¢„ç•™ä¸²è”ç„Šç›˜ï¼Œå¯èƒ½éœ€è¦ç„ŠæŽ¥ç£ç æˆ–è€…ç”µæ„Ÿï¼Œæ³¨æ„ç£ç éœ€è¦é€‰æ‹©é¢å®šç”µæµå¤§äºŽå®žé™…å·¥ä½œç”µæµçš„ 3ã€å°½é‡åœ¨æ¯ä¸ªå¯èƒ½æ³„æ¼çš„ä½ç½®ã€ä½¿ç”¨åˆ°çš„IOå’Œç”µæºçº¿è·¯ç­‰åœ°æ–¹åŠ ä¸Š ESD äºŒæžç®¡ã€‚ESD äºŒæžç®¡æ”¾ç½®çš„ä½ç½®æ ¹æ®ESDè®¾è®¡åŽŸåˆ™æ‘†æ”¾ 4ã€ä¸ºäº†æé«˜ESDé˜²æŠ¤æ€§èƒ½ï¼Œåº”è¯¥åœ¨å±å¹•åˆ°ä¸»æ¿ä¹‹é—´é¢„ç•™è¶³å¤Ÿçš„ä½ç½®æ”¾ç½®å¯¼ç”µæ³¡æ£‰ã€‚ä¸»æ¿åœ¨è¯¥ä½ç½®é˜»ç„Šå¼€çª—ã€‚è¯¥ä½ç½®åº”å°½é‡æŽ¥è¿‘ä¾›ç”µç”µæºçš„GND 5ã€PCBå››å‘¨å°½é‡æ‰“è¿‡å­”ï¼Œè®©è¿‡å­”åŒ…å›´ç€PCBï¼Œå…ƒä»¶éœ€è¦è¿œç¦»å¯èƒ½çš„é™ç”µæ³„éœ²ç‚¹"},"/hardware/zh/maixface/mf_ml_module/mf5_product.html":{"title":"MF5","content":"# MF5 ## MF5 å¤–è§‚ä¸€è§ˆ ## MF5 æ¿è½½æŽ¥å£ <table border \"2\"> <tr> <th colspan 6>MaixFace 5 å¼•è„šä¿¡æ¯</th> </tr> <tr> <td colspan 3><img src \"./../assets/mf_module/mf5/mf5_if_1.png\" height 400></td> <td colspan 3><img src \"./../assets/mf_module/mf5/mf5_if_2.png\" height 400></td> </tr> <tr> <td>Maix Face Slik</td> <td>K210 IO</td> <td>ESP8285 IO</td> <td>Function</td> <td>Remark</td> <td>IO Voltage</td> </tr> <tr> <td>VIN</td> <td> </td> <td> </td> <td>ç”µæºè¾“å…¥æ­£æž</td> <td>12V</td> <td rowspan 22>3.3V</td> </tr> <tr> <td>GND</td> <td> </td> <td> </td> <td>ç”µæºè¾“å…¥è´Ÿæž</td> <td>ç”µæºGND</td> </tr> <tr> <td>NC</td> <td> </td> <td> </td> <td>ç»§ç”µå™¨å¸¸é—­è§¦ç‚¹</td> <td rowspan 3>ç»§ç”µå™¨</td> </tr> <tr> <td>COM</td> <td> </td> <td> </td> <td>ç»§ç”µå™¨å…¬å…±è§¦ç‚¹</td> </tr> <tr> <td>NO</td> <td> </td> <td> </td> <td>ç»§ç”µå™¨å¸¸å¼€è§¦ç‚¹</td> </tr> <tr> <td>GND</td> <td> </td> <td> </td> <td>éŸ¦æ ¹æŽ¥å£RETURN</td> <td rowspan 3>éŸ¦æ ¹æŽ¥å£</td> </tr> <tr> <td>WGD0</td> <td>IO14</td> <td> </td> <td>éŸ¦æ ¹æŽ¥å£ D0</td> </tr> <tr> <td>WGD1</td> <td>IO15</td> <td> </td> <td>éŸ¦æ ¹æŽ¥å£ D1</td> </tr> <tr> <td>GND</td> <td> </td> <td> </td> <td>å¼€é—¨ä¿¡å·åœ°</td> <td rowspan 2>å¼€é—¨ä¿¡å· ä½Žç”µå¹³: Open</td> </tr> <tr> <td>OPEN</td> <td>IO16</td> <td> </td> <td>å¼€é—¨ä¿¡å·è¾“å…¥</td> </tr> <tr> <td>3V3</td> <td> </td> <td> </td> <td>3.3V</td> <td rowspan 6>ä»¥å¤ªç½‘/åˆ·å¡æŽ¥å£</td> </tr> <tr> <td>CS</td> <td>IO24</td> <td> </td> <td>SPI CS</td> </tr> <tr> <td>MISO</td> <td>IO2</td> <td> </td> <td>SPI MISO</td> </tr> <tr> <td>SCLK</td> <td>IO1</td> <td> </td> <td>SPI SCLK</td> </tr> <tr> <td>MOSI</td> <td>IO3</td> <td> </td> <td>SPI MOSI</td> </tr> <tr> <td>GND</td> <td> </td> <td> </td> <td>GND</td> </tr> <tr> <td>5V</td> <td> </td> <td> </td> <td>5V</td> <td rowspan 6>ä¸²å£/K210ä¸‹è½½</td> </tr> <tr> <td>RST</td> <td>IO54</td> <td> </td> <td>K210å¤ä½</td> </tr> <tr> <td>BOOT</td> <td>IO16</td> <td> </td> <td>K210è¿›å…¥ISPæ¨¡å¼</td> </tr> <tr> <td>ISPTX</td> <td>IO5</td> <td> </td> <td>ISPTX</td> </tr> <tr> <td>ISPRX</td> <td>IO4</td> <td> </td> <td>ISPRX</td> </tr> <tr> <td>GND</td> <td> </td> <td> </td> <td>GND</td> </tr> </table> ## MF5 å›ºä»¶è¯´æ˜Ž MF5 ä¸ºäººè„¸è¯†åˆ«é—¨ç¦æˆå“ï¼Œé»˜è®¤çƒ§å½•çš„å›ºä»¶ä¸æ”¯æŒä¸²å£åè®®ï¼› åœ¨çƒ§å½•ä¸²å£åè®®å›ºä»¶ä¹‹åŽï¼Œåè®®ä¸²å£ä¸º WGD0 IO14(RX)ï¼ŒWGD1 1O15(TX)ã€‚"},"/hardware/zh/maixface/mf_ml_module/mf_update_firmwave.html":{"title":"MF å›ºä»¶ç›¸å…³å‡çº§è¯´æ˜Ž","content":"# MF å›ºä»¶ç›¸å…³å‡çº§è¯´æ˜Ž åœ¨ä½¿ç”¨ **MF äººè„¸è¯†åˆ«æ¨¡å—**è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœå­˜åœ¨å›ºä»¶å­˜åœ¨ bugã€æœ‰æ–°åŠŸèƒ½å›ºä»¶ releaseã€è¯¯æ“¦é™¤å›ºä»¶ã€å­—ä½“èµ„æºã€å›¾ç‰‡èµ„æºï¼Œé‚£ä¹ˆå°±éœ€è¦é€šè¿‡çƒ§å½•è¿˜åŽŸå›ºä»¶ã€‚ ## MF äººè„¸è¯†åˆ«æ¨¡å—å›ºä»¶ã€èµ„æºè¯´æ˜Ž **MF äººè„¸è¯†åˆ«æ¨¡å—** å›ºä»¶ã€å­—ä½“èµ„æºã€å›¾ç‰‡èµ„æºã€è¯´æ˜Žå¦‚ä¸‹ï¼š ç±»åž‹ çƒ§å½•åœ°å€ é•¿åº¦ è¯´æ˜Ž å›ºä»¶ 0x000000 äººè„¸æ¨¡åž‹ å­—ä½“èµ„æº å›¾ç‰‡èµ„æº æ¿çº§é…ç½® 0x7FF000 4 KB äººè„¸ä¿¡æ¯ 0x800000 64 KB > ä¸€èˆ¬å¼€å‘è€…åœ¨æ‹¿åˆ° MF æ¨¡å—ä¹‹åŽï¼Œä¸éœ€è¦å…³å¿ƒè¯¥èµ„æºåˆ†å¸ƒ MF å›ºä»¶è¯´æ˜Ž å›ºä»¶åˆ†ç±» æ–¹å‘ åè®® è¯†åˆ«æ–¹å¼ wechat å›ºä»¶ç±»åž‹æ•°é‡ MF0 ä½“éªŒç‰ˆæ¨¡å— æ¨ªç‰ˆ, ç«–ç‰ˆ bin vis 2 MF1 ç¦»çº¿ç‰ˆæ¨¡å— æ¨ªç‰ˆï¼Œç«–ç‰ˆ bin/json vis+ir 8 MF1_to_MF2 æ¨ªç‰ˆï¼Œç«–ç‰ˆ bin/json vis+ir 8 MF2 å¾®ä¿¡åŠæˆå“ æ¨ªç‰ˆï¼Œç«–ç‰ˆ bin vis æ”¯æŒ 2 MF4 å¾®ä¿¡ (æˆå“) ç«–ç‰ˆ bin vis æ”¯æŒ 1 MF5 å¾®ä¿¡ (æˆå“) ç«–ç‰ˆ bin/json vis æ”¯æŒ 2 å­—ä½“èµ„æº å›¾ç‰‡èµ„æº æ¸…é™¤é…ä¿¡æ¯ ## MF1 å›ºä»¶çƒ§å½•(å‡çº§ï¼Œè¿˜åŽŸå‡ºåŽ‚é…ç½®)æ­¥éª¤ åœ¨ä½¿ç”¨ **MF äººè„¸è¯†åˆ«æ¨¡å—**è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœå­˜åœ¨å›ºä»¶å­˜åœ¨ bugã€æœ‰æ–°åŠŸèƒ½å›ºä»¶ releaseã€è¯¯æ“¦é™¤å›ºä»¶ã€å­—ä½“èµ„æºã€å›¾ç‰‡èµ„æºï¼Œé‚£ä¹ˆå°±éœ€è¦é€šè¿‡çƒ§å½•è¿˜åŽŸå›ºä»¶ã€‚ çƒ§å½•æ­¥éª¤ï¼š 1. çƒ§å½• key_gen.bin èŽ·å– key 2. é€šè¿‡ support@sipeed.com èŽ·å–æ¨¡åž‹æ–‡ä»¶ 3. çƒ§å½•æ¨¡åž‹æ–‡ä»¶ 4. çƒ§å½•å›¾ç‰‡ï¼Œå­—ä½“èµ„æºï¼Œ ### å‡†å¤‡ï¼š åœ¨å‡çº§ï¼Œè¿˜åŽŸå‡ºåŽ‚é…ç½®**MF äººè„¸è¯†åˆ«æ¨¡å—** ä¹‹å‰æˆ‘ä»¬éœ€è¦å‡†å¤‡è½¯ç¡¬ä»¶ã€‚ **ç¡¬ä»¶å‡†å¤‡ï¼š** **MF äººè„¸è¯†åˆ«æ¨¡å—** USB Type C æ•°æ®çº¿ **è½¯ä»¶å‡†å¤‡ï¼š** çƒ§å½•è½¯ä»¶ï¼š kflash_gui(è¿™é‡Œä½¿ç”¨ kflash_gui v1.6.5 ç‰ˆæœ¬) ä¸‹è½½é“¾æŽ¥: Github: [kflash_gui](https://github.com/Sipeed/kflash_gui) Sipeed: [Sipeed å®˜æ–¹ä¸‹è½½ç«™ kflash_gui](https://dl.sipeed.com/MAIX/tools/kflash_gui/kflash_gui_v1.6.5) çƒ§å½•èµ„æºæ–‡ä»¶(æ ¹æ®æƒ…å†µçƒ§å½•)ï¼š**MF äººè„¸è¯†åˆ«æ¨¡å—å›ºä»¶**ã€ç®—æ³•æ¨¡åž‹æ–‡ä»¶ã€å­—ä½“èµ„æºæ–‡ä»¶ã€å›¾ç‰‡èµ„æºæ–‡ä»¶ èµ„æºæ–‡ä»¶èŽ·å–ç»Ÿä¸€å‘é€é‚®ä»¶åˆ°: Email: Support@sipeed.com æŽ¨èå‘é€é‚®ä»¶æ ¼å¼å¦‚ä¸‹: > é—®é¢˜ç±»åž‹: [MF å›ºä»¶èµ„æºèŽ·å–/ï¼ˆç®€çŸ­æè¿°ä½ çš„é—®é¢˜ï¼‰] > > ä½¿ç”¨ç¡¬ä»¶/å›ºä»¶ç‰ˆæœ¬: [MF0/MF1/MF2/MF4/MF5(è¿™é‡Œæ ‡æ³¨ä½¿ç”¨çš„ç©¶ç«Ÿæ˜¯å“ªä¸ªæ¨¡å—ã€äº§å“)] > > å†…å®¹: [æœ€æ–°å›ºä»¶èŽ·å–/å›ºä»¶ä¸¢å¤±/æ¨¡åž‹ä¸¢å¤±(æè¿°ç›¸å…³æƒ…å†µ)] > > æœºå™¨ç : [xxxxxxxxxxxxxxxxxxxxx(åªæœ‰æ¨¡åž‹ä¸¢å¤±æ—¶éœ€è¦)] ### çƒ§å½•å›ºä»¶,èµ„æºæ–‡ä»¶ ä½¿ç”¨USB Type C æ•°æ®çº¿ å°†**MF äººè„¸è¯†åˆ«æ¨¡å—** è¿žæŽ¥ ç”µè„‘ ![MF1 connect USB](./../assets/mf_module/mf1/mf1_view.png) æ‰“å¼€ Kflash_gui é€‰æ‹©éœ€è¦çƒ§å½•çš„æ–‡ä»¶ï¼Œé€‰æ‹©ç‰ˆåž‹(é»˜è®¤é€‰æ‹©`è‡ªåŠ¨é€‰æ‹©`ï¼Œ å¦‚æžœçƒ§å½•å¤±è´¥åˆ™é€‰æ‹© `MaixDuino`)ï¼Œé€‰æ‹©ä¸²å£å·(CH522 æœ‰ä¸¤ä¸ªä¸²å£ï¼Œå¤±è´¥åˆ™å°è¯•å¦å¤–ä¸€ä¸ª)ï¼Œé…ç½®æ³¢ç‰¹çŽ‡(é»˜è®¤é€‰æ‹© `150000`, å¦‚æžœçƒ§å½•å¤±è´¥åˆ™é€‚å½“å‡ä½Žæ³¢ç‰¹çŽ‡,å¦‚ `115200`) ![image 20200806103433410](./../../maix/assets/kflash_gui/image 20200806103433410.png) ![image 20200806105056527](./../../maix/assets/kflash_gui/image 20200806105056527.png) ## æ€Žä¹ˆèŽ·å– Key(æœºå™¨ç ) åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­,å¦‚æžœæ¨¡å—çš„æ¨¡åž‹ä¸¢å¤±æˆ–éœ€è¦æ›´æ¢,éœ€è¦å‘é€ `Key` åˆ° <Support@sipeed.com> æŽ¨èå‘é€é‚®ä»¶æ ¼å¼å¦‚ä¸‹: é¦–å…ˆä¸‹è½½ [key_gen.bin](https://fdvad021asfd8q.oss cn hangzhou.aliyuncs.com/Sipeed_M1/firmware/key_gen_v1.2.bin) ä½¿ç”¨ `kflash_gui` å°†å›ºä»¶ `key_gen.bin` çƒ§å½•åˆ°æ¨¡å—ä¸­ä¹‹åŽ,æ‰“å¼€ä¸²å£,æ³¢ç‰¹çŽ‡ä¸º`115200,8,N,1` > **[kflash_gui](https://github.com/Sipeed/kflash_gui/releases)** ä¸º K210 å›ºä»¶çƒ§å½•å·¥å…·, æºç : [**Sipeed/kflash_gui**](https://github.com/Sipeed/kflash_gui) å»ºè®®ä½¿ç”¨ [`XCOM`](tools/XCOM_V2.6.exe) æ¥çœ‹ä¸²å£ä¿¡æ¯ è½»ç‚¹ `DTR` ,å†æ¾å¼€,å³å¯ä½¿æ¨¡å—å¤ä½,çœ‹åˆ°å¯åŠ¨ä¿¡æ¯ <center class \"half\"> <img src \"../../../zh/maix/assets/other/how_to_get_key.png\" height 50% width 80% /> </center> ## MF å›ºä»¶æ¨ªç«–ç‰ˆè¯´æ˜Ž ç”±äºŽé‡‡ç”¨çš„æ‘„åƒå¤´æˆåƒæ–¹å‘ä¸åŒï¼Œç›¸å·® 90åº¦ï¼Œæ‘„åƒå¤´å¯„å­˜å™¨æ— æ³•é…ç½®æ—‹è½¬ï¼ˆè½¯ä»¶æ—‹è½¬é™ä½Žæ•ˆçŽ‡ï¼‰ï¼Œæ•…æœ‰æ¨ªç«–ç‰ˆä¸¤ç§å›ºä»¶ï¼› å¦‚ä½•ç¡®è®¤æ‘„åƒå¤´å¯¹åº”çš„å›ºä»¶ï¼šï¼ˆé€šè¿‡æ‘„åƒå¤´ä¸å°åŒºåˆ†ï¼‰ æ¨ªæ¿ ç«–ç‰ˆ ![](./../assets/mf_module/mf1/mf_dual_camera_1.jpg) ![](./../assets/mf_module/mf1/mf_dual_camera_2.png) "},"/hardware/zh/maixface/mf_ml_module/mf0_ml_module.html":{"title":"MF0 æœºå™¨å­¦ä¹ æ ¸å¿ƒæ¨¡ç»„","content":"# MF0 æœºå™¨å­¦ä¹ æ ¸å¿ƒæ¨¡ç»„ ## è½¯ç¡¬ä»¶æ¦‚è¿° MF0 äººè„¸è¯†åˆ«æ¨¡å—å¤–è§‚ä¸€è§ˆ <table border \"3\"> <tr> <th colspan 3>MF0</th> </tr> <tr> <td width \"100\">æè¿°</td> <td>æ­£é¢è§†å›¾</td> <td>èƒŒé¢è§†å›¾</td> </tr> <tr> <td width \"100\">MF0</td> <td> <img src \"./../assets/mf_module/mf0_mf0dock/mf0_pin_map.png\" width \"600\" alt \"MF0 æ­£é¢\"> Pin Map</br> </td> <td> <img src \"./../assets/mf_module/mf0_mf0dock/mf0_buttom.png\" width \"600\" alt \"MF0 èƒŒé¢è§†å›¾\"> </td> </tr> <tr> <td>MF0 Dock</td> <td> <! <img src \"../assets/mf_module/mf1_bottom_v2(nand).png\" width \"600\" alt \"MF1(NAND Flash) èƒŒé¢è§†å›¾\"> > </td> <td> </td> </tr> </table> ### æ¨¡å—ç‰¹æ€§ï¼š CPU ï¼šRISC V 64bit åŒæ ¸å¤„ç†å™¨, 400Mhz æ ‡å‡†é¢‘çŽ‡ï¼ˆå¯è¶…é¢‘ï¼‰ å›¾åƒè¯†åˆ«ï¼šQVGA@60FPS/VGA@30FPS æ·±åº¦å­¦ä¹ æ¡†æž¶ï¼šTensorFlow/Keras/Darknet å¤–è®¾ï¼šFPIOAã€UARTã€GPIOã€SPIã€IÂ²Cã€IÂ²Sã€WDTã€TIMERã€etc 2.54mm é—´è· DIP/SMT ç„Šç›˜ èƒ½è¿žæŽ¥åˆ°é¢åŒ…æ¿ æ¿è½½æ‘„åƒå¤´è¿žæŽ¥å™¨ ROMï¼š4MByte RAMï¼š6MByte ï¼ˆé€šç”¨ï¼‰ + 2MByte ï¼ˆ KPU ä¸“ç”¨ï¼‰ ### ç¡¬ä»¶ pin No. æè¿° 24 ç”¨æˆ· IO24 25 ç”¨æˆ· IO25 26 ç”¨æˆ· IO26ï¼ŒMF0_Dock(LCD_RST) 27 ç”¨æˆ· IO27ï¼ŒMF0_Dock(LCD_CLK) 28 ç”¨æˆ· IO28ï¼ŒMF0_Dock(LCD_DC) 29 ç”¨æˆ· IO29ï¼ŒMF0_Dock(LCD_SDA) BOOT ä¸Šç”µ boot æ¨¡å¼é€‰æ‹©ï¼ˆç”¨æˆ· IO16ï¼Œä¸å»ºè®®ç”¨æˆ·ä½¿ç”¨ï¼‰ IO5 ç”¨æˆ· IO5ï¼ˆISP_TXï¼‰ IO4 ç”¨æˆ· IO4ï¼ˆISP_RXï¼‰ EN MF0 ç”µæºä½¿èƒ½å¼•è„š, é»˜è®¤é«˜ç”µå¹³ä½¿èƒ½ RST K210 å¤ä½å¼•è„š VIN å¤–éƒ¨ä¾›ç”µç”µæº 3.4 5.9Vï¼ˆæŽ¨è 5.0Vï¼‰ GND å¤–éƒ¨ä¾›ç”µç”µæºåœ° 3V3 æ¨¡å—ç”µæº 3.3V è¾“å‡º ## åè®® ä¸²å£åè®®ï¼š MFO é»˜è®¤çƒ§å½• HEX åè®®å›ºä»¶ MF0 æœ‰ä¸¤ç§åè®®å›ºä»¶ï¼Œæ–¹ä¾¿ç”¨æˆ·æ ¹æ®å…·ä½“éœ€æ±‚ä½¿ç”¨ HEX æ ¼å¼ä¸²å£åè®®å›ºä»¶ JSON æ ¼å¼ä¸²å£åè®®å›ºä»¶ HEX ä¾‹ç¨‹ ### ä¸²å£åè®®åŠ©æ‰‹ ## æ›´æ–° MF0 å›ºä»¶ MF0 ç¡¬ä»¶è¿žæŽ¥ï¼š No. USB è½¬ä¸²å£æ¨¡å— MF0 IO å¤‡æ³¨ 1 5V VIN 2 GND GND 3 TX IO4 4 RX IO5 5 DTR BOOT 6 RTS RST ![](./../assets/mf_module/mf0_mf0dock/mf0_flash.png) MF0 Dock ç¡¬ä»¶è¿žæŽ¥ï¼š æ ¹æ®ä¸‹è¡¨è¿žæŽ¥ä¹‹åŽï¼Œä½¿ç”¨ kflash_gui ä¸‹è½½æ—¶ï¼Œéœ€è¦æŒ‰ä¸‹ boot å’Œ rst æŒ‰é”®ï¼Œå¹¶å…ˆæ¾å¼€ rst å†æ¾å¼€ boot æŒ‰é”®ï¼Œç¡®ä¿ K210 è¿›å…¥ä¸‹è½½æ¨¡å¼ï¼ˆISP æ¨¡å¼ï¼‰ No. USB è½¬ä¸²å£æ¨¡å— MF0 Dock IO å¤‡æ³¨ 1 5V VIN 2 GND GND 3 TX IO4 4 RX IO5 ![](./../zh/maixface/assets/mf_module/mf0_mf0dock/mf0_dock_flash.png) ç„¶åŽä½¿ç”¨ kflash_gui ä¸‹è½½ MF0 å›ºä»¶ ![](./../zh/maixface/assets/mf_module/mf0_mf0dock/mf0_upgrade_firmwave.png)"},"/hardware/zh/maixface/mf_ml_module/mf1_ml_module.html":{"title":"MF äººè„¸è¯†åˆ«æ¨¡å— MF1","content":"# MF äººè„¸è¯†åˆ«æ¨¡å— MF1 ## **ä¿®æ”¹è®°å½•** ç‰ˆæœ¬æ—¶é—´ä¿®æ”¹å†…å®¹ 1.02019.07.30åˆå§‹ç‰ˆæœ¬ 1.22020.08.1 ## ç›®å½• [MF äººè„¸è¯†åˆ«æ¨¡å— MF1](#mf äººè„¸è¯†åˆ«æ¨¡å— mf1) [**ä¿®æ”¹è®°å½•**](#ä¿®æ”¹è®°å½•) [ç›®å½•](#ç›®å½•) [**ç¡¬ä»¶èµ„æºç®€ä»‹**](#ç¡¬ä»¶èµ„æºç®€ä»‹) [**åŠŸèƒ½ç®€ä»‹**](#åŠŸèƒ½ç®€ä»‹) <! [å¾®ä¿¡å°ç¨‹åºæ¨¡å—](#å¾®ä¿¡å°ç¨‹åºæ¨¡å—) > <! [äºŒæ¬¡å¼€å‘](#äºŒæ¬¡å¼€å‘) > <! [**Q&A**](#qa) > ## **ç¡¬ä»¶èµ„æºç®€ä»‹** <center class \"half\"> <img src \"./../assests/front.png\" width 50% /><img src \"assests/bottom.jpg\" width 50% /> </center> * CPU : **RISC V** åŒæ ¸ 64bitã€å†…ç½®FPUã€é¢‘çŽ‡ 400Mhz 500Mhz * å›¾åƒè¯†åˆ«ï¼šæ´»ä½“è¯†åˆ« * åŒæ‘„åƒå¤´ï¼šçº¢å¤–ï¼ˆIRï¼‰+å¯è§å…‰ï¼ˆVISï¼‰ * çº¢å¤–å¡«å……å…‰ï¼š3W çº¢å¤–å‘å…‰äºŒæžç®¡ * æ˜¾ç¤ºå™¨ï¼š1.33 è‹±å¯¸ IPSã€åˆ†è¾¨çŽ‡ 240*320æ˜¾ç¤ºå± * å…¶ä»–å¤–è®¾ï¼šç”µå®¹è§¦æ‘¸æŒ‰é’®/æ”¯æŒ 3W æ‰¬å£°å™¨/MEMS éº¦å…‹é£Ž/SD NAND/RGB LED * æ— çº¿åŠŸèƒ½(å¯é€‰) : æ”¯æŒ 2.4G 802.11.b/g/nã€SPI è¿žæŽ¥ * [æ·˜å®è´­ä¹°](https://item.taobao.com/item.htm?spm a1z10.1 c.w4004 21231188695.25.27ba52b1bsusf7&id 599138281058) <div STYLE \"page break after: always;\"></div> ## **åŠŸèƒ½ç®€ä»‹** ![MF1 å¼•è„šå›¾](./../assets/mf_module/mf1/mf1_pin_map.png)"},"/hardware/zh/maixface/mfst40/mfst40.html":{"title":"MF-ST40 äººè„¸è¯†åˆ«æ¨¡å—","content":" title: MF ST40 äººè„¸è¯†åˆ«æ¨¡å— keywords: M1s DOCK ,BL808, M1s update: date: 2022 11 07 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™ > æœ¬äº§å“ä¸å¯¹ä¸ªäººæŠ€æœ¯æ”¯æŒï¼Œä¸ªäººéœ€æ±‚è¯·è´­ä¹° [M1s æ¨¡ç»„](./../../maix/m1s/m1s_module.html) ## äº§å“æ¦‚è¿° MF ST40 äººè„¸è¯†åˆ«æ¨¡ç»„åŸºäºŽåšæµ BL808 èŠ¯ç‰‡è®¾è®¡ï¼Œæ¨¡ç»„å†…éƒ¨é¢„ç•™äº† WIFI åŠŸèƒ½ã€ SPI å±å¹•æŽ¥å£ã€å¤šè·¯ UART æŽ¥å£å’Œ RTC ç”µè·¯ï¼Œè¾ƒå¤§åœ°æé«˜äº†ç”¨æˆ·æ•´æœºäº§å“çš„é›†æˆåº¦ã€‚ è´­ä¹°é“¾æŽ¥ï¼š[æ·˜å®](https://item.taobao.com/item.htm?id 690754113762) äº§å“å›¾ç‰‡ï¼š <table> <tr> <th align \"center\">æ¨¡ç»„å›¾ç‰‡</th> <th align \"center\">æ¼”ç¤ºæœºå›¾ç‰‡</th> </tr> <tr> <td> <table> <tr> <td align \"center\">æ­£é¢å›¾</td> <td align \"center\">èƒŒéƒ¨å›¾</td> </tr> <tr> <td><img alt \"product_top\" src \"./assets/product_top.jpg\"></td> <td><img alt \"product_bottom\" src \"./assets/product_bottom.jpg\"></td> </tr> </table> </td> <td> <table> <tr> <td align \"center\">æ­£é¢å›¾</td> <td align \"center\">èƒŒéƒ¨å›¾</td> </tr> <tr> <td><img alt \"product_top_screen\" src \"./assets/product_top_screen.jpg\"></td> <td><img alt \"product_bottom_screen\" src \"./assets/product_bottom_screen.jpg\"></td> </tr> </table> </td> </tr> <table> ## å…³é”®ç‰¹æ€§ ä¸»å¤„ç†å™¨ï¼šåšæµ 808 åŒæ ¸ AI èŠ¯ç‰‡ æ ¸å¿ƒç®—æ³•ï¼šæ´»ä½“äººè„¸è¯†åˆ« è¯†åˆ«è·ç¦»ï¼š0.35 0.9m è¯†åˆ«é€Ÿåº¦ï¼šä¸Šç”µåˆ°è§£é” 1.0 ç§’å†… è¯†åˆ«è§’åº¦ï¼šH50Â° V70Â° è¯†åˆ«çŽ¯å¢ƒï¼šæ— çŽ¯å¢ƒå…‰ä¹Ÿå¯ä»¥è¯†åˆ« åŠŸè€—ï¼šå•æ¬¡è§£é” 0.36mWh å…¼å®¹ä¸»æµé”å­”ã€å¯é€‰ç”µå­çŒ«çœ¼ã€å¯é€‰éŸ³è§†é¢‘å¯¹è®² åº”ç”¨ï¼šé—¨é”ã€è€ƒå‹¤æœºã€å…¶ä»–äººè„¸è¯†åˆ«ç»ˆç«¯äº§å“ ## ç›¸å…³èµ„æ–™ è¯¦ç»†è¯´æ˜Žè¯·æŸ¥é˜…ä¸‹æ–¹çš„ [è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/MaixFace/MF SF40/1_Specification) [è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/MaixFace/MF SF40/1_Specification) [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/MaixFace/MF SF40/2_Schematic) [ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/MaixFace/MF SF40/3_Bit_number_map) [å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/MaixFace/MF SF40/4_Dimensional_drawing) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/MaixFace/MF SF40/5_3D_file) [èŠ¯ç‰‡æ‰‹å†Œ](https://dl.sipeed.com/shareURL/MaixFace/MF SF40/6_Chip_Manual) ## æ³¨æ„äº‹é¡¹ <table> <tr> <th>é¡¹ç›®</th> <th>æ³¨æ„äº‹é¡¹</th> </tr> <tr> <td>é™ç”µé˜²æŠ¤</td> <td>è¯·é¿å…é™ç”µæ‰“åˆ° PCBA ä¸Šï¼›æŽ¥è§¦ PCBA ä¹‹å‰è¯·æŠŠæ‰‹çš„é™ç”µé‡Šæ”¾æŽ‰</td> </tr> <tr> <td>å®¹å¿ç”µåŽ‹</td> <td> æ¯ä¸ª GPIO çš„å·¥ä½œç”µåŽ‹å·²ç»åœ¨åŽŸç†å›¾ä¸­æ ‡æ³¨å‡ºæ¥ï¼Œè¯·ä¸è¦è®© GPIO çš„å®žé™…å·¥ä½œçš„ç”µåŽ‹è¶…è¿‡é¢å®šå€¼ï¼Œå¦åˆ™ä¼šå¼•èµ· PCBA çš„æ°¸ä¹…æ€§æŸå </td> </tr> <tr> <td>FPC åº§å­</td> <td>åœ¨è¿žæŽ¥ FPC è½¯æŽ’çº¿çš„æ—¶å€™ï¼Œè°²ç¡®ä¿æŽ’çº¿æ— åä¾ˆåœ°å®Œæ•´åœ°æ’å…¥åˆ°æŽ’çº¿ä¸­</td> </tr> <tr> <td>æ’æ‹”</td> <td>è¯·å®Œå…¨æ–­ç”µåŽæ‰è¿›è¡Œæ’æ‹”æ“ä½œ</td> </tr> <tr> <td>é¿å…çŸ­è·¯</td> <td>è¯·åœ¨ä¸Šç”µè¿‡ç¨‹ä¸­ï¼Œé¿å…ä»»ä½•æ¶²ä½“å’Œé‡‘å±žè§¦ç¢°åˆ° PCBA ä¸Šçš„å…ƒä»¶çš„ç„Šç›˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´è·¯ï¼Œçƒ§æ¯ PCBA</td> </tr> </table> ## æŠ€æœ¯æ”¯æŒ MF ST40 ä¸ºå•†ä¸šåˆä½œäº§å“ï¼Œä¸å¯¹ä¸ªäººç”¨æˆ·è¿›è¡ŒæŠ€æœ¯æ”¯æŒï¼Œä¸ªäººç”¨æˆ·å»ºè®®ä½¿ç”¨ [M1s æ¨¡ç»„](./../../maix/m1s/m1s_module.html)ã€‚ è”ç³»é‚®ç®±: `support@sipeed.com`"},"/hardware/zh/maix/m1s/m1s_dock.html":{"title":"M1s DOCK å¼€å‘æ¿","content":" title: M1s DOCK å¼€å‘æ¿ keywords: M1s DOCK ,BL808, M1s, bl808 update: date: 2022 11 09 version: v0.2 author: wonder content: ä¿®æ”¹éƒ¨åˆ†æè¿°é”™è¯¯ å¢žåŠ  SDK(github) å’Œ Example(github) é“¾æŽ¥ å¢žåŠ æ³¨æ„äº‹é¡¹ å¢žåŠ è½¯ä»¶æè¿°æ ç›® date: 2022 11 04 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™ ## äº§å“æ¦‚è¿° Sipeed M1s Dock æ˜¯åŸºäºŽ [Sipeed M1s](./m1s_module.html) æ¨¡ç»„æ¥è®¾è®¡çš„ä¸€æ¬¾æ ¸å¿ƒæ¿ï¼Œå¼•å‡ºäº† MIPI CSIã€SPI LCD ç­‰ FPC æŽ¥å£ï¼Œå…åŽ»æŽ¥çº¿éš¾çš„çƒ¦æ¼ã€‚ä½¿ç”¨æœ€ç²¾ç®€çš„è®¾è®¡ï¼Œç”¨äºŽå®¢æˆ·å¯¹æ¨¡ç»„è¿›è¡Œæ¨¡ç»„è¯„ä¼°ï¼Œæˆ–è€…çˆ±å¥½è€…ç›´æŽ¥ä¸Šæ‰‹æ¸¸çŽ©ç­‰ç”¨é€”ã€‚ è´­ä¹°é“¾æŽ¥ï¼š[æ·˜å®](https://item.taobao.com/item.htm?id 691108452443) <td><img alt \"m1s_dock.jpg\" src \"./assets/m1s_dock/m1s_dock.jpg\" width \"45%\"></td> ## å®£ä¼ è§†é¢‘ M1s Dock å’Œ M0Sense æ€»è§ˆï¼š3:15 ä¹‹å‰çš„éƒ½æ˜¯ M1s Dockã€‚ <iframe src \"//player.bilibili.com/player.html?aid 559937139&bvid BV1De4y117sP&cid 887814913&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## æ¿å¡ç‰¹ç‚¹ ä¸»èŠ¯ç‰‡ BL808 RISC V 480Mhz + NPU BLAI 100 æ¿è½½ USB è½¬ UART è°ƒè¯•å™¨ï¼ˆå¯å®žçŽ°ä¸€é”®ç‚¹å‡»çƒ§å½•ï¼Œæ— éœ€æŒ‰å®žä½“æŒ‰é”®ï¼‰ æ¿è½½æ˜¾ç¤ºå±åº§å­ï¼ˆå¯é€‰é… 1.69 å¯¸ 240x280 ç”µå®¹è§¦æ‘¸å±ï¼‰ æ¿è½½ MIPI æ‘„åƒå¤´åº§å­ï¼ˆå¯é€‰é… 200W åƒç´ æ‘„åƒå¤´ï¼‰ æ”¯æŒ 2.4G WIFI / BT / BLE æ¿è½½ 1 ä¸ªæ¨¡æ‹Ÿéº¦å…‹é£Žã€1 ä¸ª LEDã€1 ä¸ª TF å¡åº§ å¼•å‡ºä¸€è·¯ USB OTG åˆ° USB Type C æŽ¥å£ ### ç¡¬ä»¶å‚æ•° <table> <thead> <tr> <th colspan \"2\" > M1s Dock </th> </tr> </thead> <tbody> <tr> <td rowspan \"8\" style \"white space:nowrap\">M1s æ¨¡ç»„</td> </tr> <tr> <td>ä¸‰æ ¸å¼‚æž„RISC V CPUsï¼š<br>Â· RV64GCV 480MHz <br>Â· RV32GCP 320MHz <br>Â· RV32EMC 160MHz</td> </tr> <tr> <td>AI NN é€šç”¨ç¡¬ä»¶åŠ é€Ÿå™¨ â€”â€” BLAI 100 ç”¨äºŽè§†é¢‘/éŸ³é¢‘æ£€æµ‹/è¯†åˆ«</td> </tr> <tr> <td>å†…ç½® 768KB SRAM + 64MB UHS PSRAM</td> </tr> <tr> <td>ç¼–è§£ç ï¼š<br> MJPEG and H264(Baseline/Main)<br> 1920x1080@30fps + 640x480@30fps </td> </tr> <tr> <td>æŽ¥å£ï¼š<br> æ‘„åƒå¤´æŽ¥å£ ï¼šDVP å’Œ MIPI CSI<br> æ˜¾ç¤ºæŽ¥å£ï¼šSPIã€DBIã€DPI(RGB)</td> </tr> <tr> <td>æ— çº¿ï¼š<br> æ”¯æŒ Wi Fi 802.11 b/g/n<br> æ”¯æŒ Bluetooth 5.x Dual mode(BT+BLE)<br> æ”¯æŒ Wi Fi / è“ç‰™ å…±å­˜</td> </tr> <tr> <td>USB 2.0 HS OTG ï¼ˆå¼•å‡ºåˆ° USB Type C æŽ¥å£ï¼‰</td> </tr> <tr> <td rowspan \"5\" style \"white space:nowrap\"> æ¿è½½éƒ¨ä»¶ </td> </tr> <tr> <td>æ¿è½½ USB è½¬ UART è°ƒè¯•å™¨ï¼ˆä½¿ç”¨å®˜æ–¹ä¸‹è½½å·¥å…·å¯å®žçŽ°ä¸€é”®ç‚¹å‡»çƒ§å½•ï¼Œæ— éœ€æŒ‰å®žä½“æŒ‰é”®ï¼‰</td> </tr> <tr> <td>æ¿è½½ 1 ä¸ªæ˜¾ç¤ºå±åº§å­ï¼ˆå¯é€‰é… 1.69 å¯¸ 240 x 280 ç”µå®¹è§¦æ‘¸å±ï¼‰</td> </tr> <tr> <td>æ¿è½½ MIPI æ‘„åƒå¤´åº§å­ï¼ˆå¯é€‰é… 200W åƒç´ æ‘„åƒå¤´ï¼‰</td> </tr> <tr> <td>æ¿è½½ 1 ä¸ªæ¨¡æ‹Ÿéº¦å…‹é£Žã€1 ä¸ª LEDã€1 ä¸ª TF å¡åº§ </td> </tr> <tr> <td rowspan \"5\" style \"white space:nowrap\"> å…¶ä»–è¯´æ˜Ž </td> </tr> <tr> <td> 3D æ¨¡åž‹æ–‡ä»¶ä¸‹è½½ï¼š<a href \"https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/5_3D_file\">ç‚¹å‡»è·³è½¬</a> </td> </tr> <tr> <td>å¤–éƒ¨ä¾›ç”µéœ€æ±‚ TYPE C æŽ¥å£ï¼š5VÂ±10% 0.5A</td> </tr> <tr> <td>æ¸©å‡: &lt;30K</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦èŒƒå›´: 10â„ƒ ~ 65â„ƒ</td> </tr> </tbody> </table> ### ä¸»æŽ§æ ¸å¿ƒ ä¸‰æ ¸å¼‚æž„ M0ï¼ŒD0ï¼ŒLPã€‚ M0 D0 LP å¹³å¤´å“¥ [E907](https://occ.t head.cn/product?id 3900588052540035072)@320MHz å¹³å¤´å“¥ [C906](https://occ.t head.cn/product?id 3817197695983423488)@480MHz å¹³å¤´å“¥ [E902](https://occ.t head.cn/product?id 3806460569050419200)@160MHz ### å¤–è®¾æ¡†å›¾ <img alt \"m1s_dock_function_block_top\" src \"./assets/m1s_dock/m1s_dock_function_block_top.jpg\" width 20%> <img alt \"m1s_dock_function_block_top\" src \"./assets/m1s_dock/m1s_dock_function_block_top.jpg\" width 20%> ### å°ºå¯¸å›¾ <img alt \"m1s_dock_size\" src \"./assets/m1s_dock/m1s_dock_size.png\" width 45%> ### å¼•è„šå›¾ <img alt \"m1s_doc_pin_map\" src \"./assets/m1s_dock/m1s_doc_pin_map.png\" width 45%> ## äº§å“å¯¹æ¯” é¡¹ç›® Maix Bit ESP32 cam M1s Dock : : : : å¤„ç†å™¨ K210 ESP32 M1s(BL808) æ‘„åƒå¤´ 0.3MP DVP GC0328 2MP DVP OV2640 with flash LED 2MP MIPI OV2685(two side) with flash LED æ˜¾ç¤ºå± 2.4 inch 320x240 1.68 inch 280x240 å¸¦ç”µå®¹è§¦æ‘¸ éŸ³é¢‘ I2S MEMS MIC Analog MEMS MIC + LineOut SD å¡æ§½ SPI æ¨¡å¼ SPI æ¨¡å¼ Â· SDHC æ¨¡å¼ <br>Â· JTAG æ¨¡å¼ æŒ‰é”® Reset <br> Boot Reset Â· Reset <br>Â· Boot <br>Â· User x 2 USB USB to Serial x 1 Â· USB to Dual Serial x 1 <br>Â· USB OTG HS å…¶ä»– 4P x 1.25mm è¿žæŽ¥å™¨ï¼ˆä¸²å£ï¼‰ å¼•è„š 2 x 18 pins,å¯ç”¨äºŽé¢åŒ…æ¿ 2 x 8 pins 2 x 16 pins,å¯ç”¨äºŽé¢åŒ…æ¿ JTAG å¯é€‰ TF2JTAG å¤–å£³ å¯é€‰ å°ºå¯¸ 25 x 53 mm 27 x 41 mm 27 x 55 mm ## è½¯ä»¶æè¿° <table> <thead> <tr> <th colspan \"2\" > M1s Dock </th> </tr> </thead> <tbody> <tr> <td>OS</td> <td>Â· å®Œå¤‡æ”¯æŒ FreeRTOS<br>Â· åŸºç¡€æ”¯æŒ Linux</td> </tr> <tr> <td>å¼€å‘æ–¹å¼</td> <td>Â· åŽŸç”Ÿ C SDK<br>Â· MaixHAL C æ¨¡å—<br>Â· PikaPython </td> </tr> <tr> <td>å›ºä»¶ä¸‹è½½</td> <td>Â· ä¸²å£ä¸‹è½½<br>Â· è™šæ‹Ÿç£ç›˜æ‹–æ‹½å¼æ›´æ–°</td> </tr> <tr> <td>AI æŽ¨ç†æ¡†æž¶</td> <td>Â· æ”¯æŒåŽŸç”Ÿ SDK çš„ BLAI åŠ é€ŸæŽ¨ç†å¼•æ“Ž<br>Â· æ”¯æŒé€šç”¨ TinyMaix æŽ¨ç†å¼•æ“Ž</td> </tr> <tr> <td>AI æ¨¡åž‹ä¸‹è½½</td> <td>Â· <a href \"https://maixhub.com/\">MaixHub</a> ä¸‹è½½ã€‚æ”¯æŒ äººè„¸æ£€æµ‹ï¼Œè¯†åˆ«ï¼Œå§¿æ€æ£€æµ‹ï¼Œæ‰‹åŠ¿æ£€æµ‹ ç­‰</td> </tr> <tr> <td>Sipeed å‚è€ƒç¤ºä¾‹</td> <td>Â· https://gitee.com/sipeed/M1s_BL808_example</td> </tr> </tbody> </table> ## æ”¯æŒç®—å­åˆ—è¡¨ <table> <thead> <tr> <th>Type</th> <th>Operators</th> <th>Applicable Subset Spec.</th> <th>Processor</th> </tr> </thead> <tbody> <tr> <td rowspan \"10\">Convolution</td> <td rowspan \"4\">Conv </td> <td>Kernel: 1x1,3x3,5x5,7x7</td> <td rowspan \"4\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td>Dilation: 1x1, 2x2</td> </tr> <tr> <td>Pad: same</td> </tr> <tr> <td rowspan \"4\">Depthwise Conv</td> <td>Kernel: 1x1,3x3 (5x5, 7x7 TBD)</td> <td rowspan \"4\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td>Dilation: 1x1 (2x2 TBD)</td> </tr> <tr> <td>Pad: same</td> </tr> <tr> <td rowspan \"2\">Transpose Conv</td> <td>Kernel: 3x3</td> <td rowspan \"2\">strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 2x2</td> </tr> <tr> <td rowspan \"4\">Pooling</td> <td rowspan \"2\">MaxPool (NPU TBD)</td> <td>Kerenl: 2x2</td> <td rowspan \"2\">DSP</td> </tr> <tr> <td>Stride: 2x2</td> </tr> <tr> <td rowspan \"2\">MaxPool</td> <td>Kerenl: 3x3</td> <td rowspan \"2\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td rowspan \"2\">Activation</td> <td>Relu</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Relu 6</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td rowspan \"5\">Other processing</td> <td>BatchNormalization</td> <td>fused with conv</td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Add (shortcut)</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Concat (route)</td> <td>Channel wise (AXIS 3 in BHWC)</td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Fully Connected</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Upsample</td> <td>Nearest</td> <td>:strong:<code>NPU</code></td> </tr> </tbody> </table> ## è¡¥å……èµ„æ–™ [æ¿å¡è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/1_Specification) [æ¿å¡åŽŸç†å›¾](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/2_Schematic) [æ¿å¡ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/3_Bit_number_map) [æ¿å¡å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/4_Dimensional_drawing) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/MAIX/M1s_Dock/M1s/5_3D_file) [æ¿å¡èŠ¯ç‰‡æ•°æ®æ‰‹å†Œ](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/6_Chip_Manual) [è§¦æ‘¸å±æ‰‹å†Œ](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/6_Chip_Manual/touch_screen) [åšæµå®˜æ–¹æ–‡æ¡£](https://dev.bouffalolab.com/home/) [BL808 æ•°æ®æ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL808_DS/zh_CN) (gitee) [BL808 å‚è€ƒæ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL808_RM/zh_CN) (gitee) [Sipeed SDK](https://gitee.com/sipeed/M1s_BL808_SDK) (gitee) [Sipeed Examples](https://gitee.com/sipeed/M1s_BL808_example)ï¼ˆgiteeï¼‰ [Bouffalolab SDK](https://github.com/bouffalolab/bouffalo_sdk)ï¼ˆGithubï¼‰ [Linux SDK](https://github.com/sipeed/M1s_BL808_Linux_SDK)ï¼ˆGithubï¼‰ äº¤æµ QQ ç¾¤ï¼š`592731168` ã€‚[ç‚¹æˆ‘åŠ ç¾¤](https://jq.qq.com/?_wv 1027&k uyKNhTeu) è®ºå›ï¼š[bbs.sipeed.com](https://bbs.sipeed.com/) [åœ¨çº¿æ¨¡åž‹å¹³å°](https://maixhub.com/) ## æ³¨æ„äº‹é¡¹ <table> <tr> <th>é¡¹ç›®</th> <th>æ³¨æ„äº‹é¡¹</th> </tr> <tr> <td>é™ç”µé˜²æŠ¤</td> <td>è¯·é¿å…é™ç”µæ‰“åˆ° PCBA ä¸Šï¼›æŽ¥è§¦ PCBA ä¹‹å‰è¯·æŠŠæ‰‹çš„é™ç”µé‡Šæ”¾æŽ‰</td> </tr> <tr> <td>å®¹å¿ç”µåŽ‹</td> <td> æ¯ä¸ª GPIO çš„å·¥ä½œç”µåŽ‹å·²ç»åœ¨åŽŸç†å›¾ä¸­æ ‡æ³¨å‡ºæ¥ï¼Œè¯·ä¸è¦è®© GPIO çš„å®žé™…å·¥ä½œçš„ç”µåŽ‹è¶…è¿‡é¢å®šå€¼ï¼Œå¦åˆ™ä¼šå¼•èµ· PCBA çš„æ°¸ä¹…æ€§æŸå </td> </tr> <tr> <td>FPC åº§å­</td> <td>åœ¨è¿žæŽ¥ FPC è½¯æŽ’çº¿çš„æ—¶å€™ï¼Œè°²ç¡®ä¿æŽ’çº¿æ— åä¾ˆåœ°å®Œæ•´åœ°æ’å…¥åˆ°æŽ’çº¿ä¸­</td> </tr> <tr> <td>æ’æ‹”</td> <td>è¯·å®Œå…¨æ–­ç”µåŽæ‰è¿›è¡Œæ’æ‹”æ“ä½œ</td> </tr> <tr> <td>é¿å…çŸ­è·¯</td> <td>è¯·åœ¨ä¸Šç”µè¿‡ç¨‹ä¸­ï¼Œé¿å…ä»»ä½•æ¶²ä½“å’Œé‡‘å±žè§¦ç¢°åˆ° PCBA ä¸Šçš„å…ƒä»¶çš„ç„Šç›˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´è·¯ï¼Œçƒ§æ¯ PCBA</td> </tr> </table> ## è”ç³» Sipeed M1s Dock å¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼ŒæŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œè¯·è”ç³»ä½¿ç”¨é‚®ç®± [support@sipeed.com](support@sipeed.com)"},"/hardware/zh/maix/m1s/other/others.html":{"title":"M1s DOCK å®‰è£…å¤–å£³","content":" title: M1s DOCK å®‰è£…å¤–å£³ keywords: M1s DOCK ,BL808, M1s update: date: 2022 11 22 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ è¿™é‡Œè¯´æ˜Žä¸€ä¸‹æ‘„åƒå¤´å’Œå±å¹•çš„æ‹†è£…æ–¹æ³•ï¼Œå¹¶è¡¥å……ä¸‹å¤–å£³çš„å®‰è£…æ–¹æ³•ã€‚ ## æ‹†å¸å±å¹• é»˜è®¤å‘è´§çš„æ¿å¡çš„æ‘„åƒå¤´å’Œå±å¹•æ˜¯åŒä¸€æ–¹å‘çš„ï¼Œæœ‰æ—¶å€™å› ä¸ºä¸€äº›åŽŸå› æ¯”å¦‚è°ƒæ•´æ‘„åƒå¤´æ–¹å‘éœ€è¦æ‹†å¸å±å¹•ï¼Œè¿™é‡Œå†™ä¸€ä¸‹æ³¨æ„äº‹é¡¹ã€‚ å±å¹•ä¸Žæ‘„åƒå¤´åŒå‘ æ‘„åƒå¤´æ”¾åœ¨èƒŒéƒ¨ ![screen_camera_same](./assets/others/screen_camera_same.jpg) ![camera_in_back](./assets/others/camera_in_back.jpg) å±å¹•ä¸Žæ¿å¡æ˜¯é€šè¿‡æ³¡æ²«èƒ¶ç²˜åœ¨ä¸€èµ·çš„ï¼Œå› æ­¤æ‹†å¸å±å¹•çš„æ—¶å€™éœ€è¦æ’•å¼€æ³¡æ²«èƒ¶ã€‚è¿™æ—¶éœ€è¦æ³¨æ„åº”è¯¥å¯¹å±å¹•èƒŒæ¿çš„é‡‘å±žå±‚ç”¨åŠ›ï¼Œè€Œä¸æ˜¯æ‰£å±å¹•è¾¹ç¼˜ã€‚ <table> <tr> <td><img alt \"sponge_glue_strip\" src \"./assets/others/sponge_glue_strip.jpg\" width \"150%\"></td> <td><img alt \"sponge_glue_strip_top\" src \"./assets/others/sponge_glue_strip_top.jpg\" width \"150%\"></td> <td>æ—è¾¹ä¸¤å¼ å›¾å¯ä»¥çœ‹åˆ°<br>å±å¹•ä¸Žæ¿å­æ˜¯é€šè¿‡æ³¡æ²«èƒ¶ç²˜åœ¨ä¸€èµ·çš„</td> </tr> </table> <table> <tr> <td><img alt \"screen_back_plane\" src \"./assets/others/screen_back_plane.png\" width \"150%\"></td> <td>ä¸­é—´ä¸ºå±å¹•èƒŒæ¿é‡‘å±žå±‚ï¼Œ<br>æ—è¾¹çš„é»‘è‰²éƒ¨åˆ†ä¸ºå±å¹•è¾¹ç¼˜ï¼Œ<br>æ‹†å¸çš„æ—¶å€™åŽéœ€è¦å¯¹å±å¹•èƒŒæ¿é‡‘å±žå±‚ç”¨åŠ›</td> </tr> </table> <table> <tr> <td><img alt \"screen_connector\" src \"./assets/others/screen_connector.jpg\" ></td> <td>æ‰“å¼€åŽæ³¨æ„å±å¹•ä¸Žæ¿å­çš„è¿žæŽ¥æ–¹å¼å¦‚å·¦å›¾æ‰€ç¤ºï¼Œ<br>ä¸è¦è¿žæŽ¥åäº†</td> </tr> </table> ## æ›´æ¢æ‘„åƒå¤´æ–¹å‘ è¿›è¡Œå®Œå‰é¢çš„[æ‹†å¸å±å¹•](#æ‹†å¸å±å¹•)åŽï¼Œå¯ä»¥å°†æ‘„åƒå¤´è°ƒæ•´çš„å‰åŽæ–¹å‘äº†ã€‚ å”¯ä¸€è¦æ³¨æ„çš„å°±æ˜¯åœ¨è¿žæŽ¥æ‘„åƒå¤´æŽ’çº¿çš„æ—¶å€™åˆ«æŽ¥åäº†ã€‚ <table> <tr> <td><img alt \"camera_direction_connector\" src \"./assets/others/camera_direction_connector.jpg\" ></td> <td>è¿žæŽ¥çš„æ—¶å€™æ³¨æ„å°†æ‘„åƒå¤´ä¸Šçš„ 1 ä¸Žæ¿å­ä¸Šçš„ 1 å¯¹ä¸Šå°±è¡Œ</td> </tr> </table> ## å®‰è£…å¤–å£³ åœ¨è´­ä¹° M1s Dock çš„æ—¶å€™å¯ä»¥é€‰è´­å¤–å£³ï¼Œè¿™é‡Œè¡¥å……ä¸€ä¸‹ç»„è£…æ–¹æ³•ã€‚ æ‘„åƒå¤´æœ‰ä¸¤ä¸ªæ–¹å‘å¯ä»¥è‡ªè¡Œé€‰æ‹©ï¼Œä¸‹é¢ä¼šè¿›è¡Œè¯´æ˜Žã€‚ æ‹†æˆæ•£ä»¶ï¼Œé¦–å…ˆè¦è®²æ¿å­çš„å±å¹•å’Œæ‘„åƒå¤´éƒ½æ‹†ä¸‹æ¥ï¼Œå¹¶ä¸”æŠŠå¤–å£³æ‰“å¼€ã€‚å‚è€ƒä¸‹å›¾æŽ’å¸ƒæ–¹å¼ã€‚ ![parts](./assets/others/parts.jpg) æ‘„åƒå¤´æœ‰å‰åŽä¸¤ç§ç»„è£…æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯æ‘„åƒå¤´æ‹æ‘„æ–¹å‘ä¸Žå±å¹•ç›¸åŒå’Œæ‹æ‘„æ–¹å‘ä¸Žå±å¹•ç›¸åã€‚ ### å±å¹•ä¸Žæ‘„åƒå¤´æ–¹å‘ç›¸åŒ <table> <tr> <td><img alt \"insert_camera_front_1\" src \"./assets/others/insert_camera_front_1.jpg\" ></td> <td><img alt \"insert_camera_front_2\" src \"./assets/others/insert_camera_front_2.jpg\" ></td> <td>é¦–å…ˆå°†æ‘„åƒå¤´åµŒå…¥åœ¨å¤–å£³é‡Œé¢ï¼Œæ­£å¸¸ç»„è£…ä¸Šä¹‹åŽæ‘„åƒå¤´ä¼šè¢«è½»å¾®å›ºå®šåœ¨å¤–å£³ä¸Šï¼Œç¡®ä¿å®‰è£…çš„æ—¶å€™æ— åç§»ï¼Œæ‘„åƒå¤´å±…ä¸­ã€‚</td> </tr> </table><br> <table> <tr> <td><img alt \"insert_screen_side_1.jpg\" src \"./assets/others/insert_screen_side_1.jpg\" ></td> <td><img alt \"insert_screen_side_2.jpg\" src \"./assets/others/insert_screen_side_2.jpg\" ></td> <td>æ¿å­ä¸Žå±å¹•è¿žæŽ¥å¥½åŽï¼Œå°†å±å¹•ç©¿è¿‡å¤–å£³</td> </tr> </table><br> <table> <tr> <td>æ—‹è½¬å¤–å£³ä½¿æ¿å­ä¸Šçš„ TF å¡æ§½<br>ä¸Žå¤–å£³ä¸Šçš„ SiPEED logo åŒæ–¹å‘</td> <td>å°†ä¸¤ä¸ª TypeC å£å¯¹å‡†å£³å­ä¸Šçš„å­”ï¼Œå‡†å¤‡å®‰è£…æ¿å­è¿›å¤–å£³</td> <td>æŒ‰åŽ‹ç®­å¤´æŒ‡å‘çš„åœ°æ–¹ï¼Œé¦–æ¬¡æŒ‰åŽ‹çš„æ—¶å€™æœ‰ä¸€ç‚¹ç´§ï¼Œæ³¨æ„å¯¹å‡† TypeC å£ã€‚å®‰è£…æ¿å­è¿›å…¥å¤–å£³</td> </tr> <tr> <td><img alt \"insert_screen_direction_1\" src \"./assets/others/insert_screen_direction_1.jpg\" ></td> <td><img alt \"insert_screen_direction_2\" src \"./assets/others/insert_screen_direction_2.jpg\" ></td> <td><img alt \"insert_screen_direction_3\" src \"./assets/others/insert_screen_direction_3.jpg\" ></td> </tr> </table><br> <table> <tr> <td><img alt \"insert_camera_interface\" src \"./assets/others/insert_camera_interface.jpg\" ></td> <td><img alt \"insert_camera_interface_1\" src \"./assets/others/insert_camera_interface_1.jpg\" ></td> <td>å°†æ‘„åƒå¤´æŽ’çº¿å¼¯æ›²ï¼Œæ³¨æ„ä¸æ˜¯æŠ˜å ï¼Œæ˜¯å¼¯æ›²ã€‚ç©¿è¿‡æ¿å­çš„é¢„ç•™å­”ï¼Œè¿žæŽ¥ä¸ŠèƒŒé¢çš„åº§å­ã€‚</td> </tr> </table><br> <table> <tr> <td>ä½¿ç”¨å£³å­ä¸Šçš„åŒé¢èƒ¶å›ºå®šå¥½å±å¹•ï¼ŒèƒŒæ¿å›ºå®šåœ¨èƒŒéƒ¨ï¼Œæ³¨æ„èƒŒæ¿çš„é¢„ç•™æ‘„åƒå¤´å­”åº”å¯¹ç€æ¨¡ç»„ã€‚</td> <td><img alt \"fix_screen\" src \"./assets/others/fix_screen.jpg\" ></td> <td><img alt \"fix_panel\" src \"./assets/others/fix_panel.jpg\" ></td> </tr> </table><br> åˆ°æ­¤å°±å·²ç»ç»„è£…å®Œæ¯•äº†ã€‚ ### å±å¹•ä¸Žæ‘„åƒå¤´æ–¹å‘ä¸åŒ <table> <tr> <td><img alt \"opposite_screen\" src \"./assets/others/opposite_screen.jpg\" ></td> <td><img alt \"opposite_cam\" src \"./assets/others/opposite_cam.jpg\" ></td> <td>é¦–å…ˆå°†æ‘„åƒå¤´å’Œå±å¹•å®‰è£…åˆ°æ¿å­ä¸Šï¼Œæ‘„åƒå¤´åº”ä¸Žæ¨¡ç»„åŒæ–¹å‘</td> </tr> </table><br> <table> <tr> <td>å°†æ¿å­ç©¿è¿‡å£³å­</td> <td>æœ€ç»ˆç»“æžœå¦‚ä¸‹</td> <td>è°ƒæ•´æ–¹å‘è®©æ¿å­çš„ TF å¡æ§½ä¸Žå£³å­ä¸Šçš„ SiPEED logo æ–¹å‘ç›¸åŒ</td> </tr> <tr> <td><img alt \"opposite_insert_screen_1\" src \"./assets/others/opposite_insert_screen_1.jpg\" ></td> <td><img alt \"opposite_insert_screen_2\" src \"./assets/others/opposite_insert_screen_2.jpg\" ></td> <td><img alt \"opposite_insert_screen_3\" src \"./assets/others/opposite_insert_screen_3.jpg\" ></td> </tr> </table><br> <table> <tr> <td>å°†ä¸¤ä¸ª TypeC å£å¯¹å‡†å£³å­ä¸Šçš„å­”ï¼Œå‡†å¤‡è‡ªè£…æ¿å­è¿›å¤–å£³</td> <td>æŒ‰åŽ‹ç®­å¤´æŒ‡å‘çš„åœ°æ–¹ï¼Œé¦–æ¬¡æŒ‰åŽ‹çš„æ—¶å€™æœ‰ä¸€ç‚¹ç´§ï¼Œæ³¨æ„å¯¹å‡† TypeC å£ã€‚å®‰è£…æ¿å­è¿›å…¥å¤–å£³</td> </tr> <tr> <td><img alt \"insert_screen_direction_2\" src \"./assets/others/insert_screen_direction_2.jpg\" ></td> <td><img alt \"insert_screen_direction_4\" src \"./assets/others/insert_screen_direction_4.jpg\" ></td> </tr> </table><br> <table> <tr> <td colspan \"3\">å°†æ‘„åƒå¤´ç©¿è¿‡å¤–å£³ï¼Œæ…¢æ…¢çš„æ»‘åŠ¨å¤–å£³æ¥åˆšå¥½å°†æ‘„åƒå¤´å›ºå®šåœ¨æ¿å­æ¨¡ç»„ä¸Š</td> </tr> <tr> <td><img alt \"opposite_fix_cam_1\" src \"./assets/others/opposite_fix_cam_1.jpg\" ></td> <td><img alt \"opposite_fix_cam_2\" src \"./assets/others/opposite_fix_cam_2.jpg\" ></td> <td><img alt \"opposite_fix_cam_3\" src \"./assets/others/opposite_fix_cam_3.jpg\" ></td> </tr> </table> å®‰è£…å¥½å±å¹•ï¼Œåˆ°è¿™é‡Œå°±å·²ç»å®Œæˆç»„è£…äº†ã€‚ ![opposite_fix_screen](./assets/others/opposite_fix_screen.jpg) ## æ‹†å¸å¤–å£³ é¦–å…ˆåœ¨å±å¹•èƒŒé¢ï¼Œä½¿ç”¨é•Šå­æˆ–å…¶ä»–å·¥å…·ç¿˜èµ·æ¥å¤–å£³ï¼Œå°†å…¶å–ä¸‹ã€‚ ![disassemble_shell](./assets/others/disassemble_shell.jpg) ä½¿ç”¨é•Šå­ï¼Œåœ¨å¤–å£³ Logo å¤„çš„å“ªä¸ªå­”å“ªé‡Œï¼ŒæŠŠæ¿å­ä»Žå¤–å£³ä¸­ç¿˜å‡ºæ¥ã€‚ <img src \"./assets/others/disassemble_hole.jpg\" alt \"disassemble_hole\" width \"45%\"> <img src \"./assets/others/disassemble_hole_1.jpg\" alt \"disassemble_hole_1\" width \"45%\"> ç„¶åŽå¯¹å±å¹•çš„èƒŒæ¿ç”¨åŠ›ï¼Œå°†å±å¹•é¡¶å‡ºå¤–å£³ ![disassemble_remove_screen](./assets/others/disassemble_remove_screen.jpg) åˆ°æ­¤æ‹†å¸å¤–å£³ç»“æŸã€‚"},"/hardware/zh/maix/m1s/other/questions.html":{"title":"M1s DOCK å¸¸è§é—®é¢˜","content":" title: M1s DOCK å¸¸è§é—®é¢˜ keywords: M1s DOCK ,BL808, M1s update: date: 2022 11 28 version: v0.1 author: wonder content: åˆæ¬¡ç¼–è¾‘ ## c906_app/build_out/xxxxx/.map:No such file or directory æ³¨æ„ç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨çš„å‘½ä»¤ä¸º `./build.sh demo_name`ï¼Œæ¯”å¦‚ `./build.sh hello_world`ï¼Œè€Œä¸æ˜¯ `./build.sh hello_world/` ï¼ˆæ³¨æ„æœ€åŽé¢çš„è·¯å¾„ç¬¦å·`/`ï¼‰"},"/hardware/zh/maix/m1s/other/start.html":{"title":"M1s DOCK ä¸Šæ‰‹","content":" title: M1s DOCK ä¸Šæ‰‹ keywords: M1s DOCK ,BL808, M1s update: date: 2023 05 09 version: v0.5 author: wonder content: é»˜è®¤å›ºä»¶æ›´æ”¹ é‡æ–°ç¼–å†™å¼€ç®± æ–°å‡ºåŽ‚å›ºä»¶ä¸æä¾› date: 2023 02 27 version: v0.4 author: wonder content: å¢žåŠ  wifi ä¸²æµä½¿ç”¨è¯´æ˜Ž date: 2022 12 20 version: v0.3 author: wonder content: å¢žåŠ éƒ¨åˆ†blaiç›¸å…³å†…å®¹ <! date: 2022 12 12 version: v0.2 author: wonder content: å¢žåŠ éƒ¨åˆ†ç»†èŠ‚è§£é‡Š date: 2022 11 23 version: v0.1 author: wonder content: åˆæ¬¡ç¼–è¾‘ M1s Dock è®¾è®¡ç²¾å·§ï¼Œå¯ä»¥ç”¨æ¥æ‰€å¾ˆå¤šæœ‰æ„æ€çš„äº‹ï¼Œè¿™é‡Œç®€å•è¯´æ˜Žä¸€ä¸‹ä¸€äº›ä½¿ç”¨æ–¹æ³•ã€‚è¦æ³¨æ„çš„æ˜¯ä¸²å£é»˜è®¤æ³¢ç‰¹çŽ‡ 2000000ã€‚ é€šè¿‡æ¿å­ä¸Šçš„ UART å£è¿žæŽ¥ PCï¼Œåœ¨ Windows ç³»ç»Ÿçš„è®¾å¤‡ç®¡ç†å™¨ä¸­æ˜¾ç¤ºæœ‰ä¸¤ä¸ª Converter è®¾å¤‡ã€‚ ![start_bl808_uart_converter](./assets/start/start_bl808_uart_converter.png) > > ## å¼€ç®± ä¸‹é¢åœ°å¼€ç®±è¯´æ˜Žä»¥ M1S Dock å¸¦å±å¹•å’Œæ‘„åƒå¤´çš„å¥—é¤ä¸ºä¾‹ã€‚ æ‰“å¼€ M1S Dock çš„åŒ…è£…ç›’åŽï¼Œçœ‹åˆ°é‡Œé¢æœ‰å¦‚ä¸‹å†…å®¹ï¼š ä¸€æ ¹ USB æ•°æ®çº¿ ä¸€å— M1S Dock ä¸¤æ¡æŽ’é’ˆ <img src \"./assets/start/unbox_m1s_dock.jpg\" alt \"unbox_m1s_dock\" width \"50%\"> ## ç¡¬ä»¶å‡†å¤‡ ä¸¤æ ¹ TypeC æ•°æ®çº¿ ä¸€ä¸ª M1s Dock ä¸€å°ç”µè„‘ M1S Dock æ­è½½æœ‰ä¸¤ä¸ª TypeC æŽ¥å£ã€‚é»˜è®¤æƒ…å†µä¸‹ UART å£ç”¨åšäºŽç”µè„‘å’Œ M1S Dock çš„ä¸²å£é€šä¿¡ï¼ŒOTG å£é»˜è®¤ç”¨äºŽç»™æ¿å­ä¸Šçš„ BL808 èŠ¯ç‰‡é‡Œé¢çš„ C906 æ ¸å¿ƒçƒ§å½•å›ºä»¶ã€‚ <img alt \"m1s_doc_pin_map\" src \"./../assets/m1s_dock/m1s_doc_pin_map.png\"> 1. ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ° `S1` ã€ `S2` ä¸¤ä¸ªæŒ‰é”®ï¼Œå¦å¤–è¿˜æœ‰ `BOOT` æŒ‰é”®å’Œ `RST` æŒ‰é”® 2. ä¸Šå›¾ä¸­æ¿å­çš„å·¦ä¸‹è§’æœ‰ UART å£ï¼Œé»˜è®¤æœ‰ USB è½¬åŒä¸²å£åŠŸèƒ½è¿žæŽ¥åˆ° BL808 èŠ¯ç‰‡çš„ä¸¤ä¸ªæ ¸å¿ƒä¸Š 3. ä¸Šå›¾ä¸­æ¿å­çš„å³ä¸‹è§’æœ‰ OTG å£ï¼ŒM1s Dock é»˜è®¤å›ºä»¶å°†å®ƒä½œç”¨äºŽçƒ§å½• C906 æ ¸å¿ƒçš„å›ºä»¶ã€‚ ## ä¸Šç”µè¯´æ˜Ž ![m1s_dock_power_supply](./assets/start/m1s_dock_power_supply.png) ## åˆæ¬¡é€šç”µ ### æ¿å¡çŽ°è±¡ é¦–æ¬¡å¯¹ M1s Dock æ¿å­ä¸Šç”µï¼ŒæŒ‰ä¸‹æ¿å­ä¸Šçš„ RST (å¤ä½) æŒ‰é”®ã€‚ ![m1s_dock_rst_key_position](./assets/start/m1s_dock_rst_key_position.png) ä¼šæœ‰å¦‚ä¸‹çŽ°è±¡ï¼š ![default_firmware](./assets/start/default_firmware_20230509.png) æŒ‰ä¸‹ â‘  å¤„æ‰€æŒ‡å‘çš„æŒ‰é”®ï¼Œå±å¹•ä¸Š â‘£ å¤„ `btn` ä¼šå˜æˆç»¿è‰²ï¼Œå¹¶ä¸” â‘¥ å¤„çš„æ•°å­—ä¼šå¢žåŠ ï¼Œæœ€å¤§ä¸º 100 â‘¡ æ˜¯æ‘„åƒå¤´ï¼Œå±å¹•ä¼šé»˜è®¤æ˜¾ç¤ºæ‘„åƒå¤´æ‰€æ‹æ‘„åˆ°çš„ç”»é¢ æŒ‰ä¸‹ â‘¢ å¤„æ‰€æŒ‡å‘çš„æŒ‰é”®ï¼Œå±å¹•ä¸Šå¦ä¸€ä¸ª `btn` ä¼šå˜æˆç»¿è‰²ï¼Œå¹¶ä¸” â‘¥ å¤„çš„æ•°å­—ä¼šå‡å°ï¼Œæœ€å°ä¸º 0 â‘¤ æ˜¯å‡ºè´§æ—¶æ‰€æµ‹è¯•çš„æ— çº¿ wifi åŠŸèƒ½åŠå…¶å¼ºåº¦æ£€æµ‹ï¼Œç”¨æˆ·æ‰‹ä¸­æ­¤å¤„ç©ºç™½ â‘¦ æ˜¯æ¿è½½éº¦å…‹é£Žæµ‹è¯•ï¼Œéº¦å…‹é£Žåœ¨èƒŒé¢ä½äºŽæ¿è½½ LED çš„å¯¹ç§°ä½ç½® å¦ä¸€é¢çš„ LED ä¼šé—ªçƒã€‚ ![led_brghtness](./assets/start/led_brghtness.jpg) ### OTG å£çŽ°è±¡ > é€šè¿‡ OTG å£è¿žæŽ¥ PC çš„è¯ä¼šæœ‰ä¸€ä¸ªå¤§å°ä¸º 3M çš„ U ç›˜ã€‚ éƒ¨åˆ†ç”µè„‘å¯èƒ½ä¼šå› ä¸ºå…¼å®¹æ€§é—®é¢˜æ˜¾ç¤ºä¸å‡ºæ¥è¿™ä¸ª U ç›˜ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡[ä¸²å£çƒ§å½•](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E4%B8%B2%E5%8F%A3%E7%83%A7%E5%BD%95) æ¥é‡æ–°çƒ§å½•ä¸€æ¬¡ M1s Dock æ¥è§£å†³è¯¥é—®é¢˜ã€‚ ![default_udisk](./assets/start/default_udisk.jpg) å¹¶ä¸”åœ¨ Windows çš„è®¾å¤‡ç®¡ç†å™¨ä¸­ä¼šçœ‹åˆ°å¤§å®¹é‡å­˜å‚¨è®¾å¤‡ï¼Œåœ¨ linux ç³»ç»Ÿä¸­ä¹Ÿä¼šå‡ºçŽ°ä¸€ä¸ªå¯ç§»åŠ¨è®¾å¤‡ã€‚ ![udisk_device_manager](./assets/start/udisk_device_manager.jpg) å¦‚æžœæ²¡æœ‰çœ‹åˆ°å¤§å®¹é‡å­˜å‚¨è®¾å¤‡æˆ–è€… U ç›˜åœ¨ç”µè„‘ä¸­æ˜¾ç¤ºï¼Œå¯ä»¥å…ˆæ›´æ¢æ•°æ®çº¿æˆ–è€…é“¾æŽ¥ç”µè„‘å…¶ä»– USB æŽ¥å£æ¥å°è¯•è§£å†³é—®é¢˜ï¼Œä»ç„¶çœ‹ä¸åˆ°çš„è¯å¯ä»¥è·³è½¬åˆ° [ä¸²å£çƒ§å½•](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E4%B8%B2%E5%8F%A3%E7%83%A7%E5%BD%95) æ¥é‡æ–°çƒ§å½•ä¸€æ¬¡ M1s Dock æ¥è§£å†³è¯¥é—®é¢˜ï¼›çƒ§å½•çš„æ—¶å€™å¹¶ä¸”å‹¾é€‰çƒ§å½• `partition table`, `boot2`, `firmware` ä¸‰ä¸ªé€‰é¡¹ï¼Œçƒ§å½•ç»“æŸåŽé‡æ–°å°†æ¿å­è¿žæŽ¥ç”µè„‘ã€‚ ### UART å£çŽ°è±¡ > é€šè¿‡ UART å£è¿žæŽ¥ PC ä¼šæ˜¾ç¤ºæœ‰ä¸¤ä¸ªä¸²å£è®¾å¤‡ ![dual_uart](./assets/start/dual_uart.jpg) å¹¶ä¸”åœ¨ Windows ç³»ç»Ÿçš„è®¾å¤‡ç®¡ç†å™¨ä¸­å¯ä»¥çœ‹åˆ°ä¸¤ä¸ª Converter è®¾å¤‡ã€‚ ![start_bl808_uart_converter](./assets/start/start_bl808_uart_converter.png) æ²¡æœ‰ä¸²å£è®¾å¤‡çš„è¯æ›´æ¢ USB æ•°æ®çº¿æˆ–è€…ä½¿ç”¨ç”µè„‘åˆ«çš„ USB å£ã€‚ ä¾æ—§æ²¡æœ‰çš„è¯å¯ä»¥æŸ¥çœ‹ [ç»™æ¿è½½ bl702 è¿›è¡Œçƒ§å½•](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E7%BB%99%E6%9D%BF%E8%BD%BD bl702 %E8%BF%9B%E8%A1%8C%E7%83%A7%E5%BD%95) ç›¸å…³çš„å†…å®¹æ¥ç»™ bl702 é‡æ–°çƒ§å½•ä¸€æ¬¡å›ºä»¶ã€‚åœ¨ M1s Dock ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨ bl702 èŠ¯ç‰‡ä½œä¸º USB è½¬åŒä¸²å£èŠ¯ç‰‡ï¼Œç”±äºŽæŸäº›åŽŸå› ä¸²å£åŠŸèƒ½ä¸èƒ½æ­£å¸¸ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥é‡æ–°çƒ§å½•å›ºä»¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åªæœ‰ä¸€ä¸ªä¸²å£è®¾å¤‡çš„è¯ä¹Ÿå¯ä»¥æŸ¥çœ‹ [ç»™æ¿è½½ bl702 è¿›è¡Œçƒ§å½•](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E7%BB%99%E6%9D%BF%E8%BD%BD bl702 %E8%BF%9B%E8%A1%8C%E7%83%A7%E5%BD%95) ç« èŠ‚å¹¶ä¸”é‡æ–°çƒ§å½• bl702 æ¥è§£å†³é—®é¢˜ã€‚ è®¾ç½®æ³¢ç‰¹çŽ‡ä¸º 2000000ï¼Œåˆ†åˆ«æ‰“å¼€ä¸¤ä¸ªä¸²å£ï¼Œä¼šçœ‹åˆ°ä¸åŒçš„ä¿¡æ¯ã€‚ æ‰“å¼€å°å·ä¸²å£å¯ä»¥çœ‹åˆ°ä¸€ç›´åœ¨æ‰“å°ä¿¡æ¯ï¼š ![start_smaller_uart](./assets/start/start_smaller_uart.jpg) æ‰“å¼€å¤§å·ä¸²å£å¯ä»¥è¿›è¡Œç®€å•çš„å‘½ä»¤è¡Œäº¤äº’ï¼š ![start_bigger_uart](./assets/start/start_bigger_uart.jpg) ## çƒ§å½•æ–¹æ³• æƒ³è¦è®©æ¿å­è¿è¡Œè‡ªå·±é¢„æœŸçš„ç¨‹åºï¼Œå°±è¦å…ˆçŸ¥é“æ€Žä¹ˆæ ·çƒ§å½•å›ºä»¶åˆ°æ¿å¡ã€‚ ### U ç›˜çƒ§å½• ä¸ºäº†ä¾¿æ·çƒ§å½•ï¼Œæˆ‘ä»¬å‡†å¤‡äº† U ç›˜çƒ§å½•çš„æ–¹æ³•æ¥ç»™å¿«é€Ÿåœ°çƒ§å½• M1s Dock ä¸Š bl808 çš„ C906 æ ¸å¿ƒæ‰€è¿è¡Œçš„ç¨‹åºã€‚ å…ˆä½¿ç”¨ TypeC æ•°æ®çº¿å°†ç”µè„‘ä¸Žæ¿å­çš„ OTG å£è¿žæŽ¥èµ·æ¥ï¼Œå†åŒæ—¶æŒ‰ä½æ¿å­ä¸Šé¢ä¸¤ä¾§çš„æŒ‰é”®ï¼ˆå·²ç»åœ¨ä¸‹é¢å›¾ç‰‡ä¸­æŒ‡æ˜Žï¼‰ï¼Œç„¶åŽæŒ‰ä¸€ä¸‹æ¿å­ä¸Šçš„ RST é”®å°±å¯ä»¥è¿›å…¥ U ç›˜çƒ§å½•æ¨¡å¼ã€‚ <table> <tr> <td><img src \"./assets/start/udisk_burn.png\" alt \"udisk_burn\" style \"transform:rotate(0deg);\"></td> <td>åŒæ—¶æŒ‰ä½ä¸¤ä¾§çš„æŒ‰é”®ç„¶åŽæŒ‰ä¸€ä¸‹ RST é”®æ¥å¤ä½æ¿å­ï¼Œå¹¶è®©å®ƒè¿›å…¥ U ç›˜çƒ§å½•æ¨¡å¼</td> </tr> </table> å¦å¤–ï¼ŒæŒ‰ä½ä¸¤ä¾§æŒ‰é”®çš„æ—¶å€™ï¼Œä»Žæ¿å­çš„ OTG å£æ¿å­ç»™æ¿å­é€šç”µæ¥å¯åŠ¨æ¿å­ä¹Ÿå¯ä»¥è¿›å…¥ U ç›˜ä¸‹è½½æ¨¡å¼ã€‚ <img src \"./assets/start/udisk_in_computer.png\" alt \"udisk_in_computer\" style \"transform:rotate(0deg);\"> æ¿å­æˆåŠŸè¿›å…¥ U ç›˜çƒ§å½•æ¨¡å¼åŽåœ¨ç”µè„‘ä¸Šä¼šæ˜¾ç¤ºå‡ºä¸€ä¸ªå®¹é‡å¾ˆå°çš„ç£ç›˜ï¼Œç›´æŽ¥æŠŠå›ºä»¶ <a href \"https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/demo_bin\">ç‚¹æˆ‘è·³è½¬éƒ¨åˆ†ä¾‹ç¨‹å›ºä»¶</a> æ‹–æ‹½è¿›åŽ»å³å¯å®Œæˆçƒ§å½•ã€‚ <img src \"./assets/start/udisk_burn.gif\" alt \"udisk_burn\" style \"transform:rotate(0deg);\"> æ–‡ä»¶å­˜æ”¾è¿›åŽ»åŽæ•°ç§’åŽæ¿å­ä¼šé‡å¯ï¼ŒU ç›˜è¢«å¼¹å‡ºï¼Œè¡¨ç¤ºçƒ§å½•å®Œæˆã€‚ ä½†æ˜¯å› ä¸º bl702 å›ºä»¶çš„å·®å¼‚ï¼Œå¯èƒ½éœ€è¦æŒ‰ä¸‹ RST æŒ‰é”®æ‰èƒ½æˆåŠŸåŠ è½½å›ºä»¶ã€‚[ç‚¹æˆ‘æŸ¥çœ‹ bl702 å›ºä»¶å·®å¼‚](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#bl702 %E5%9B%BA%E4%BB%B6%E5%B7%AE%E5%BC%82) ã€‚ ### ä¸²å£çƒ§å½• ä¸Šé¢çš„ U ç›˜çƒ§å½•æ–¹æ³•é€‚ç”¨äºŽç»™ C906 æ ¸å¿ƒçƒ§å½•å›ºä»¶ã€‚å½“æ¿å­å‡ºçŽ°å›ºä»¶å¼‚å¸¸æˆ–è€…éœ€è¦å°†æ¿å­çš„å›ºä»¶å…¨éƒ¨å‡çº§æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¸²å£çƒ§å½•è¿™ç§æ–¹æ³•æ¥é‡æ–°çƒ§å½• M1s Dock, è¿™å¯ä»¥è§£å†³æ‰€æœ‰é—®é¢˜ã€‚ ä½¿ç”¨ TypeC æ•°æ®çº¿å°†ç”µè„‘ä¸Žæ¿å­çš„ UART å£è¿žæŽ¥èµ·æ¥ï¼Œæ­¤æ—¶ç”µè„‘ä¸Šä¼šå‡ºçŽ°ä¸¤ä¸ªä¸²å£ (å¦‚æžœå‡ºçŽ°é¼ æ ‡ä¸èƒ½åŠ¨çš„çŽ°è±¡è¯·æ‹”æŽ‰ USB å¹¶ä¸”æŸ¥çœ‹ [æ›´æ–°æ¿è½½ bl702 å›ºä»¶](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E7%BB%99%E6%9D%BF%E8%BD%BD bl702 %E8%BF%9B%E8%A1%8C%E7%83%A7%E5%BD%95) ç›¸å…³å†…å®¹æ¥ä¿®å¤é—®é¢˜)ã€‚ #### è½¯ä»¶èŽ·å– ç»™ M1s çƒ§å½•éœ€è¦ç”¨åˆ°åšæµå®˜æ–¹çƒ§å½•å·¥å…·ï¼Œå‰å¾€ https://dev.bouffalolab.com/download ä¸‹è½½åç§°ä¸º `Bouffalo Lab Dev Cube` çš„æ–‡ä»¶ã€‚è§£åŽ‹åŽå°±å¾—åˆ°äº†ç”¨æ¥çƒ§å½•æ¿å­çš„åº”ç”¨ç¨‹åºã€‚ ![bouffalo_cube](./assets/start/bouffalo_cube.png) å¤‡ä»½é“¾æŽ¥ï¼š[Sipeed ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/others/BouffaloLabDevCube) è§£åŽ‹åŽçš„æ–‡ä»¶å¤¹ä¸­æœ‰ `BLDevCube`ã€ `BLDevCube macos` å’Œ `BLDevCube ubuntu` ä¸‰ä¸ªæ–‡ä»¶ï¼Œç”¨äºŽåœ¨ä¸åŒç³»ç»Ÿå¯åŠ¨è¿™ä¸ªå›¾å½¢åŒ–çƒ§å½•å·¥å…·ã€‚ ![application](./assets/start/application.png) è¿˜æœ‰ `bflb_iot_tool`ã€`bflb_iot_tool macos`ã€`bflb_iot_tool ubuntu` è¿™ä¸‰ä¸ªç¨‹åºï¼Œç”¨äºŽåœ¨ä¸åŒç³»ç»Ÿé€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œçƒ§å½•ã€‚ #### å›¾å½¢åŒ–ç•Œé¢çƒ§å½• æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿå¯åŠ¨è½¯ä»¶ `BLDevCube` åŽé€‰æ‹© bl808 ï¼Œç´§æŽ¥ç€è½¯ä»¶çš„ IOT é¡µé¢é€‰æ‹©åˆ†åŒºè¡¨æ–‡ä»¶[ç‚¹æˆ‘ä¸‹è½½](https://dl.sipeed.com/fileList/MAIX/M1s/M1s_Dock/7_Firmware/partition/partition_cfg_16M_m1sdock.toml)ï¼ˆå›¾é‡Œ â‘¡ï¼‰ã€‚ <table> <tr> <td><img src \"./assets/start/chip_selection.png\" alt \"chip_selection\" style \"transform:rotate(0deg);\"></td> <td><img src \"./assets/start/choose_partition.png\" alt \"choose_partition\" style \"transform:rotate(0deg);\" width \"70%\"></td> </tr> </table> é€‰æ‹©å®Œä¸Šé¢çš„åˆ†åŒºè¡¨æ–‡ä»¶åŽï¼Œçƒ§å½•å·¥å…·çš„å¯é€‰é¡¹å°±å˜å¤šäº†ï¼Œä¸»è¦å…³æ³¨ `boot2`, `firmware`, `d0fw` ä¸‰é¡¹ã€‚ <img src \"./assets/start/firmware_choose.png\" alt \"firmware_choose\" style \"transform:rotate(0deg);\"> ä¸Šå›¾ä¸­ï¼Œ`boot2` æ˜¯å›ºå®šçš„ï¼Œä½äºŽ `BLDevCube\\chips\\bl808\\builtin_imgs\\boot2_isp_bl808_xxxx_xxx` ç›®å½•ä¸‹ï¼Œå°±æ˜¯åœ¨è§£åŽ‹çš„çƒ§å½•ç¨‹åºæ–‡ä»¶å¤¹çš„å­ç›®å½•é‡Œé¢ï¼Œè¦é€‰æ‹©åç§°å¸¦æœ‰ `debug` çš„æ–‡ä»¶ï¼›`firmware` æ˜¯ E907 æ ¸å¿ƒè¿è¡Œçš„å›ºä»¶ ï¼›`d0fw`æ˜¯ C906 æ ¸å¿ƒè¿è¡Œçš„å›ºä»¶ï¼Œå‰é¢çš„ U ç›˜çƒ§å½•é‡Œé¢çš„å›ºä»¶å°±æ˜¯ç»™è¿™ä¸ªæ ¸å¿ƒçƒ§å½•çš„ã€‚E907 çš„å›ºä»¶æ–‡ä»¶å’Œ C906 çš„å›ºä»¶æ–‡ä»¶å‡å¯ä»¥é€šè¿‡ [M1s_dock example](https://gitee.com/sipeed/M1s_BL808_example) æ¥ç¼–è¯‘å¾—åˆ°ã€‚ é¦–æ¬¡çƒ§å½• `firmware` å’Œ `boot2` éƒ½éœ€è¦çƒ§å½•è¿›åŽ»ï¼Œä¹‹åŽå°±å¯ä»¥æŒ‰éœ€çƒ§å½•è€Œä¸ç”¨å…¨éƒ¨å‹¾é€‰ã€‚ æ—§é»˜è®¤å›ºä»¶å¯ä»¥åœ¨ [è¿™é‡Œä¸‹è½½åˆ°](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/factory)ï¼Œæ–°é»˜è®¤å›ºä»¶ä¸å†æä¾›ã€‚å¯¹åº”çš„æ—§é»˜è®¤å›ºä»¶æµ‹è¯•æ–¹æ³•æŸ¥çœ‹ [æ—§å›ºä»¶æµ‹è¯•](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E6%97%A7%E5%9B%BA%E4%BB%B6%E5%BC%80%E7%AE%B1%E6%B5%8B%E8%AF%95) æ­£ç¡®çš„é€‰æ‹©å›ºä»¶åŽï¼Œåœ¨çª—å£å³ä¾§ç‚¹å‡»ä¸€ä¸‹ `Refresh` æ¥åˆ·æ–°ä¸²å£ï¼Œæ­£å¸¸æƒ…å†µæœ‰ä¸¤ä¸ªä¸²å£å·ç›¸é‚»çš„ä¸²å£å¯ä¾›é€‰æ‹©ï¼Œå¦‚æžœæ²¡æœ‰ä¸¤ä¸ªä¸²å£è¯·å‚è€ƒä¸‹é¢çš„ [çƒ§å½• BL702](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E7%BB%99%E6%9D%BF%E8%BD%BD bl702 %E8%BF%9B%E8%A1%8C%E7%83%A7%E5%BD%95)æ¥æŸ¥çœ‹è§£å†³æ–¹æ³•ã€‚åœ¨æœ¬çƒ§å½•åº”ç”¨ä¸­ï¼Œå¯¹ M1s Dock æ“ä½œå‡éœ€è¦é€šè¿‡ä¸²å£å·è¾ƒå¤§çš„ä¸²å£ï¼Œè€Œä¸æ˜¯å°å·ä¸²å£ã€‚ ![burn_steps](./assets/start/burn_steps.png) æŒ‰ä½æ¿å­ä¸Šçš„ BOOT é”®å’Œ RST é”®ï¼Œ ç„¶åŽå…ˆæ¾å¼€ RST é”®å†æ¾å¼€ BOOT é”®æ¥ä½¿æ¿å­è¿›å…¥ä¸²å£çƒ§å½•æ¨¡å¼ã€‚ <img src \"./assets/start/boot_rst.jpg\" alt \"boot_rst\" style \"transform:rotate(0deg);\" width \"40%\"> ç‚¹å‡»ä¸‹è½½ (Create & Download) åŽä¼šçœ‹åˆ°ä¸‹å›¾ç®­å¤´ä¸­å¤šæŒ‡å‘çš„ä¿¡æ¯ï¼Œåœ¨è¿™ä¹‹å‰æˆ‘ä»¬éœ€è¦æ“ä½œç¡¬ä»¶ä½¿å®ƒè¿›å…¥ä¸²å£çƒ§å½•æ¨¡å¼ã€‚ ![burn_press_boot](./assets/start/burn_press_boot.jpg) æˆåŠŸè¿›å…¥çƒ§å½•æ¨¡å¼ä¼šæ¡æ‰‹æˆåŠŸå¹¶ä¸”æŽ¥ä¸‹æ¥ä¼šè¿›è¡Œçƒ§å½•ã€‚ <img src \"./assets/start/burn_press_boot_success.jpg\" alt \"burn_press_boot_success\" style \"transform:rotate(0deg);\" width \"70%\"> <img src \"./assets/start/finish_burning.png\" alt \"finish_burning\" style \"transform:rotate(0deg);\" width \"70%\"> æ¡æ‰‹å¤±è´¥çš„è¯å°±é‡æ–°ç‚¹å‡»çƒ§å½•å¹¶ä¸”å†æ¬¡å°è¯•ã€‚è¿™ç§é”™è¯¯å¯èƒ½æ˜¯æŒ‰é”®é‡Šæ”¾é¡ºåºé”™è¯¯ï¼ˆåº”è¯¥å…ˆæ¾å¼€ RST é”®å†æ¾å¼€ BOOT é”®ï¼Œå³åœ¨æ¾å¼€ RST é”®çš„æ—¶å€™ boot é”®åº”è¯¥æ˜¯æŒ‰ä¸‹çš„çŠ¶æ€ï¼‰è€Œå¯¼è‡´æ¿å­æ²¡æœ‰è¿›å…¥ä¸²å£çƒ§å½•æ¨¡å¼ï¼Œè½¯ä»¶ç­‰å¾…è¶…æ—¶è€Œå¯¼è‡´çš„ã€‚ <img src \"./assets/start/burn_press_boot_failed.jpg\" alt \"burn_press_boot_failed\" style \"transform:rotate(0deg);\" width \"70%\"> #### å‘½ä»¤è¡Œçƒ§å½• æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥é€šè¿‡æ¿å­ä¸Šçš„ä¸²å£æ¥å¯¹ M1s Dock è¿›è¡Œçƒ§å½•ã€‚ åœ¨ `BLDevCube` çš„æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œè¿˜æœ‰ `bflb_iot_tool`ã€`bflb_iot_tool macos`ã€`bflb_iot_tool ubuntu` è¿™ä¸‰ä¸ªç¨‹åºï¼Œç”¨äºŽåœ¨ä¸åŒç³»ç»Ÿé€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œçƒ§å½•ã€‚ ä¸‹é¢æ˜¯åœ¨ `Windows` ç³»ç»Ÿä¸­é€šè¿‡å‘½ä»¤è¡Œçƒ§å½•çš„å‘½ä»¤ã€‚å…¶ä¸­ `firmware` æ˜¯ E907 æ ¸å¿ƒçš„å›ºä»¶ï¼Œå¯ä»¥åœ¨[æ—§é»˜è®¤å›ºä»¶](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/factory)å¤„ä¸‹è½½å¾—åˆ°ï¼›`pt` æ–‡ä»¶æ˜¯åˆ†åŒºè¡¨æ–‡ä»¶ï¼Œé»˜è®¤åœ¨ `M1s_BL808_example\\partition` ç›®å½•ä¸‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ [ç‚¹æˆ‘](https://dl.sipeed.com/fileList/MAIX/M1s/M1s_Dock/7_Firmware/partition/partition_cfg_16M_m1sdock.toml) ç›´æŽ¥ä¸‹è½½åˆ°ï¼›`boot2` æ–‡ä»¶é»˜è®¤ä½äºŽ `BLDevCube\\chips\\bl808\\builtin_imgs\\boot2_isp_bl808` ç›®å½•ä¸‹ï¼Œæ˜¯åç§°å¸¦æœ‰ `debug` çš„æ–‡ä»¶ï¼›æ³¢ç‰¹çŽ‡ä¸º 2Mï¼Œè¿™æ ·çƒ§å½•çš„æ—¶å€™ä¼šå¿«ç‚¹ï¼›`port` åº”æŒ‡å®šä¸ºä¸²å£å·è¾ƒå¤§çš„ä¸²å£ã€‚ ```bash .\\bflb_iot_tool.exe chipname bl808 port COM38 baudrate 2000000 firmware \"firmware_20221212.bin\" pt \"M1s_BL808_example\\partition\\partition_cfg_16M_m1sdock.toml\" boot2 \"BLDevCube\\chips\\bl808\\builtin_imgs\\boot2_isp_bl808\\boot2_isp_debug.bin\" ``` å½“ç„¶ï¼Œåœ¨çƒ§å½•å‰éœ€è¦è®© M1s Dock è¿›å…¥ä¸‹è½½æ¨¡å¼ï¼šæŒ‰ä½æ¿å­ä¸Šçš„ BOOT é”®å’Œ RST é”®ï¼Œ ç„¶åŽå…ˆæ¾å¼€ RST é”®å†æ¾å¼€ BOOT é”®ã€‚ ![command_burn_flash](./assets/start/command_burn_flash.jpg) çƒ§å½•å®Œä¹‹åŽï¼Œå¯ä»¥å‚è€ƒå‰é¢çš„ [U ç›˜çƒ§å½•](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#U %E7%9B%98%E7%83%A7%E5%BD%95) æ¥ç»™ C906 æ ¸å¿ƒçƒ§å½•å›ºä»¶ã€‚ä¹Ÿå¯ä»¥è‡ªå·±æ ¹æ®çƒ§å½•åœ°å€æ¥çƒ§å½•å›ºä»¶ï¼Œçƒ§å½•åœ°å€å¯ä»¥åœ¨ `partition_cfg_16M_m1sdock.toml` æ–‡ä»¶æŸ¥çœ‹åˆ°ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ›´æ”¹ï¼Œæ­¤å¤„ä¸è¿°ã€‚ ### çƒ§å½•æ—¶å€™çš„å¸¸è§é—®é¢˜ #### BFLB IMG LOAD SHAKEHAND FAIL è¿™ç§æƒ…å†µæ˜¯æ¿å­çš„ bl808 æ²¡æœ‰è¿›å…¥ä¸‹è½½æ¨¡å¼ï¼Œç¡®å®šè‡ªå·±åœ¨æ¿å­åœ¨è¿è¡Œæ—¶ï¼ˆå·²ç»é€šç”µï¼‰è‡ªå·±åŒæ—¶æŒ‰ä¸‹ RST æŒ‰é”®å’Œ BOOT æŒ‰é”®ï¼Œç„¶åŽå…ˆæ¾å¼€ RST é”®åŽæ¾å¼€ BOOT é”®æ¥æ—¶ bl808 è¿›å…¥ä¸‹è½½æ¨¡å¼ã€‚ ![uart_burn_bl808_shakehand_fail](./assets/start/uart_burn_bl808_shakehand_fail.jpg) å¹¶ä¸”ç¡®å®šè‡ªå·±åœ¨ä¸‹è½½çš„æ—¶å€™é€‰æ‹©çš„æ˜¯ä¸²å£å·å¤§çš„é‚£ä¸€ä¸ªä¸²å£ï¼Œè€Œä¸æ˜¯å°å·ä¸²å£ã€‚ ![uart_burn_bl808_shakehand_fail_com_port](./assets/start/uart_burn_bl808_shakehand_fail_com_port.jpg) #### åªçœ‹åˆ°ä¸€ä¸ªä¸²å£ è¿™ç§æƒ…å†µæ˜¯è¿›å…¥äº†æ¿è½½ bl702 ä¸‹è½½æ¨¡å¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸åº”è¯¥æŒ‰ä½ BOOT é”®ç„¶åŽç»™æ¿å­é€šç”µï¼Œè¿™æ ·ä¼šè¿›å…¥ bl702 çš„ä¸‹è½½æ¨¡å¼ï¼Œåªæœ‰ä¸€ä¸ªä¸²å£æ˜¾ç¤ºåœ¨ç”µè„‘ä¸­ã€‚ç»™ bl808 é€šè¿‡ä¸²å£çƒ§å½•æ˜¯åœ¨æ¿å­é€šç”µåŽï¼ŒåŒæ—¶æŒ‰ä¸‹ RST æŒ‰é”®å’Œ BOOT æŒ‰é”®ï¼Œç„¶åŽå…ˆæ¾å¼€ RST é”®åŽæ¾å¼€ BOOT é”®æ¥æ—¶ bl808 è¿›å…¥ä¸‹è½½æ¨¡å¼ã€‚ ![uart_burn_bl808_only_one_port](./assets/start/uart_burn_bl808_only_one_port.jpg) #### æ²¡æœ‰ä¸²å£è®¾å¤‡ ç¡®å®šè‡ªå·±è¿žæŽ¥çš„æ˜¯æ¿å­ä¸Šçš„ UART æŽ¥å£ï¼Œæ¢ä¸€æ ¹æ•°æ®çº¿æˆ–è€…è¿žæŽ¥ç”µè„‘å¦ä¸€ä¸ª USB å£ã€‚ #### çƒ§å½•å•ä¸ªå›ºä»¶ åœ¨çƒ§å½•å·¥å…·è½¯ä»¶ä¸­ï¼Œé¦–æ¬¡çƒ§å½•è¦æ±‚å°† `partition table`, `boot2`, `firmware`, `d0fw` æ–‡ä»¶éƒ½å‹¾é€‰ä¸Šå¹¶çƒ§å½•è¿›æ¿å­ï¼Œä»¥åŽå¦‚æžœæƒ³è¦çƒ§å½•ç”± SDK ç¼–è¯‘å‡ºæ¥çš„å•ä¸ªå›ºä»¶ï¼Œåœ¨å¯¹åº”çš„çƒ§å½•é€‰é¡¹ä¸­é€‰æ‹©ç¼–è¯‘å‡ºæ¥çš„æ–‡ä»¶å°±è¡Œï¼š `firmware` é€‰æ‹©ç”± e907_demo ç¼–è¯‘å‡ºæ¥çš„æœ€ç»ˆå›ºä»¶ã€‚ `d0fw` é€‰æ‹©ç”± c906_demo ç¼–è¯‘å‡ºæ¥çš„æœ€ç»ˆå›ºä»¶ã€‚ `partition table` å’Œ `boot2` æ¯æ¬¡çƒ§å½•éƒ½è¦å‹¾é€‰ä¸­ã€‚ <table> <tr> <td>çƒ§å½• c906_demo å›ºä»¶</td> <td>çƒ§å½• e907_demo å›ºä»¶</td> </tr> <tr> <td><img src \"./assets/start/uart_burn_c906.jpg\" alt \"uart_burn_c906\"></td> <td><img src \"./assets/start/uart_burn_e907.jpg\" alt \"uart_burn_e907\"></td> </tr> </table> ## çƒ§å½•ä¾‹ç¨‹ ä¸‹é¢çš„å‡ ä¸ª Demo éƒ½æ˜¯ä»Ž M1s_bl808_example é‡Œé¢ç¼–è¯‘å‡ºæ¥çš„ï¼Œé€‚ç”¨äºŽ bl808 é‡Œé¢çš„ C906 æ ¸å¿ƒã€‚ å»ºè®®ä½¿ç”¨ U ç›˜çƒ§å½•çš„æ–¹æ³•çƒ§å½•è¿›æ¿å¡ï¼Œç›´æŽ¥ä½“éªŒä¸€ä¸‹è¿™æ¬¾æ¿å¡ã€‚ ### lvgl_demo [LVGL](https://lvgl.io/) (è½»å·§è€Œå¤šåŠŸèƒ½çš„å›¾å½¢åº“)æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç å›¾å½¢åº“ï¼Œé€‚åˆç”¨äºŽ mcu æž„å»ºå›¾å½¢ç•Œé¢ã€‚ Demo æ–‡ä»¶ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/demo_bin/lvgl_demo) é€šè¿‡ U ç›˜çƒ§å½•çš„æ–¹æ³•çƒ§å½•è¿› M1s Dock åŽï¼Œå±å¹•æ˜¾ç¤ºç€ lvgl æµ‹è¯•æ•ˆæžœï¼Œè®¾ç½®æ³¢ç‰¹çŽ‡ä¸º 2000000ï¼Œä¸²å£å·è¾ƒå°çš„ä¸²å£æ‰“å°ç€æœ€åŽä¸€æ¬¡è§¦æ‘¸å±å¹•ä½ç½®ã€‚ <img src \"./assets/start/example_lvgl.gif\" alt \"example_lvgl\" width \"45%\"> <img src \"./assets/start/example_lvgl.jpg\" alt \"example_lvgl\" width \"45%\"> ### image_processing_demo ä¸€ä¸ªç®€å•çš„å›¾åƒå¤„ç†ä¾‹å­ã€‚ Demo æ–‡ä»¶ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/demo_bin/image_processing_demo) é€šè¿‡ U ç›˜çƒ§å½•çš„æ–¹æ³•çƒ§å½•è¿› M1s Dock åŽï¼Œå±å¹•ä¸Šæ˜¾ç¤ºæ‘„åƒå¤´ç”»é¢ï¼ŒæŒ‰ä¸‹ä¸¤ä¾§çš„æŒ‰é”®å¯ä»¥åˆ‡æ¢ä¸åŒçš„å›¾åƒç®—å­ã€‚è®¾ç½®æ³¢ç‰¹çŽ‡ä¸º 2000000ï¼Œä¸²å£å·è¾ƒå°çš„ä¸²å£æ˜¾ç¤ºç€ä¸Šæ¬¡æŒ‰é”®å’Œå…¶ä»–ä¿¡æ¯ã€‚ æŒ‰ä¸‹å¤ä½é”®åŽä¸²å£å·è¾ƒå°çš„ä¸²å£ä¼šæ˜¾ç¤ºæ‘„åƒå¤´ç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼Œæ‘„åƒå¤´å¼‚å¸¸çš„è¯å¯ä»¥ä»Žä¸²å£ä¿¡æ¯çœ‹åˆ°ã€‚ <img src \"./assets/start/example_image_processing_demo.jpg\" alt \"example_image_processing_demo\" width \"45%\"> <img src \"./assets/start/example_image_processing_demo_uart.jpg\" alt \"example_image_processing_demo_uart\" width \"45%\"> ### tinymaix_mnist_demo [TinyMaix](https://github.com/sipeed/TinyMaix) æ˜¯é¢å‘å•ç‰‡æœºçš„è¶…è½»é‡çº§çš„ç¥žç»ç½‘ç»œæŽ¨ç†åº“ï¼Œå³ TinyML æŽ¨ç†åº“ï¼Œå¯ä»¥åœ¨ä»»æ„å•ç‰‡æœºä¸Šè¿è¡Œè½»é‡çº§æ·±åº¦å­¦ä¹ æ¨¡åž‹ã€‚ Demo æ–‡ä»¶ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/demo_bin/tinymaix_mnist_demo) é€šè¿‡ U ç›˜çƒ§å½•çš„æ–¹æ³•çƒ§å½•è¿› M1s Dock åŽï¼Œå±å¹•ä¸­é—´çš„çº¢æ¡†è¯†åˆ«æ•°å­—ã€‚è®¾ç½®æ³¢ç‰¹çŽ‡ä¸º 2000000ï¼Œä¸²å£å·è¾ƒå°çš„ä¸²å£æ‰“å°ç€è¯†åˆ«ä¿¡æ¯ã€‚ <img src \"./assets/start/example_tinymaix_mnist_demo.jpg\" alt \"example_tinymaix_mnist_demo\" width \"45%\"> <img src \"./assets/start/example_tinymaix_mnist_demo_uart.jpg\" alt \"example_tinymaix_mnist_demo_uart\" width \"45%\"> ### pikascript_demo [PikaScript](http://pikascript.com/) æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„è¶…è½»é‡çº§åµŒå…¥å¼ Python å¼•æ“Žã€‚ Demo æ–‡ä»¶ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/demo_bin/pikascript_demo) é€šè¿‡ U ç›˜çƒ§å½•çš„æ–¹æ³•çƒ§å½•è¿› M1s Dock åŽï¼Œå±å¹•ç™½å±ï¼Œæ— å†…å®¹ã€‚è®¾ç½®æ³¢ç‰¹çŽ‡ä¸º 2000000ï¼Œæ‰“å¼€ä¸²å£å·è¾ƒå°çš„ä¸²å£æ¥è¿›è¡Œå‘½ä»¤è¡Œäº¤äº’ã€‚ åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥è¿™äº›æŒ‡ä»¤ï¼š ```bash arc lv.arc(lv.scr_act()) arc.set_end_angle(200) arc.set_size(150, 150) arc.center() ``` ![example_pikascript_demo_uart](./assets/start/example_pikascript_demo_uart.jpg) ç„¶åŽå¯ä»¥çœ‹åˆ°å±å¹•ä¸Šæ˜¾ç¤ºå‡ºæ¥ä¸€äº›ç”»é¢ï¼ˆå¿½ç•¥è¿™ç³Ÿç³•çš„æ‹ç…§ï¼‰ï¼š ![example_pikascript_demo_screen](./assets/start/example_pikascript_demo_screen.jpg) ## SDK ç¼–è¯‘ M1s éœ€è¦åœ¨ Linux çŽ¯å¢ƒä¸‹è¿›è¡Œç¼–è¯‘ ### å®‰è£…ç¼–è¯‘æ‰€éœ€è¦çš„ç›¸å…³è½¯ä»¶ èŽ·å– SDK éœ€è¦ç”¨åˆ° `git` è¿™ä¸ªè½¯ä»¶ï¼Œç¼–è¯‘ SDK éœ€è¦ç”¨åˆ° `make` è¿™ä¸ªè½¯ä»¶ï¼Œå¯¹åº”ç€åŽé¢æ–‡æ¡£æ£€æŸ¥è‡ªå·±çš„ç›®å½•ç»“æž„é…ç½®çš„æ—¶å€™éœ€è¦ç”¨åˆ° `tree` è¿™ä¸ªè½¯ä»¶ã€‚ ä¸‹é¢æ˜¯åœ¨ debian ç³» Linux å‘è¡Œç‰ˆï¼ˆæ¯”å¦‚ Ubuntuï¼‰ä¸­å®‰è£…ä¸Šè¿°ä¸‰ä¸ªè½¯ä»¶çš„ç¤ºä¾‹å‘½ä»¤ã€‚ ```bash sudo apt get install git make tree ``` å…¶å®ƒ Linux å‘è¡Œç‰ˆæœ¬å®‰è£…ä¸Šè¿°æ‰€éœ€çš„ä¸‰ä¸ªè½¯ä»¶æ‰€ä½¿ç”¨çš„å‘½ä»¤è‡ªè¡Œç½‘ä¸ŠæŸ¥æ‰¾è§£å†³ã€‚ ### èŽ·å–ä¾‹ç¨‹ä»“åº“ ```bash git clone https://gitee.com/Sipeed/M1s_BL808_example.git ``` æœ€ç»ˆç»“æž„æ ‘å¦‚ä¸‹ `tree L 1 M1s_BL808_example/` ![sdk_compile_tree_1](./assets/start/sdk_compile_tree_1.jpg) <! ```bash sipeed@DESKTOP:~$ tree L 1 M1s_BL808_example/ M1s_BL808_example/ â”œâ”€â”€ LICENSE # è®¸å¯è¯æ–‡ä»¶ â”œâ”€â”€ assets # èµ„æºæ–‡ä»¶ â”œâ”€â”€ c906_app # C906 æ ¸å¿ƒä¾‹ç¨‹ â”œâ”€â”€ e907_app # E907 æ ¸å¿ƒä¾‹ç¨‹ â”œâ”€â”€ partition # åˆ†åŒºè¡¨æ–‡ä»¶ â””â”€â”€ readme.md # ä»“åº“è¯´æ˜Ž ``` > ### èŽ·å¾— SDK ä»“åº“ ä»“åº“å¾ˆå¤§ï¼Œ120M ä»¥ä¸Šã€‚ ```bash git clone https://gitee.com/sipeed/M1s_BL808_SDK.git ``` æœ€ç»ˆç»“æž„æ ‘å¦‚ä¸‹ `tree L 1` ![sdk_compile_tree_2](./assets/start/sdk_compile_tree_2.jpg) <! ```bash sipeed@DESKTOP:~$ tree L 1 . â”œâ”€â”€ M1s_BL808_example # ä¾‹ç¨‹æ–‡ä»¶å¤¹ â””â”€â”€ M1s_BL808_SDK # SDK æ–‡ä»¶å¤¹ ``` > ### åœ¨ SDK ä»“åº“æ–‡ä»¶å¤¹ä¸‹ï¼ŒèŽ·å–ç¼–è¯‘å·¥å…·é“¾ æ ¹æ®ä¾‹ç¨‹ä»“åº“é‡Œé¢çš„ readme çš„è¦æ±‚ï¼Œå·¥å…·é“¾åº”å­˜æ”¾åœ¨ M1s_BL808_SDK/toolchain ç›®å½•ä¸‹ ```bash mkdir p M1s_BL808_SDK/toolchain cd M1s_BL808_SDK/toolchain git clone https://gitee.com/wonderfullook/m1s_toolchain.git ``` ä¿®æ”¹å·¥å…·é“¾çš„åç§°ä¸º `Linux_x86_64` ï¼Œç„¶åŽè¿”å›žåˆ°ä¸Šä¸¤çº§ç›®å½• ```bash mv m1s_toolchain Linux_x86_64 cd ../../ ``` è¿™æ—¶å¾—åˆ°çš„ç»“æž„æ ‘åº”å¦‚ä¸‹(æˆªå–éƒ¨åˆ†)ï¼š`tree L 2` ![sdk_compile_tree_3](./assets/start/sdk_compile_tree_3.jpg) <! ```bash sipeed@DESKTOP:~$ tree L 2 . â”œâ”€â”€ M1s_BL808_example # ä¾‹ç¨‹ä»“åº“æ–‡ä»¶å¤¹ â”‚ â”œâ”€â”€ LICENSE # è®¸å¯è¯æ–‡ä»¶ â”‚ â”œâ”€â”€ assets # èµ„æºæ–‡ä»¶ â”‚ â”œâ”€â”€ c906_app # C906 æ ¸å¿ƒä¾‹ç¨‹ â”‚ â”œâ”€â”€ e907_app # E907 æ ¸å¿ƒä¾‹ç¨‹ â”‚ â”œâ”€â”€ partition # åˆ†åŒºè¡¨æ–‡ä»¶ â”‚ â””â”€â”€ readme.md # ä»“åº“è¯´æ˜Ž â””â”€â”€ M1s_BL808_SDK # SDK ä»“åº“æ–‡ä»¶å¤¹ â”œâ”€â”€ toolchain # ç¼–è¯‘å·¥å…·é“¾ ... ``` > ### é…ç½®ç¼–è¯‘å·¥å…·é“¾è·¯å¾„ é¦–å…ˆç¡®å®š `M1s_BL808_SDK` æ–‡ä»¶å¤¹æ‰€åœ¨çš„è·¯å¾„ï¼š ```bash cd M1s_BL808_SDK pwd ``` ![sdk_compile_snapshot_1](./assets/start/sdk_compile_snapshot_1.jpg) <! ```bash sipeed@DESKTOP:~$ cd M1s_BL808_SDK sipeed@DESKTOP:~/M1s_BL808_SDK$ pwd /home/lee/bl808/M1s_BL808_SDK ``` > æˆ‘ä»¬å¤åˆ¶ä¸Šé¢æ‰§è¡Œ `pwd` åŽçš„ç»“æžœï¼ˆæ¯ä¸ªäººçš„ä¼šä¸ä¸€æ ·ï¼‰ï¼Œæ¯”å¦‚ä¸Šé¢æˆªå›¾ä¸­çš„ pwd å‘½ä»¤çš„æ‰§è¡Œç»“æžœä¸º `/home/lee/bl808/M1s_BL808_SDK`ï¼Œå› æ­¤åœ¨é…ç½® `BL_SDK_PATH` è·¯å¾„æ—¶åŽé¢åº”è¯¥è·Ÿç€ `/home/lee/bl808/M1s_BL808_SDK`ã€‚ > ä»¥åŽæ¯æ¬¡å¼€å§‹ç¼–è¯‘éƒ½éœ€è¦æ‰§è¡Œä¸€æ¬¡è¿™ä¸ªæ¥é…ç½®ä¸‹ç¼–è¯‘å·¥å…·é“¾è·¯å¾„ï¼ˆæ³¨æ„è‡ªè¡Œä¿®æ”¹ BL_SDK_PATH çš„å€¼ï¼Œå¹¶ä¸” ç¬¦å·åŽé¢æ²¡æœ‰ç©ºæ ¼ï¼‰ ```bash export BL_SDK_PATH ``` ![sdk_compile_snapshot_2](./assets/start/sdk_compile_snapshot_2.jpg) ç„¶åŽæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥å‡†å¤‡å¼€å§‹äº¤å‰ç¼–è¯‘äº†ã€‚ <! ```bash export BL_SDK_PATH /home/lee/bl808/M1s_BL808_SDK ``` > æ³¨æ„æ˜¯ `M1s_BL808_SDK` ï¼Œä¸æ˜¯ `M1s_BL808_SDK/`ï¼Œä¸€èˆ¬è‡ªåŠ¨è¡¥å…¨ä¼šå¯¼è‡´è¿™ä¸ªé”™è¯¯ã€‚ ### ç¼–è¯‘ demo æ‰§è¡Œ M1s_BL808_example/c906_app ç›®å½•ä¸‹çš„ build.sh ï¼ŒåŽé¢è¿½åŠ ä¸Šæƒ³è¦ç¼–è¯‘çš„ demo å°±å¯ä»¥å®Œæˆäº†ã€‚ Demo å¦‚ä¸‹ï¼ˆç¼–è¾‘äºŽ 2022 12 13ï¼‰ï¼š ![sdk_compile_tree_4](./assets/start/sdk_compile_tree_4.jpg) <! ```txt c906_app â”œâ”€â”€ audio_recording â”œâ”€â”€ blai_mnist_demo â”œâ”€â”€ camera_bypass_lcd â”œâ”€â”€ camera_dump â”œâ”€â”€ camera_streaming_through_wifi â”œâ”€â”€ cli_demo â”œâ”€â”€ flash_demo â”œâ”€â”€ gpio_demo â”œâ”€â”€ hello_world â”œâ”€â”€ i2c_touch â”œâ”€â”€ image_processing_demo â”œâ”€â”€ lfs_demo â”œâ”€â”€ lvgl_demo â”œâ”€â”€ pikascript_demo â”œâ”€â”€ proj_config.mk â”œâ”€â”€ pwm_demo â”œâ”€â”€ spi_lcd â”œâ”€â”€ tinymaix_mnist_demo â””â”€â”€ uvc_demo ``` > ä¸‹é¢æ˜¯ç¼–è¯‘ lvgl_demo çš„ç¤ºä¾‹å‘½ä»¤ï¼Œå…¶ä»– demo çš„ç¼–è¯‘è‡ªå·±æ›´æ”¹ ./build.sh åŽé¢çš„åç§°ã€‚ ```bash cd M1s_BL808_example/c906_app ./build.sh lvgl_demo ``` ç„¶åŽç¼–è¯‘å‡ºæ¥çš„å›ºä»¶å°±ä¼šåœ¨ M1s_BL808_example/c906_app/build_out ç›®å½•ä¸‹ï¼Œåç§°ä¸º `d0fw.bin`ï¼Œé€šè¿‡è™šæ‹Ÿ U ç›˜æ‹–æ‹½çƒ§å½•å³å¯ã€‚ ![udisk_burn](./assets/start/udisk_burn.gif) è™šæ‹Ÿ U ç›˜æ‰¾ä¸åˆ°çš„è¯ä¹Ÿå¯ä»¥é€šè¿‡åšæµå®˜æ–¹çƒ§å½•å·¥å…·æ¥ä½¿ç”¨ä¸²å£ä¸‹è½½ï¼Œæ³¨æ„åœ¨ d0fw æ¡†ä¸­åº”å½“å‹¾é€‰è‡ªå·±æ‰€ç¼–è¯‘å‡ºæ¥çš„ `d0fw.bin` ï¼ˆä¸‹å›¾ä»…åšç¤ºä¾‹ï¼‰ ![uart_burn_c906](./assets/start/uart_burn_c906.jpg) ### ç¼–è¯‘ firmware æ‰§è¡Œ M1s_BL808_example/e907_app ç›®å½•ä¸‹çš„ build.sh ï¼ŒåŽé¢è¿½åŠ ä¸Š firmware å°±å¯ä»¥ç¼–è¯‘äº† ```bash cd M1s_BL808_example/e907_app ./build.sh firmware ``` ç„¶åŽç¼–è¯‘å‡ºæ¥çš„å›ºä»¶å°±ä¼šåœ¨ M1s_BL808_example/e907_app/build_out ç›®å½•ä¸‹ï¼Œåç§°ä¸º `firmware.bin`ã€‚ é€šè¿‡åšæµå®˜æ–¹çƒ§å½•å·¥å…·æ¥ä½¿ç”¨ä¸²å£ä¸‹è½½ï¼Œæ³¨æ„åœ¨ firmware æ¡†ä¸­åº”å½“å‹¾é€‰è‡ªå·±æ‰€ç¼–è¯‘å‡ºæ¥çš„`firmware.bin` ï¼ˆä¸‹å›¾ä»…åšç¤ºä¾‹ï¼‰ ![uart_burn_e907](./assets/start/uart_burn_e907.jpg) ### å¸¸è§é—®é¢˜ 1. æ‰§è¡Œå®Œ build.sh åŽæç¤º `Makefile:14: *** BL_SDK_PATH not found, please enter: export BL_SDK_PATH {sdk_path}. Stop.`ï¼ŒæŸ¥çœ‹ [é…ç½®ç¼–è¯‘å·¥å…·é“¾è·¯å¾„](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E9%85%8D%E7%BD%AE%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7%E9%93%BE%E8%B7%AF%E5%BE%84) æ¥é…ç½®è‡ªå·±çš„ BL_SDK_PATHã€‚ 2. ç¼–è¯‘å‡ºé”™ æ³¨æ„ç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨çš„å‘½ä»¤ä¸º `./build.sh demo_name`ï¼Œæ¯”å¦‚ `./build.sh hello_world`ï¼Œè€Œä¸æ˜¯ `./build.sh hello_world/` ï¼ˆæ³¨æ„æœ€åŽé¢çš„è·¯å¾„ç¬¦å·`/`ï¼‰ ## WIFI ä¸²æµæ‘„åƒå¤´ DEMO ä¸€ä¸ªç®€å•çš„æ— çº¿ä¸²æµ Demo ### è½¯ä»¶çŽ¯å¢ƒ ç½‘ç»œçŽ¯å¢ƒï¼š PC ä¸Žæ¿å¡éœ€è¦åœ¨åŒä¸€ç½‘ç»œçŽ¯å¢ƒä¸­ï¼›M1s Dock æ”¯æŒ 2.4G æ— çº¿ç½‘ç»œ PC è½¯ä»¶çŽ¯å¢ƒï¼š`python3`ï¼Œ `OpenCV` æ¿å¡å›ºä»¶è¦æ±‚ï¼šè¦æ±‚ [Firmware](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/factory) å›ºä»¶ä¸º `firmware_20230227.bin`ï¼Œé€šè¿‡çƒ§å½•æ–¹æ³•ä¸­çš„ [ä¸²å£çƒ§å½•](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E4%B8%B2%E5%8F%A3%E7%83%A7%E5%BD%95) è¯´æ˜Žçš„å†…å®¹çƒ§å½• [Firmware](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/factory) å›ºä»¶ ![camera_stream_e907](./assets/start/camera_stream_e907.png) ### ä»£ç ä¿®æ”¹ æ‰“å¼€ä¾‹ç¨‹è·¯å¾„ `M1s_BL808_example/c906_app/camera_streaming_through_wifi` ä¸­çš„ `main.c` æ–‡ä»¶ã€‚ ![camera_stream_original_source_code](./assets/start/camera_stream_original_source_code.png) æ³¨æ„åˆ°é‡Œé¢çš„ `m1s_xram_wifi_connect()` å’Œ `m1s_xram_wifi_upload_stream()` å‡½æ•°ã€‚ æ‰‹åŠ¨å°† `liuxo_desktop` è¦è¿žæŽ¥åˆ°çš„ PC å·²ç»è¿žæŽ¥ä¸Šçš„ç½‘ç»œï¼Œå¹¶ä¸”å°† `12345678` æ›´æ”¹ä¸ºç›®æ ‡ç½‘ç»œçš„è¿žæŽ¥å¯†ç ã€‚ å°† `10.42.0.1` æ›¿æ¢æˆ PC æ‰€åœ¨ç›®æ ‡ç½‘ç»œä¸­çš„ IP åœ°å€ã€‚ æ¯”å¦‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼ŒPC æ‰€åœ¨çš„åä¸º `Test` ç½‘ç»œä¸­çš„ IP ä¸º `192.168.43.183`ï¼Œå¹¶ä¸”åä¸º `Test` çš„æ— çº¿ç½‘ç»œå¯†ç æ˜¯ `testtest`ã€‚ ![camera_stream_source_code](./assets/start/camera_stream_source_code.png) ç¼–è¾‘å®Œ `main.c` æ–‡ä»¶åŽè®°å¾—ä¿å­˜ä¸€ä¸‹ã€‚ ### å›ºä»¶ç¼–è¯‘å’Œçƒ§å½• ä¿®æ”¹ä»£ç ä¸”ä¿å­˜åŽï¼Œæ ¹æ®ä¸Šé¢çš„ [SDK ç¼–è¯‘è¯´æ˜Ž](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#SDK %E7%BC%96%E8%AF%91) æ¥ç¼–è¯‘ `camera_streaming_through_wifi` è¿™ä¸ªä¾‹ç¨‹ã€‚ å°†ç¼–è¯‘å¾—åˆ°çš„ `d0fw.bin` å›ºä»¶é€šè¿‡ U ç›˜çƒ§å½•çš„æ–¹å¼æ¥å¿«é€Ÿçš„çƒ§å…¥åˆ° M1s Dock é‡Œé¢ï¼Œæ‰“å¼€å¤§å·ä¸²å£ï¼ŒæŒ‰ä¸‹æ¿å­ä¸Šé¢çš„å¤ä½é”®ã€‚ åœ¨æ¿å­æˆåŠŸè¿žæŽ¥åˆ°ç½‘ç»œåŽå®ƒä¼šåœ¨å¤§å·ä¸²å£æ‰“å°å‡ºè‡ªå·±çš„ IP ä¿¡æ¯ï¼Œå¹¶ä¸” `Socket connect` è¡¨ç¤ºæ­£åœ¨ç­‰å¾… PC ç«¯åº”ç­”ã€‚ ![camera_stream_socket_wait](./assets/start/camera_stream_socket_wait.png) ### PC æ˜¾ç¤ºæµ åœ¨ `M1s_BL808_example/c906_app/camera_streaming_through_wifi` è·¯å¾„ä¸‹ï¼Œç›´æŽ¥æ‰§è¡Œå‘½ä»¤ `python3 main.py` æ¥ä½¿ç”¨ python æŽ¥æ”¶ M1s dock çš„æµå¹¶ä¸”è°ƒç”¨ opencv æ¥æ˜¾ç¤ºç”»é¢ã€‚ ![camera_stream_success](./assets/start/camera_stream_success.png) ### æ³¨æ„äº‹é¡¹ 1. ç¡®è®¤è‡ªå·±å¯¹ M1s Dock çƒ§å½•äº†ä¿®å¤ bug åŽçš„ [firmware_20230227.bin](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/factory) å›ºä»¶ 2. ç¡®å®šæ¿å­è¿žæŽ¥åˆ°äº†ç›®æ ‡ç½‘ç»œï¼›æˆåŠŸè¿žæŽ¥åˆ°ç½‘ç»œåŽæ¿å­çš„å¤§å·ä¸²å£ä¼šæ˜¾ç¤ºå‡ºæ¿å¡çš„ IP åœ°å€ 3. ç¡®å®šæ¿å­ä¸Ž PC åœ¨åŒä¸€ç½‘ç»œï¼Œä¸”æ­£ç¡®åœ°ä¿®æ”¹äº† `main.c` ä¸­ PC çš„ IPV4 åœ°å€ ## Linux Demo è¿™æ˜¯ä¸€ä¸ªèƒ½åœ¨ M1s Dock ä¸Šèƒ½è¿è¡Œèµ·æ¥çš„ç®€æ˜“ Linux Demoã€‚ [ç‚¹æˆ‘](https://dl.sipeed.com/fileList/MAIX/M1s/M1s_Dock/7_Firmware/m1sdock_linux_20221116.zip) ä¸‹è½½ Linux ä¾‹å­ï¼ŒæŒ‰ç…§åŽ‹ç¼©åŒ…é‡Œé¢ `steps.md` æ“ä½œæ­¥éª¤å®Œæˆ Linux ç³»ç»Ÿçƒ§å½•ã€‚ ![linux_opensbi](./assets/start/linux_opensbi.jpg) ä½¿ç”¨ `root` ç™»å½• ![linux_login](./assets/start/linux_login.jpg) æŸ¥çœ‹ CPU ä¿¡æ¯ ![linux_cpuinfo](./assets/start/linux_cpuinfo.jpg) ç›¸å…³çš„ Linux SDK å‰å¾€ [github](https://github.com/sipeed/M1s_BL808_Linux_SDK) æŸ¥çœ‹ã€‚ ## ä½¿ç”¨ Jtag å¯ä»¥åœ¨[æ·˜å®åº—é“º](https://sipeed.taobao.com/)è´­ä¹°åˆ° Jtag è°ƒè¯•å™¨æ¥è°ƒè¯• M1s Dock. ![cklink_appearence](./assets/start/cklink_appearence.jpg) ### è¿žæŽ¥è®¾å¤‡ å°† Jtag æ’å…¥åˆ°æ¿å­çš„ TF å¡æ§½ä¸­æ¥è¿žæŽ¥è®¾å¤‡ã€‚è‡ªå¼¹å¼ TF å¡æ§½å¯ä»¥è‡ªåŠ¨å›ºå®šè¿žæŽ¥ï¼Œå°½é‡å‡å°‘ç¡¬æ’æ‹”é¿å… TF å¡æ§½æŸåã€‚ è¿žæŽ¥åŽçš„æ ·å¼å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ![cklink_connect_side](./assets/start/cklink_connect_side.jpg) ![cklink_connect_top](./assets/start/cklink_connect_top.jpg) è°ƒè¯•å™¨å’Œ M1s Dock çš„ UART å£éƒ½éœ€è¦ä¸Žç”µè„‘è¿žæŽ¥ä¸Šï¼ˆå¦‚ä¸Šå›¾ï¼Œæ¿å­ä¸Šçš„ UART å£å’Œè°ƒè¯•å™¨éƒ½è¿žæŽ¥äº†ç”µè„‘ï¼‰ï¼›ä»…è°ƒè¯•å™¨è¿žæŽ¥ç”µè„‘ä¼šå› ä¸ºéœ€è¦ç»™ M1s Dock ä¾›ç”µè€Œå¯¼è‡´è°ƒè¯•å™¨å¾ˆçƒ«ï¼Œå¹¶ä¸”æˆ‘ä»¬éœ€è¦é€šè¿‡ä¸²å£åœ¨ M1s Dock ä¸Šå¼€å¯ Jtag åŠŸèƒ½æ‰èƒ½è°ƒè¯•ã€‚ ### å®‰è£…é©±åŠ¨ å‰å¾€ [ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/9_Driver/cklink) ä¸‹è½½é€‚åˆè‡ªå·±ç”µè„‘çš„é©±åŠ¨ã€‚ #### Windows è§£åŽ‹ `T Head DebugServer windows` åŽ‹ç¼©åŒ…åŽï¼Œè¿è¡Œè§£åŽ‹åŽçš„ `Setup` ç¨‹åºæ¥å®‰è£…é©±åŠ¨ã€‚ ![cklink_windows_install_driver](./assets/start/cklink_windows_install_driver.jpg) åœ¨ç¡®å®šå®‰è£…ç›®å½•ç•Œé¢ï¼Œå»ºè®®ä¸è¦æ›´æ”¹é»˜è®¤çš„å®‰è£…ä½ç½®ã€‚é¿å…å› é”™è¯¯å®‰è£…åˆ°æ ¹ç›®å½•åŽï¼Œå¸è½½è¯¥ç¨‹åºå¯¼è‡´å…¨ç›˜æ¸…ç©ºçš„æ‚²å‰§ã€‚ ![cklink_windows_driver_path](./assets/start/cklink_windows_driver_path.jpg) å…¨éƒ¨éƒ½å®‰è£…ï¼Œé¿å…ä»¥åŽè¿˜éœ€è¦åˆ«çš„ç»„ä»¶ã€‚ ![cklink_windows_driver_components](./assets/start/cklink_windows_driver_components.jpg) å®‰è£…ç»“æŸåŽï¼Œè¿žæŽ¥ä¸Šäº†è°ƒè¯•å™¨çš„è¯å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­çœ‹åˆ°æœ‰ `CKlink Lite`ã€‚ ![cklink_windows_driver_device_manager](./assets/start/cklink_windows_driver_device_manager.jpg) æ¡Œé¢ä¸Šæœ‰ä¸€ä¸ªè°ƒè¯•è½¯ä»¶çš„å›¾æ ‡ã€‚ ![cklink_windows_driver_desktop_icon](./assets/start/cklink_windows_driver_desktop_icon.jpg) #### Linux èŽ·å¾—é©±åŠ¨ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/9_Driver/cklink) ![cklink_linux_list_file](./assets/start/cklink_linux_list_file.jpg) è§£åŽ‹æ‰€ä¸‹è½½çš„åŽ‹ç¼©æ–‡ä»¶ã€‚ ```bash tar xvf T Head DebugServer* ``` ç„¶åŽå½“å‰ç›®å½•ä¸‹ä¼šå¤šå‡ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶ã€‚ ![cklink_linux_list_shell_file](./assets/start/cklink_linux_list_shell_file.jpg) æ‰§è¡Œä¸€ä¸‹è„šæœ¬ï¼Œä¼šæ˜¾ç¤ºè¯´æ˜Žï¼Œå¯ä»¥çŸ¥é“åœ¨è„šæœ¬åŽé¢åŠ ä¸Š ` i` ä¼šå®‰è£…è½¯ä»¶ï¼ŒåŠ ä¸Š ` u` ä¼šå¸è½½è½¯ä»¶ã€‚ ``` ./T Head DebugServer linux x86_64 V5.16.5 20221021.sh ``` ![cklink_linux_script_help](./assets/start/cklink_linux_script_help.jpg) å¼€å§‹å®‰è£…é©±åŠ¨ï¼š ``` sudo ./T Head DebugServer linux x86_64 V5.16.5 20221021.sh i ``` ![cklink_linux_installation](./assets/start/cklink_linux_installation.jpg) ä¸Šå›¾ä¸­æœ‰ä¸¤å¤„æ˜¯æˆ‘ä»¬æ‰‹åŠ¨è¾“å…¥çš„ `yes` ï¼Œåœ¨ `Set full installing path` å¤„ç›´æŽ¥å›žè½¦ç¡®è®¤çš„è¯å®ƒä¼šè¢«å®‰è£…åˆ°é»˜è®¤è·¯å¾„ä¸‹ï¼Œæœ‰éœ€è¦çš„è¯è‡ªå·±æŒ‡å®šä¸€ä¸‹å®‰è£…è·¯å¾„ã€‚ å®‰è£…å®ŒåŽä½¿ç”¨ `lsusb` å¯ä»¥æŸ¥çœ‹åˆ° `CKlink Lite` è®¾å¤‡ã€‚ ![cklink_linux_lsusb](./assets/start/cklink_linux_lsusb.jpg) ### è°ƒè¯•è®¾å¤‡ åœ¨è°ƒè¯•è®¾å¤‡å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆé€šè¿‡ M1s Dock ä¸Šé¢çš„å¤§å·ä¸²å£æ¥æ“ä½œæ¿å­ï¼Œå¼€å¯æ¿å­çš„è°ƒè¯•åŠŸèƒ½ã€‚ ![cklink_jtag_serial_choice](./assets/start/cklink_jtag_serial_choice.jpg) ![cklink_jtag_choice](./assets/start/cklink_jtag_choice.jpg) ä»Žä¸Šé¢å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ª jtag é€‰é¡¹ï¼Œæ‰§è¡Œ `jtag_cpu0` å°±ä¼šå¯¹ C906 æ ¸å¿ƒè¿›è¡Œè°ƒè¯•ï¼Œæ‰§è¡Œ `jtag_m0` å°±æ˜¯å¯¹ E907 æ ¸å¿ƒè¿›è¡Œè°ƒè¯•ã€‚ ![cklink_jtag_c906](./assets/start/cklink_jtag_c906.jpg) ![cklink_jtag_e907](./assets/start/cklink_jtag_e907.jpg) #### Windows è¿è¡Œå‰é¢å®‰è£…é©±åŠ¨åŽåœ¨æ¡Œé¢ä¸Šçš„ T HeadDebugServer ç¨‹åºï¼Œå‡ºçŽ°ä¸‹é¢çš„æç¤ºçš„è¯è¯´æ˜Žæ²¡æœ‰è¿žæŽ¥ä¸Šè®¾å¤‡ï¼Œå¯ä»¥è‡ªå·±æ£€æŸ¥ï¼š ç¡®å®šå·²ç»åœ¨ä¸²å£é‡Œé¢ä½¿èƒ½äº†æ ¸å¿ƒçš„ jtag è°ƒè¯• è®¾å¤‡ç®¡ç†å™¨é‡Œé¢çš„ `CKlink Lite` è®¾å¤‡ï¼Œæ²¡æœ‰çš„è¯æ£€æŸ¥æ ¸å¿ƒæ¿ä¸Žç”µè„‘çš„è¿žæŽ¥æƒ…å†µæˆ–è€…é‡æ–°å®‰è£…é©±åŠ¨ è°ƒè¯•å™¨å·²ç»è¢«å…¶ä»– T HeadDebugServer ç¨‹åºæ‰“å¼€ ![cklink_jtag_windows_no_target](./assets/start/cklink_jtag_windows_no_target.jpg) ç‚¹å‡»ä¸‹å›¾ç®­å¤´æŒ‡å‘çš„ ä¸‰è§’æ ‡å¿— å¯ä»¥è¿žæŽ¥è®¾å¤‡ï¼š ![cklink_jtag_windows_run_debugger](./assets/start/cklink_jtag_windows_run_debugger.jpg) å‡ºçŽ°ä¸‹å›¾æ‰€ç¤ºçš„ Failed çš„è¯è¯´æ˜Žè¿žæŽ¥å¤±è´¥ï¼Œç«¯å£ä¸å¯ç”¨ï¼Œå¯ä»¥è‡ªå·±è®¾ç½®ç«¯å£æ¥è¿žæŽ¥è®¾å¤‡ã€‚ ![cklink_jtag_windows_no_port](./assets/start/cklink_jtag_windows_no_port.jpg) é€‰æ‹© Socket Settingï¼Œè®¾ç½®åˆé€‚çš„ç«¯å£ã€‚ ![cklink_jtag_windows_set_socket](./assets/start/cklink_jtag_windows_set_socket.jpg) ![cklink_jtag_windows_set_socket_1](./assets/start/cklink_jtag_windows_set_socket_1.jpg) æˆåŠŸè¿žæŽ¥ä¸Šçš„è¯ç®­å¤´æ‰€æŒ‡çš„åœ°æ–¹ä¼šä»Ž ä¸‰è§’å½¢ å˜æˆ åœ†å½¢ã€‚ ![cklink_jtag_windows_success_connection](./assets/start/cklink_jtag_windows_success_connection.jpg) åˆ°è¿™é‡Œå·²ç»å®Œæˆè¿žæŽ¥äº†ï¼Œä¸Šé¢çš„å›¾é‡Œæ˜¯ä½¿ç”¨ `jtag_m0` å‘½ä»¤æ¥è°ƒè¯• E907 æ ¸å¿ƒï¼Œéœ€è¦çš„è¯å¯ä»¥ä½¿ç”¨ `jtag_cpu0` å‘½ä»¤æ›´æ”¹æˆè°ƒè¯• C906 æ ¸å¿ƒã€‚ æŽ¥ä¸‹æ¥å°±å¯ä»¥ç”¨ gdb ç­‰å·¥å…·æ¥è°ƒè¯•äº†ã€‚ ![cklink_jtag_windows_gdb_debug](./assets/start/cklink_jtag_windows_gdb_debug.jpg) æ­¤å¤–ï¼Œåœ¨è°ƒè¯•å·¥å…·çš„å®‰è£…ç›®å½•ä¸‹ï¼Œæœ‰å‘½ä»¤è¡Œç¨‹åº `DebugServerConsole`ã€‚ ![cklink_jtag_windows_debugserverconsole](./assets/start/cklink_jtag_windows_debugserverconsole.jpg) ä½¿ç”¨å‘½ä»¤è¡Œæ‰§è¡Œå¯ä»¥çœ‹åˆ°ç”¨æ³•å¹¶ä¸”æ“ä½œå®ƒã€‚ ```bash .\\DebugServerConsole.exe h ``` ![cklink_jtag_windows_debugserverconsole_help](./assets/start/cklink_jtag_windows_debugserverconsole_help.jpg) ```bash .\\DebugServerConsole.exe port 65535 ``` ![cklink_jtag_windows_debugserverconsole_port](./assets/start/cklink_jtag_windows_debugserverconsole_port.jpg) å°±å¯ä»¥é€šè¿‡ 65535 ç«¯å£æ¥è°ƒè¯•äº†ã€‚ #### Linux ä½¿ç”¨ `DebugServerConsole h` å¯ä»¥æŸ¥çœ‹ä½¿ç”¨å¸®åŠ©ã€‚ ![cklink_jtag_linux_debugserverconsole_help](./assets/start/cklink_jtag_linux_debugserverconsole_help.jpg) åœ¨å‘½ä»¤è¡Œè¿è¡Œå‘½ä»¤åŽï¼Œå¯ä»¥é€šè¿‡ 12345 ç«¯å£æ¥è°ƒè¯•äº†ã€‚ ```bash DebugServerConsole port 12345 ``` ![cklink_jtag_linux_debugserverconsole](./assets/start/cklink_jtag_linux_debugserverconsole.jpg) ## blai npu ### æ”¯æŒç®—å­ <table> <thead> <tr> <th>Type</th> <th>Operators</th> <th>Applicable Subset Spec.</th> <th>Processor</th> </tr> </thead> <tbody> <tr> <td rowspan \"10\">Convolution</td> <td rowspan \"4\">Conv </td> <td>Kernel: 1x1,3x3,5x5,7x7</td> <td rowspan \"4\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td>Dilation: 1x1, 2x2</td> </tr> <tr> <td>Pad: same</td> </tr> <tr> <td rowspan \"4\">Depthwise Conv</td> <td>Kernel: 1x1,3x3 (5x5, 7x7 TBD)</td> <td rowspan \"4\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td>Dilation: 1x1 (2x2 TBD)</td> </tr> <tr> <td>Pad: same</td> </tr> <tr> <td rowspan \"2\">Transpose Conv</td> <td>Kernel: 3x3</td> <td rowspan \"2\">strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 2x2</td> </tr> <tr> <td rowspan \"4\">Pooling</td> <td rowspan \"2\">MaxPool (NPU TBD)</td> <td>Kerenl: 2x2</td> <td rowspan \"2\">DSP</td> </tr> <tr> <td>Stride: 2x2</td> </tr> <tr> <td rowspan \"2\">MaxPool</td> <td>Kerenl: 3x3</td> <td rowspan \"2\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td rowspan \"2\">Activation</td> <td>Relu</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Relu 6</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td rowspan \"5\">Other processing</td> <td>BatchNormalization</td> <td>fused with conv</td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Add (shortcut)</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Concat (route)</td> <td>Channel wise (AXIS 3 in BHWC)</td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Fully Connected</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Upsample</td> <td>Nearest</td> <td>:strong:<code>NPU</code></td> </tr> </tbody> </table> ### blai_mnist_demo ç¼–è¯‘ä¹‹åŽä½¿ç”¨ U ç›˜æ‹–æ‹½çƒ§å½•çš„æ–¹æ³•å°†ç¼–è¯‘å‡ºæ¥çš„[å›ºä»¶](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/demo_bin/blai_mnist_demo)çƒ§å½•è¿›æ¿å­ã€‚å‰é¢è¯´è¿‡ç¼–è¯‘å‡ºæ¥çš„å›ºä»¶åç§°éƒ½æ˜¯ `d0fw.bin`ï¼Œä¸”ä½äºŽ `M1s_BL808_example/c906_app/built_out` æ–‡ä»¶å¤¹ä¸‹ã€‚ ``` #c906_app ./build.sh blai_mnist_demo ``` ![udisk_burn](./assets/start/udisk_burn.gif) çƒ§å½•è¿›åŽ»åŽï¼ˆU ç›˜è‡ªåŠ¨å¼¹å‡ºå°±è¡¨ç¤ºçƒ§å½•å®Œæˆï¼‰æŒ‰ä¸‹ RST æŒ‰é”®å¤ä½èŠ¯ç‰‡æ¥é‡æ–°åŠ è½½å›ºä»¶ï¼Œæ­¤æ—¶æŸ¥çœ‹é€šè¿‡ä¸²å£å·è¾ƒå°çš„ä¸²å£ï¼ˆè®°ä½æ³¢ç‰¹çŽ‡ä¸º 2000000ï¼‰æŸ¥çœ‹ä¼šå‘çŽ°æç¤ºåŠ è½½æ¨¡åž‹å¤±è´¥ã€‚ ![blai_mnist_demo_no_model](./assets/start/blai_mnist_demo_no_model.jpg) å› æ­¤æˆ‘ä»¬è¦å°†æ¨¡åž‹ä¸Šä¼ åˆ°æ¨¡åž‹ï¼Œä»Žæºç ä¸­å¯ä»¥çœ‹åˆ°å¯¹äºŽè¿™ä¸ª demo æˆ‘ä»¬è¦å°†æ¨¡åž‹å­˜æ”¾åˆ° flash ä¸­ã€‚ ![blai_mnist_demo_fopen](./assets/start/blai_mnist_demo_fopen.jpg) ç„¶åŽå°†æ¿å­çš„ OTG å£ä¸Žç”µè„‘è¿žæŽ¥çš„è¯ä¼šçœ‹åˆ°ä¸€ä¸ªå¤§å°ä¸º 7M çš„ U ç›˜ã€‚ ![blai_mnist_demo_flash_disk](./assets/start/blai_mnist_demo_flash_disk.jpg) æŒ‰ç…§æºç çš„è¦æ±‚æŠŠæ–‡ä»¶å­˜è¿›åŽ»ï¼šåœ¨ U ç›˜é‡Œæ–°å»ºä¸€ä¸ª models æ–‡ä»¶å¤¹ï¼Œç„¶åŽå°† [mnist.blai](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/demo_bin/blai_mnist_demo) æ¨¡åž‹æ–‡ä»¶å­˜æ”¾è¿›åŽ»ã€‚ ```bash models â””â”€â”€ mnist.blai ``` ![blai_mnist_demo_model_path](./assets/start/blai_mnist_demo_model_path.jpg) æŒ‰ä¸‹æ¿å­ä¸Šçš„å¤ä½é”®(RST)ï¼Œå¤ä½æ¿å¡ç¨‹åºæ¥ä½¿æ¿å¡é‡æ–°åŠ è½½æ¨¡åž‹ã€‚ å°å·ä¸²å£æ˜¾ç¤ºæ¨¡åž‹åŠ è½½æˆåŠŸï¼Œå¹¶ä¸”æ˜¾ç¤ºæ¿å­è¯†åˆ«æ•°å­—ç»“æžœã€‚æ¿å­å±å¹•æ˜¾ç¤ºæ‘„åƒå¤´æ•èŽ·åˆ°çš„ç”»é¢ï¼Œä¸”ä¹Ÿæ˜¾ç¤ºè¯†åˆ«ç»“æžœã€‚ ![blai_mnist_demo_uart](./assets/start/blai_mnist_demo_uart.jpg) ![blai_mnist_demo_recognition](./assets/start/blai_mnist_demo_recognition.jpg) ### tom_and_jerry_classification_demo è¿™æ˜¯ä¸€ä¸ªåœ¨ [MaixHub](https://maixhub.com/model/zoo/127) ä¸Šå¯ä¸‹è½½çš„æ¨¡åž‹æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™ç›´æŽ¥ä¸Šä¼ æ•°æ®é›†ã€æ ‡æ³¨å’Œç”Ÿæˆæ¨¡åž‹æ–‡ä»¶å†éƒ¨ç½²åˆ°æ¿å¡ä¸Šï¼Œè¿™é‡Œå™è¿°ä¸€ä¸‹æ€Žä¹ˆæ ·å°†åœ¨ [MaixHub](https://maixhub.com/) æ‰€ä¸‹è½½çš„æ¨¡åž‹éƒ¨ç½²åˆ° M1s Dock ä¸Šã€‚ é¦–å…ˆæ ¹æ®å‰é¢æ­å»º SDK çŽ¯å¢ƒæ‰€æè¿°çš„å†…å®¹ï¼Œç¼–è¯‘å‡º [tom_and_jerry_classification_demo](https://dl.sipeed.com/fileList/MAIX/M1s/M1s_Dock/7_Firmware/demo_bin/tom_and_jerry_classification_demo.bin) è¿™ä¸ªä¾‹ç¨‹å›ºä»¶ã€‚ ```bash #c906_app ./build.sh tom_and_jerry_classification_demo ``` ç„¶åŽé€šè¿‡ U ç›˜æ‹–æ‹½çƒ§å½•çš„æ–¹æ³•å°†ç¼–è¯‘å‡ºæ¥çš„å›ºä»¶çƒ§å½•è¿›æ¿å­ã€‚ ![udisk_burn](./assets/start/udisk_burn.gif) åœ¨ tom_and_jerry_classification_demo é‡Œé¢çš„ `main.c` æºç ä¸­å¯ä»¥æ‰€åŠ è½½çš„æ¨¡åž‹åœ¨ Flash é‡Œé¢çš„ models æ–‡ä»¶å¤¹é‡Œé¢ï¼Œä¸”æ¨¡åž‹åç§°ä¸º `tj.blai`ã€‚ ![tom_jerry_source_code](./assets/start/tom_jerry_source_code.jpg) æ‰€ä»¥æˆ‘ä»¬åœ¨ [MaixHub](https://maixhub.com/model/zoo/127) ä¸‹è½½åˆ°è¿™ä¸ªä¾‹ç¨‹æ¨¡åž‹åŽï¼Œè§£åŽ‹å¹¶å°†é‡Œé¢æ‹“å±•åä¸º `.blai` çš„æ–‡ä»¶é‡å‘½åä¸º `tj.blai`ã€‚ ![tom_jerry_model_rename](./assets/start/tom_jerry_model_rename.gif) ç„¶åŽå°†æ¿å­çš„ OTG å£ä¸Žç”µè„‘è¿žæŽ¥çš„è¯ä¼šçœ‹åˆ°ä¸€ä¸ªå¤§å°ä¸º 7M çš„ U ç›˜ã€‚ ![blai_mnist_demo_flash_disk](./assets/start/blai_mnist_demo_flash_disk.jpg) æŒ‰ç…§æºç è¦æ±‚æŠŠä¸Šé¢é‡å‘½ååŽæ‰€å¾—åˆ°çš„ `tj.blai` æ–‡ä»¶å­˜æ”¾åˆ° U ç›˜çš„ models æ–‡ä»¶å¤¹ä¸‹ï¼šåœ¨ U ç›˜é‡Œæ–°å»ºä¸€ä¸ª models æ–‡ä»¶å¤¹ï¼Œç„¶åŽå°† `tj.blai` è¿™ä¸ªæ¨¡åž‹æ–‡ä»¶å­˜æ”¾è¿›æ‰€åˆ›å»ºçš„ models æ–‡ä»¶å¤¹ä¸­ ã€‚ ![tom_jerry_model_path](./assets/start/tom_jerry_model_path.jpg) ç„¶åŽå°±å¯ä»¥ä½¿ç”¨ M1S Dock æ¥åˆ†è¾¨ Tom å’Œ Jerry äº†ã€‚ <img src \"./assets/start/tom_jerry_model_jerry.jpg\" alt \"tom_jerry_model_jerry\" width 42%> <img src \"./assets/start/tom_jerry_model_tom.jpg\" alt \"tom_jerry_model_tom\" width 42%> å› ä¸ºæ¨¡åž‹æ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥è¯†åˆ«ç•¥æœ‰åŽ‹åŠ›ã€‚ ## å¸¸è§è§£ç­” ### æ¿å­ä¸Šä¸ºä»€ä¹ˆæœ‰ä¸€ä¸ªé¢å¤–çš„ BL702 èŠ¯ç‰‡ BL702 èŠ¯ç‰‡åœ¨è¿™é‡Œæ‹…ä»»ç€ USB è½¬åŒä¸²å£èŠ¯ç‰‡åŠŸèƒ½ã€‚ å› æ­¤æœ‰æ—¶å€™ä¸²å£å¼‚å¸¸çš„è¯ï¼Œå¯ä»¥ä¸Šç”µå‰æŒ‰ä½ BOOT æŒ‰é”®æ¥ç»™ BL702 é‡æ–°çƒ§å½•ä¸€ä¸‹ USB è½¬åŒä¸²å£çš„å›ºä»¶ã€‚ ### ä¸ºä»€ä¹ˆè¦ç”¨åŒä¸²å£ æ ¹æ® BL808 çš„æ‰‹å†Œå¯ä»¥çŸ¥é“é‡Œé¢æœ‰ä¸‰é¢—æ ¸å¿ƒï¼ŒåŒä¸²å£åˆ†åˆ«è¿žæŽ¥åˆ°äº†å…¶ä¸­çš„ä¸¤é¢—æ ¸å¿ƒï¼Œå¯ä»¥è‡ªå·±ä½“éªŒå¼‚æž„æ ¸å¿ƒçš„æ‰§è¡Œé¡ºåºã€‚ ### ä¸ºä»€ä¹ˆç”¨è™šæ‹Ÿ U ç›˜ è™šæ‹Ÿ U ç›˜æ˜¯åŸºäºŽå›ºä»¶å‡ºæ¥çš„ï¼Œç›®çš„æ˜¯æ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿçƒ§å½•ä½“éªŒ Demoã€‚ æŠŠ BL808 é‡Œé¢çš„å…¨éƒ¨å›ºä»¶æ“¦é™¤åŽï¼Œå°±ä¸ä¼šå†æœ‰è™šæ‹Ÿ U ç›˜äº†ã€‚ æƒ³è¦å†æ¬¡ä½¿ç”¨è™šæ‹Ÿ U ç›˜çš„è¯ï¼ŒæŒ‰ç…§æ–‡æ¡£é‡æ–°ä½¿ç”¨ä¸²å£çƒ§å½•çš„æ–¹æ³•é‡æ–°çƒ§å½•ä¸€ä¸‹é»˜è®¤çš„å›ºä»¶å°±è¡Œäº†ã€‚ ### ä¸ºä»€ä¹ˆè¦è¯´æ˜Žä¸²å£çƒ§å½• è™šæ‹Ÿ U ç›˜æ˜¯åŸºäºŽå›ºä»¶çš„ï¼Œæƒ³è¦çƒ§å½•è¿™ä¸ªå›ºä»¶å°±å¿…é¡»æœ‰ä¸€ç§çƒ§å½•æ–¹å¼å°†å®ƒçƒ§å½•è¿›æ¿å­ã€‚ è¿™é‡Œæˆ‘ä»¬ç”¨ä¸²å£çƒ§å½•çš„æ–¹æ³•æ¥çƒ§å½•æœ€åŸºç¡€çš„å›ºä»¶åˆ°èŠ¯ç‰‡é‡Œé¢çš„ FLASH ä¸­ã€‚ ### æ€Žä¹ˆæ ·æ“¦é™¤ bl808 çš„å›ºä»¶ æ“¦é™¤å›ºä»¶éœ€è¦ä½¿ç”¨åˆ° [Bouffalo Lab Dev Cube](https://dev.bouffalolab.com/download) è¿™æ¬¾è½¯ä»¶ï¼Œåœ¨æ‰“å¼€è½¯ä»¶åŽé€‰æ‹© BL808 èŠ¯ç‰‡åž‹å·ã€‚ ![chip_selection](./assets/start/chip_selection.png) é¦–å…ˆåœ¨è½¯ä»¶é‡Œé¢ç‚¹å¼€é«˜çº§æ¨¡å¼ ![erase_advanede_mode](./assets/start/erase_advanede_mode.jpg) é€‰æ‹© FLASH ç•Œé¢ç„¶åŽä½¿æ¿å­è¿›å…¥ä¸‹è½½æ¨¡å¼ï¼ˆæŒ‰ä½æ¿å­ä¸Šçš„ BOOT é”®å’Œ RST é”®ï¼Œ ç„¶åŽå…ˆæ¾å¼€ RST é”®å†æ¾å¼€ BOOT é”®ï¼‰ï¼Œé€‰æ‹©ä¸²å£å·è¾ƒå¤§çš„ä¸²å£ï¼Œå‹¾é€‰ Whole Chipï¼Œç‚¹å‡» `Erase Flash` å¼€å§‹æ“¦é™¤ã€‚ ![erase_configurations](./assets/start/erase_configurations.jpg) æ“¦é™¤çš„æ—¶å€™æ²¡æœ‰è¿›åº¦æ¡ï¼Œæ“¦é™¤å®Œæˆçš„æ—¶å€™ä¼šç›´æŽ¥æ˜¾ç¤º SUCCESSã€‚ ![erase_success](./assets/start/erase_success.jpg) ### çƒ§å½• BL808 æ—¶å€™æç¤º BFLB IMG LOAD SHAKEHAND FAIL è¿™ç§æƒ…å†µæ˜¯æ¿å­çš„ bl808 æ²¡æœ‰è¿›å…¥ä¸‹è½½æ¨¡å¼ï¼Œç¡®å®šè‡ªå·±åœ¨æ¿å­åœ¨è¿è¡Œæ—¶ï¼ˆå·²ç»é€šç”µï¼‰è‡ªå·±åŒæ—¶æŒ‰ä¸‹ RST æŒ‰é”®å’Œ BOOT æŒ‰é”®ï¼Œç„¶åŽå…ˆæ¾å¼€ RST é”®åŽæ¾å¼€ BOOT é”®æ¥æ—¶ bl808 è¿›å…¥ä¸‹è½½æ¨¡å¼ã€‚ ![uart_burn_bl808_shakehand_fail](./assets/start/uart_burn_bl808_shakehand_fail.jpg) å¹¶ä¸”ç¡®å®šè‡ªå·±åœ¨ä¸‹è½½çš„æ—¶å€™é€‰æ‹©çš„æ˜¯ä¸²å£å·å¤§çš„é‚£ä¸€ä¸ªä¸²å£ï¼Œè€Œä¸æ˜¯å°å·ä¸²å£ã€‚ ![uart_burn_bl808_shakehand_fail_com_port](./assets/start/uart_burn_bl808_shakehand_fail_com_port.jpg) ### çƒ§å½• BL808 æ—¶å€™åªçœ‹åˆ°ä¸€ä¸ªä¸²å£ è¿™ç§æƒ…å†µæ˜¯è¿›å…¥äº†æ¿è½½ bl702 ä¸‹è½½æ¨¡å¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸åº”è¯¥æŒ‰ä½ BOOT é”®ç„¶åŽç»™æ¿å­é€šç”µï¼Œè¿™æ ·ä¼šè¿›å…¥ bl702 çš„ä¸‹è½½æ¨¡å¼ï¼Œåªæœ‰ä¸€ä¸ªä¸²å£æ˜¾ç¤ºåœ¨ç”µè„‘ä¸­ã€‚ç»™ bl808 é€šè¿‡ä¸²å£çƒ§å½•æ˜¯åœ¨æ¿å­é€šç”µåŽï¼ŒåŒæ—¶æŒ‰ä¸‹ RST æŒ‰é”®å’Œ BOOT æŒ‰é”®ï¼Œç„¶åŽå…ˆæ¾å¼€ RST é”®åŽæ¾å¼€ BOOT é”®æ¥æ—¶ bl808 è¿›å…¥ä¸‹è½½æ¨¡å¼ã€‚ ![uart_burn_bl808_only_one_port](./assets/start/uart_burn_bl808_only_one_port.jpg) ### çƒ§å½• BL808 æ—¶å€™æ²¡æœ‰ä¸²å£è®¾å¤‡ ç¡®å®šè‡ªå·±è¿žæŽ¥çš„æ˜¯æ¿å­ä¸Šçš„ UART æŽ¥å£ï¼Œæ¢ä¸€æ ¹æ•°æ®çº¿æˆ–è€…è¿žæŽ¥ç”µè„‘å¦ä¸€ä¸ª USB å£ã€‚ ![uart_burn_bl808_only_one_port](./assets/start/uart_burn_bl808_only_one_port.jpg) ### çƒ§å½• BL808 æ—¶å€™åªæƒ³è¦çƒ§å½•å•ä¸ªå›ºä»¶ åœ¨çƒ§å½•å·¥å…·è½¯ä»¶ä¸­ï¼Œé¦–æ¬¡çƒ§å½•è¦æ±‚å°† `partition table`, `boot2`, `firmware`, `d0fw` æ–‡ä»¶éƒ½å‹¾é€‰ä¸Šå¹¶çƒ§å½•è¿›æ¿å­ï¼Œä»¥åŽå¦‚æžœæƒ³è¦çƒ§å½•ç”± SDK ç¼–è¯‘å‡ºæ¥çš„å•ä¸ªå›ºä»¶ï¼Œåœ¨å¯¹åº”çš„çƒ§å½•é€‰é¡¹ä¸­é€‰æ‹©ç¼–è¯‘å‡ºæ¥çš„æ–‡ä»¶å°±è¡Œï¼š `firmware` é€‰æ‹©ç”± e907_demo ç¼–è¯‘å‡ºæ¥çš„æœ€ç»ˆå›ºä»¶ã€‚ `d0fw` é€‰æ‹©ç”± c906_demo ç¼–è¯‘å‡ºæ¥çš„æœ€ç»ˆå›ºä»¶ã€‚ `partition table` å’Œ `boot2` æ¯æ¬¡çƒ§å½•éƒ½è¦å‹¾é€‰ä¸­ã€‚ <table> <tr> <td>çƒ§å½• c906_demo å›ºä»¶</td> <td>çƒ§å½• e907_demo å›ºä»¶</td> </tr> <tr> <td><img src \"./assets/start/uart_burn_c906.jpg\" alt \"uart_burn_c906\"></td> <td><img src \"./assets/start/uart_burn_e907.jpg\" alt \"uart_burn_e907\"></td> </tr> </table> ### ç¼–è¯‘ SDK ç›¸å…³çš„å¸¸è§é—®é¢˜ 1. æ‰§è¡Œå®Œ build.sh åŽæç¤º `Makefile:14: *** BL_SDK_PATH not found, please enter: export BL_SDK_PATH {sdk_path}. Stop.`ï¼ŒæŸ¥çœ‹ [é…ç½®ç¼–è¯‘å·¥å…·é“¾è·¯å¾„](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E9%85%8D%E7%BD%AE%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7%E9%93%BE%E8%B7%AF%E5%BE%84) æ¥é…ç½®è‡ªå·±çš„ BL_SDK_PATHã€‚ 2. ç¼–è¯‘å‡ºé”™ æ³¨æ„ç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨çš„å‘½ä»¤ä¸º `./build.sh demo_name`ï¼Œæ¯”å¦‚ `./build.sh hello_world`ï¼Œè€Œä¸æ˜¯ `./build.sh hello_world/` ï¼ˆæ³¨æ„æœ€åŽé¢çš„è·¯å¾„ç¬¦å·`/`ï¼‰ ### æ—§å›ºä»¶å¼€ç®±æµ‹è¯• å¯¹ M1s Dock æ¿å­ä¸Šç”µï¼Œå±å¹•ä¼šæ˜¾ç¤ºæ‘„åƒå¤´æ‰€æ‹æ‘„åˆ°çš„å†…å®¹ã€‚ æŒ‰ä¸‹ `S1` æˆ–è€… `S2` æŒ‰é”®åŽå±å¹•ä¸Šçš„æ•°å­—ä¼šå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¸ªæ•°å­—è¡¨ç¤ºç€æ¿å­ä¸Š LED çš„äº®åº¦ç™¾åˆ†æ¯”ã€‚ ![default_firmware](./assets/start/default_firmware.jpg) å¯ä»¥çœ‹åˆ°ä¸‹å›¾ä¸­çš„ LED äº®åº¦ä¸º 50% æ—¶å€™çš„äº®èµ·çŠ¶æ€ã€‚ ![led_brghtness](./assets/start/led_brghtness.jpg) ### ç»™æ¿è½½ bl702 è¿›è¡Œçƒ§å½• ä¸€èˆ¬æ¥è¯´æ¿å­ä¸²å£å‡ºé—®é¢˜æ‰è¿›è¡Œè¿™é‡Œçš„çƒ§å½•ã€‚ æŒ‰ä½ BOOT é”®åŽå†·å¯åŠ¨æ¿å­ï¼Œå°±å¯ä»¥é€šè¿‡ UART å£çƒ§å½•æ¿è½½ bl702 äº†ã€‚ åœ¨ç»™æ¿å­é€šç”µå‰æŒ‰ä½æ¿å­ä¸Šçš„ BOOT æŒ‰é”®ï¼Œç„¶åŽé€šè¿‡æ¿å­ä¸Šçš„ UART USB æŽ¥å£è¿žæŽ¥ç”µè„‘ï¼Œæ­¤æ—¶æ¿è½½ bl702 è¿›å…¥ä¸‹è½½æ¨¡å¼ï¼Œæ‰“å¼€ `BLDevCube` çƒ§å½•è½¯ä»¶ï¼ˆæ ¹æ®è‡ªå·±ç³»ç»Ÿé€‰æ‹©ï¼‰ï¼Œé€‰æ‹© `BL702` èŠ¯ç‰‡ï¼Œåœ¨æ‰“å¼€çš„è½¯ä»¶ç•Œé¢é€‰æ‹© MCU æ¨¡å¼ï¼ŒæŽ¥ç€å¯ä»¥åœ¨ [è¿™é‡Œ](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware) ä¸‹è½½åˆ° bl702 çš„å›ºä»¶ï¼Œåç§°ä¸º `usb2dualuart_bl702` å¼€å¤´çš„å°±æ˜¯æˆ‘ä»¬éœ€è¦çƒ§å½•çš„æ–‡ä»¶ã€‚ å›ºä»¶å·®å¼‚å¯ä»¥æŸ¥çœ‹ [bl702 å›ºä»¶å·®å¼‚](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#bl702 %E5%9B%BA%E4%BB%B6%E5%B7%AE%E5%BC%82) <table> <tr> <td><img src \"./assets/start/select_bl702.png\" alt \"select_bl702\" style \"transform:rotate(0deg);\"></td> <td><img src \"./assets/start/mcu_mode.png\" alt \"mcu_mode\" style \"transform:rotate(0deg);\" width \"70%\"></td> </tr> </table> ç‚¹å‡» `Refresh`ï¼Œé€‰æ‹©å”¯ä¸€çš„ä¸²å£ï¼ˆå¦‚æžœçœ‹åˆ°çš„ä¸æ˜¯å”¯ä¸€ä¸²å£ï¼Œè®°ä½æ˜¯å…ˆæŒ‰ä½ BOOT é”®ï¼Œå†ç»™æ¿å­é€šç”µï¼‰ï¼Œè®¾ç½®æ³¢ç‰¹çŽ‡ 2000000ï¼Œ ç‚¹å‡»ä¸‹è½½çƒ§å½•ã€‚ ![burn_bl702](./assets/start/burn_bl702.png) çƒ§å½•ç»“æŸåŽï¼Œé‡æ–°æ’æ‹”ä¸€æ¬¡ USB æ¥é‡æ–°å¯åŠ¨ bl702 ä»¥åº”ç”¨æ–°çš„å›ºä»¶ã€‚ ![finish_burn_702](./assets/start/finish_burn_702.png) ### ç»™ bl702 çƒ§å½•æ—¶æ²¡æœ‰ä¸²å£ å¦‚æžœæ²¡æœ‰å‡ºçŽ°ï¼Œå°±éœ€è¦ç¡®è®¤è‡ªå·±æ˜¯åœ¨æ¿å­æœªé€šç”µçš„æ—¶å€™æŒ‰ä½æ¿å­ä¸Šçš„ BOOT é”®åŽå†é€šè¿‡æ¿å­ä¸Šçš„ UART æŽ¥å£æ¥ç»™æ¿å­é€šç”µã€‚ Windows ç”¨æˆ·å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­å…ˆæŸ¥çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰ä¸€ä¸ª `Bouffalo CDC` è®¾å¤‡ã€‚ Windows 10 ä»¥ä¸‹çš„ç³»ç»Ÿä¸ä¼šè‡ªåŠ¨åŠ è½½ USB CDC é©±åŠ¨ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨æœç´¢ `Windows7 CDC` ç›¸å…³çš„é—®é¢˜è§£å†³ã€‚ ![burn_bl702_cdc_error](./assets/start/burn_bl702_cdc_error.png) ### çƒ§å½•å›ºä»¶åŽæ¿å¡æ²¡æœ‰å¯åŠ¨ è¿™ç§æƒ…å†µæ˜¯ bl702 çš„å›ºä»¶å·®å¼‚å¯¼è‡´çš„ï¼Œæœ‰ä¸‹é¢ä¸¤ä¸ªè§£å†³æ–¹æ³•ï¼š é€šç”µåŽï¼ŒæŒ‰ä¸‹æ¿å­ä¸Šçš„ RST æŒ‰é”®æ¥å¯åŠ¨ M1S Dock é‡æ–°çƒ§å½• bl702 çš„åŒä¸²å£å›ºä»¶ [çƒ§å½• bl702](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E7%BB%99%E6%9D%BF%E8%BD%BD bl702 %E8%BF%9B%E8%A1%8C%E7%83%A7%E5%BD%95) ### bl702 å›ºä»¶å·®å¼‚ åœ¨ [ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware) ä¸­ï¼Œæœ‰ä¸¤ä¸ª bl702 å¯ç”¨çš„åŒä¸²å£å›ºä»¶ï¼Œä»–ä»¬çš„å·®å¼‚å¦‚ä¸‹ï¼š å›ºä»¶åç§° usb2dualuart_bl702_221118 usb2dualuart_bl702_20230221 æ¥æº SIPEED åšæµæ™ºèƒ½ è¯¦ç»†è¯´æ˜Ž å…·æœ‰è½¯å¤ä½åŠŸèƒ½ï¼Œ<br>ä¸ç”¨æŒ‰ä¸‹ RST æŒ‰é”®å°±èƒ½è¿è¡Œ BL808 æ²¡æœ‰å¤ä½åŠŸèƒ½ï¼Œ<br>éœ€è¦æŒ‰ä¸‹ RST é”®æ‰èƒ½å¯åŠ¨ BL808 é©±åŠ¨æƒ…å†µ éƒ¨åˆ†ç”µè„‘å¯èƒ½éœ€è¦æ‰‹åŠ¨å®‰è£… [é©±åŠ¨](https://dl.sipeed.com/shareURL/MAIX/tools/driver) <br>æ‰èƒ½ç³»ç»Ÿè¯†åˆ« å…é©± [ç‚¹æˆ‘æŸ¥çœ‹å¦‚ä½•çƒ§å½• BL702 å›ºä»¶](https://wiki.sipeed.com/hardware/zh/maix/m1s/other/start.html#%E7%BB%99%E6%9D%BF%E8%BD%BD bl702 %E8%BF%9B%E8%A1%8C%E7%83%A7%E5%BD%95)"},"/hardware/zh/maix/m1s/other/get_key.html":{"title":"M1s èŽ·å–æœºå™¨ç ","content":" title: M1s èŽ·å–æœºå™¨ç  keywords: M1s DOCK ,BL808, M1s update: date: 2022 11 10 version: v0.1 author: wonder content: åˆæ¬¡ç¼–è¾‘ åœ¨ [MaixHub](https://maixhub.com/) ä¸‹è½½æ¨¡åž‹çš„æ—¶å€™ä¼šè¦æ±‚è¾“å…¥æœºå™¨ç ï¼Œè¿™é‡Œè¯´æ˜Žä¸€ä¸‹æ€Žä¹ˆèŽ·å¾—æœºå™¨ç ã€‚ å¦‚æžœè¿›è¡Œä¸‹é¢æ­¥éª¤åŽæ²¡æœ‰å¾—åˆ°æœºå™¨ç çš„è¯ï¼ŒæŸ¥çœ‹[å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜) ## ç®€è¿° ç®€è¿°æ­¥éª¤å¦‚ä¸‹ï¼š å°†å¼€å‘æ¿é€šè¿‡ UART ä¸²å£ä¸Žç”µè„‘è¿žæŽ¥ï¼ˆç”µè„‘è®¾å¤‡ç®¡ç†å™¨ä¸­ä¼šå‡ºçŽ°ä¸¤ä¸ªä¸²å£ï¼‰ ä½¿ç”¨ä»»æ„ä¸²å£å·¥å…·ï¼Œè®¾ç½®æ³¢ç‰¹æ³¢ç‰¹çŽ‡ä¸º 2000000 ï¼ˆ1 ä¸ª 2 å’Œ 6 ä¸ª 0ï¼‰ï¼Œæ‰“å¼€å¼€å‘æ¿åœ¨ç”µè„‘ä¸­æ‰€æ˜¾ç¤ºçš„è¾ƒå¤§çš„ä¸²å£å· æŒ‰ä¸‹å¼€å‘æ¿ä¸Šçš„ RST æŒ‰é”®ï¼Œåœ¨æ‰“å°çš„ä¸²å£ä¿¡æ¯å¦‚ä¸‹ï¼ˆä»…ä½œç¤ºä¾‹ï¼‰ ```bash # çœç•¥è‹¥å¹² [MTD] >>>>>> Hanlde info Dump >>>>>> name D0FW id 0 offset 0x00100000(1048576) size 0x00200000(2048Kbytes) xip_addr 0x580f0000 [MTD] <<<<<< Hanlde info End <<<<<< D0FW addr:0x580f0000 size:0x200000 MM CPU select PLL >MM CPU select 400Mhz UART CLK select MM XCLK >XCLK select XTAL I2C CLK select MM XCLK >XCLK select XTAL SPI CLK select 160Mhz MM BUS CLK select 160Mhz XCLK select XTAL irq handle: 3 reset ev CHIP KEY key:57F80642C3F97E2655772C48AF17455EC9E79BBF76C16EED4E0EC1096D664435 ``` å¯ä»¥ä»Žæœ€åŽé¢çš„ `CHIP KEY` å¾—åˆ°ä¸‹è½½æ¨¡åž‹æ‰€éœ€è¦çš„æœºå™¨ç äº† > æ¯å—æ¿å­çš„ `CHIP KEY` éƒ½ä¸ä¸€æ ·ï¼Œä¸Šé¢ä»…ä½œç¤ºèŒƒå‚è€ƒï¼Œå®žé™… `CHIP KEY` æ ¹æ®æ¯ä¸ªäººæ“ä½œæ¥èŽ·å¾—ã€‚ ## è¯¦è¿° 1. å°†æ¿å­çš„ UART å£é€šè¿‡ Type C æ•°æ®çº¿ä¸Žç”µè„‘è¿žæŽ¥èµ·æ¥ ![uart_connect](./assets/get_key/uart_connect.png) 2. æ‰“å¼€ç”µè„‘ä¸²å£å·¥å…·ï¼ˆæ ¹æ®è‡ªå·±çš„ä¸²å£è½¯ä»¶è‡ªè¡Œæ›´æ”¹ï¼‰ï¼Œè®¾ç½®æ³¢ç‰¹çŽ‡ä¸º 2000000 ï¼ˆ1 ä¸ª 2 å’Œ 6 ä¸ª 0ï¼‰ï¼Œæ‰“å¼€å¼€å‘æ¿åœ¨ç”µè„‘ä¸Šæ˜¾ç¤ºçš„è¾ƒå¤§ä¸²å£å· <img src \"./assets/get_key/baudrate_2000000.png\" width 45% alt \"baudrate_2000000\"> <img src \"./assets/get_key/bigger_com_port.png\" width 45% alt \"bigger_com_port\"> 3. æ‰“å¼€ä¸²å£ï¼›æŒ‰ä¸‹æ¿å­ä¸Šé¢çš„ RST æŒ‰é”®ã€‚åœ¨ä¸²å£æ‰“å°ä¿¡æ¯çš„æœ€åŽçœ‹åˆ° `CHIP KEY` ã€‚ <table> <tr> <th>æŒ‰ä¸€ä¸‹ RST æŒ‰é”®å†æ¾å¼€</th> <th>ä¸²å£è½¯ä»¶æ˜¾ç¤ºå‡ºæ¥æœºå™¨ç </th> </tr> <tr> <td><img src \"./assets/get_key/rst_key.png\" alt \"rst_key\"></td> <td><img src \"./assets/get_key/chip_key.png\" alt \"chip_key\"></td> </tr> </table> ## å¸¸è§é—®é¢˜ ### ä¸²å£ä¹±ç  ç¡®è®¤è‡ªå·±è®¾ç½®çš„æ³¢ç‰¹çŽ‡ä¸º 2000000 ï¼ˆ2Mï¼‰ ### å¤ä½åŽçš„ä¿¡æ¯ä¸­æ²¡æœ‰ CHIP KEY è¿™ç§æƒ…å†µå¯ä»¥é€šè¿‡æ›´æ–°ä¸ºæœ€æ–°å›ºä»¶æ¥è§£å†³ï¼Œ[ç‚¹æˆ‘è·³è½¬åˆ°æœ€æ–°å›ºä»¶ä¸‹è½½åœ°å€](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware/factory)ï¼Œé€‰æ‹©æ–‡ä»¶åä¸º `firmware` å¼€å¤´çš„æ–‡ä»¶ï¼Œçƒ§å½•æ–¹æ³•è¯·å‚è€ƒ[è¯¥ç½‘é¡µ](https://gitee.com/sipeed/M1s_BL808_example) (Gitee) é‡Œé¢çš„ **Download e907 firmware** ### æ²¡æœ‰æ˜¾ç¤ºå‡ºä¸¤ä¸ªä¸²å£ å¯ä»¥å‚è€ƒ[è¯¥ç½‘é¡µ](https://gitee.com/sipeed/M1s_BL808_example) (Gitee) é‡Œé¢çš„ **Download bl702 firmware** é‡æ–°çƒ§å½•ä¸€æ¬¡ä¸²å£å›ºä»¶ï¼ŒåŒä¸²å£å›ºä»¶ä¸‹è½½åœ°å€ä¸º [è¿™é‡Œ](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s_Dock/7_Firmware)ï¼Œå…¶åç§°ä»¥ `usb2dualuart_bl702.bin` å¼€å¤´ ### æ²¡æœ‰æ˜¾ç¤ºå‡ºä»»ä½•ä¸²å£ é¦–å…ˆåº”å½“ç¡®è®¤è‡ªå·±æ‰€æŽ¥é€šçš„æ˜¯ UART å£ï¼Œç„¶åŽå¯ä»¥æ ¹æ®æœ¬ç¯‡æ‰€è¿°çš„[æ²¡æœ‰æ˜¾ç¤ºå‡ºä¸¤ä¸ªä¸²å£](#æ²¡æœ‰æ˜¾ç¤ºå‡ºä¸¤ä¸ªä¸²å£)é‡æ–°çƒ§å½•ä¸€ä¸‹ä¸²å£å›ºä»¶"},"/hardware/zh/maix/m1s/m1s_module.html":{"title":"M1s æ¨¡ç»„","content":" title: M1s æ¨¡ç»„ keywords: M1s ,æ¨¡ç»„, bl808, BL808 update: date: 2022 11 09 version: v0.2 author: wonder content: ä¿®æ”¹éƒ¨åˆ†æè¿°é”™è¯¯ å¢žåŠ æ³¨æ„äº‹é¡¹ å¢žåŠ è½¯ä»¶æè¿°æ ç›® date: 2022 10 18 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™æ–‡æ¡£ ## æ¨¡ç»„æ¦‚è¿° Sipeed M1s æ¨¡ç»„æ˜¯åŸºäºŽ[åšæµæ™ºèƒ½ç§‘æŠ€](http://www.bouffalolab.com/)çš„ BL808 èŠ¯ç‰‡æ‰€è®¾è®¡çš„ä¸€æ¬¾ AIOT æ¨¡ç»„ï¼Œä¸»æŽ§èŠ¯ç‰‡åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒï¼Œå…·æœ‰ WiFi/BT/BLE/Zigbee ç­‰æ— çº¿äº’è”å•å…ƒï¼ŒåŒ…å«å¤šä¸ª CPU ä»¥åŠéŸ³é¢‘ç¼–ç è¯‘ç å™¨ã€è§†é¢‘ç¼–ç è¯‘ç å™¨å’Œ AI ç¡¬ä»¶åŠ é€Ÿå™¨ï¼ˆBLAI 100ï¼‰ï¼Œé€‚ç”¨äºŽå„ç§é«˜æ€§èƒ½å’Œä½ŽåŠŸè€—åº”ç”¨é¢†åŸŸã€‚ è´­ä¹°é“¾æŽ¥ï¼š[æ·˜å®](https://item.taobao.com/item.htm?id 691108452443) <img src \"./assets/m1s_module/m1s_module_outlook.png\" alt \"m1s_module_outlook\" width 35%> ## æ¨¡ç»„ç‰¹ç‚¹ ä¸»èŠ¯ç‰‡ BL808 RV64 480MHz + RV32 320MHz + NPU BLAI 100GOPS æ¿è½½ SPI FLASHï¼ˆé»˜è®¤ 16MByteï¼‰ æ”¯æŒ 2.4G WIFI / BT / BLE æ”¯æŒ IPEX ä¸€ä»£å¤©çº¿åº§å­å’Œ PCB æ¿è½½å¤©çº¿ é‚®ç¥¨å­”å¼•å‡ºæ‰€æœ‰ IO ## æ¨¡ç»„å‚æ•° <table> <thead> <tr> <th colspan \"2\" > M1s æ¨¡ç»„ </th> </tr> </thead> <tbody> <tr> <td rowspan \"8\" style \"white space:nowrap\">ä¸»æŽ§ BL808 å¤„ç†å™¨</td> </tr> <tr> <td>ä¸‰æ ¸å¼‚æž„RISC V CPUsï¼š<br>Â· RV64GCV 480MHz <br>Â· RV32GCP 320MHz <br>Â· RV32EMC 160MHz</td> </tr> <tr> <td>AI NN é€šç”¨ç¡¬ä»¶åŠ é€Ÿå™¨ï¼š<br>Â· BLAI 100 ç”¨äºŽè§†é¢‘/éŸ³é¢‘æ£€æµ‹/è¯†åˆ«ï¼Œ100GOPS ç®—åŠ›</td> </tr> <tr> <td>å†…ç½® 768KB SRAM + 64MB UHS PSRAM</td> </tr> <tr> <td>ç¼–è§£ç ï¼š<br> MJPEG and H264(Baseline/Main)<br> 1920x1080@30fps + 640x480@30fps </td> </tr> <tr> <td>æŽ¥å£ï¼š<br> æ‘„åƒå¤´æŽ¥å£ ï¼šDVP å’Œ MIPI CSI<br> æ˜¾ç¤ºæŽ¥å£ï¼šSPIã€DBIã€DPI(RGB)</td> </tr> <tr> <td>æ— çº¿ï¼š<br> æ”¯æŒ Wi Fi 802.11 b/g/n<br> æ”¯æŒ Bluetooth 5.x Dual mode(BT+BLE)<br> æ”¯æŒ Wi Fi / è“ç‰™ å…±å­˜</td> </tr> <tr> <td>USB 2.0 HS OTG</td> </tr> <tr> <td rowspan \"3\" style \"white space:nowrap\"> æ¿è½½éƒ¨ä»¶ </td> </tr> <tr> <td>æ¿è½½ SPI FLASHï¼ˆå¯é€‰å®¹é‡ï¼‰</td> </tr> <tr> <td>æ”¯æŒ IPEX ä¸€ä»£å¤©çº¿åº§å­å’Œ PCB æ¿è½½å¤©çº¿</td> </tr> </tbody> <tr> <td rowspan \"6\" style \"white space:nowrap\"> å…¶ä»–è¯´æ˜Ž </td> </tr> <tr> <td> å°ºå¯¸ï¼š31mm (L) x 18mm (W) </td> </tr> <tr> <td> 3D æ¨¡åž‹æ–‡ä»¶ä¸‹è½½ï¼š<a href \"https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/5_3D_file\">ç‚¹å‡»è·³è½¬</a> </td> </tr> <tr> <td>å¤–éƒ¨ä¾›ç”µéœ€æ±‚ï¼š<br>VDDIO4/VDDIO3/VDDIO1/ å’Œ 3V3 è¿™å‡ è·¯ç”µæºå¿…é¡»ç»™æ¨¡å—æä¾›æ‰èƒ½æ­£å¸¸å·¥ä½œ</td> </tr> <tr> <td>æ¸©å‡: &lt;30K</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦èŒƒå›´: 10â„ƒ ~ 65â„ƒ</td> </tr> </tbody> </table> <img src \"./assets/m1s_module/m1s_module_size.png\" alt \"m1s_module_size\" width 35%> ## ä¸»æŽ§æ ¸å¿ƒ ä¸‰æ ¸å¼‚æž„ M0ï¼ŒD0ï¼ŒLPã€‚ M0 D0 LP å¹³å¤´å“¥ [E907](https://occ.t head.cn/product?id 3900588052540035072)@320MHz å¹³å¤´å“¥ [C906](https://occ.t head.cn/product?id 3817197695983423488)@480MHz å¹³å¤´å“¥ [E902](https://occ.t head.cn/product?id 3806460569050419200)@160MHz ## å¼•è„šåˆ†å¸ƒ å‰å¾€åŽŸç†å›¾æŸ¥çœ‹ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/2_Schematic) <! <img src \"./assets/m1s_module/m1s_pins.png\" alt \"m1s_pins\" width 55%> > ## äº§å“å¯¹æ¯” <table> <thead> <tr> <th style \"text align:left\">é¡¹ç›®</th> <th style \"text align:left\">M1(K210)</th> <th style \"text align:left\">M1s(BL808)</th> <th style \"text align:left\">ESP32 S3 WROOM N16R8</th> </tr> </thead> <tbody> <tr> <td style \"text align:left\">CPU</td> <td style \"text align:left\">RV64@400MHz x2</td> <td style \"text align:left\">Â· RV64GCV@480MHz<br>Â· RV32GCP@320MHz<br>Â· RV32EMC@160MHz</td> <td style \"text align:left;white space:nowrap\">Xtensa LX7@240MHz x2</td> </tr> <tr> <td style \"text align:left\">RAM</td> <td style \"text align:left\">8MB SRAM</td> <td style \"text align:left;white space:nowrap\">Â· 768KB SRAM <br>Â· 64MB UHS PSRAM(2000MHz)</td> <td style \"text align:left\">Â· 512KB SRAM<br>Â· 8MB PSRAM</td> </tr> <tr> <td style \"text align:left\">Flash</td> <td style \"text align:left\">16MB</td> <td style \"text align:left\">16MB</td> <td style \"text align:left\">16MB</td> </tr> <tr> <td style \"text align:left\">OS</td> <td style \"text align:left\">Â· FreeRTOS<br>Â· No mmu Linux</td> <td style \"text align:left\">Â· FreeRTOS<br>Â· Linux</td> <td style \"text align:left\">RTOS</td> </tr> <tr> <td style \"text align:left\">NPU</td> <td style \"text align:left;white space:nowrap\">230GOPS with limited OPS</td> <td style \"text align:left;white space:nowrap\">100GOPS with rich OPS</td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">Camera</td> <td style \"text align:left\">DVP, up to VGA</td> <td style \"text align:left\">MIPI + DVP, up to 1080P h264</td> <td style \"text align:left\">DVP</td> </tr> <tr> <td style \"text align:left\">Display</td> <td style \"text align:left\">Â· SPI<br>Â· 8bits MCU LCD</td> <td style \"text align:left\">Â· SPI<br>Â· 8bits MCU LCD<br>Â· RGB LCD</td> <td style \"text align:left\">Â· SPI<br>Â· 8bits MCU LCD</td> </tr> <tr> <td style \"text align:left\">Audio</td> <td style \"text align:left\">I2S</td> <td style \"text align:left\">Â· I2S<br>Â· Analog Audio Input/Output</td> <td style \"text align:left\">I2S</td> </tr> <tr> <td style \"text align:left\">Wireless</td> <td style \"text align:left\"></td> <td style \"text align:left\">WIFI+BLE+Zigbee</td> <td style \"text align:left\">WIFI + BLE</td> </tr> <tr> <td style \"text align:left\">USB</td> <td style \"text align:left\"></td> <td style \"text align:left\">USB2.0 OTG HS</td> <td style \"text align:left\">USB1.1 OTG</td> </tr> <tr> <td style \"text align:left\">Accelerator</td> <td style \"text align:left\">FFT</td> <td style \"text align:left\">Â· Scaler<br>Â· OSD<br>Â· MJPED<br>Â· G2D<br>Â· H264</td> <td style \"text align:left\"></td> </tr> <tr> <td style \"text align:left\">Perpheral</td> <td style \"text align:left\">UART, SPI, IIC</td> <td style \"text align:left\">UART, SPI, IIC, SDIO ETH(RMII), ADC/DAC</td> <td style \"text align:left\">UART, SPI, IIC, SDIO, ADC</td> </tr> <tr> <td style \"text align:left\">Size</td> <td style \"text align:left\">25.4 x 25.4 mm</td> <td style \"text align:left\">31 x 18 mm</td> <td style \"text align:left\">25.5 x 18 mm</td> </tr> <tr> <td style \"text align:left\">Price</td> <td style \"text align:left\">$6</td> <td style \"text align:left\">$6</td> <td style \"text align:left\">$4.3(digikey)</td> </tr> </tbody> </table> ## è½¯ä»¶æè¿° <table> <thead> <tr> <th colspan \"2\" > M1s æ¨¡ç»„ </th> </tr> </thead> <tbody> <tr> <td>OS</td> <td>Â· å®Œå¤‡æ”¯æŒFreeRTOS<br>Â· åŸºç¡€æ”¯æŒLinux</td> </tr> <tr> <td>å¼€å‘æ–¹å¼</td> <td>Â· åŽŸç”ŸC SDK<br>Â· MaixHAL C æ¨¡å—<br>Â· PikaPython </td> </tr> <tr> <td>å›ºä»¶ä¸‹è½½</td> <td>Â· ä¸²å£ä¸‹è½½<br>Â· è™šæ‹Ÿç£ç›˜æ‹–æ‹½å¼æ›´æ–°</td> </tr> <tr> <td>AI æŽ¨ç†æ¡†æž¶</td> <td>Â· æ”¯æŒåŽŸç”ŸSDKçš„BLAIåŠ é€ŸæŽ¨ç†å¼•æ“Ž<br>Â· æ”¯æŒé€šç”¨TinyMaixæŽ¨ç†å¼•æ“Ž</td> </tr> <tr> <td>AI æ¨¡åž‹ä¸‹è½½</td> <td>Â· <a href \"https://maixhub.com/\">MaixHub</a> ä¸‹è½½ã€‚æ”¯æŒ äººè„¸æ£€æµ‹ï¼Œè¯†åˆ«ï¼Œå§¿æ€æ£€æµ‹ï¼Œæ‰‹åŠ¿æ£€æµ‹ ç­‰</td> </tr> <tr> <td>Sipeed å‚è€ƒç¤ºä¾‹</td> <td>Â· https://gitee.com/sipeed/M1s_BL808_example</td> </tr> </tbody> </table> ## æ”¯æŒç®—å­åˆ—è¡¨ <table> <thead> <tr> <th>Type</th> <th>Operators</th> <th>Applicable Subset Spec.</th> <th>Processor</th> </tr> </thead> <tbody> <tr> <td rowspan \"10\">Convolution</td> <td rowspan \"4\">Conv </td> <td>Kernel: 1x1,3x3,5x5,7x7</td> <td rowspan \"4\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td>Dilation: 1x1, 2x2</td> </tr> <tr> <td>Pad: same</td> </tr> <tr> <td rowspan \"4\">Depthwise Conv</td> <td>Kernel: 1x1,3x3 (5x5, 7x7 TBD)</td> <td rowspan \"4\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td>Dilation: 1x1 (2x2 TBD)</td> </tr> <tr> <td>Pad: same</td> </tr> <tr> <td rowspan \"2\">Transpose Conv</td> <td>Kernel: 3x3</td> <td rowspan \"2\">strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 2x2</td> </tr> <tr> <td rowspan \"4\">Pooling</td> <td rowspan \"2\">MaxPool (NPU TBD)</td> <td>Kerenl: 2x2</td> <td rowspan \"2\">DSP</td> </tr> <tr> <td>Stride: 2x2</td> </tr> <tr> <td rowspan \"2\">MaxPool</td> <td>Kerenl: 3x3</td> <td rowspan \"2\">:strong:<code>NPU</code></td> </tr> <tr> <td>Stride: 1x1, 2x2</td> </tr> <tr> <td rowspan \"2\">Activation</td> <td>Relu</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Relu 6</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td rowspan \"5\">Other processing</td> <td>BatchNormalization</td> <td>fused with conv</td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Add (shortcut)</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Concat (route)</td> <td>Channel wise (AXIS 3 in BHWC)</td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Fully Connected</td> <td></td> <td>:strong:<code>NPU</code></td> </tr> <tr> <td>Upsample</td> <td>Nearest</td> <td>:strong:<code>NPU</code></td> </tr> </tbody> </table> ## æ¨¡ç»„èµ„æ–™ [æ¨¡ç»„è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/1_Specification) [æ¨¡ç»„åŽŸç†å›¾](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/2_Schematic) [æ¨¡ç»„å°è£…åº“](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/7_Package) [æ¨¡ç»„ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/3_Bit_number_map) [æ¨¡ç»„å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/4_Dimensional_drawing) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/5_3D_file) [æ¨¡ç»„èŠ¯ç‰‡æ•°æ®æ‰‹å†Œ](https://dl.sipeed.com/shareURL/MAIX/M1s/M1s/6_Chip_Manual) [åšæµå®˜æ–¹æ–‡æ¡£](https://dev.bouffalolab.com/home/) [BL808 æ•°æ®æ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL808_DS/zh_CN) (gitee) [BL808 å‚è€ƒæ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL808_RM/zh_CN) (gitee) [Sipeed SDK](https://gitee.com/sipeed/M1s_BL808_SDK) (gitee) [Sipeed Examples](https://gitee.com/sipeed/M1s_BL808_example)ï¼ˆgiteeï¼‰ [Bouffalolab SDK](https://github.com/bouffalolab/bouffalo_sdk)ï¼ˆGithubï¼‰ [Linux SDK](https://github.com/sipeed/M1s_BL808_Linux_SDK)ï¼ˆGithubï¼‰ äº¤æµ QQ ç¾¤ï¼š`592731168` ã€‚[ç‚¹æˆ‘åŠ ç¾¤](https://jq.qq.com/?_wv 1027&k uyKNhTeu) è®ºå›ï¼š[bbs.sipeed.com](https://bbs.sipeed.com/) [åœ¨çº¿æ¨¡åž‹å¹³å°](https://maixhub.com/) ## æ³¨æ„äº‹é¡¹ <table> <tr> <th>é¡¹ç›®</th> <th>æ³¨æ„äº‹é¡¹</th> </tr> <tr> <td>é™ç”µé˜²æŠ¤</td> <td>è¯·é¿å…é™ç”µæ‰“åˆ° PCBA ä¸Šï¼›æŽ¥è§¦ PCBA ä¹‹å‰è¯·æŠŠæ‰‹çš„é™ç”µé‡Šæ”¾æŽ‰</td> </tr> <tr> <td>å®¹å¿ç”µåŽ‹</td> <td> æ¯ä¸ª GPIO çš„å·¥ä½œç”µåŽ‹å·²ç»åœ¨åŽŸç†å›¾ä¸­æ ‡æ³¨å‡ºæ¥ï¼Œè¯·ä¸è¦è®© GPIO çš„å®žé™…å·¥ä½œçš„ç”µåŽ‹è¶…è¿‡é¢å®šå€¼ï¼Œå¦åˆ™ä¼šå¼•èµ· PCBA çš„æ°¸ä¹…æ€§æŸå </td> </tr> <tr> <td>FPC åº§å­</td> <td>åœ¨è¿žæŽ¥ FPC è½¯æŽ’çº¿çš„æ—¶å€™ï¼Œè¯·ç¡®ä¿æŽ’çº¿æ— åä¾ˆåœ°å®Œæ•´åœ°æ’å…¥åˆ°æŽ’çº¿ä¸­</td> </tr> <tr> <td>æ’æ‹”</td> <td>è¯·å®Œå…¨æ–­ç”µåŽæ‰è¿›è¡Œæ’æ‹”æ“ä½œ</td> </tr> <tr> <td>é¿å…çŸ­è·¯</td> <td>è¯·åœ¨ä¸Šç”µè¿‡ç¨‹ä¸­ï¼Œé¿å…ä»»ä½•æ¶²ä½“å’Œé‡‘å±žè§¦ç¢°åˆ° PCBA ä¸Šçš„å…ƒä»¶çš„ç„Šç›˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´è·¯ï¼Œçƒ§æ¯ PCBA</td> </tr> <tr> <td>è®¾è®¡å»ºè®®</td> <td>ä¸ºè¯¥æ¨¡ç»„è®¾è®¡åº•æ¿æ—¶ï¼Œå»ºè®®å…ˆçœ‹è¿™ä¸ªå¸–å­ <a href \"https://bbs.sipeed.com/thread/1721\">https://bbs.sipeed.com/thread/1721</a></td> </tr> <tr> <td>BANK åˆ’åˆ†</td> <td> VDDIO1ï¼šGPIO 0 8ï¼Œ1.8V/3.3V<br> VDDIO2ï¼šGPIO 11 15ï¼ŒGPIO 40 41, 3.3V only<br> VDDIO3ï¼šGPIO 16 23ï¼Œ1.8V/3.3V<br> VDDIO4ï¼šGPIO 24 39ï¼Œ1.8V/3.3V<br> </td> </tr> <tr> <td>BOOT æ¨¡å¼é€‰æ‹©</td> <td> åœ¨å¯åŠ¨æ—¶ï¼ŒèŠ¯ç‰‡åˆ¤å®š BOOT å¼•è„šçš„ç”µå¹³ï¼Œé€‰æ‹©ä¸¤ä¸ªå¯åŠ¨é€‰é¡¹ä¹‹ä¸€<br> Â· BOOT é«˜ç”µå¹³ï¼šä»Ž FLASH å­˜å‚¨å¯åŠ¨ Â· BOOT ä½Žç”µå¹³ï¼šè¿›å…¥ä¸²å£ä¸‹è½½æ¨¡å¼ </td> </tr> </table> ## è”ç³»æ–¹å¼ M1s æ¨¡ç»„å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼ŒæŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œè¯·è”ç³»ä½¿ç”¨é‚®ç®± [support@sipeed.com](support@sipeed.com)"},"/hardware/zh/maix/index.html":{"title":"Sipeed Hardware","content":" title: Sipeed Hardware keywords: Sipeed, Hardware, çŸ½é€Ÿ, ç¡¬ä»¶èµ„æ–™, æ–‡æ¡£, èµ„æ–™ä¸‹è½½ desc: çŸ½é€Ÿç§‘æŠ€çš„ç¡¬ä»¶èµ„æ–™ç«™ # Maixâ€”I [English](./../../en/maix/index.html) ## K210 æ ¸å¿ƒæ¨¡ç»„ [M1/M1w](./core_module.html) [M1n](./core_modules/k210_core_modules.html) ## Maix ç³»åˆ—å¼€å‘æ¿ <table role \"table\" class \"center_table\"> <tbody> <tr> <th scope \"col\">åž‹å·</th> <th scope \"col\">å›¾ç‰‡</th> </tr> <tr> <td> Maix Go</td> <td><a href \"./maixpy_develop_kit_board/maix_go.html\" target \"_blank\"><img src \"./assets/dk_board/maix_go/Go.jpg\" width \"260\"></a></td> </tr> <tr> <td>Maix Dock</td> <td><a href \"./maixpy_develop_kit_board/Maix_dock.html\" target \"_blank\"><img src \"./assets/dk_board/maix_dock/Dan_Dock.png\" width \"260\"></a></td> </tr> <tr> <td>Maix Duino</td> <td><a href \"./maixpy_develop_kit_board/maix_duino.html\" target \"_blank\"><img src \"./assets/dk_board/maix_duino/maixduino_0.png\" width \"260\"></a></td> </tr> <tr> <td>Maix Bit</td> <td> <a href \"./maixpy_develop_kit_board/maix_bit.html\" target \"_blank\"><img src \"./assets/dk_board/maix_bit/Bit.png\" width \"260\"></a> </td> </tr> <tr> <td>Maix Cube</td> <td><a href \"./maixpy_develop_kit_board/maix_cube.html\" target \"_blank\"><img src \"./assets/dk_board/maix_cube/maix_cube.png\" width \"260\"></a></td> </tr> <tr> <td>Maix Amigo</td> <td><a href \"./maixpy_develop_kit_board/maix_Amigo.html\" target \"_blank\"><img src \"./assets/dk_board/maxi_amigo/maix_amigo_0.png\" width \"260\"></a></td> </tr> <tr> <td>Maix nano</td> <td><a href \"./maixpy_develop_kit_board/maix_nano.html\"><img src \"./assets/dk_board/maix_nano/maix_nano.jpg\" width \"260\" alt \"Maxi nano\"></a></td> </tr> </tbody> </table> ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/maixpy_develop_kit_board/maix_nano.html":{"title":"Maix nano","content":"# Maix nano ## æ•™ç¨‹&å¿«é€Ÿä¸Šæ‰‹ ç›¸å…³çš„ä½¿ç”¨æ•™ç¨‹å…¥å£<a href \"./../../../../soft/maixpy/zh/\" target \"_blank\"> MaixPy </a> ## æè¿° MAIX Nanoå¼€å‘æ¿æ˜¯SiPEEDå…¬å¸MAIXäº§å“çº¿çš„ä¸€å‘˜ï¼ŒåŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡K210(RISC Væž¶æž„ 64ä½åŒæ ¸)è®¾è®¡çš„ä¸€æ¬¾AIOTå¼€å‘æ¿ã€‚å¼€å‘æ¿ä½¿ç”¨æ¨¡å—+åº•æ¿æ–¹å¼è®¾è®¡ï¼Œæ•´æ´å°å·§ï¼Œæ¿è½½Type CæŽ¥å£å’ŒUSB UARTç”µè·¯ï¼Œç”¨æˆ·å¯ä»¥ç›´æŽ¥é€šè¿‡USB Type Cçº¿è¿žæŽ¥ç”µè„‘è¿›è¡Œå¼€å‘ï¼Œé…ç½®128Mbit Flashã€LCDã€DVPã€Micro SDå¡ç­‰æŽ¥å£å¹¶æŠŠæ‰€æœ‰IOå¼•å‡ºï¼Œæ–¹ä¾¿ç”¨æˆ·æ‰©å±•ã€‚ ## å¤–è§‚ <img src \"./../assets/dk_board/maix_nano/maix_nano.jpg\" alt \"Maxi nano\" > ## ç‰¹æ€§ MAIX Nanoå¼€å‘æ¿ä»¥K210ä½œä¸ºæ ¸å¿ƒå•å…ƒï¼ŒåŠŸèƒ½éžå¸¸å¾ˆå¼ºå¤§ï¼ŒèŠ¯ç‰‡å†…ç½®64ä½åŒæ ¸å¤„ç†å™¨ï¼Œæ‹¥æœ‰8Mçš„ç‰‡ä¸ŠSRAMï¼Œåœ¨Alæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹ä¾¿è¡¨çŽ°çªå‡ºï¼Œå†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒ(KPUã€FPUï¼ŒFFTç­‰)ï¼Œæ€»ç®—åŠ›æœ€é«˜å¯è¾¾1TOPSï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•,ä¹Ÿå¯ä»¥è¿›è¡Œè¯­éŸ³æ–¹å‘æ‰«æå’Œè¯­éŸ³æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œã€‚ ## åº”ç”¨ æ™ºèƒ½å®¶å±…ï¼Œæœºå™¨äººæ¸…æ´å™¨ï¼Œæ™ºèƒ½æ‰¬å£°å™¨ï¼Œç”µå­é—¨é”ï¼Œå®¶åº­ç›‘æŽ§ç­‰; åŒ»å­¦è¡Œä¸šåº”ç”¨ï¼Œå¦‚è¾…åŠ©è¯Šæ–­ï¼ŒåŒ»å­¦å›¾åƒè¯†åˆ«; æ™ºèƒ½å·¥ä¸šåº”ç”¨ï¼Œå¦‚å·¥ä¸šæœºæ¢°ï¼Œæ™ºèƒ½åˆ†æ‹£ï¼Œç”µæ°”è®¾å¤‡ç›‘æŽ§ç­‰; æ•™è‚²æœºå™¨äººï¼Œæ™ºèƒ½äº’åŠ¨å¹³å°ï¼Œæ•™è‚²æ•ˆçŽ‡æ£€æŸ¥ç­‰æ•™è‚²åº”ç”¨; å†œä¸šåº”ç”¨ï¼Œå¦‚å†œä¸šç›‘æµ‹ï¼Œç—…è™«å®³ç›‘æµ‹ï¼Œè‡ªåŠ¨æŽ§åˆ¶ç­‰ ## å‚æ•° ![maix_nano](./../assets/dk_board/maix_nano/maix_nano.png) <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³600MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>å›¾åƒè¯†åˆ«</td> <td>QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>éº¦å…‹é£Žé˜µåˆ—(8mics)</td> </tr> <tr> <td>ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒYOLOv3<li>Mobilenetv2<li>TinyYOLOv2<li>äººè„¸è¯†åˆ«ç­‰</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>è§†é¢‘å¤„ç†</td> <td><li>ç¥žç»ç½‘ç»œå¤„ç†å™¨(KPU)<li>FPUæ»¡è¶³IEEE754 2008æ ‡å‡†<li>éŸ³é¢‘å¤„ç†å™¨(APU)<li>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨(FFT)</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\" >å¼€å‘æ¿å‚æ•°</th> </tr> </thead> <td> æ¿è½½èµ„æºå’ŒæŽ¥å£</td> <td><li>DVPæ‘„åƒå¤´æŽ¥å£*1 <li>å¤§éƒ¨åˆ†IOé€šè¿‡é‡‘æ‰‹æŒ‡æ–¹å¼å¼•å‡ºï¼Œæ–¹ä¾¿äºŒæ¬¡å¼€å‘<li>USB to UART<li>128Mbit Flash*1</td> </tr> <tr> <td>å°ºå¯¸</td> <td>25.0*22.0mm</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td> <td>5.0V @ 300mAï¼ˆä¾›ç”µç”µæµéœ€å¤§äºŽ300mA)</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦</td> <td> 30â„ƒ ~85C</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">è½¯ä»¶å¼€å‘</th> <tr> </thead> <tr> <td>èŠ¯ç‰‡æ“ä½œç³»ç»Ÿ</td> <td>FreeRTOSã€Standrad development kiç­‰</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td> <td>MaixPy IDEã€PlatformlO IDEã€Arduino IDEç­‰</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td> <td>Cï¼ŒC++ï¼ŒMicroPython</td> </tr> </table> ## èµ„æ–™ä¸‹è½½ M1n èµ„æ–™ä¸‹è½½ï¼š[dl.sipeed.com](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed M1n) M1n åŽŸç†å›¾ä¸‹è½½ï¼š[Sipeed M1n Datasheet V1.0.pdf](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed M1n/Sipeed%20M1n%20Datasheet%20V1.0.pdf) ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/maixpy_develop_kit_board/maix_duino.html":{"title":"MaixDuino å¼€å‘æ¿","content":"# MaixDuino å¼€å‘æ¿ ## æ¦‚è¿° SIPEED MaixDuino æ˜¯åŸºäºŽæˆ‘ä»¬ M1 æ¨¡å—(ä¸»æŽ§:Kendryte K210)å¼€å‘çš„ä¸€æ¬¾å¤–å½¢å…¼å®¹ Arduino çš„å¼€å‘æ¿ <br/>MaixDuino é›†æˆæ‘„åƒå¤´ã€TFå¡æ§½ã€ç”¨æˆ·æŒ‰é”®ã€TFTæ˜¾ç¤ºå±ã€MaixDuino æ‰©å±•æŽ¥å£ç­‰, ç”¨æˆ·å¯ä½¿ç”¨ MaixDuino è½»æ¾æ­å»ºä¸€æ¬¾äººè„¸è¯†åˆ«é—¨ç¦ç³»ç»Ÿ, åŒæ—¶è¿˜é¢„ç•™å¼€å‘è°ƒè¯•æŽ¥å£, ä¹Ÿèƒ½å°†å…¶ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ AI å­¦ä¹ å¼€å‘æ¿. ## MaixDuino å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![MaixDuino](./../assets/dk_board/maix_duino/maixduino_0.png) ![MaixDuino](./../assets/dk_board/maix_duino/maixduino_1.png) ![MaixDuino](./../assets/dk_board/maix_duino/maixduino_2.png) ### æ¿è½½åŠŸèƒ½ä»‹ç» ç”µæºè¾“å…¥ DC05: 6~12V ç›´æµ ç”µæºè¾“å…¥ + ç¨‹åºä¸‹è½½è°ƒè¯•æŽ¥å£: USB Type C æŽ¥å£ DVP 24PIN: æ ‡å‡† Camera DVP 24PIN æŽ¥å£ TF æ‰©å±•æ§½: ESP32: ESP32 SPI è¿žæŽ¥(ESP32 æ”¯æŒ WIFI ä¸Ž è“ç‰™) I2C DAC PA PAM8403A ![MaixDuino](./../assets/dk_board/maix_duino/maixduino_3.jpg) ## MaixDuinoå‚æ•° Maixduinoå¼€å‘æ¿ä»¥M1Alæ¨¡å—ä½œä¸ºæ ¸å¿ƒå•å…ƒï¼ŒåŠŸèƒ½éžå¸¸å¾ˆå¼ºå¤§ï¼Œæ¨¡å—å†…ç½®64ä½åŒæ ¸å¤„ç†å™¨èŠ¯ç‰‡ï¼Œæ‹¥æœ‰8Mçš„ç‰‡ä¸ŠSRAMï¼Œåœ¨Alæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹ä¾¿è¡¨çŽ°çªå‡ºï¼Œå†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒ(KPUã€FPUï¼ŒFFTç­‰)ï¼Œæ€»ç®—åŠ›æœ€é«˜å¯è¾¾1TOPSï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•,ä¹Ÿå¯ä»¥è¿›è¡Œè¯­éŸ³æ–¹å‘æ‰«æå’Œè¯­éŸ³æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œã€‚æ­¤å¤–ï¼Œå¼€å‘æ¿è¿˜é…ç½®äº†ESP32æ¨¡å—(WiFi+è“ç‰™ä¸€ä½“)ï¼Œç®€å•çš„æ“ä½œå³å¯è½»æ¾è”ç½‘ã€‚ <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³600MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>å›¾åƒè¯†åˆ«</td> <td>QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>éº¦å…‹é£Žé˜µåˆ—(8mics)</td> </tr> <tr> <td>ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒYOLOv3<li>Mobilenetv2<li>TinyYOLOv2<li>äººè„¸è¯†åˆ«ç­‰</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>è§†é¢‘å¤„ç†</td> <td><li>ç¥žç»ç½‘ç»œå¤„ç†å™¨(KPU)<li>FPUæ»¡è¶³IEEE754 2008æ ‡å‡†<li>éŸ³é¢‘å¤„ç†å™¨(APU)<li>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨(FFT)</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">ESP32æ¨¡å—</th> </tr> </thead> <tr> <td>ä¸»æŽ§</td> <td>ESP32 D0WDQ6(Xtensa 32 bitå†…æ ¸)</td> </tr> <tr> <td>æ— çº¿æ ‡å‡†</td> <td>802.11b/g/n</td> </tr> <tr> <td>æ— çº¿é¢‘çŽ‡</td> <td>2400MHz 2483.5MHz</td> </tr> <tr> <td>æ— çº¿åè®®</td> <td>2.4G WiFi+åŒæ¨¡è“ç‰™(BT&BLE4.2)</td> </tr> <tr> <td>å¤©çº¿</td> <td>PCBæ¿è½½å¤©çº¿</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\" >å¼€å‘æ¿å‚æ•°</th> </tr> </thead> <td> æ¿è½½èµ„æº</td> <td><li>RGBç¯*1<li>MEMS Microphone*1<li>USBè½¬ä¸²å£*1</td> </tr> <tr> <td>æ¿è½½æŽ¥å£</td> <td><li>USB Type CæŽ¥å£<li>24PIN DVPæ‘„åƒå¤´æŽ¥å£<li>24PIN LCDæŽ¥å£<li>MicroSDå¡æ§½<li>éŸ³é¢‘æŽ¥å£ï¼ˆæ”¯æŒå¤–æŽ¥3æ‰¬å£°å™¨ï¼‰<li>éƒ¨åˆ†IOæŽ’é’ˆå¼•è„šå¼•å‡º</td> </tr> <tr> <td>å°ºå¯¸</td> <td>60*88mm</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td> <td>5.0V @ 300mAï¼ˆä¾›ç”µç”µæµéœ€å¤§äºŽ300mA)</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦</td> <td> 30â„ƒ ~85C</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">è½¯ä»¶å¼€å‘</th> <tr> </thead> <tr> <td>èŠ¯ç‰‡æ“ä½œç³»ç»Ÿ</td> <td>FreeRTOSã€RT Threadç­‰</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td> <td>MaixPy IDEã€PlatformlO IDEã€Arduino IDEç­‰</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td> <td>Cï¼ŒC++ï¼ŒMicroPython</td> </tr> </table> ## èµ„æ–™ç›¸å…³é“¾æŽ¥ [MaixDuino åŽŸç†å›¾](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maixduino) <a href \"/soft/maixpy/zh/\" target \"_blank\"> MaixPyçš„ä½¿ç”¨æ•™ç¨‹å…¥å£ </a> ï¼ˆæŽ¨èï¼‰ <a href \"/soft/maixduino/zh/\" target \"_blank\"> arduinoçš„ä½¿ç”¨æ•™ç¨‹å…¥å£ </a> ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/maixpy_develop_kit_board/maix_hat.html":{"title":"Grove AI HAT","content":" title: Grove AI HAT keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®— desc: maixpy Grove AI HAT ## å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![Grove AI HAT](./../../../../soft/maixpy/assets/hardware/grove_ai_hat/grove_ai_hat1.png) ### æ¿è½½åŠŸèƒ½ é¡¹ç›® è¯´æ˜Ž CPUï¼š åŒæ ¸ 64bit RISC V / 400MHz (åŒç²¾åº¦FPUé›†æˆ) å†…å­˜ï¼š 8MiB 64bit ç‰‡ä¸Š SRAM å­˜å‚¨ï¼š 16MiB Flash å±å¹•ï¼ˆå¥—é¤ï¼‰ï¼š 2.4 å¯¸ TFT, ç”µå®¹è§¦æ‘¸å±å¹•åˆ†è¾¨çŽ‡ï¼š320\\*240 æ‘„åƒå¤´ï¼ˆå¥—é¤ï¼‰ï¼š æ­è½½ **OV7740** æˆ– **OV5642** **30W** åƒç´  **Sensor** æŒ‰é”®ï¼š å¤ä½æŒ‰é”®ï¼Œç”µæºæŒ‰é”®ï¼ˆçŸ­æŒ‰å¼€æœºï¼Œé•¿æŒ‰ *8S* å…³æœºï¼‰ USBï¼š Type C æŽ¥å£ï¼Œæ­£åç›²æ’ æ¿è½½ä¼ æ„Ÿå™¨ï¼š ä¸‰è½´åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ï¼ˆADXL345BCCZ RLï¼‰ï¼ŒADCï¼ˆADS1115IDGSï¼‰ ### ç¡¬ä»¶æ¿è½½æ‰©å±•æŽ¥å£ è¯¥å¼€å‘ç‰ˆå¯¹ç”¨æˆ·å¼€æ”¾äº†å››ä¸ª [Grove](https://wiki.sipeed.com/soft/maixpy/zh/modules/grove/index.html) æŽ¥å£,ç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œ DIYã€‚ ### æ¿è½½ I2C è®¾å¤‡ ä¼ æ„Ÿå™¨ åŠŸèƒ½ I2C åœ°å€(7ä½åœ°å€) SCL SDA ç¤ºä¾‹ä»£ç  ADS1115 ADC 0x48 IO23 IO24 [script](https://github.com/sipeed/MaixPy_scripts/tree/master/modules/others/ads1115) ADXL345 ä¸‰è½´åŠ é€Ÿåº¦è®¡ 0x53 IO23 IO24 [script](https://github.com/sipeed/MaixPy_scripts/tree/master/modules/others/adxl345) ## èµ„æºä¸‹è½½ [åŽŸç†å›¾](http://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Grove_AI_HAT/Grove_AI_HAT_for_Edge_Computing_v1.0_SCH_190514.pdf)"},"/hardware/zh/maix/maixpy_develop_kit_board/maix_cube.html":{"title":"MaixCube","content":"# MaixCube ## ä½¿ç”¨æ•™ç¨‹ <a href \"/soft/maixpy/zh/\" target \"_blank\"> MaixPy </a> ## æ¦‚è¿° SIPEED MaixCube æ˜¯åŸºäºŽæˆ‘ä»¬ M1n æ¨¡å—(ä¸»æŽ§:Kendryte K210)å¼€å‘çš„ä¸€æ¬¾é›†å­¦ä¹ å¼€å‘å’Œå•†ç”¨ä¸€ä½“çš„äººè„¸è¯†åˆ«äº§å“. <br/>MaixCube é›†æˆæ‘„åƒå¤´ã€TFå¡æ§½ã€ç”¨æˆ·æŒ‰é”®ã€TFTæ˜¾ç¤ºå±ã€é”‚ç”µæ± ã€æ‰¬å£°å™¨éº¦å…‹ã€æ‰©å±•æŽ¥å£ç­‰, ç”¨æˆ·å¯ä½¿ç”¨ Maix Cube è½»æ¾æ­å»ºä¸€æ¬¾äººè„¸è¯†åˆ«é—¨ç¦ç³»ç»Ÿ, åŒæ—¶è¿˜é¢„ç•™å¼€å‘è°ƒè¯•æŽ¥å£, ä¹Ÿèƒ½å°†å…¶ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ AI å­¦ä¹ å¼€å‘æ¿. ## MaixCube å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![maixcube_product_appearance](./../assets/dk_board/maix_cube/maixcube_product_appearance.png) ### æ¿è½½åŠŸèƒ½ä»‹ç» ç”µæºç®¡ç†æŽ§åˆ¶å•å…ƒ: AXP173 æ¿è½½ 200mAh é”‚ç”µæ± ,æ”¯æŒç”¨æˆ·å……æ”¾ç”µæŽ§åˆ¶ éŸ³é¢‘é©±åŠ¨ IC: ES8374 æ”¯æŒéŸ³é¢‘å½•åˆ¶,æ’­æ”¾ ä¸‰è½´åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨: MSA301 Camera OV7740: 1.3 IPS LCD: RGB: æ¿è½½ä¸¤é¢— RGB LED USB Type C:Type C æŽ¥å£,æ­£åç›²æ’ ### æ¿è½½æ‰©å±•æŽ¥å£ Maix Cube å¯¹ç”¨æˆ·å¼€æ”¾äº†ä¸¤ä¸ªé«˜åº¦æ‰©å±•çš„æŽ¥å£: SP MOD ä¸Ž Grove æŽ¥å£, ç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œ DIY #### SP MOD æŽ¥å£ SP MOD å³ä¸º sipeed module, simplify PMOD, super module æŽ¥å£ æŽ¥å£æè¿° SP MODE æŽ¥å£æè¿°![spmod_interface_1](./../../../assets/spmod/spmod_interface_1.png) ç¡¬ä»¶æŽ¥å£![spmod_interface_2](./../../../assets/spmod/spmod_interface_2.png) #### Grove æŽ¥å£ Grove æ¨¡å—æŽ¥å£ Grove æŽ¥å£çš„çº¿ç¼†æœ‰ 4 ç§é¢œè‰², ç”¨æˆ·å¯ä»¥æ ¹æ®é¢œè‰²å¿«é€ŸåŒºåˆ« ![grove_interface](./../assets/interface_grove/grove_interface.jpg) é¢œè‰² æè¿° pin 1 é»„è‰² (ä¾‹å¦‚, I2C Grove Connectorsä¸Šçš„SCL) pin 2 ç™½è‰² (ä¾‹å¦‚, I2C Grove Connectorsä¸Šçš„SDA) pin 3 çº¢è‰² VCC (æ‰€æœ‰çš„GroveæŽ¥å£çº¢è‰²éƒ½æ˜¯VCC) pin 4 é»‘è‰² GND (æ‰€æœ‰çš„GroveæŽ¥å£çº¢è‰²éƒ½æ˜¯GND) Groveæ¨¡å—ä¸»è¦æœ‰ 4 ç§æŽ¥å£: Grove Digital æ•°å­—æŽ¥å£: Grove æ•°å­—æŽ¥å£ç”± Grove æ’å¤´çš„å››æ¡æ ‡å‡†çº¿ç»„æˆ. ä¸¤æ¡ä¿¡å·çº¿é€šå¸¸ç§°ä¸º D0 å’Œ D1 . å¤§å¤šæ•°æ¨¡å—åªä½¿ç”¨ D0, ä½†æœ‰äº›(åƒLED Bar Groveæ˜¾ç¤ºå±)ä½¿ç”¨ä¸¤è€….é€šå¸¸æ ¸å¿ƒæ¿ä¼šå°†æ¿å¡ä¸Šçš„ç¬¬ä¸€ä¸ªGroveè¿žæŽ¥å¤´ç§°ä¸º D0, ç¬¬äºŒä¸ªç§°ä¸º D1.ç¬¬ä¸€ä¸ªæŽ¥å¤´ä¼šè¿žæŽ¥åˆ°ä¸»æŽ§èŠ¯ç‰‡çš„ DO/D1 ç®¡è„š, ç¬¬äºŒä¸ªè¿žæŽ¥å¤´ä¼šè¿žæŽ¥åˆ°ä¸»æŽ§èŠ¯ç‰‡çš„D1/D2å¼•è„š, åŽé¢çš„è¿žæŽ¥å¤´ä»¥æ­¤ç±»æŽ¨. pin Function Note pin1 Dn ç¬¬ä¸€ä¸ªæ•°å­—è¾“å…¥ pin2 Dn+1 ç¬¬äºŒä¸ªæ•°å­—è¾“å…¥ pin3 VCC ä¾›ç”µå¼•è„š 5V/3.3V pin4 GND åœ° Grove Analog æ¨¡æ‹ŸæŽ¥å£ Groveæ¨¡æ‹ŸæŽ¥å£ç”±Groveæ’å¤´çš„å››æ¡æ ‡å‡†çº¿ç»„æˆ. ä¸¤æ¡ä¿¡å·çº¿é€šå¸¸ç§°ä¸ºA0å’ŒA1. å¤§å¤šæ•°æ¨¡å—åªä½¿ç”¨A0ï¼Œä½†æœ‰äº›ï¼ˆåƒLED Bar Groveæ˜¾ç¤ºå±ï¼‰ä½¿ç”¨ä¸¤è€…. é€šå¸¸æ ¸å¿ƒæ¿ä¼šå°†æ¿å¡ä¸Šçš„ç¬¬ä¸€ä¸ªGroveè¿žæŽ¥å¤´ç§°ä¸ºA0ï¼Œç¬¬äºŒä¸ªç§°ä¸ºA1ã€‚ç¬¬ä¸€ä¸ªæŽ¥å¤´ä¼šè¿žæŽ¥åˆ°ä¸»æŽ§èŠ¯ç‰‡çš„AO/A1ç®¡è„šï¼Œç¬¬äºŒä¸ªè¿žæŽ¥å¤´ä¼šè¿žæŽ¥åˆ°ä¸»æŽ§èŠ¯ç‰‡çš„A1/A2å¼•è„šï¼ŒåŽé¢çš„è¿žæŽ¥å¤´ä»¥æ­¤ç±»æŽ¨. pin Function Note pin1 An ç¬¬ä¸€ä¸ªæ¨¡æ‹Ÿè¾“å…¥ pin2 An+1 ç¬¬äºŒä¸ªæ¨¡æ‹Ÿè¾“å…¥ pin3 VCC ä¾›ç”µå¼•è„š 5V/3.3V pin4 GND åœ° Grove UART : The Grove UART æ˜¯ç‰¹æ®Šçš„ä¸€ç§æ•°å­—è¾“å…¥è¾“å‡ºæŽ¥å£ å®ƒä½¿ç”¨å¼•è„š 1 å’Œå¼•è„š 2 è¿›è¡Œä¸²è¡Œè¾“å…¥å’Œå‘é€ å¼•è„š1æ˜¯ RX çº¿(ç”¨äºŽæŽ¥æ”¶æ•°æ®, å› æ­¤æ˜¯è¾“å…¥) å…¶ä¸­å¼•è„š 2 æ˜¯ TX çº¿(ç”¨äºŽå‘ Grove æ¨¡å—ä¼ è¾“æ•°æ®) pin Function Note pin1 RX ä¸²è¡ŒæŽ¥æ”¶ pin2 TX ä¸²è¡Œå‘é€ pin3 VCC ä¾›ç”µå¼•è„š 5V/3.3V pin4 GND åœ° Grove I2C: æœ‰è®¸å¤šç±»åž‹çš„ I2C Grove ä¼ æ„Ÿå™¨å¯ç”¨.MaixAmigo ä¸Šçš„ Grove åªæ”¯æŒ 3.3V ä¼ æ„Ÿå™¨ Grove I2C è¿žæŽ¥å™¨å…·æœ‰æ ‡å‡†å¸ƒå±€.å¼•è„š 1 æ˜¯SCLä¿¡å·, å¼•è„š 2 æ˜¯SDAä¿¡å· pin Function Note pin1 SCL I2C æ—¶é’Ÿ pin2 SDA I2C æ•°æ® pin3 VCC ä¾›ç”µå¼•è„š, 5V/3.3V pin4 GND åœ° ### æ¿è½½ I2C è®¾å¤‡ MaixCube æ¿è½½ I2C ä¼ æ„Ÿå™¨/IC IC è®¾å¤‡ id I2C åœ°å€(7ä½åœ°å€) ES83740x080x10 MSA3010x130x26 AXP1730x680x34 ## MaixCubeå‚æ•° ![maixcube_resources](./../assets/dk_board/maix_cube/maixcube_resources.png) <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³500MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>æ‘„åƒå¤´å¸§çŽ‡</td> <td>OV7740/QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>ç¦»çº¿è¯­éŸ³è¯†åˆ«ï¼Œå£°åœº</td> </tr> <tr> <td>ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒMobileNetV1/V2<li>äººè„¸è¯†åˆ«<li>ASR</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>ç¡¬ä»¶åŠ é€Ÿå•å…ƒ</td> <td><li>KPUå·ç§¯è¿ç®—åŠ é€Ÿå™¨<li>FPUæµ®ç‚¹è¿ç®—åŠ é€Ÿå™¨<li>APUéŸ³é¢‘å¤„ç†å™¨<li>FFTå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\" >å¼€å‘æ¿å‚æ•°</th> </tr> </thead> <td> æ¿è½½èµ„æº</td> <td><li>æŒ‰é”®*3<li>æ‘„åƒå¤´*1<li>RGB LED*2 <li>1.3å¯¸TFTå±å¹•<li>Electret Microphone*1<li>128Mbit Flash*1<li>åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨*1<li>0.5Wæ‰¬å£°å™¨</td> </tr> <tr> <td>æ¿è½½æŽ¥å£</td> <td><li>USB Type CæŽ¥å£<li>TFå¡æ§½<li>Groveæ ‡å‡†æŽ¥å£<li>SP MODæŽ¥å£(æ”¯æŒSP MODæŽ¥å£æ¨¡å—)</td> </tr> <tr> <td>å°ºå¯¸</td> <td>40*40*18.6mm</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td> <td>USB typeæˆ–å†…éƒ¨é”‚ç”µæ± ï¼ˆ200mAhï¼‰</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">è½¯ä»¶å¼€å‘</th> <tr> </thead> <tr> <td>è½¯ä»¶çŽ¯å¢ƒ</td> <td>MaixPyï¼ˆmicroPythonï¼‰</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td> <td>MaixPy IDEã€PlatformlO IDEã€Arduino IDEç­‰</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td> <td>Cï¼ŒMicroPython</td> </tr> </table> ## ç›¸å…³èµ„æ–™ä¸‹è½½ Sipeed Maix Cube èµ„æ–™ä¸‹è½½ï¼š[Sipeed Maix Cube](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Cube) Sipeed Maix Cube è§„æ ¼ä¹¦ä¸‹è½½ï¼š[Sipeed Maix Cube](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Cube/ProductSpecification/Sipeed%20Maix%20Cube%20Datasheet%20V1.0.pdf) Sipeed Maix Cube åŽŸç†å›¾ä¸‹è½½ï¼š[Sipeed Maix Cube.pdf](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Cube/Maix Cube 2757) ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/maixpy_develop_kit_board/maix_go.html":{"title":"Maix Go","content":"# Maix Go ## æ•™ç¨‹&å¿«é€Ÿä¸Šæ‰‹ <a href \"/soft/maixpy/zh/\" target \"_blank\"> MaixPy </a> ## æè¿° MAIX Goå¼€å‘æ¿æ˜¯SiPEEDå…¬å¸MAIXäº§å“çº¿çš„ä¸€å‘˜ï¼ŒåŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡K210(RISC Væž¶æž„ 64ä½åŒæ ¸)è®¾è®¡çš„ä¸€æ¬¾AIOTå¼€å‘æ¿ã€‚è®¾è®¡æˆæ•°ç ç›¸æœºçš„æ ·å¼ï¼Œæ¿è½½Type CæŽ¥å£å’ŒUSB UARTç”µè·¯ï¼Œç”¨æˆ·å¯ä»¥ç›´æŽ¥é€šè¿‡USB Type Cçº¿è¿žæŽ¥ç”µè„‘è¿›è¡Œå¼€å‘ï¼Œé…ç½®128Mbit Flashã€LCDã€DVPã€Micro SDå¡ç­‰æŽ¥å£å¹¶æŠŠæ‰€æœ‰IOå¼•å‡ºï¼Œæ–¹ä¾¿ç”¨æˆ·æ‰©å±•ã€‚ ## å¤–è§‚ <img src \"./../assets/dk_board/maix_go/Go.jpg\" alt \"Maxi go\" > ## ç‰¹æ€§ MAIX Goå¼€å‘æ¿ä»¥K210ä½œä¸ºæ ¸å¿ƒå•å…ƒï¼ŒåŠŸèƒ½éžå¸¸å¾ˆå¼ºå¤§ï¼ŒèŠ¯ç‰‡å†…ç½®64ä½åŒæ ¸å¤„ç†å™¨ï¼Œæ‹¥æœ‰8Mçš„ç‰‡ä¸ŠSRAMï¼Œåœ¨Alæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹ä¾¿è¡¨çŽ°çªå‡ºï¼Œå†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒ(KPUã€FPUï¼ŒFFTç­‰)ï¼Œæ€»ç®—åŠ›æœ€é«˜å¯è¾¾1TOPSï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•,ä¹Ÿå¯ä»¥è¿›è¡Œè¯­éŸ³æ–¹å‘æ‰«æå’Œè¯­éŸ³æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œã€‚ ## åº”ç”¨ æ™ºèƒ½å®¶å±…ï¼Œæœºå™¨äººæ¸…æ´å™¨ï¼Œæ™ºèƒ½æ‰¬å£°å™¨ï¼Œç”µå­é—¨é”ï¼Œå®¶åº­ç›‘æŽ§ç­‰; åŒ»å­¦è¡Œä¸šåº”ç”¨ï¼Œå¦‚è¾…åŠ©è¯Šæ–­ï¼ŒåŒ»å­¦å›¾åƒè¯†åˆ«; æ™ºèƒ½å·¥ä¸šåº”ç”¨ï¼Œå¦‚å·¥ä¸šæœºæ¢°ï¼Œæ™ºèƒ½åˆ†æ‹£ï¼Œç”µæ°”è®¾å¤‡ç›‘æŽ§ç­‰; æ•™è‚²æœºå™¨äººï¼Œæ™ºèƒ½äº’åŠ¨å¹³å°ï¼Œæ•™è‚²æ•ˆçŽ‡æ£€æŸ¥ç­‰æ•™è‚²åº”ç”¨; å†œä¸šåº”ç”¨ï¼Œå¦‚å†œä¸šç›‘æµ‹ï¼Œç—…è™«å®³ç›‘æµ‹ï¼Œè‡ªåŠ¨æŽ§åˆ¶ç­‰ ## å‚æ•° <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³600MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>å›¾åƒè¯†åˆ«</td> <td>QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>éº¦å…‹é£Žé˜µåˆ—(8mics)</td> </tr> <tr> <td>ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒYOLOv3<li>Mobilenetv2<li>TinyYOLOv2<li>äººè„¸è¯†åˆ«ç­‰</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>è§†é¢‘å¤„ç†</td> <td><li>ç¥žç»ç½‘ç»œå¤„ç†å™¨(KPU)<li>FPUæ»¡è¶³IEEE754 2008æ ‡å‡†<li>éŸ³é¢‘å¤„ç†å™¨(APU)<li>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨(FFT)</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\" >å¼€å‘æ¿å‚æ•°</th> </tr> </thead> <td> æ¿è½½èµ„æº</td> <td><li>ä¸‰å‘æ‹¨è½®æŒ‰é”® <li>RGBç¯*1<li>1W å°å–‡å­<li>USB to UART<li>16Mbit Flash*1</td> </tr> <tr> <td>æ¿è½½æŽ¥å£</td> <td><li>USB Type CæŽ¥å£<li>24PIN DVPæ‘„åƒå¤´æŽ¥å£<li>24PIN LCDæŽ¥å£<li>MicroSDå¡æ§½<li>éº¦å…‹é£Žé˜µåˆ—æŽ¥å£<li>éƒ¨åˆ†IOæŽ’é’ˆå¼•è„šå¼•å‡º</td> </tr> <tr> <td>å°ºå¯¸</td> <td>60*88mm</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td> <td>5.0V @ 300mAï¼ˆä¾›ç”µç”µæµéœ€å¤§äºŽ300mAï¼‰</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦</td> <td> 30â„ƒ ~85C</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">è½¯ä»¶å¼€å‘</th> <tr> </thead> <tr> <td>èŠ¯ç‰‡æ“ä½œç³»ç»Ÿ</td> <td>FreeRTOSã€RT Threadç­‰</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td> <td>MaixPy IDEã€PlatformlO IDEã€Arduino IDEç­‰</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td> <td>Cï¼ŒC++ï¼ŒMicroPython</td> </tr> </table> ## èµ„æ–™ä¸‹è½½ Sipeed Maix Go èµ„æ–™ä¸‹è½½ï¼š[Sipeed Maix Go](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix GO) ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/maixpy_develop_kit_board/maix_Amigo.html":{"title":"MaixAmigo","content":"# MaixAmigo ## ä½¿ç”¨æ•™ç¨‹ <a href \"/soft/maixpy/zh/\" target \"_blank\"> MaixPy </a> ## æ¦‚è¿° SIPEED MaixAmigo æ˜¯åŸºäºŽæˆ‘ä»¬ M1n æ¨¡å—(ä¸»æŽ§:Kendryte K210)å¼€å‘çš„ä¸€æ¬¾é›†å­¦ä¹ å¼€å‘å’Œå•†ç”¨ä¸€ä½“çš„äººè„¸è¯†åˆ«äº§å“. <br/>MaixAmigo é›†æˆå‰åŽæ‘„åƒå¤´ã€TFå¡æ§½ã€ç”¨æˆ·æŒ‰é”®ã€TFTæ˜¾ç¤ºå±ã€é”‚ç”µæ± ã€æ‰¬å£°å™¨éº¦å…‹é£Žã€æ‰©å±•æŽ¥å£ç­‰, ç”¨æˆ·å¯ä½¿ç”¨ MaixAmigo è½»æ¾æ­å»ºä¸€æ¬¾äººè„¸è¯†åˆ«é—¨ç¦ç³»ç»Ÿ, åŒæ—¶è¿˜é¢„ç•™å¼€å‘è°ƒè¯•æŽ¥å£, ä¹Ÿèƒ½å°†å…¶ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ AI å­¦ä¹ å¼€å‘æ¿. ## MaixAmigo å¤–è§‚åŠåŠŸèƒ½ä»‹ç» ### å¤–è§‚ä¸€è§ˆ ![MaixAmigo](./../assets/dk_board/maxi_amigo/image 20200730120223557.png) ### æ¿è½½ç¡¬ä»¶åŠŸèƒ½ä»‹ç» 3.5 å¯¸ **TFT** å±å¹•: åˆ†è¾¨çŽ‡ **320x480*** 3.5 å¯¸ç”µé˜»è§¦æ‘¸å±ï¼š FT6X36 èŠ¯ç‰‡å¤ä½æŒ‰é”® ç”µæºæŒ‰é”®: çŸ­æŒ‰å¼€æœº, é•¿æŒ‰ *8S* å…³æœº ä¸‰ä¸ªåŠŸèƒ½æŒ‰é”® Grove æŽ¥å£: æ¿è½½ 3 ä¸ª**Grove** æ•°å­—æŽ¥å£, ä¼ æ„Ÿå™¨,æŽ§åˆ¶å™¨æ‰©å±•æ— é™å¯èƒ½~ SP MOD æŽ¥å£: æ¿è½½ 3 ä¸ªæ›´åŠ å¼ºå¤§,æ›´é«˜æ‰©å±•æ€§çš„ **SP MOD** æ•°å­—æŽ¥å£, I2C,SPI(æ ‡å‡†,åŒçº¿,å››çº¿æ¨¡å¼)ç­‰æŽ¥å£å‡å¯ä»¥ä½¿ç”¨ åŽç»­æ”¯æŒä¹é«˜æ‰‹æŸ„åŠŸèƒ½ TF å¡æ§½: å¤šåª’ä½“èµ„æºæ‰©å±•,æ”¯æŒå¤§å®¹é‡å‚¨å­˜ æ‘„åƒå¤´: æ­è½½ **OV7740** **30W** åƒç´  ä¸Ž **GC0328 30W åƒç´ ** **Sensor** Type C æŽ¥å£: USB TypeC ç”µæºã€è°ƒè¯•æŽ¥å£,æ­£åç›²æ’ ç”µæºç®¡ç†æŽ§åˆ¶å•å…ƒ: AXP173 æ¿è½½ 600mAh é”‚ç”µæ± ,æ”¯æŒç”¨æˆ·å……æ”¾ç”µæŽ§åˆ¶ éŸ³é¢‘é©±åŠ¨ IC: ES8374 æ”¯æŒéŸ³é¢‘å½•åˆ¶,æ’­æ”¾ ä¸‰è½´åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨: MSA301 ### æ¿è½½æ‰©å±•æŽ¥å£ MaixAmigo å¯¹ç”¨æˆ·å¼€æ”¾äº†ä¸¤ä¸ªé«˜åº¦æ‰©å±•çš„æŽ¥å£: SP MOD ä¸Ž Grove æŽ¥å£, ç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œ DIY #### SP MOD æŽ¥å£ SP MOD å³ä¸º sipeed module, simplify PMOD, super module æŽ¥å£ æŽ¥å£æè¿° SP MODE æŽ¥å£æè¿°![spmod_interface_1](./../../../assets/spmod/spmod_interface_1.png) ç¡¬ä»¶æŽ¥å£![spmod_interface_2](./../../../assets/spmod/spmod_interface_2.png) #### Grove æŽ¥å£ Grove æŽ¥å£çš„çº¿ç¼†æœ‰ 4 ç§é¢œè‰², ç”¨æˆ·å¯ä»¥æ ¹æ®é¢œè‰²å¿«é€ŸåŒºåˆ« ![grove_interface](./../assets/interface_grove/grove_interface.jpg) pin é¢œè‰² æè¿° pin 1 é»„è‰² (ä¾‹å¦‚, I2C Grove Connectorsä¸Šçš„SCL) pin 2 ç™½è‰² (ä¾‹å¦‚, I2C Grove Connectorsä¸Šçš„SDA) pin 3 çº¢è‰² VCC (æ‰€æœ‰çš„GroveæŽ¥å£çº¢è‰²éƒ½æ˜¯VCC) pin 4 é»‘è‰² GND (æ‰€æœ‰çš„GroveæŽ¥å£çº¢è‰²éƒ½æ˜¯GND) Groveæ¨¡å—ä¸»è¦æœ‰ 4 ç§æŽ¥å£: Grove Digital æ•°å­—æŽ¥å£: Grove æ•°å­—æŽ¥å£ç”± Grove æ’å¤´çš„å››æ¡æ ‡å‡†çº¿ç»„æˆ. ä¸¤æ¡ä¿¡å·çº¿é€šå¸¸ç§°ä¸º D0 å’Œ D1 . å¤§å¤šæ•°æ¨¡å—åªä½¿ç”¨ D0, ä½†æœ‰äº›(åƒLED Bar Groveæ˜¾ç¤ºå±)ä½¿ç”¨ä¸¤è€….é€šå¸¸æ ¸å¿ƒæ¿ä¼šå°†æ¿å¡ä¸Šçš„ç¬¬ä¸€ä¸ªGroveè¿žæŽ¥å¤´ç§°ä¸º D0, ç¬¬äºŒä¸ªç§°ä¸º D1.ç¬¬ä¸€ä¸ªæŽ¥å¤´ä¼šè¿žæŽ¥åˆ°ä¸»æŽ§èŠ¯ç‰‡çš„ DO/D1 ç®¡è„š, ç¬¬äºŒä¸ªè¿žæŽ¥å¤´ä¼šè¿žæŽ¥åˆ°ä¸»æŽ§èŠ¯ç‰‡çš„D1/D2å¼•è„š, åŽé¢çš„è¿žæŽ¥å¤´ä»¥æ­¤ç±»æŽ¨. pin Function Note pin1 Dn ç¬¬ä¸€ä¸ªæ•°å­—è¾“å…¥ pin2 Dn+1 ç¬¬äºŒä¸ªæ•°å­—è¾“å…¥ pin3 VCC ä¾›ç”µå¼•è„š 5V/3.3V pin4 GND åœ° Grove Analog æ¨¡æ‹ŸæŽ¥å£ Groveæ¨¡æ‹ŸæŽ¥å£ç”±Groveæ’å¤´çš„å››æ¡æ ‡å‡†çº¿ç»„æˆ. ä¸¤æ¡ä¿¡å·çº¿é€šå¸¸ç§°ä¸ºA0å’ŒA1. å¤§å¤šæ•°æ¨¡å—åªä½¿ç”¨A0ï¼Œä½†æœ‰äº›ï¼ˆåƒLED Bar Groveæ˜¾ç¤ºå±ï¼‰ä½¿ç”¨ä¸¤è€…. é€šå¸¸æ ¸å¿ƒæ¿ä¼šå°†æ¿å¡ä¸Šçš„ç¬¬ä¸€ä¸ªGroveè¿žæŽ¥å¤´ç§°ä¸ºA0ï¼Œç¬¬äºŒä¸ªç§°ä¸ºA1ã€‚ç¬¬ä¸€ä¸ªæŽ¥å¤´ä¼šè¿žæŽ¥åˆ°ä¸»æŽ§èŠ¯ç‰‡çš„AO/A1ç®¡è„šï¼Œç¬¬äºŒä¸ªè¿žæŽ¥å¤´ä¼šè¿žæŽ¥åˆ°ä¸»æŽ§èŠ¯ç‰‡çš„A1/A2å¼•è„šï¼ŒåŽé¢çš„è¿žæŽ¥å¤´ä»¥æ­¤ç±»æŽ¨. pin Function Note pin1 An ç¬¬ä¸€ä¸ªæ¨¡æ‹Ÿè¾“å…¥ pin2 An+1 ç¬¬äºŒä¸ªæ¨¡æ‹Ÿè¾“å…¥ pin3 VCC ä¾›ç”µå¼•è„š 5V/3.3V pin4 GND åœ° Grove UART : The Grove UART æ˜¯ç‰¹æ®Šçš„ä¸€ç§æ•°å­—è¾“å…¥è¾“å‡ºæŽ¥å£ å®ƒä½¿ç”¨å¼•è„š 1 å’Œå¼•è„š 2 è¿›è¡Œä¸²è¡Œè¾“å…¥å’Œå‘é€ å¼•è„š1æ˜¯ RX çº¿(ç”¨äºŽæŽ¥æ”¶æ•°æ®, å› æ­¤æ˜¯è¾“å…¥) å…¶ä¸­å¼•è„š 2 æ˜¯ TX çº¿(ç”¨äºŽå‘ Grove æ¨¡å—ä¼ è¾“æ•°æ®) pin Function Note pin1 RX ä¸²è¡ŒæŽ¥æ”¶ pin2 TX ä¸²è¡Œå‘é€ pin3 VCC ä¾›ç”µå¼•è„š 5V/3.3V pin4 GND åœ° Grove I2C: æœ‰è®¸å¤šç±»åž‹çš„ I2C Grove ä¼ æ„Ÿå™¨å¯ç”¨.MaixAmigo ä¸Šçš„ Grove åªæ”¯æŒ 3.3V ä¼ æ„Ÿå™¨ Grove I2C è¿žæŽ¥å™¨å…·æœ‰æ ‡å‡†å¸ƒå±€.å¼•è„š 1 æ˜¯SCLä¿¡å·, å¼•è„š 2 æ˜¯SDAä¿¡å· pin Function Note pin1 SCL I2C æ—¶é’Ÿ pin2 SDA I2C æ•°æ® pin3 VCC ä¾›ç”µå¼•è„š, 5V/3.3V pin4 GND åœ° ### æ¿è½½ I2C è®¾å¤‡ MaixAmigo æ¿è½½ I2C ä¼ æ„Ÿå™¨/IC IC è®¾å¤‡ id I2C åœ°å€(7ä½åœ°å€) ES8374 0x08 0x10 MSA301 0x13 0x26 AXP173 0x68 0x34 ## å‚æ•° Maix Amigoå†…ç½®64ä½400MhzåŒæ ¸é«˜æ€§èƒ½å¤„ç†å™¨,æ‹¥æœ‰8Mçš„ç‰‡ä¸ŠSRAMï¼Œ16MiB FLASHå¤§å®¹é‡å­˜å‚¨,è½»æ¾å¤„ç†å¤šåª’ä½“åº”ç”¨,åœ¨AIæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹ä¾¿è¡¨çŽ°çªå‡ºï¼Œå†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒï¼ˆKPUã€FPUï¼ŒFFTç­‰)ï¼Œæ€»ç®—åŠ›æœ€é«˜å¯è¾¾1TOPS,å¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•,ä¹Ÿå¯ä»¥è¿›è¡Œè¯­éŸ³æ‰«æå’Œè¯­éŸ³æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œ <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³600MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>æ‘„åƒå¤´å¸§çŽ‡</td> <td>OV7740/QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>ç¦»çº¿è¯­éŸ³è¯†åˆ«ï¼Œå£°åœº</td> </tr> <tr> <td>ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒMobileNetV1/V2<li>äººè„¸è¯†åˆ«<li>ASR</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>ç¡¬ä»¶åŠ é€Ÿå•å…ƒ</td> <td><li>KPUå·ç§¯è¿ç®—åŠ é€Ÿå™¨<li>FPUæµ®ç‚¹è¿ç®—åŠ é€Ÿå™¨<li>APUéŸ³é¢‘å¤„ç†å™¨<li>FFTå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\" >å¼€å‘æ¿å‚æ•°</th> </tr> </thead> <td> æ¿è½½èµ„æº</td> <td><li>3.5å¯¸TFTå±å¹•<li>å¤ä½æŒ‰é”®*1<li>åŠŸèƒ½æŒ‰é”®*3<li>å‰åŽæ‘„åƒå¤´*2<li>LED*3<li>åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨*1</td> </tr> <tr> <td>æ¿è½½æŽ¥å£</td> <td><li>USB Type CæŽ¥å£<li>éŸ³é¢‘æŽ¥å£(æ”¯æŒå¤–æŽ¥æ‰¬å£°å™¨)<li>TFå¡æ§½<li>Groveæ ‡å‡†æŽ¥å£<li>SP MODæŽ¥å£(æ”¯æŒSP MODæŽ¥å£æ¨¡å—)</td> </tr> <tr> <td>å°ºå¯¸</td> <td>104.3*63.3*16.5mm</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td> <td>USB typeæˆ–å†…éƒ¨é”‚ç”µæ± ï¼ˆ520mAhï¼‰</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">è½¯ä»¶å¼€å‘</th> <tr> </thead> <tr> <td>è½¯ä»¶çŽ¯å¢ƒ</td> <td>MaixPyï¼ˆmicroPythonï¼‰</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td> <td>MaixPy IDEã€PlatformlO IDEã€Arduino IDEç­‰</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td> <td>Cï¼ŒMicroPython</td> </tr> </table> ## ç›¸å…³èµ„æ–™ä¸‹è½½ Maix Amigo èµ„æ–™ä¸‹è½½ï¼š[Sipeed Amigo](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Amigo) Maix Amigo è§„æ ¼ä¹¦ä¸‹è½½ï¼š[Sipeed Amigo](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Amigo/ProductSpecification) Maix Amigo IPS ç‰ˆæœ¬ åŽŸç†å›¾ä¸‹è½½ï¼š<a href \"https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Amigo/2970/Maix_Amigo_2970(Schematic).pdf\">Maix_Amigo_2970(Schematic).pdf</a> Maix Amigo TFT ç‰ˆæœ¬ åŽŸç†å›¾ä¸‹è½½ï¼š<a href \"https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Amigo/2960/Maix_Amigo_2960(Schematic).pdf\">Maix_Amigo_2960(Schematic).pdf</a> ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/maixpy_develop_kit_board/Maix_dock.html":{"title":"Maix Dock(M1/M1W)","content":"# Maix Dock(M1/M1W) ## æ•™ç¨‹&å¿«é€Ÿä¸Šæ‰‹ <a href \"/soft/maixpy/zh/\" target \"_blank\"> MaixPy </a> ## æè¿° MAIX Dockå¼€å‘æ¿æ˜¯SiPEEDå…¬å¸MAIXäº§å“çº¿çš„ä¸€å‘˜ï¼ŒåŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡K210(RISC Væž¶æž„ 64ä½åŒæ ¸)è®¾è®¡çš„ä¸€æ¬¾AIOTå¼€å‘æ¿ã€‚åŒ–ç¹ä¸ºç®€çš„è®¾è®¡ï¼Œæ•´æ´å°å·§ï¼Œæ¿è½½Type CæŽ¥å£å’ŒUSB UARTç”µè·¯ï¼Œç”¨æˆ·å¯ä»¥ç›´æŽ¥é€šè¿‡USB Type Cçº¿è¿žæŽ¥ç”µè„‘è¿›è¡Œå¼€å‘ï¼Œé…ç½®128Mbit Flashã€LCDã€DVPã€Micro SDå¡ç­‰æŽ¥å£å¹¶æŠŠæ‰€æœ‰IOå¼•å‡ºï¼Œæ–¹ä¾¿ç”¨æˆ·æ‰©å±•ã€‚ > ä¸Šç”µå³å¯å¼€æœºï¼Œä¸éœ€è¦å¼€æœºæ“ä½œ <img src \"./../assets/dk_board/maix_dock/Maix_Dock.jpg\" alt \"11\" width \"300\"> ## å¤–è§‚ <img src \"./../assets/dk_board/maix_dock/Maix_Dock_3.png\" alt \"11\" > <img src \"./../assets/dk_board/maix_dock/Maix_Dock_2.png\" alt \"11\" > ## ç‰¹æ€§ MaixDock å¼€å‘æ˜¯ä»¥M1W AIæ¨¡å—ä½œä¸ºæ ¸å¿ƒå•å…ƒï¼ŒåŠŸèƒ½éžå¸¸å¼ºå¤§ã€‚æ¨¡å—å†…ç½®64ä½åŒæ ¸å¤„ç†å™¨èŠ¯ç‰‡ï¼Œæ‹¥æœ‰8Mçš„ç‰‡ä¸ŠSRAMï¼Œåœ¨AIæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹é¢è¡¨çŽ°çªå‡ºï¼Œå†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒï¼ˆKPUã€FPUã€FFTç­‰ï¼‰ï¼Œæ€»ç®—åŠ›æœ€é«˜å¯è¾¾1TOPSï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œè¯­è¨€æ–¹å‘æ‰«æå’Œè¯­è¨€æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œã€‚ ## åº”ç”¨ æ™ºèƒ½å®¶å±…ï¼Œæœºå™¨äººæ¸…æ´å™¨ï¼Œæ™ºèƒ½æ‰¬å£°å™¨ï¼Œç”µå­é—¨é”ï¼Œå®¶åº­ç›‘æŽ§ç­‰; åŒ»å­¦è¡Œä¸šåº”ç”¨ï¼Œå¦‚è¾…åŠ©è¯Šæ–­ï¼ŒåŒ»å­¦å›¾åƒè¯†åˆ«; æ™ºèƒ½å·¥ä¸šåº”ç”¨ï¼Œå¦‚å·¥ä¸šæœºæ¢°ï¼Œæ™ºèƒ½åˆ†æ‹£ï¼Œç”µæ°”è®¾å¤‡ç›‘æŽ§ç­‰; æ•™è‚²æœºå™¨äººï¼Œæ™ºèƒ½äº’åŠ¨å¹³å°ï¼Œæ•™è‚²æ•ˆçŽ‡æ£€æŸ¥ç­‰æ•™è‚²åº”ç”¨; å†œä¸šåº”ç”¨ï¼Œå¦‚å†œä¸šç›‘æµ‹ï¼Œç—…è™«å®³ç›‘æµ‹ï¼Œè‡ªåŠ¨æŽ§åˆ¶ç­‰ ## å‚æ•° <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³600MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>å›¾åƒè¯†åˆ«</td> <td>QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>éº¦å…‹é£Žé˜µåˆ—(8mics)</td> </tr> <tr> <td>ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒYOLOv3<li>Mobilenetv2<li>TinyYOLOv2<li>äººè„¸è¯†åˆ«ç­‰</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>è§†é¢‘å¤„ç†</td> <td><li>ç¥žç»ç½‘ç»œå¤„ç†å™¨(KPU)<li>FPUæ»¡è¶³IEEE754 2008æ ‡å‡†<li>éŸ³é¢‘å¤„ç†å™¨(APU)<li>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨(FFT)</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\" >å¼€å‘æ¿å‚æ•°</th> </tr> </thead> <td> æ¿è½½èµ„æº</td> <td><li>æŒ‰é”®*2 <li>RGBç¯*1<li>MEMS Microphone*1<li>USB to UART<li>128Mbit Flash*1</td> </tr> <tr> <td>æ¿è½½æŽ¥å£</td> <td><li>USB Type CæŽ¥å£<li>24PIN DVPæ‘„åƒå¤´æŽ¥å£<li>24PIN LCDæŽ¥å£<li>MicroSDå¡æ§½<li>éŸ³é¢‘æŽ¥å£(æ”¯æŒå¤–æŽ¥2x3Wæ‰¬å£°å™¨)<li>æ‰€æœ‰IOæŽ’é’ˆå¼•è„šå¼•å‡º</td> </tr> <tr> <td>å°ºå¯¸</td> <td>52.3*37.3mm</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td> <td>5.0V @ 300mAï¼ˆä¾›ç”µç”µæµéœ€å¤§äºŽ300mA)</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦</td> <td> 30â„ƒ ~85C</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">è½¯ä»¶å¼€å‘</th> <tr> </thead> <tr> <td>èŠ¯ç‰‡æ“ä½œç³»ç»Ÿ</td> <td>FreeRTOSã€RT Threadç­‰</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td> <td>MaixPy IDEã€PlatformlO IDEã€Arduino IDEç­‰</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td> <td>Cï¼ŒC++ï¼ŒMicroPython</td> </tr> </table> ## èµ„æ–™ Sipeed Maix Dock èµ„æ–™ä¸‹è½½ï¼š[Sipeed Maix Dock](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Dock) Sipeed Maix Dock è§„æ ¼ä¹¦ä¸‹è½½ï¼š[Sipeed Maix Dock](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Dock/Specifications) Sipeed Maix Dock åŽŸç†å›¾ä¸‹è½½ï¼š[Sipeed Maix Dock](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Maix Dock/Maix Dock_11.27/Maix Dock_11.27 schematic.pdf) ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/maixpy_develop_kit_board/maix_bit.html":{"title":"Maix Bit","content":"# Maix Bit ## æ•™ç¨‹&å¿«é€Ÿä¸Šæ‰‹ ç›¸å…³çš„ä½¿ç”¨æ•™ç¨‹å…¥å£<a href \"/soft/maixpy/zh/\" target \"_blank\"> MaixPy </a> ## æè¿° MAIX Bitå¼€å‘æ¿æ˜¯SiPEEDå…¬å¸MAIXäº§å“çº¿çš„ä¸€å‘˜ï¼ŒåŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡K210(RISC Væž¶æž„ 64ä½åŒæ ¸)è®¾è®¡çš„ä¸€æ¬¾AIOTå¼€å‘æ¿ã€‚ç»å…¸ä¸¤ä¾§æŽ’é’ˆè®¾è®¡ï¼Œå¯ä»¥ç›´æŽ¥é…åˆé¢åŒ…æ¿ä½¿ç”¨ï¼Œæ¿è½½Type CæŽ¥å£å’ŒUSB UARTç”µè·¯ï¼Œç”¨æˆ·å¯ä»¥ç›´æŽ¥é€šè¿‡USB Type Cçº¿è¿žæŽ¥ç”µè„‘è¿›è¡Œå¼€å‘ï¼Œé…ç½®128Mbit Flashã€LCDã€DVPã€Micro SDå¡ç­‰æŽ¥å£å¹¶æŠŠæ‰€æœ‰IOå¼•å‡ºï¼Œæ–¹ä¾¿ç”¨æˆ·æ‰©å±•ã€‚ ## å¤–è§‚ <img src \"./../assets/dk_board/maix_bit/Bit.png\" alt \"Maxi bit\" > ## ç‰¹æ€§ MaixBitå¼€å‘æ¿ä»¥K210ä½œä¸ºæ ¸å¿ƒå•å…ƒï¼ŒåŠŸèƒ½éžå¸¸å¾ˆå¼ºå¤§ï¼ŒèŠ¯ç‰‡å†…ç½®64ä½åŒæ ¸å¤„ç†å™¨ï¼Œæ‹¥æœ‰8Mçš„ç‰‡ä¸ŠSRAMï¼Œåœ¨Alæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹ä¾¿è¡¨çŽ°çªå‡ºï¼Œå†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒ(KPUã€FPUï¼ŒFFTç­‰)ï¼Œæ€»ç®—åŠ›æœ€é«˜å¯è¾¾1TOPSï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•,ä¹Ÿå¯ä»¥è¿›è¡Œè¯­éŸ³æ–¹å‘æ‰«æå’Œè¯­éŸ³æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œã€‚ ## åº”ç”¨ æ™ºèƒ½å®¶å±…ï¼Œæœºå™¨äººæ¸…æ´å™¨ï¼Œæ™ºèƒ½æ‰¬å£°å™¨ï¼Œç”µå­é—¨é”ï¼Œå®¶åº­ç›‘æŽ§ç­‰; åŒ»å­¦è¡Œä¸šåº”ç”¨ï¼Œå¦‚è¾…åŠ©è¯Šæ–­ï¼ŒåŒ»å­¦å›¾åƒè¯†åˆ«; æ™ºèƒ½å·¥ä¸šåº”ç”¨ï¼Œå¦‚å·¥ä¸šæœºæ¢°ï¼Œæ™ºèƒ½åˆ†æ‹£ï¼Œç”µæ°”è®¾å¤‡ç›‘æŽ§ç­‰; æ•™è‚²æœºå™¨äººï¼Œæ™ºèƒ½äº’åŠ¨å¹³å°ï¼Œæ•™è‚²æ•ˆçŽ‡æ£€æŸ¥ç­‰æ•™è‚²åº”ç”¨; å†œä¸šåº”ç”¨ï¼Œå¦‚å†œä¸šç›‘æµ‹ï¼Œç—…è™«å®³ç›‘æµ‹ï¼Œè‡ªåŠ¨æŽ§åˆ¶ç­‰ ## å‚æ•° <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³600MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>å›¾åƒè¯†åˆ«</td> <td>QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>éº¦å…‹é£Žé˜µåˆ—(8mics)</td> </tr> <tr> <td>ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒYOLOv3<li>Mobilenetv2<li>TinyYOLOv2<li>äººè„¸è¯†åˆ«ç­‰</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>è§†é¢‘å¤„ç†</td> <td><li>ç¥žç»ç½‘ç»œå¤„ç†å™¨(KPU)<li>FPUæ»¡è¶³IEEE754 2008æ ‡å‡†<li>éŸ³é¢‘å¤„ç†å™¨(APU)<li>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨(FFT)</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\" >å¼€å‘æ¿å‚æ•°</th> </tr> </thead> <td> æ¿è½½èµ„æº</td> <td><li>æŒ‰é”®*2 <li>RGBç¯*1<li>MEMS Microphone*1<li>USB to UART<li>128Mbit Flash*1</td> </tr> <tr> <td>æ¿è½½æŽ¥å£</td> <td><li>USB Type CæŽ¥å£<li>24PIN DVPæ‘„åƒå¤´æŽ¥å£<li>24PIN LCDæŽ¥å£<li>MicroSDå¡æ§½<li>æ‰€æœ‰IOæŽ’é’ˆå¼•è„šå¼•å‡º</td> </tr> <tr> <td>å°ºå¯¸</td> <td>53.3*25.4mm</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td> <td>5.0V @ 300mAï¼ˆä¾›ç”µç”µæµéœ€å¤§äºŽ300mA)</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦</td> <td> 30â„ƒ ~85â„ƒ</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">è½¯ä»¶å¼€å‘</th> <tr> </thead> <tr> <td>èŠ¯ç‰‡æ“ä½œç³»ç»Ÿ</td> <td>FreeRTOSã€RT Threadç­‰</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td> <td>MaixPy IDEã€PlatformlO IDEã€Arduino IDEç­‰</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td> <td>Cï¼ŒC++ï¼ŒMicroPython</td> </tr> </table> ## èµ„æ–™ä¸‹è½½ Sipeed Maix Bit èµ„æ–™ä¸‹è½½ï¼š[Sipeed Maix Bit](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Maix Bit/Maix Bit_V2.0_with_MEMS_microphone) Sipeed Maix Bit è§„æ ¼ä¹¦ä¸‹è½½ï¼š[Sipeed Maix Bit](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Maix Bit/Specifications/Sipeed%20Maix Bit%20%E8%A7%84%E6%A0%BC%E4%B9%A6%20V2.0.pdf) Sipeed Maix Bit åŽŸç†å›¾ä¸‹è½½ï¼š[Sipeed Maix Bit](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed Maix Bit/Maix Bit_V2.0_with_MEMS_microphone/Maix Bit_V2.0_Schematic.pdf) ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/maixpy_develop_kit_board/develop_kit_board.html":{"title":"Maix ç³»åˆ—å¼€å‘æ¿","content":"# Maix ç³»åˆ—å¼€å‘æ¿ ## Maix ç³»åˆ—å¼€å‘æ¿ ç›®å‰ MaixPy ç³»åˆ—å¼€å‘æ¿æœ‰ä¸€ä¸‹è¿™å‡ æ¬¾åž‹å·: Maix Go Maix Dock Maix Duino Maix Bit Maix Cube Maix Amigo <style type \"text/css\"> th { background color: #fbfbfb; border: 2px solid #f1f1f1; } </style> ## å·®å¼‚å¯¹æ¯” <table> <tbody> <tr> <th width \"226\" scope \"col\" >&nbsp;</th> <th width \"226\" scope \"col\" ><a href \"maix_go.html\"><img src \"../assets/dk_board/maix_go/Go.jpg\" width \"200\" alt \"\"/></a></th> <th width \"226\" scope \"col\"><a href \"maix_bit.html\"><img src \"../assets/dk_board/maix_bit/Bit.png\" width \"200\" alt \"Bit\"/></a></th> <th width \"226\" scope \"col\"><a href \"maix_cube.html\"><img src \"../assets/dk_board/maix_cube/maix_cube_1.png\" width \"200\" alt \"maix_cube\"/></a></th> <th width \"226\" scope \"col\"><a href \"Maix_dock.html\"><img src \"../assets/dk_board/maix_dock/Dan_Dock.png\" width \"200\" alt \"\"/></a></th> <th width \"226\" scope \"col\"><a href \"maix_duino.html\"><img src \"../assets/dk_board/maix_duino/DSC_08141.png\" width \"200\" alt \"\"/></a></th> <th width \"226\" scope \"col\"><a href \"maix_Amigo.html\"><img src \"../assets/dk_board/maxi_amigo/amigo.png\" width \"200\" alt \"\"/></a> </th> </tr> <tr> <td>åž‹å· </td> <td>Maix Go</td> <td>Maix Bit</td> <td>Maix Cube</td> <td><p>Maix Dock</p></td> <td>Maix Duino</td> <td>Maix Amigo</td> </tr> <tr> <td>USB IC</td> <td>STM32</td> <td>CH552/CH340</td> <td>GD32/CH552</td> <td>CH340</td> <td>CH552</td> <td>GD32</td> </tr> <tr> <td>æ ¸å¿ƒæ¨¡å—</td> <td>M1</td> <td>M1</td> <td>M1n</td> <td>M1/M1W</td> <td>M1</td> <td>M1n</td> </tr> <tr> <td height \"48\">WIFI åŠŸèƒ½</td> <td>M1W æ¨¡å—é›†æˆ ESP8285</td> <td> </td> <td> </td> <td>Dock M1 (ä¸æ”¯æŒ WIFI)<br/> Dock M1W(æ”¯æŒ,M1W æ¨¡å—é›†æˆ ESP8285)</td> <td>æ¿è½½ ESP32 ï¼ˆæ”¯æŒ WIFI, è“ç‰™åŠŸèƒ½æš‚æ—¶æœªæ”¯æŒï¼‰</td> <td> </td> </tr> </tbody> </table> ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/M1n.html":{"title":"Sipeed M1n","content":" title: Sipeed M1n keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, M1n desc: maixpy Sipeed M1/M1W ## M1n SiPEEDM1næ˜¯åŸºäºŽåŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡K210(RISC væž¶æž„64ä½åŒæ ¸)è®¾è®¡çš„ä¸€æ¬¾AIOTå¼€å‘æ¿ã€‚æ¿è½½DVPåŒæ‘„åƒå¤´æŽ¥å£ã€Flashã€å¹¶æŠŠå¤§éƒ¨åˆ†IOé€šè¿‡é‡‘æ‰‹æŒ‡æ–¹å¼å¼•å‡ºï¼Œæ¨¡å—è®¾è®¡å°å·§ç²¾è‡´ã€å¸ƒå±€èµ°çº¿åˆç†è§„èŒƒï¼Œç”¨æˆ·å¯ç›´æŽ¥åº”ç”¨äºŽå•†ç”¨äº§å“ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è½¬æŽ¥æ¿å¯¹æ­¤æ¨¡å—è¿›è¡Œå¼€å‘ã€‚ ![M1n](./assets/m1n/M1n_1.png) ## åº”ç”¨ æ™ºèƒ½å®¶å±…ï¼Œæœºå™¨äººæ¸…æ´å™¨ï¼Œæ™ºèƒ½æ‰¬å£°å™¨ï¼Œç”µå­é—¨é”ï¼Œå®¶åº­ç›‘æŽ§ç­‰; åŒ»å­¦è¡Œä¸šåº”ç”¨ï¼Œå¦‚è¾…åŠ©è¯Šæ–­ï¼ŒåŒ»å­¦å›¾åƒè¯†åˆ«; æ™ºèƒ½å·¥ä¸šåº”ç”¨ï¼Œå¦‚å·¥ä¸šæœºæ¢°ï¼Œæ™ºèƒ½åˆ†æ‹£ï¼Œç”µæ°”è®¾å¤‡ç›‘æŽ§ç­‰; æ•™è‚²æœºå™¨äººï¼Œæ™ºèƒ½äº’åŠ¨å¹³å°ï¼Œæ•™è‚²æ•ˆçŽ‡æ£€æŸ¥ç­‰æ•™è‚²åº”ç”¨; å†œä¸šåº”ç”¨ï¼Œå¦‚å†œä¸šç›‘æµ‹ï¼Œç—…è™«å®³ç›‘æµ‹ï¼Œè‡ªåŠ¨æŽ§åˆ¶ç­‰ ## M1n å‚æ•° M1næ¨¡å—ä»¥K210ä½œä¸ºæ ¸å¿ƒå•å…ƒï¼ŒåŠŸèƒ½éžå¸¸å¾ˆå¼ºå¤§ï¼ŒèŠ¯ç‰‡å†…ç½®64ä½åŒæ ¸å¤„ç†å™¨ï¼Œæ‹¥æœ‰8Mçš„ç‰‡ä¸ŠSRAMï¼Œåœ¨Alæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹ä¾¿è¡¨çŽ°çªå‡ºï¼Œå†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒ(KPUã€FPUï¼ŒFFTç­‰)ï¼Œæ€»ç®—åŠ›æœ€é«˜å¯è¾¾1TOPs ,å¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•,ä¹Ÿå¯ä»¥è¿›è¡Œè¯­éŸ³æ–¹å‘æ‰«æå’Œè¯­éŸ³æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œã€‚ <p><img loading \"M1/M1W\" src \"./assets/m1n/M1n.png\" width 500 ></p> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³600MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>å›¾åƒè¯†åˆ«</td> <td>QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>éº¦å…‹é£Žé˜µåˆ—(8mics)</td> </tr> <tr> <td>ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒYOLOv3<li>Mobilenetv2<li>TinyYOLOv2<li>äººè„¸è¯†åˆ«ç­‰</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>è§†é¢‘å¤„ç†</td> <td><li>ç¥žç»ç½‘ç»œå¤„ç†å™¨(KPU)<li>FPUæ»¡è¶³IEEE754 2008æ ‡å‡†<li>éŸ³é¢‘å¤„ç†å™¨(APU)<li>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨(FFT)</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">æ¨¡å—è½¯ä»¶</th> </tr> </thead> <tr> <td>æ“ä½œç³»ç»Ÿ</td><td>FreeRtos and Standrad development ki</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td><td>MicroPython</td> </tr> <tr> <td>æœºå™¨è§†è§‰</td><td>æ”¯æŒå·ç§¯ç¥žç»ç½‘ç»œ</td> </tr> <tr> <td>æœºå™¨å¬è§‰</td><td>é«˜æ€§èƒ½éŸ³é¢‘å¤„ç†å™¨(APU)</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td><td>ä¸²å£ç»ˆç«¯ã€MaixPy IDE</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">æ¨¡å—ç¡¬ä»¶</th> </tr> </thead> <tr> <td>å°ºå¯¸</td><td>22.0*25.0mm</td> </tr> <tr> <td>å¼•è„š</td><td>éƒ¨åˆ†å¼•è„šé‡‘æ‰‹æŒ‡å¼•å‡º</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td><td>5.0V @ 300mAï¼ˆä¾›ç”µç”µæµéœ€å¤§äºŽ300mA)</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦</td><td> 30Â°C ~85Â°C</td> </tr> </table> ## èµ„æ–™ä¸‹è½½ èŠ¯ç‰‡ K210 Datasheet: [Kendryte å®˜ç½‘](https://canaan creative.com/) M1n èµ„æ–™ä¸‹è½½: [Click me](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed M1n) M1n åŽŸç†å›¾ä¸‹è½½ï¼š[Sipeed M1n Datasheet V1.0.pdf](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed M1n/Sipeed%20M1n%20Datasheet%20V1.0.pdf) ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maix/core_module.html":{"title":"Sipeed M1/M1W","content":" title: Sipeed M1/M1W keywords: maixpy, k210, AIOT, è¾¹ç¼˜è®¡ç®—, M1/M1W desc: maixpy Sipeed M1/M1W ## M1/M1W M1/M1Wæ¨¡å—æ˜¯åŸºäºŽå˜‰æ¥ å ªæ™ºç§‘æŠ€çš„è¾¹ç¼˜æ™ºèƒ½è®¡ç®—èŠ¯ç‰‡ K210 (RISC Væž¶æž„) è®¾è®¡çš„ä¸€æ¬¾AIOTæ¨¡å—ã€‚ä¸»æŽ§èŠ¯ç‰‡å†…ç½®64ä½åŒæ ¸é«˜æ€§èƒ½ä½ŽåŠŸè€—å¤„ç†å™¨ï¼Œæ¯ä¸ªæ ¸éƒ½æœ‰æµ®ç‚¹è¿ç®—å•å…ƒ(FPU) ,å…·å¤‡å·ç§¯äººå·¥ç¥žç»ç½‘ç»œç¡¬ä»¶åŠ é€Ÿå™¨(KPU)å’Œå¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨(FFT)ã€æ­è½½çŽ°åœºå¯ç¼–ç¨‹IOé˜µåˆ—(FPIOA)ï¼Œæ”¯æŒå¤šç§ä¸»æµAlç¼–ç¨‹æ¡†æž¶ã€‚M1Wæ¨¡å—å†…ç½®æ ‡å‡†802.11 b/g/nåè®®çš„ESP8285 WiFièŠ¯ç‰‡ï¼Œå¯è®©æ¨¡å—è½»æ¾è”ç½‘ã€‚ ![M1/M1W](./assets/m1_m1w/M1_Dan.png) ## åº”ç”¨ æ™ºèƒ½å®¶å±…ï¼Œæœºå™¨äººæ¸…æ´å™¨ï¼Œæ™ºèƒ½æ‰¬å£°å™¨ï¼Œç”µå­é—¨é”ï¼Œå®¶åº­ç›‘æŽ§ç­‰; åŒ»å­¦è¡Œä¸šåº”ç”¨ï¼Œå¦‚è¾…åŠ©è¯Šæ–­ï¼ŒåŒ»å­¦å›¾åƒè¯†åˆ«; æ™ºèƒ½å·¥ä¸šåº”ç”¨ï¼Œå¦‚å·¥ä¸šæœºæ¢°ï¼Œæ™ºèƒ½åˆ†æ‹£ï¼Œç”µæ°”è®¾å¤‡ç›‘æŽ§ç­‰; æ•™è‚²æœºå™¨äººï¼Œæ™ºèƒ½äº’åŠ¨å¹³å°ï¼Œæ•™è‚²æ•ˆçŽ‡æ£€æŸ¥ç­‰æ•™è‚²åº”ç”¨; å†œä¸šåº”ç”¨ï¼Œå¦‚å†œä¸šç›‘æµ‹ï¼Œç—…è™«å®³ç›‘æµ‹ï¼Œè‡ªåŠ¨æŽ§åˆ¶ç­‰ ## M1/M1W å‚æ•° M1/M1W Alæ¨¡å—ç³»ç»Ÿä¸»è¦ç”±ç”µæº(3 Channel DC DC)ã€FlashèŠ¯ç‰‡(16M)ç”µè·¯ã€K210èŠ¯ç‰‡å’ŒWiFièŠ¯ç‰‡å››éƒ¨åˆ†ç»„æˆã€‚K210ä½œä¸ºæ ¸å¿ƒå•å…ƒï¼ŒåŠŸèƒ½éžå¸¸å¾ˆå¼ºå¤§ï¼ŒèŠ¯ç‰‡å†…ç½®64ä½åŒæ ¸å¤„ç†å™¨ï¼Œæ‹¥æœ‰8Mçš„ç‰‡ä¸ŠSRAMã€‚æ¨¡å—åœ¨Alæœºå™¨è§†è§‰ã€å¬è§‰æ€§èƒ½æ–¹ä¾¿è¡¨çŽ°çªå‡ºï¼ŒèŠ¯ç‰‡æ€»ç®—åŠ›å¯è¾¾1TOPSï¼ŒèŠ¯ç‰‡å†…ç½®å¤šç§ç¡¬ä»¶åŠ é€Ÿå•å…ƒ(KPUã€FPUï¼ŒFFTç­‰)ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®žçŽ°å„ç±»åº”ç”¨åœºæ™¯çš„æœºå™¨è§†è§‰/å¬è§‰ç®—æ³•,ä¹Ÿå¯ä»¥è¿›è¡Œè¯­éŸ³æ–¹å‘æ‰«æå’Œè¯­éŸ³æ•°æ®è¾“å‡ºçš„å‰ç½®å¤„ç†å·¥ä½œã€‚M1Wæ¨¡å—åµŒå…¥æ— çº¿WiFiåŠŸèƒ½ï¼Œå¯è½»æ¾å®žçŽ°è”ç½‘æŽ§åˆ¶ã€‚ <p><img loading \"M1/M1W\" src \"./assets/m1_m1w/M1_vs_M1W.png\" width 500 ></p> <p><img loading \"M1/M1W\" src \"./assets/m1_m1w/M1_pin.png\" width 500 ></p> <p><img loading \"M1/M1W\" src \"./assets/m1_m1w/M1W_2.png\" width 500 ></p> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">K210 èŠ¯ç‰‡åŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å†…æ ¸</td> <td>RISC V Dual Core 64bit, with FPU</td> </tr> <tr> <td>ä¸»é¢‘</td> <td>400MHz ï¼ˆå¯è¶…é¢‘è‡³600MHzï¼‰</td> </tr> <tr> <td>SRAM</td> <td>å†…ç½®8M Byte</td> </tr> <tr> <td>å›¾åƒè¯†åˆ«</td> <td>QVGA@60fps/VGA@30fps</td> </tr> <tr> <td>è¯­éŸ³è¯†åˆ«</td> <td>éº¦å…‹é£Žé˜µåˆ—(8mics)</td> </tr> <tr> <td>ç¥žç»ç½‘ç»œæ¨¡åž‹</td> <td><li>æ”¯æŒYOLOv3<li>Mobilenetv2<li>TinyYOLOv2</td> </tr> <tr> <td>æ·±åº¦å­¦ä¹ æ¡†æž¶</td> <td>æ”¯æŒTensorFlow \\ Keras \\ Darknet \\ Caffe ç­‰ä¸»æµæ¡†æž¶</td> </tr> <tr> <td>å¤–è®¾</td> <td>FPIOAã€ UARTã€ GPIOã€ SPIã€ I2Cã€I2Sã€ TIMER</td> </tr> <tr> <td>è§†é¢‘å¤„ç†</td> <td><li>ç¥žç»ç½‘ç»œå¤„ç†å™¨(KPU)<li>FPUæ»¡è¶³IEEE754 2008æ ‡å‡†<li>éŸ³é¢‘å¤„ç†å™¨(APU)<li>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå™¨(FFT)</td> </tr> </tbody> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">æ¨¡å—è½¯ä»¶</th> </tr> </thead> <tr> <td>æ“ä½œç³»ç»Ÿ</td><td>FreeRtos and Standrad development ki</td> </tr> <tr> <td>ç¼–ç¨‹è¯­è¨€</td><td>MicroPython</td> </tr> <tr> <td>æœºå™¨è§†è§‰</td><td>æ”¯æŒå·ç§¯ç¥žç»ç½‘ç»œ</td> </tr> <tr> <td>æœºå™¨å¬è§‰</td><td>é«˜æ€§èƒ½éŸ³é¢‘å¤„ç†å™¨(APU)</td> </tr> <tr> <td>å¼€å‘çŽ¯å¢ƒ</td><td>ä¸²å£ç»ˆç«¯ã€MaixPy IDE</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">æ¨¡å—ç¡¬ä»¶</th> </tr> </thead> <tr> <td>å°ºå¯¸</td><td>25.4*25.4*3.3mm</td> </tr> <tr> <td>å¼•è„š</td><td>72 PINå…¨å¼•è„šå¼•å‡º</td> </tr> <tr> <td>ä¾›ç”µç”µåŽ‹</td><td>5.0V @ 300mAï¼ˆä¾›ç”µç”µæµéœ€å¤§äºŽ300mA)</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦</td><td> 30Â°C ~85Â°C</td> </tr> </table> <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">Wi FiåŠŸèƒ½å‚æ•°</th> </tr> </thead> <tr> <td>ä¸»æŽ§</td> <td>ESP8285</td> </tr> <tr> <td>æ— çº¿æ ‡å‡†</td><td>802.11 b/g/n</td> </tr> <tr> <td>é¢‘çŽ‡èŒƒå›´</td><td>2400Mhz 2483.5Mhz</td> </tr> <tr> <td>å¤©çº¿</td><td>æ ‡å‡†IPEXæŽ¥å£å¤©çº¿</td> </tr> <tr> <td>Wi Fiæ¨¡å¼</td><td>æ”¯æŒStation / SoftAP /SoftAP+Station</td> </tr> </table> > ä¸ºäº†è®©Alæ¨¡å—èƒ½åº”ç”¨äºŽæ›´å¤šåœºåˆï¼ŒSipeedå›¢é˜Ÿè¿˜æŽ¨å‡ºäº†æ— WiFiåŠŸèƒ½ç‰ˆæœ¬çš„M1æ¨¡å—ï¼Œå¦‚æžœç”¨æˆ·æ— éœ€ä½¿ç”¨æ— çº¿è”ç½‘çš„åŠŸèƒ½ï¼Œå¯ä»¥é€‰æ‹©æˆ‘ä»¬çš„M1æ¨¡å—ã€‚M1æ¨¡å—å’ŒM1Wæ¨¡å—çš„AIåŠŸèƒ½ä¸€è‡´ï¼Œä½¿ç”¨æ–¹æ³•åŸºæœ¬ç›¸åŒï¼Œä¸»è¦åŒºåˆ«å°±æ˜¯M1Wæ¨¡å—æ¯”M1æ¨¡å—å¤šäº†WiFiåŠŸèƒ½ã€‚ ## èµ„æ–™ä¸‹è½½ èŠ¯ç‰‡ K210 Datasheet: [Kendryte å®˜ç½‘](https://canaan creative.com/) M1W èµ„æ–™ä¸‹è½½: [dl.sipeed.com](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed M1&M1W) ## äº§å“æŠ€æœ¯æ”¯æŒ Maixç³»åˆ—äº§å“å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/logic_analyzer/index.html":{"title":"SLogic series","content":" title: SLogic series keywords: LogicAnalyzer, debugger, link, RISCV, tool update: date: 2023 03 09 version: v0.1 author: wonder content: Create file SLogic is Sipeed Logic Analyzer."},"/hardware/zh/lichee/th1520/lc4a.html":{"title":"","content":""},"/hardware/zh/lichee/th1520/lm4a.html":{"title":"LicheePi Module 4A","content":" title: LicheePi Module 4A keywords: LicheePi, Sodimm, TH1520, RISCV, SBC update: date: 2023 03 31 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™æ–‡æ¡£ ## ç®€ä»‹ LicheePi Module 4A æ˜¯ä¸€æ¬¾é‡‡ç”¨ [å¹³å¤´å“¥åŠå¯¼ä½“](https://www.t head.cn/) çš„ [æ›³å½±1520](https://www.t head.cn/product/yeying) ä½œä¸ºä¸»æŽ§çš„æ ¸å¿ƒæ¨¡ç»„ï¼Œä¸»æŽ§æ ¸å¿ƒåŒ…å«å››æ ¸çŽ„é“ C910 CPU, æ­è½½ 4TOPS@int8 AI ç®—åŠ›çš„ NPUï¼Œæ‹¥æœ‰ 4K è§†é¢‘å¤„ç†èƒ½åŠ›ï¼Œæœ€å¤§æ”¯æŒ 16GB LPDDR4X å†…å­˜å’Œ 128G eMMC å­˜å‚¨ï¼Œæ”¯æŒåŒåƒå…†ä»¥å¤ªç½‘å’Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡è§†é¢‘è¾“å‡ºç­‰ç‰¹æ€§ï¼Œæ ¸å¿ƒè¿˜é¢å¤–åŒ…å«ä¸€é¢— C906 å¤„ç†å™¨ç”¨äºŽéŸ³é¢‘å¤„ç†ã€‚å¾—ç›ŠäºŽ SODIMM æ ·å¼çš„å°è£…ï¼Œ LicheePi Module 4A å¯ä»¥ç”¨äºŽå¤šç§åœºåˆï¼Œé€‚ç”¨äºŽå¤šæ¬¾åº•æ¿ã€‚ ## åŸºæœ¬å‚æ•° <table> <thead> <tr> <th colspan 2>ä¸»æŽ§å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>ä¸»æŽ§èŠ¯ç‰‡</td> <td>æ›³å½± 1520</td> </tr> <tr> <td>CPUå¤„ç†å™¨</td> <td>RISC V 64GCV C910*4@1.85GHz <br>Â· æ¯æ ¸æ”¯æŒ 64KB I cache å’Œ 64KB D Cache <br>Â· å››æ ¸å…±äº« 1MB L2 Cache <br>Â· æ”¯æŒ TEE å’Œ REEï¼ŒTEE/REE æ”¯æŒæ ¸æ•°å¯åŠ¨æ—¶å¯é…ç½®<br>Â· æ”¯æŒè‡ªå®šä¹‰ä¸”æŽ¥å£å…¼å®¹ RISC V çš„å¤šæ ¸è°ƒè¯•æ¡†æž¶<br>Â· ç‹¬ç«‹ç”µæºåŸŸï¼Œæ”¯æŒ DVFS</td> </tr> <tr> <td>å›¾å½¢å¤„ç†å™¨</td> <td>Â· OpenCL 1.1/1.2/2.0<br>Â· OpenGL ES 3.0/3.1/3.2<br>Â· Vulkan 1.1/1.2<br>Â· Android NN HAL</td> </tr> <tr> <td>NPUå¤„ç†å™¨</td> <td>æ”¯æŒ 4TOPS@INT8 é€šç”¨ NNA ç®—åŠ›ï¼Œä¸»é¢‘ 1GHz <br>Â· æ”¯æŒ TensorFlowã€ONNXã€Caffe <br>Â· æ”¯æŒ CNNã€RNNã€DNN ç­‰</td> </tr> <tr> <td>è§†é¢‘è§£ç å™¨</td> <td>å®žæ—¶è§£ç å™¨ï¼Œæ”¯æŒ H.265/H.264/VP9/8/7/6/AVS/AVS+/AVS2.0/VC1/MPEG4 <br>Â· æ”¯æŒ H.264 BP/MP/HP@level 5.1 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ H.265/HEVC Main Profile@level 5.1 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ VP9 Profile 2 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ AVS2.0 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ VP6/7/8/AVS/AVS+/VC1/MPEG4 è§£ç ï¼Œæœ€å¤§ 1920x1080 åˆ†è¾¨çŽ‡<br>Â· è§£ç æ€§èƒ½æœ€å¤§ 4K@75fps</td> </tr> <tr> <td>è§†é¢‘ç¼–ç å™¨</td> <td>Â· æ”¯æŒ H.264 BP/MP/HP@level4.2 ç¼–ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ H.265/HEVC Main Profile ç¼–ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· ä»…æ”¯æŒ I å¸§å’Œ P å¸§<br>Â· ç¼–ç æ€§èƒ½æœ€å¤§ 4K@40fps</td> </tr> <tr> <th colspan 2>ç¡¬ä»¶ç‰¹æ€§</th> </tr> <tr> <td>RAM</td> <td>Â· 8GB 64bits LPDDR4<br>Â· 16GB 64bits LPDDR4<br></td> </tr> <tr> <td>ROM</td> <td>eMMC: <br>Â· 0G<br>Â· 8G<br>Â· 32G<br>Â· 128G</td> </tr> <tr> <td>ä»¥å¤ªç½‘</td> <td> åƒå…† PHY x 2</td> </tr> </tbody> </table> ## ç›¸å…³é“¾æŽ¥ [Github](https://github.com/sipeed/LicheePi4A) [Sipeed ä¸‹è½½ç«™(æš‚æ—¶ç©ºç™½)]()"},"/hardware/zh/lichee/th1520/index.html":{"title":"","content":""},"/hardware/zh/lichee/th1520/lpi4a/8_application.html":{"title":"å…¸åž‹åº”ç”¨","content":" title: å…¸åž‹åº”ç”¨ keywords: Linux, Lichee, TH1520, SBC, RISCV, application update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## llama.cpp llama æ˜¯ META å¼€æºçš„å¤§è¯­è¨€æ¨¡åž‹ï¼Œ[llama.cpp](https://github.com/ggerganov/llama.cpp) æ˜¯ ggerganov å¼€æºçš„çº¯ cpp è¿è¡Œçš„ llama æŽ¨ç†é¡¹ç›®ã€‚ æ„Ÿè°¢ llama.cpp è¿™ä¸ªä¼˜ç§€çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ LicheePi 4A ä¸Šè¿è¡Œ LLMã€‚ ç¬”è€…åœ¨æ—©äº›æ—¶å€™ç¨å¾®ä¿®æ”¹äº† llama.cpp [https://github.com/Zepan/llama.cpp](https://github.com/Zepan/llama.cpp)ï¼Œä½¿å…¶å¯ä»¥åœ¨æ›´å°å†…å­˜ï¼ˆä½Žè‡³ 700MB å·¦å³ï¼‰è¿è¡Œ 7B æ¨¡åž‹ã€‚ å¯ä»¥çœ‹åˆ° TH1520 èŠ±è´¹çº¦ 6s è®¡ç®—ä¸€ä¸ª tokenï¼ˆæœªä½¿ç”¨ V æ‰©å±•åŠ é€Ÿï¼ŒV æ‰©å±•åŠ é€Ÿé¢„è®¡å¯åŠ é€Ÿ 4ï½ž8 å€ï¼Œå¦‚æžœä½ åŠ å…¥äº† V æ‰©å±•æ”¯æŒï¼Œæ¬¢è¿ŽæŠ•ç¨¿ï¼ï¼‰ ![llama_th1520](./assets/application/llama_th1520.png) åŒæ—¶è¿˜ç®€å•æµ‹è¯•äº†ä¸‹åœ¨å…¥é—¨çº§ C906 å†…æ ¸ä¸Šè¿è¡Œ7Bæ¨¡åž‹çš„å¯è¡Œæ€§ï¼Œç”±äºŽ D1 çš„å†…å­˜è¿‡å°ï¼Œä½¿ç”¨äº† mmap æ–¹å¼åªè¯»æ‰©å±•ï¼Œæ‰€ä»¥å¼•å…¥äº†å¤§é‡ä½Žé€Ÿ IO æ“ä½œï¼Œä½¿å¾—è¿è¡Œé€Ÿåº¦å¤§ä¸ºé™ä½Žï¼Œæœ€åŽä»… 18s/token ![llama_d1](./assets/application/llama_d1.png) ## YOLOX ç›®æ ‡æ£€æµ‹ æœ¬æ•™ç¨‹æ˜¯ä¸€ä¸ªå¦‚ä½•åœ¨ LPi4Aï¼ˆLicheePi 4Aï¼‰ å¼€å‘æ¿å¹³å°ä¸Šéƒ¨ç½² [YOLOX](https://github.com/Megvii BaseDetection/YOLOX) æ¨¡åž‹å®Œæˆç›®æ ‡æ£€æµ‹çš„ç¤ºä¾‹ã€‚ æ•™ç¨‹ä¸­åŒ…æ‹¬äº†ï¼š åœ¨ LPi4A å¼€å‘ç‰ˆä¸Šå®‰è£… Python çŽ¯å¢ƒ ä½¿ç”¨ YOLOX é¡¹ç›®ä¸­çš„æºç æ‰§è¡Œæ¨¡åž‹ æ•™ç¨‹éµå¾ªé€šå¸¸çš„æ¨¡åž‹éƒ¨ç½²æµç¨‹ï¼š 1. LPi4A ä¸Šçš„åŸºç¡€ Python çŽ¯å¢ƒé…ç½® 2. èŽ·å– yolox æºç å’Œæ¨¡åž‹ 3. å®‰è£… yolox æ‰€ä¾èµ–çš„ python åŒ… 4. LPi4A ä¸Šçš„ä½¿ç”¨ HHB onnxruntime æ‰§è¡Œç¤ºä¾‹ **åŸºç¡€ Python çŽ¯å¢ƒé…ç½®** **åŸºæœ¬è½¯ç¡¬ä»¶é…ç½®** å‚è€ƒ LPi4A çš„ ã€Š[å¼€ç®±ä½“éªŒ](https://wiki.sipeed.com/hardware/zh/lichee/th1520/lpi4a/2_unbox.html)ã€‹ä¸­çš„æè¿°ï¼Œæ­£ç¡®å®‰è£…å¥½å¼€å‘æ¿ï¼Œä¸Šç”µå¯åŠ¨åŽä»¥ root æƒé™è¿›å…¥ã€‚ ç¡®ä¿å·²è”ç½‘çš„çŠ¶æ€ä¸‹ï¼Œæ›´æ–° apt æº ```bash sudo apt update ``` å®‰è£…ä¸€äº›è½¯ä»¶ï¼Œç”¨äºŽç¤ºä¾‹ä¸­åŽç»­ä½¿ç”¨ ```bash sudo apt install wget git vim ``` å®‰è£… SHL åº“ ```bash wget https://github.com/T head Semi/csi nn2/releases/download/v2.4 beta.1/c920.tar.gz tar xf c920.tar.gz cp c920/lib/* /usr/lib/riscv64 linux gnu/ rf ``` **Python çŽ¯å¢ƒé…ç½®** LPi4A çƒ§å½•çš„ç³»ç»Ÿä¸­å·²é»˜è®¤å®‰è£… python 3.11 ç‰ˆæœ¬ã€‚å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç¡®è®¤ ```bash python version ``` åŽç»­å‡ä»¥ python3.11 ç‰ˆæœ¬ä¸ºä¾‹ï¼Œå…¶ä»–ç‰ˆæœ¬åœ¨å®‰è£…ä¾èµ–æ—¶éœ€è¦ä¿®æ”¹åˆ°å¯¹åº”ç‰ˆæœ¬çš„å‘½ä»¤ã€‚ å„ç§ python ç¨‹åºè½¯ä»¶ä¾èµ–çš„è½¯ä»¶åŒ…å¤§å¤šå¯é€šè¿‡ pip å®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£… pip ```bash apt install python3 pip ``` å®‰è£…å…¶ä»–pythonåŒ…ä¹‹å‰ï¼Œå…ˆå®‰è£… venv åŒ…ï¼Œç”¨äºŽåˆ›å»ºpythonè™šæ‹ŸçŽ¯å¢ƒ ```bash apt install python3.11 venv ``` åˆ›å»º pythonè™šæ‹ŸçŽ¯å¢ƒï¼Œå¹¶æ¿€æ´» ```bash cd /root python3 m venv ort source /root/ort/bin/activate ``` è‡³æ­¤ï¼ŒåŸºæœ¬ python çŽ¯å¢ƒå·²ç»åˆ›å»ºå®Œæˆï¼Œä¸Žå…¶ä»–ä½“ç³»ç»“æž„ç±»ä¼¼ï¼Œå¯ä»¥ç›´æŽ¥é€šè¿‡ pip install å®‰è£…çº¯ python åŒ…ã€‚ opencv å®‰è£…æ˜¯ä¼šä¾èµ–å…¶ä»– python åŒ…ï¼Œå¦‚æžœ pip ä¸èƒ½è‡ªåŠ¨ä¸‹è½½ï¼Œåˆ™å¯ä»¥å…ˆæ‰‹åŠ¨å®‰è£…ä¾èµ–é¡¹çš„å®‰è£…åŒ…ã€‚å¦‚ä½•èŽ·å–å®‰è£…åŒ…å¯ä»¥å‚è€ƒ [ä¸‹è½½ riscv whl](https://www.yuque.com/za4k4z/uzn618/zsp0krgg9dlp0fhx)ã€‚ **èŽ·å– YOLOX æ¨¡åž‹** [YOLOX](https://github.com/Megvii BaseDetection/YOLOX) æ˜¯ä¸€ä¸ªç±» YOLO çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ï¼Œæœ‰ç›¸å½“ä¼˜å¼‚çš„æ€§èƒ½è¡¨çŽ°ã€‚ å¯ä»¥ç›´æŽ¥ä¸‹è½½ github ä¸Šçš„æºç å’Œæ¨¡åž‹ ```bash git clone https://github.com/Megvii BaseDetection/YOLOX.git cd YOLOX/demo/ONNXRuntime wget https://github.com/Megvii BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_s.onnx ``` **ä¿®æ”¹æºç ** æœ¬æ•™ç¨‹å°†ä½¿ç”¨ HHB onnxruntime æ‰§è¡Œæ¨¡åž‹ï¼Œå› æ­¤åˆ‡æ¢åˆ°ã€‚åœ¨æºç ä¸­çš„ onnxruntime ç¤ºä¾‹ç›®å½•ï¼Œä¿®æ”¹æ–‡ä»¶ demo/ONNXRuntime/onnx_inference.py çš„å¼€å¤´æ–°å¢žä¸¤è¡Œä»£ç  ```bash #!/usr/bin/env python3 # Copyright (c) Megvii, Inc. and its affiliates. +import sys +sys.path.insert(0, \"../../\") + import argparse import os ``` ä»£ç ä¸­ä½¿ç”¨ sys.path.insert æŒ‡å®šæœç´¢è·¯å¾„ï¼Œä»¥æ­¤å…åŽ»ä»Žæºç ä¸­å®‰è£… YOLOX çš„å®‰è£…åŒ…çš„æ“ä½œã€‚ **å®‰è£…ä¾èµ–åŒ…** RISC V ä½“ç³»ç»“æž„çš„ python ç”Ÿæ€è¿˜æœ‰æ¬ ç¼ºï¼Œæœªæ¥å®Œå–„ä¹‹åŽï¼ŒYOLOX ä¸­ä¾èµ–çš„åŒ…å¯ä»¥é€šè¿‡ [requirements.txt](https://github.com/Megvii BaseDetection/YOLOX/blob/main/requirements.txt) æ–‡ä»¶ç›´æŽ¥å®‰è£…ã€‚ æœ¬æ•™ç¨‹ä¸­çš„ YOLOX ç¤ºä¾‹ä¾èµ–äº†è¾ƒå¤šçš„ python åŒ…ï¼Œä¸‹è½½é¢„ç¼–è¯‘å¥½çš„ python åŒ… ```bash git clone b python3.11 https://github.com/zhangwm pt/prebuilt_whl.git cd prebuilt_whl ``` å¯ä»¥æŒ‰ç…§ä»¥ä¸‹é¡ºåºï¼Œæ‰‹å·¥å¤„ç†ã€‚ ```bash pip install numpy 1.25.0 cp311 cp311 linux_riscv64.whl pip install opencv_python 4.5.4+4cd224d cp311 cp311 linux_riscv64.whl pip install kiwisolver 1.4.4 cp311 cp311 linux_riscv64.whl pip install Pillow 9.5.0 cp311 cp311 linux_riscv64.whl pip install matplotlib 3.7.2.dev0+gb3bd929cf0.d20230630 cp311 cp311 linux_riscv64.whl pip install pycocotools 2.0.6 cp311 cp311 linux_riscv64.whl pip3 install loguru 0.7.0 py3 none any.whl pip3 install torch 2.0.0a0+gitc263bd4 cp311 cp311 linux_riscv64.whl pip3 install MarkupSafe 2.1.3 cp311 cp311 linux_riscv64.whl pip3 install torchvision 0.15.1a0 cp311 cp311 linux_riscv64.whl pip3 install psutil 5.9.5 cp311 abi3 linux_riscv64.whl pip3 install tqdm 4.65.0 py3 none any.whl pip3 install tabulate 0.9.0 py3 none any.whl ``` å®‰è£…è¿‡ç¨‹ä¸­ä¼šæ¶‰åŠåˆ°å…¶ä»–çº¯ python ä¾èµ–åŒ…ï¼Œpip ä¼šè‡ªåŠ¨ä»Žå®˜æ–¹æºä¸‹è½½ã€‚ **å®‰è£… HHB onnxruntime** HHB onnxuruntime æ˜¯ç§»æ¤äº† SHL åŽç«¯ï¼ˆexecution providersï¼‰ï¼Œè®© onnxruntime èƒ½å¤ç”¨åˆ° SHL ä¸­é’ˆå¯¹çŽ„é“ CPU çš„é«˜æ€§èƒ½ä¼˜åŒ–ä»£ç ã€‚ ```bash wget https://github.com/zhangwm pt/onnxruntime/releases/download/riscv_whl/onnxruntime 1.14.1 cp311 cp311 linux_riscv64.whl pip install onnxruntime 1.14.1 cp311 cp311 linux_riscv64.whl ``` **æ‰§è¡Œ** åœ¨ç¤ºä¾‹ç›®å½•ä¸­æ‰§è¡Œ onnx_inference.py ç¤ºä¾‹ ```bash python3 onnx_inference.py m yolox_s.onnx i soccer.jpg o outdir s 0.3 input_shape 640,640 ``` `python3 onnx_inference.py m yolox_s.onnx i soccer.jpg o outdir s 0.3 input_shape640,640` å‚æ•°è¯´æ˜Žï¼š mï¼šæŒ‡å®šæ¨¡åž‹ iï¼šæŒ‡å®šå›¾ç‰‡ oï¼šæŒ‡å®šè¾“å‡ºç›®å½• sï¼šæŒ‡å®šæ£€æµ‹çš„é˜ˆå€¼ input_shapeï¼šæŒ‡å®šæ£€æµ‹æ—¶ä½¿ç”¨çš„å›¾ç‰‡å°ºå¯¸ **å‚è€ƒç»“æžœ** æœ¬æ•™ç¨‹ä¸­è¾“å…¥å¦‚ä¸‹å›¾ï¼Œæ˜¯è¿åŠ¨å‘˜è¸¢è¶³çƒçš„å›¾ç‰‡ï¼Œé¢„æœŸçš„æ£€æµ‹ç»“æžœæ˜¯æ£€æµ‹åˆ°ä¸¤ä¸ªäººå’Œä¸€ä¸ªè¶³çƒã€‚ > å›¾ç‰‡æ¥æºäºŽç½‘ç»œ ![yolox_detection_soccer_input.jpg](./assets/application/yolox_detection_soccer_input.jpg) ç¤ºä¾‹æ­£å¸¸æ‰§è¡ŒåŽï¼Œä¼šåœ¨ outdir ç›®å½•ä¸‹ç”Ÿæˆç»“æžœå›¾ç‰‡ soccer.jpgã€‚å›¾ç‰‡ä¸­ä¼šç”¨æ¡†ç”»å‡ºæ£€æµ‹åˆ°çš„ç›®æ ‡ï¼Œå¹¶æ ‡æ³¨æ¦‚çŽ‡ï¼Œæ•ˆæžœå¦‚ä¸‹å›¾ï¼š ![yolox_detection_soccer_output.jpg](./assets/application/yolox_detection_soccer_output.jpg) ## Minecraft Server TODO ## Wine CE TODO ## å…¶å®ƒ æ¬¢è¿ŽæŠ•ç¨¿ï½ž æŠ•ç¨¿æŽ¥å—åŽå¯å¾—ï¿¥5ï½ž150ï¼ˆ$1~20ï¼‰ä¼˜æƒ åˆ¸ï¼"},"/hardware/zh/lichee/th1520/lpi4a/3_images.html":{"title":"é•œåƒé›†åˆ","content":" title: é•œåƒé›†åˆ keywords: Linux, Lichee, TH1520, SBC, RISCV, image update: date: 2023 07 14 version: v1.1 author: ztd content: Update docs date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## å†…æ ¸æ”¯æŒ ç›®å‰å¹³å¤´å“¥å®˜æ–¹ SDK ä½¿ç”¨ Linux5.10 å†…æ ¸ï¼š https://gitee.com/thead yocto ä¸»çº¿ linux6.x å†…æ ¸æ­£åœ¨ç§»æ¤ä¸­ï¼Œä¸»è¦ç¤¾åŒºè´¡çŒ®è€…ï¼š`Jisheng Zhang ` ## Sipeedå®˜æ–¹é•œåƒ LicheePi 4A çš„é•œåƒä¸å®šæœŸæ›´æ–°ä¸­ï¼ŒåˆæœŸçš„é•œåƒå¯èƒ½ä¸å¤ªç¨³å®šï¼Œæˆ–è€…æ— æ³•å‘æŒ¥ TH1520 çš„å®Œå…¨æ€§èƒ½ï¼Œè¯·å…³æ³¨æœ¬é¡µé¢ï¼ŒèŽ·å–æœ€æ–°é•œåƒã€‚ Sipeed å®˜æ–¹é•œåƒåŸºäºŽ Debian ç³»ç»Ÿä¿®æ”¹é€‚é…ã€‚ é»˜è®¤é•œåƒæœ‰ä¸¤ç±»å¸å·å¯†ç é…ç½®ï¼Œå¯ä»¥éƒ½å°è¯•ä¸‹ï¼š 1. å¸å·ï¼š`root`ï¼Œ`debian`ï¼Œ`sipeed`ï¼›å¯†ç å‡ä¸º `licheepi` 2. å¸å·`debian`ï¼Œå¯†ç `debian`ï¼›å¸å·`sipeed`ï¼Œå¯†ç `licheepi` ä¸‹è½½åœ°å€ï¼š ç™¾åº¦ç½‘ç›˜ï¼š[ç‚¹æˆ‘](https://pan.baidu.com/s/1xH56ZlewB6UOMlke5BrKWQ) Mega äº‘ç›˜ï¼š[ç‚¹æˆ‘](https://mega.nz/folder/phoQlBTZ#cZeQ3qZ__pDvP94PT3_bGA) ISCAS é•œåƒç«™ï¼š[ç‚¹æˆ‘](https://mirror.iscas.ac.cn/revyos/extra/images/lpi4a/) ### Debian ![debian](./assets/images/debian.png) ![debian_neofetch](./assets/images/debian_neofetch.png) 1. LPI4A_20230714.zip å‘å¸ƒæ—¥æœŸï¼š2023å¹´7æœˆ14æ—¥ å†…æ ¸ï¼š5.10 æ ¹æ–‡ä»¶ç³»ç»Ÿï¼šext4, 4.3GB ä¸»è¦é¢„è£…è½¯ä»¶åŒ…ï¼š å¼€å‘ç±» åŠžå…¬ç±» ä¿®å¤é—®é¢˜ï¼š HDMI æ˜¾ç¤ºè®¾å¤‡å’Œ HDMI éŸ³é¢‘è®¾å¤‡è¯†åˆ«é—®é¢˜ ä¿®å¤è“ç‰™é—®é¢˜ï¼ŒçŽ°åœ¨è“ç‰™è®¾å¤‡åŠŸèƒ½æ­£å¸¸ï¼Œè“ç‰™è€³æœºä¹Ÿèƒ½æ­£å¸¸æ’­æ”¾éŸ³é¢‘ æ·»åŠ è‡ªåŠ¨ç™»å½•ï¼Œå…å¯†ç  sudo åŠŸèƒ½ ä¿®å¤æ¡Œé¢åº•éƒ¨å¯åŠ¨æ æµè§ˆå™¨å¿«æ·æ–¹å¼ä¸å¯ç”¨çš„é—®é¢˜ï¼ŒçŽ°åœ¨èƒ½ç‚¹å‡»è¿™é‡Œè¿›å…¥ chromium å·²çŸ¥é—®é¢˜ï¼š HDMI éŸ³é¢‘åœ¨ chromium ä¸‹æ’­æ”¾éŸ³è´¨æœ‰é—®é¢˜ åœ¨é•¿æ—¶é—´è¿žæŽ¥ USB æ‘„åƒå¤´æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå¯¼è‡´ kernel panic ä½¿ç”¨è¯´æ˜Žï¼š è¯¥åŽ‹ç¼©åŒ…ä¸ºä»…æ”¯æŒ HDMI æ˜¾ç¤ºï¼Œçƒ§å½•æ—¶è¯·æ³¨æ„ boot çš„åŽç¼€å’Œè®¾å¤‡å¯¹åº” 8gddr/16gddr åˆ†åˆ«å¯¹åº” 8g/16g å†…å­˜ 2. LPI4A_20230714_mipi.zip å‘å¸ƒæ—¥æœŸï¼š2023å¹´7æœˆ14æ—¥ å†…æ ¸ï¼š5.10 æ ¹æ–‡ä»¶ç³»ç»Ÿï¼šext4, 4.3GB ä¸»è¦é¢„è£…è½¯ä»¶åŒ…ï¼š å¼€å‘ç±» åŠžå…¬ç±» ä¿®å¤é—®é¢˜ï¼š HDMI æ˜¾ç¤ºè®¾å¤‡å’Œ HDMI éŸ³é¢‘è®¾å¤‡è¯†åˆ«é—®é¢˜ ä¿®å¤è“ç‰™é—®é¢˜ï¼ŒçŽ°åœ¨è“ç‰™è®¾å¤‡åŠŸèƒ½æ­£å¸¸ï¼Œè“ç‰™è€³æœºä¹Ÿèƒ½æ­£å¸¸æ’­æ”¾éŸ³é¢‘ æ·»åŠ è‡ªåŠ¨ç™»å½•ï¼Œå…å¯†ç  sudo åŠŸèƒ½ ä¿®å¤æ¡Œé¢åº•éƒ¨å¯åŠ¨æ æµè§ˆå™¨å¿«æ·æ–¹å¼ä¸å¯ç”¨çš„é—®é¢˜ï¼ŒçŽ°åœ¨èƒ½ç‚¹å‡»è¿™é‡Œè¿›å…¥ chromium å·²çŸ¥é—®é¢˜ï¼š åŒå±å¼‚æ˜¾ä¸‹ï¼ŒMIPI å±å¹•ä½œæ‰©å±•æ˜¾ç¤ºå™¨æ—¶åˆ†è¾¨çŽ‡è¾ƒä½Žï¼Œå¯¼è‡´å­—ä½“æœ‰äº›æ¨¡ç³Š åœ¨æ²¡è¿žæŽ¥ MIPI å±å¹•æ—¶ï¼Œç³»ç»Ÿä»ä¼šè¯†åˆ«ä¸ºè¿žæŽ¥ï¼Œæš‚æ—¶éœ€è¦åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨å…³é—­ MIPI å±å¹•çš„è¾“å‡º åˆ‡æ¢ä¸º root ç”¨æˆ·ï¼Œæ‰§è¡Œ`echo off > /sys/class/drm/card0 DSI 1/status` MIPI å±å¹•æš‚æ—¶åªèƒ½é€šè¿‡æ‰‹åŠ¨å†™å€¼è°ƒèŠ‚äº®åº¦ åˆ‡æ¢ä¸º root ç”¨æˆ·ï¼Œæ‰§è¡Œ`echo äº®åº¦å€¼(0 7çš„æ•´æ•°å€¼) > /sys/class/backlight/pwm backlight@0/brightness` HDMI éŸ³é¢‘åœ¨ chromium ä¸‹æ’­æ”¾éŸ³è´¨æœ‰é—®é¢˜ åœ¨é•¿æ—¶é—´è¿žæŽ¥ USB æ‘„åƒå¤´æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå¯¼è‡´ kernel panic ä½¿ç”¨è¯´æ˜Žï¼š è¯¥åŽ‹ç¼©åŒ…ä¸ºæ”¯æŒ MIPI å±å¹•çš„é•œåƒï¼Œçƒ§å½•æ—¶è¯·æ³¨æ„ boot çš„åŽç¼€å’Œè®¾å¤‡å¯¹åº” 8gddr/16gddr åˆ†åˆ«å¯¹åº” 8g/16g å†…å­˜ mipi_720p/mipi_1080p åˆ†åˆ«å¯¹åº”800x1280çš„ MIPI å±å¹•ï¼ˆå¸¦è§¦æ‘¸ï¼‰/1200x1920çš„mipiå±å¹• ### OpenWRT ![openwrt](./assets/images/openwrt.png) TODO ### Android ![android](./assets/images/android.png) Readme and image download link: [Click me](https://gitee.com/thead android/thead android) ## ç¬¬ä¸‰æ–¹é•œåƒ è¿™é‡Œæ•´ç†äº†ç¬¬ä¸‰æ–¹æä¾›çš„é•œåƒï¼Œä»…ä¾›ç”¨æˆ·ä½“éªŒï¼Œsipeed ä¸ä¿è¯æ­¤ç±»é•œåƒçš„å¯ç”¨æ€§ï¼Œç¨³å®šæ€§ã€‚ ### openEuler ![openEuler](./assets/images/openEuler.png) ![openeuler_neofetch](./assets/images/openeuler_neofetch.png) Download: [Click me](https://mirror.iscas.ac.cn/openeuler sig riscv/openEuler RISC V/preview/openEuler 23.03 V1 riscv64/lpi4a/) Twitter: https://twitter.com/openEuler ### DeepinOS æ·±åº¦ ![deepin](./assets/images/deepin.jpg) ![deepin_neofetch](./assets/images/deepin_neofetch.png) Readme and image download link: [Click me](https://github.com/aiminickwong/licheepi4a images) ### openKylin ![openKylin](./assets/images/openkylin.png) ![oepnkylin_neofetch](./assets/images/oepnkylin_neofetch.png) Readme and image download link: [Click me](https://github.com/aiminickwong/licheepi4a images) ### armbian ![armbian](https://cdn.armbian.com/wp content/uploads/2018/03/logo2.png) Project address: [Click me](https://github.com/chainsx/armbian riscv build) ### Fedora ![fedora](./assets/images/fedora.png) Project address: [Click me](https://github.com/chainsx/fedora riscv builder) ### Ubuntu ![ubuntu](./assets/images/ubuntu.png) ### NixOS ![nixos](./assets/images/nixos.png) ### Gentoo Project address: [Click me](https://wiki.gentoo.org/wiki/Project:RISC V) ä¸‹é¢é“¾æŽ¥è¯´æ˜Žå¦‚ä½•ä»Žstage3åˆ¶ä½œä¸€ä¸ªGentoo Linuxç³»ç»Ÿ Deplay Gentoo Linux [Click me](https://wiki.gentoo.org/wiki/User:Dlan/RISC V/TH1520) ![gentoo](./assets/images/gentoo.jpg) ### slarm64 ![slarm64](./assets/images/slarm64.png) Project address: [Click me](https://gitlab.com/sndwvs/images_build_kit) Download: [Click me](https://dl.slarm64.org/slackware/images/lichee_pi_4a/)"},"/hardware/zh/lichee/th1520/lpi4a/7_develop_andriod.html":{"title":"ç³»ç»Ÿå¼€å‘","content":" title: ç³»ç»Ÿå¼€å‘ keywords: Linux, Lichee, TH1520, SBC, RISCV, Kernel, SDK, Develop update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs "},"/hardware/zh/lichee/th1520/lpi4a/7_develop_thead.html":{"title":"Yocto Linux","content":" title: Yocto Linux keywords: Linux, Lichee, TH1520, SBC, RISCV, Kernel, SDK, Develop update: date: 2023 07 17 version: v1.2 author: ztd content: Update docs date: 2023 05 12 version: v1.1 author: wonder content: Depart docs date: 2023 05 08 version: v1.0 author: wonder content: Release docs TH1520 çš„å®˜æ–¹å¼€å‘çŽ¯å¢ƒæ˜¯å¹³å¤´å“¥çš„åŸºäºŽ yocto çš„å¼€å‘çŽ¯å¢ƒï¼Œå¤§å®¶å¯ä»¥åœ¨è¿™é‡ŒèŽ·å–å¼€å‘çŽ¯å¢ƒï¼š https://gitee.com/thead yocto/ æœ¬èŠ‚ç®€å•ä»‹ç»å¦‚ä½•æ­å»º Linux Yocto çŽ¯å¢ƒå¹¶ä½¿ç”¨ Yocto æž„å»ºå¯åœ¨å¼€å‘æ¿ä¸Šè¿è¡Œçš„å®Œæ•´é•œåƒã€‚ **å»ºè®®æœºå™¨é…ç½®ï¼šå†…å­˜64Gä»¥ä¸Šï¼Œç£ç›˜ç©ºé—´250Gä»¥ä¸Šï¼Œç¼–è¯‘æ—¶é—´å› ç½‘ç»œæƒ…å†µå·®å¼‚å¾ˆå¤§ï¼Œåœ¨ä½¿ç”¨ä»£ç†çš„æƒ…å†µä¸‹ç¼–è¯‘å…¸åž‹ linux ç³»ç»Ÿé…ç½®ï¼ˆæœ€å°ç³»ç»ŸåŠ ä¸Šå¿…è¦çš„ç›¸å…³åŸºç¡€ç»„ä»¶ï¼‰æ—¶é—´çº¦ä¸º8å°æ—¶ï¼ˆCPU ä¸º i5 11400ï¼Œæ—¶é—´ä¾›å‚è€ƒï¼‰** **ä¸æŽ¨èæ²¡æœ‰ Yocto ä½¿ç”¨ç»éªŒçš„ç”¨æˆ·ä½¿ç”¨æ­¤ SDK** ## æ­å»ºYoctoç¼–è¯‘çŽ¯å¢ƒ Linux SDK ä½¿ç”¨ Yocto æž„å»ºé•œåƒã€‚Yocto ç¼–è¯‘çŽ¯å¢ƒä½¿ç”¨ Ubuntu18.04ï¼ŒæŽ¨èåœ¨ Linux ä¸Šä½¿ç”¨ Docker éƒ¨ç½²,ä¹Ÿå¯ç›´æŽ¥åœ¨ Ubuntu18.04 ä¸‹æ­å»ºçŽ¯å¢ƒï¼ˆè§[T Headæ›³å½±1520Yoctoç”¨æˆ·æŒ‡å—.pdf](https://gitee.com/thead yocto/documents/blob/master/zh/user_guide/T Head%E6%9B%B3%E5%BD%B11520Yocto%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf)2.2ï¼‰ã€‚ è¿™é‡Œä»…ä»‹ç» Linux ä¸Šä½¿ç”¨ Docker éƒ¨ç½²çš„æ–¹å¼ã€‚ ä½¿ç”¨å®˜æ–¹è„šæœ¬å®‰è£… docker \t```bash \tcurl fsSL https://get.docker.com bash s docker mirror Aliyun \t``` ä¸‹è½½ dockerfile å¹¶ä¿®æ”¹ç”¨æˆ·åå’Œ ID \tç‚¹å‡»ä¸‹è½½ [linux dev master.7z](https://gitee.com/thead yocto/documents/blob/master/linux dev master.7z) å¹¶è§£åŽ‹åŽï¼Œè¿›å…¥åˆ° `linux dev master` ç›®å½•ï¼Œæ‰“å¼€ `Dockerfile`ï¼Œæ‰¾åˆ°å¦‚ä¸‹è¯­å¥ \t```bash \tENV DOCKER_USER2 \"your the same user name asyour host\"` \tENV USER2_ID \"your user id\" \t``` \tå°† \"your the same user name asyour host\" æ”¹ä¸ºç”¨æˆ· host os çš„ç”¨æˆ·åï¼Œ\"your user id\" çš„å€¼å¡«å†™ä¸€ä¸ªçº¯æ•°å€¼ï¼Œä»£è¡¨uidï¼Œå¯ä»¥å¡«å†™ä¸º100ã€‚ æž„å»º docker é•œåƒçŽ¯å¢ƒ \t```bash \tdocker build t linux dev base:base . \t``` \tæž„å»ºæ—¶è‹¥é‡åˆ°å¦‚ä¸‹æŠ¥é”™ï¼š \t```shell \tDockerfile:183 \t \t182 # install npm \t183 >>> RUN cd $WORK_PATH \\ \t184 >>> && curl fsSL https://deb.nodesource.com/setup_lts.x bash \\ \t185 >>> && apt install y nodejs yarn \\ \t186 >>> && npm install aiot vue cli g \t187 \t \tERROR: failed to solve: process \"/bin/sh c cd $WORK_PATH && curl fsSL https://deb.nodesource.com/setup_lts.x bash && apt install y nodejs yarn && npm install aiot vue cli g\" did not complete successfully: exit code: 100 \t``` \t \tåˆ™æ³¨é‡Š Dockerfile ä¸­ 182 186 è¡Œï¼š \t```shell \t# install npm \t#RUN cd $WORK_PATH \\ \t# && curl fsSL https://deb.nodesource.com/setup_lts.x bash \\ \t# && apt install y nodejs yarn \\ \t# && npm install aiot vue cli g \t``` \tå†æ‰§è¡Œ \t```shell \tdocker build t linux dev base:base . \t``` \t \tå®¹å™¨å®‰è£…å®Œæ¯•åŽï¼Œè¿›å…¥å®¹å™¨ï¼Œå†æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤: \t```shell \tsudo apt update \tsudo apt install npm \tsudo apt install nodejs \t``` \tæœ€åŽæ‰§è¡Œ: \t```shell \tnpm v \tnodejs v \t``` \tæœ‰ç›¸å…³ç‰ˆæœ¬å·è¾“å‡ºå³å¯ã€‚ \tè¯¥ docker é•œåƒå¯ä»¥ç¼–è¯‘ thead å‘å¸ƒçš„ buildrootã€yocto ç­‰ Linux SDKã€‚ç”¨æˆ· `thead` é»˜è®¤å¯†ç ä¸º `123`ã€‚ å¯åŠ¨ docker \t```bash \tdocker run u thead dt name linux dev {your_name} v {your_lock_home}:{your_home} linux dev base:base /bin/bash \t``` \t{your_name} ä¸ºå®¹å™¨åç§°ï¼Œèµ·åæ—¶ä¸è¦é‡åã€‚ \té€šè¿‡ v é€‰é¡¹å¯ä»¥æŒ‚è½½å®¿ä¸»æœºçš„ç›®å½•ï¼Œèµ·åˆ°ç±»ä¼¼å…±äº«æ–‡ä»¶çš„ä½œç”¨ï¼Œ{your_lock_home} ä¸ºå®¿ä¸»æœºçš„æœ¬åœ°è·¯å¾„ï¼Œ{your_home} ä¸ºæŒ‚è½½åœ¨ docker é‡Œçš„è·¯å¾„ã€‚ æŸ¥çœ‹å¯åŠ¨çš„ docker å®¹å™¨ \t```bash \tdocker ps grep linux dev base \t``` å°±èƒ½å¤Ÿçœ‹åˆ°åˆšåˆšå¯åŠ¨çš„ docker å®¹å™¨ã€‚ ç™»å½• docker \t```bash \tdocker exec it linux dev {your_name} /bin/bash \t``` ä¸‹è½½å¼€æºè½¯ä»¶åŒ…ï¼ˆä»…åœ¨ç¬¬ä¸€æ¬¡èŽ·å– SDK æ—¶æ‰éœ€è¦ä¸‹è½½ï¼‰ \tæž„å»ºå›ºä»¶æ—¶ä¼šä»Žç½‘ä¸Šä¸‹è½½å¼€æºè½¯ä»¶åŒ…ï¼Œè‹¥ç½‘ç»œè¾ƒå·®ï¼Œä¸‹è½½æ—¶é—´ä¼šæ¯”è¾ƒé•¿ã€‚ä¸ºäº†åŠ é€Ÿè¿™ä¸€è¿‡ç¨‹ï¼Œå¯ä»¥å…ˆåˆ° gitee ä¸‹è½½ç¦»çº¿å¼€æºè½¯ä»¶åŒ…ï¼ˆå‡è®¾ä¸‹è½½åˆ°ç”¨æˆ·ç›®å½•ï¼‰ \t```bash \tcd ~ \tgit clone https://gitee.com/thead yocto/yocto downloads.git \t``` ä¸‹è½½ Yocto æž„å»ºåŒ… \t```bash \tgit clone https://gitee.com/thead yocto/xuantie yocto.git b Linux_SDK_V1.1.2 \t``` åŠ è½½ç›®æ ‡è®¾å¤‡çš„é…ç½®æ–‡ä»¶å’ŒçŽ¯å¢ƒå˜é‡ï¼ˆç¼–è¯‘å‰è®°å¾—æ£€æŸ¥æ˜¯å¦åŠ è½½ï¼‰ \t```bash \tcd xuantie yocto \tsource openembedded core/oe init build env thead build/light fm \t``` å°†å‰é¢ä¸‹è½½çš„å¼€æºè½¯ä»¶åŒ…é€šè¿‡å…±äº« downloads ç›®å½•çš„æ–¹å¼è½¯é“¾æŽ¥åˆ° SDK ç›®å½• \t```bash \tln s ~/yocto downloads ../downloads \t``` ä½¿ç”¨ patch ç”±äºŽå†™æ–‡æ¡£æ—¶ xuantie yocto çš„ commit d296c2345fe2c2521eb0e1a2772bcba637029bc8 è¿˜æœªåˆå¹¶ä¸‹è¿° patch ä¸­çš„æ”¹åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æ‰“ patch æ¥åŒæ­¥è¿™äº›æ”¹åŠ¨å†è¿›è¡ŒåŽç»­å¼€å‘ã€‚patch æ–‡ä»¶è¯·åœ¨[ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/06_Patch)ä¸‹è½½ï¼Œè¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„patch åŽ‹ç¼©åŒ…ã€‚ ### xuantie yoctoçš„patch 0001 Allow download without logging in gitee.patch å…è®¸åœ¨æ²¡æœ‰ç™»å½•çš„æƒ…å†µä¸‹æ‹‰å– giteeä»“åº“ ä½¿ç”¨æ–¹æ³•ï¼š åœ¨ xuantie yocto è·¯å¾„ä¸‹ä½¿ç”¨ patch ### kernel çš„ patch 0001 pca9557.patch ä½¿ç”¨ pca9557 æ›¿æ¢ pcal9554 æ‰©å±•èŠ¯ç‰‡ 0002 cpufreq to 2GHz.patch ä¿®æ”¹ç”µåŽ‹é¢‘çŽ‡è¡¨ä¸Ž cpu_freq é©±åŠ¨ï¼Œè°ƒæ•´é¢‘çŽ‡ä¸Šé™åˆ° 2GHz 0003 remove audio pcal9554b.patch åˆ é™¤ä¸€è·¯ i2c æ‰©å±•èŠ¯ç‰‡ä¸Ž lpi4a çš„æ”¹åŠ¨åŒæ­¥ 0004 sync audio patch.patch åŒæ­¥éŸ³é¢‘è®¾å¤‡æ”¹åŠ¨ 0005 8G ddr.patch è°ƒæ•´å†…å­˜åœ°å€èŒƒå›´ä»¥æ”¯æŒ 8G DRAM 0006 set cpu_max_frq 1.992GHz.patch æ ¹æ®ç”¨æˆ·æ‰‹å†Œæä¾›çš„é¢‘ç‚¹è°ƒæ•´é¢‘çŽ‡(çº¦æœ‰2æˆä¸èƒ½åœ¨è¯¥é¢‘çŽ‡ä¸‹ç¨³å®šå·¥ä½œ) 0007 set cpu_max_frq 1.848GHz.patch æ‰€æœ‰1520èƒ½é€šè¿‡åŽ‹åŠ›æµ‹è¯•çš„é¢‘çŽ‡ 0012 riscv dts thead lpi4a add PWM Fan.patch å¢žåŠ  PWM é£Žæ‰‡æ”¯æŒ 0016 drm dc8200 disable gamma lut now.patch å¤±èƒ½ gamma lutï¼Œè§£å†³ä¾èµ–é—®é¢˜ 0017 drm verisilicon fix fbcon.patch ä¿®å¤ fbcon 0018 riscv dts thead lpi4a change fan PWM frequency.patch ä¿®æ”¹PWMé¢‘çŽ‡å‚æ•°ï¼Œæ”¹å–„é£Žæ‰‡å™ªå£°é—®é¢˜ 0019 add mipi screec and touch support.patch æ·»åŠ  mipi 720p å±å¹•å’Œè§¦æ‘¸å±é©±åŠ¨æ”¯æŒ 0020 add hdmi audio support.patch æ·»åŠ  HDMI éŸ³é¢‘é©±åŠ¨æ”¯æŒ 0021 enable pwm fan.patch ä½¿èƒ½ PWM é£Žæ‰‡ 0022 add mipi camera ov5693 support.patch æ·»åŠ  OV5693 æ‘„åƒå¤´è®¾å¤‡æ ‘æ”¯æŒ ä½¿ç”¨æ–¹æ³•ï¼š æ³¨æ„ï¼šä½¿ç”¨å…ˆéœ€è¦æž„å»ºä¸€æ¬¡å›ºä»¶ï¼Œå¦åˆ™ xuantie yocto/thead build/light fm/tmp glibc è·¯å¾„ä¸å­˜åœ¨ åœ¨ xuantie yocto/thead build/light fm/tmp glibc/work/light_lpi4a oe linux/linux thead/5.10.y r0/linux 5.10.yè·¯å¾„ä¸‹ä½¿ç”¨ patch ### opensbi çš„ patch 0001 lib sbi_illegal_insn Add emulation for fence.tso.patch 0002 lib sbi_illegal_insn Fix FENCE.TSO emulation infinit.patch ä»¥ä¸Šä¸¤ä¸ªpatchæ¨¡æ‹Ÿå®žçŽ° fence.tso æŒ‡ä»¤ï¼Œä¿®å¤llvmå´©æºƒé—®é¢˜ ä½¿ç”¨æ–¹æ³•ï¼š æ³¨æ„ï¼šä½¿ç”¨å…ˆéœ€è¦æž„å»ºä¸€æ¬¡å›ºä»¶ï¼Œå¦åˆ™ xuantie yocto/thead build/light fm/tmp glibc è·¯å¾„ä¸å­˜åœ¨ åœ¨ xuantie yocto/thead build/light fm/tmp glibc/work/light_lpi4a oe linux/opensbi/0.9 r0/git ä¸‹ä½¿ç”¨ patch ### uboot çš„ patch 0001 ENV_SETTINGS.patch åˆ é™¤ç¬¬4 6ä¸ªåˆ†åŒºï¼Œä¸º rootfs é¢„ç•™è¶³å¤Ÿçš„ç©ºé—´ï¼Œä½¿ç”¨ systemd å¯åŠ¨ç³»ç»Ÿ; 0002 fix fix bootargs.patch ä¿®å¤è®¾ç½®å¯åŠ¨å‚æ•°å‘½ä»¤ 0003 fix ftbfs.patch ä¿®å¤ ftbfs ä¸­çš„å˜é‡å®šä¹‰é—®é¢˜ï¼Œæ›´æ”¹åŽç¼–è¯‘ä¸ä¼šæŠ¥é”™ ä½¿ç”¨æ–¹æ³•ï¼š æ³¨æ„ï¼šä½¿ç”¨å…ˆéœ€è¦æž„å»ºä¸€æ¬¡å›ºä»¶ï¼Œå¦åˆ™ xuantie yocto/thead build/light fm/tmp glibc è·¯å¾„ä¸å­˜åœ¨ åœ¨ xuantie yocto/thead build/light fm/tmp glibc/work/light_lpi4a oe linux/u boot/1_2020.10 r0/gitè·¯å¾„ä¸‹ä½¿ç”¨ patch ### vi sensor çš„ patch 0001 add OV5693 support.patch æ·»åŠ OV5693æ‘„åƒå¤´é©±åŠ¨æ”¯æŒ ä½¿ç”¨æ–¹æ³•ï¼š æ³¨æ„ï¼šä½¿ç”¨å…ˆéœ€è¦æž„å»ºä¸€æ¬¡å›ºä»¶ï¼Œå¦åˆ™ xuantie yocto/thead build/light fm/tmp glibc è·¯å¾„ä¸å­˜åœ¨ åœ¨ xuantie yocto/thead build/light fm/tmp glibc/work/riscv64 oe linux/vi sensor/1.0 r0/git è·¯å¾„ä¸‹ä½¿ç”¨patch ### roofs çš„ patch bluetooth_fix.zip ä¿®å¤è“ç‰™æ— æ³•æ­£å¸¸ä½¿ç”¨çš„é—®é¢˜ï¼Œä½¿ç”¨æ–¹æ³•è§åŽ‹ç¼©åŒ…å†… readme.txt è‡³æ­¤ï¼Œç¼–è¯‘çŽ¯å¢ƒå·²ç»é…ç½®å®Œæˆã€‚ ## Machine/Targetæ”¯æŒåˆ—è¡¨ åœ¨ä¸Šé¢çš„åŠ è½½çŽ¯å¢ƒå˜é‡æ­¥éª¤ä¸­ï¼Œè®¾ç½®å®ŒæˆåŽå¯çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ ```bash ### Shell environment set up for builds. ### You can now run 'bitbake <target>' Common targets are: thead image linux thead image multimedia thead image gui machines: light beagle light b product light a val light lpi4a ``` ç›¸å…³è¯´æ˜Žå¦‚ä¸‹ targetï¼ˆSDK æ”¯æŒçš„é•œåƒåˆ—è¡¨ï¼‰ï¼š å‘½åæè¿° thead image linuxå…¸åž‹linuxç³»ç»Ÿé…ç½®ï¼Œæœ€å°ç³»ç»ŸåŠ ä¸Šå¿…è¦çš„ç›¸å…³åŸºç¡€ç»„ä»¶ thead image multimediaå…¸åž‹linuxç³»ç»Ÿ+è§†é¢‘è§†è§‰é…ç½®ï¼ŒåŠ ä¸Šè§†é¢‘å­ç³»ç»Ÿçš„ç»„ä»¶ï¼ˆGstreamerç­‰ï¼‰ thead image guiåŠ ä¸ŠGUIç›¸å…³ç»„ä»¶çš„å®Œæ•´é…ç½®ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬Gnomeæ¡Œé¢ã€westonã€QTç­‰åº”ç”¨ç»„ä»¶ç­‰ç­‰ **ç›®å‰ thead image gui é€‰é¡¹ç¼–è¯‘å‡ºæ¥çš„ GUI ç›¸å…³ç»„ä»¶ä»…ç”¨äºŽåŠŸèƒ½æ€§éªŒè¯ï¼Œè¿›å…¥ä¸äº†å›¾å½¢åŒ–æ¡Œé¢** machinesï¼ˆSDK æ”¯æŒçš„æ¿çº§é…ç½®ï¼‰ï¼š å‘½åæè¿° light a valTH1520 A EVBæ¿ light b productTH1520 B EVBæ¿ light beaglebeagleV Aheadå¼€å‘æ¿ light lpi4aLichee Pi 4Aå¼€å‘æ¿ ## æž„å»ºé•œåƒ æž„å»ºå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š ```bash MACHINE {machine} bitbake {target} ``` å°†å…¶ä¸­çš„ {machine} å’Œ {target} éƒ¨åˆ†æ›¿æ¢ä¸ºä¸Šé¢ä¸¤ä¸ªè¡¨æ ¼ä¸­å¯¹åº”çš„å‘½åå³å¯ã€‚ä¾‹å¦‚ï¼Œç¼–è¯‘ä¸€ä¸ªåœ¨ LicheePi 4A å¼€å‘æ¿ä¸Šè¿è¡Œçš„å…¸åž‹ Linux é•œåƒçš„å‘½ä»¤å¦‚ä¸‹ï¼š ```bash MACHINE light lpi4a bitbake thead image linux ``` ### æž„å»ºé•œåƒæ—¶å¯èƒ½ä¼šå‡ºçŽ°çš„é—®é¢˜ ç”±äºŽç½‘ç»œåŽŸå› ï¼Œè¿™ä¸€æ­¥å¯èƒ½ä»ä¼šå‡ºçŽ°ä¸‹è½½å¤±è´¥æˆ–ä¸‹è½½å¾ˆæ…¢çš„æƒ…å†µï¼Œæœ‰æ¡ä»¶çš„è¯æŽ¨èä½¿ç”¨ä»£ç†ã€‚ æŠ¥é”™ä¿¡æ¯ \t```bash \tPlease use a locale setting which supports utf 8. \tPython can't change the filesystem locale after loading so we need a utf 8 when python starts or things won't work. \t``` \té¦–å…ˆè¿è¡Œå¦‚ä¸‹å‘½ä»¤ \t```bash \tsudo apt get install locales \tsudo dpkg reconfigure locales \t``` \tç„¶åŽåœ¨æ‰“å°å‡ºæ¥çš„åˆ—è¡¨ä¸­æ‰¾åˆ°`en_US.UTF8`è¿™ä¸€é¡¹ï¼ˆå¤§æ¦‚åœ¨ç¬¬158é¡¹ï¼‰,è¾“å…¥è¿™ä¸€é¡¹å¯¹åº”çš„åºå·åŽå›žè½¦ï¼ŒæŽ¥ä¸‹æ¥ä¹Ÿé€‰æ‹©è¿™ä¸€é¡¹åŽå›žè½¦ã€‚ \tå®Œæˆä¸Šè¿°è®¾ç½®æ­¥éª¤åŽæŽ¥ç€è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ˆä¹Ÿå¯è€ƒè™‘å°†ä¸‹é¢çš„å‘½ä»¤åŠ å…¥åˆ°dockerçš„`.bashrc`ä¸­ï¼‰ \t```bash \tsudo locale gen en_US.UTF 8 \tsudo update locale LC_ALL en_US.UTF 8 LANG en_US.UTF 8 \texport LANG en_US.UTF 8 \t``` \tå®Œæˆä¸Šè¿°æ­¥éª¤åŽå†ç¼–è¯‘å°±ä¸ä¼šå‡ºçŽ°åŽŸæ¥çš„æŠ¥é”™ã€‚ æŠ¥é”™ä¿¡æ¯ \t```bash \tplease install them in order to proceed: lz4c pzstd zstd \t``` \tå®‰è£…å¯¹åº”çš„ä¾èµ–å³å¯ \t```bash \tsudo apt update && sudo apt install y zstd liblz4 tool \t``` ### é•œåƒæ‰“åŒ… åœ¨ [light_deploy_images](https://gitee.com/thead yocto/light_deploy_images/tree/master/tarball) ä»“åº“ä¸­ï¼ŒåŒ…å«äº†ä¸€äº›é¢„å‘å¸ƒé•œåƒã€‚å¯¹äºŽåˆšåˆšç¼–è¯‘å¥½çš„é•œåƒï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªä»“åº“ä¸­çš„ `sdk.sh` è„šæœ¬æ¥è¿›è¡Œæ‰“åŒ…ã€‚ é¦–å…ˆåˆ‡æ¢åˆ°å·²ç»ç¼–è¯‘å¥½çš„é•œåƒä¸­çš„ `light fm` ç›®å½•ä¸‹ï¼Œå°†è¯¥ä»“åº“ä¸­çš„ `sdk.sh` ç§»åŠ¨åˆ°è¿™é‡Œå³å¯ã€‚ç›´æŽ¥è¿è¡Œè¯¥è„šæœ¬ `./sdk.sh` å³å¯ï¼Œæ‰“åŒ…åŽä¼šç”Ÿæˆç›¸åº”çš„é•œåƒï¼Œç›¸åº”æ–‡ä»¶çš„ä½ç½®ä»¥åŠé•œåƒç›®å½•çš„ç»“æž„å‚è€ƒ [light_deploy_images](https://gitee.com/thead yocto/light_deploy_images/tree/master/tarball) ä»“åº“ã€‚ æœ€åŽï¼Œå¯ä»¥å°† docker ç¼–è¯‘å¥½çš„é•œåƒåŠç›¸å…³æ–‡ä»¶å¤åˆ¶åˆ°å…ˆå‰é€šè¿‡ v é€‰é¡¹æŒ‚è½½çš„å…±äº«æ–‡ä»¶å¤¹ä¸­ï¼Œå®¿ä¸»æœºå³å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¿›è¡Œçƒ§å½•ã€‚ åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç¼–è¯‘å’Œæ‰“åŒ…ï¼Œå¾—åˆ°äº†ä¸€ä¸ªå¯ä»¥çƒ§å½•åˆ°å¼€å‘æ¿ä¸­è¿è¡Œçš„é•œåƒã€‚ **ä½¿ç”¨è¯¥é•œåƒæ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åˆ° uboot ä¸­åˆ©ç”¨çŽ¯å¢ƒå˜é‡è®¾ç½®ä¸€ä¸ª MAC åœ°å€ï¼Œå‚è€ƒå‘½ä»¤å¦‚ä¸‹** ```shell # å°†ä¸‹åˆ—ä¸¤ä¸ªåœ°å€æ›¿æ¢ä¸ºä½ çš„ MAC åœ°å€ï¼Œeth1addr çš„å€¼ä¸ºethaddr çš„å€¼+1 setenv ethaddr XX:XX:XX:XX:XX:XX setenv eth1addr XX:XX:XX:XX:XX:XX env save ``` ç®€å•ä»‹ç»yoctoä¸­çš„å¸¸ç”¨æ¦‚å¿µå’Œä¸€äº›å®žç”¨æŠ€å·§ã€‚ ### åŸºç¡€æ¦‚å¿µ Yoctoç”¨æ¥æž„å»ºå®šåˆ¶çš„Linuxé•œåƒï¼Œæœ‰å¹¿æ³›çš„ç¡¬ä»¶æ”¯æŒï¼Œå®ƒæ˜¯ä¸€ä¸ªé›†åˆäº†å¾ˆå¤šå·¥å…·çš„å¼€æºé¡¹ç›®ã€‚ å…ˆå¯¹Yoctoåœ¨æž„å»ºé•œåƒæ—¶çš„å¤§è‡´å·¥ä½œæµç¨‹ç®€å•ä»‹ç»ï¼š Fetch >Extract >Patch >Configure >Build >Install >Package Fetchï¼šåœ¨ç¼–è¯‘æ—¶èŽ·å–éœ€è¦çš„æºç ã€‚ Extractï¼šå¯¹èŽ·å–åˆ°çš„æºç è¿›è¡Œè§£åŽ‹ã€‚ Patchï¼šåº”ç”¨è¡¥ä¸ä»¥ä¿®å¤bugå’Œæ·»åŠ æ–°åŠŸèƒ½ã€‚ Configureï¼šé…ç½®å¼€å‘çŽ¯å¢ƒã€‚ Buildï¼šæž„å»ºé•œåƒï¼Œç¼–è¯‘é“¾æŽ¥ã€‚ Installï¼šæ‹·è´æ–‡ä»¶åˆ°ç›®æ ‡ç›®å½•ã€‚ Packageï¼šé•œåƒæ‰“åŒ…ã€‚ ä¸‹å›¾å±•ç¤ºäº†æµç¨‹ä¸­çš„ä¸€äº›å…·ä½“æ­¥éª¤ï¼š ![](https://gitee.com/cindycyber/blog pic/raw/e87498543df4f56c423509546cbd378ab85baa34/img/Pasted%20image%2020230508114904.png) Yocto projectçš„å¤§æ¦‚æž„æˆå¦‚ä¸‹å›¾ï¼Œæž„å»ºæ‰€ç”¨åˆ°çš„ä¸»è¦æ˜¯OpenEmbeddedæž„å»ºç³»ç»Ÿï¼ˆä¸‹æ–‡ç”¨OEç®€ç§°ï¼‰ï¼Œå®ƒçš„æ ¸å¿ƒæ˜¯ä»»åŠ¡æ‰§è¡Œå™¨Bitbakeã€‚ ![](https://gitee.com/cindycyber/blog pic/raw/e87498543df4f56c423509546cbd378ab85baa34/img/Pasted%20image%2020230508081704.png) å¸¸ç”¨åˆ°çš„ä¸€äº›æ¦‚å¿µå¦‚ä¸‹ï¼š recipesï¼šä»¥`.bb`ç»“å°¾çš„æ–‡ä»¶ï¼Œé‡Œé¢ä¼šåŒ…å«ä¸‹è½½è½¯ä»¶åŒ…æ—¶éœ€è¦çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ä¸‹è½½å›ºå®šæºç çš„æ–‡ä»¶ä½ç½®ï¼Œéœ€è¦åº”ç”¨åˆ°è¯¥è½¯ä»¶åŒ…çš„patchä¿¡æ¯,ç¼–è¯‘éœ€è¦çš„ä¿¡æ¯ç­‰ã€‚ä¾‹å¦‚`xuantie yocto`çš„ä¸­çš„`gnome shell`ï¼Œå®ƒçš„recipesæ–‡ä»¶å­˜å‚¨åœ¨`/home/thead/xuantie yocto/meta openembedded/meta gnome/recipes gnome/gnome shell`ç›®å½•ä¸‹ã€‚ build directoryï¼šè¯¥ç›®å½•å³ä¸ºæž„å»ºæ—¶çš„è¾“å‡ºç›®å½•ï¼ŒåŒæ—¶ä¹Ÿä¼šå­˜æ”¾ä¸€äº›çŽ¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œ`source`å‘½ä»¤æŒ‡å®šç¼–è¯‘çŽ¯å¢ƒæ—¶å°±ä¼šç”Ÿæˆè¯¥ç›®å½•ï¼Œé»˜è®¤å‘½åä¸º`build`ï¼Œä¹Ÿå¯åœ¨`source`æ—¶æ›´æ”¹ä¸ºå…¶ä»–åå­—ï¼Œå¦‚`sourece oe init build env mybuild`ã€‚ configurationsï¼šä»¥`.conf`ç»“å°¾çš„æ–‡ä»¶ï¼Œä¸»è¦æ˜¯é…ç½®æ–‡ä»¶ã€‚æ¯”å¦‚å­˜å‚¨åœ¨`build directory`çš„`conf`ç›®å½•ä¸­çš„`local.conf`ï¼Œåœ¨ç¼–è¯‘æ—¶å¯èƒ½ä¼šåœ¨æ ¹æ®éœ€è¦æ›´æ”¹å…¶ä¸­ä¸€äº›å‚æ•°ã€‚ layersï¼šé€šå¸¸ä¼šåœ¨è¿™é‡Œå­˜å‚¨æ‰€éœ€è¦çš„å„ç§metadata(å¦‚ï¼Œ`.bb`æ–‡ä»¶ï¼Œ`patches`å’Œä¸€äº›å…¶ä»–çš„é™„åŠ æ–‡ä»¶)ï¼Œä¸»è¦æ˜¯ç”¨äºŽå‘Šè¯‰OEæž„å»ºç³»ç»Ÿå¦‚ä½•æž„å»ºç›®æ ‡æ–‡ä»¶ã€‚å°†metadataæŒ‰å±‚åˆ†ç±»æœ‰åŠ©äºŽé¡¹ç›®ç»´æŠ¤ã€‚ bitbakeï¼šOEæž„å»ºç³»ç»Ÿä¸­ç”¨æ¥æ‰§è¡Œå„ç§ä»»åŠ¡çš„ä»»åŠ¡æ‰§è¡Œå™¨ã€‚ ## å¸¸ç”¨æ“ä½œ ### å¸¸ç”¨task Yoctoä»¥packageä¸ºå•ä½ç®¡ç†å¼€æºè½¯ä»¶ç»„ä»¶ï¼Œå¦‚éœ€è¦ç¼–è¯‘æŸä¸ªpackageï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š ```shell bitbake \"package name\" ``` æ¯ä¸ªpackageéƒ½åœ¨recipesæ–‡ä»¶ä¸­å®šä¹‰æ”¯æŒçš„taskï¼Œæœ‰äº›taskå¦‚cleanï¼Œæ˜¯æ‰€æœ‰åŒ…é€šç”¨çš„ï¼Œå¯ä»¥ç”¨ä¸€ä¸‹å‘½ä»¤åˆ—å‡ºpackageæ”¯æŒçš„taskï¼š ```shell bitbake \"package name\" c listtasks ``` ### æŸ¥æ‰¾ç¼–è¯‘åŽpackageçš„ä½ç½® Yoctoé›†æˆäº†å¤§é‡å¼€æºçš„packageï¼Œè¿™äº› package ç¼–è¯‘çš„æ—¶å€™çš„å·¥ä½œç›®å½•é€šå¸¸åœ¨ä»¥ä¸‹ç›®å½•ï¼š tmp glibc/work/riscv64 oe linux tmp glibc/work/${MACHINE} ä¾‹å¦‚ ```shell thead@b9461db16a58:~/xuantie yocto/thead build/light fm/tmp glibc/work/light_lpi4a oe linux/u boot$ tree L 2 . â””â”€â”€ 1_2020.10 r0 â”œâ”€â”€ 0001 no strip fw_printenv.patch â”œâ”€â”€ build â”œâ”€â”€ deploy debs ``` å¯ä»¥é€šè¿‡`bitbake e linux thead grep ^S `å‘½ä»¤æŸ¥æ‰¾packageç›®å½•ã€‚ä¾‹å¦‚ï¼ŒæŸ¥çœ‹å†…æ ¸çš„ç¼–è¯‘ç›®å½• ```shell $ bitbake e linux thead grep ^S S \"/home/thead/xuantie yocto/thead build/light fm/tmp glibc/work/light_a_val oe linux/linux thead/5.10.y r0/linux 5.10.y\" ``` ç¼–è¯‘å®ŒæˆåŽæ–‡ä»¶è¾“å‡ºçš„ä½ç½®ï¼Œä¾‹å¦‚ï¼Œé•œåƒç¼–è¯‘å®ŒæˆåŽç›¸å…³çš„å„ç±»æ–‡ä»¶éƒ½ä½äºŽ`light fm/tmp/glibc/work/light_lpi4a oe linux`ä¸‹ï¼Œä¾‹å¦‚é•œåƒå°±ä½äºŽè¯¥ç›®å½•çš„`linux thead`ä¸‹ï¼Œæœ€åŽåªéœ€è¦æ‰“åŒ…å³å¯ã€‚ ### ç¼–è¯‘æ—¶fetchåŒ…çš„é€Ÿåº¦è¿‡æ…¢ åœ¨ç¼–è¯‘æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°fetchåŒ…è¿‡æ…¢é—®é¢˜ï¼Œè¿™æ˜¯é™¤äº†ä½¿ç”¨ä»£ç†ï¼Œä¹Ÿå¯ä»¥å°†åŒ…ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åŽæ ¹æ®å¾—åˆ°çš„åŒ…åœ°å€è®©fetchæ—¶ç›´æŽ¥ä½¿ç”¨æœ¬åœ°çš„repoã€‚ä¾‹å¦‚ï¼š ```shell WARNING: bzip2 native 1.0.8 r0 do_fetch: Failed to fetch URL git://sourceware.org/git/bzip2 tests.git;name bzip2 tests;branch master, attempting MIRRORS if available ``` é‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ‰¾åˆ°åŒ…çš„ä¸‹è½½åœ°å€ ```shell $ bitbake e bzip2 grep ^SRC_URI SRC_URI \"https://sourceware.org/pub/bzip2/bzip2 1.0.8.tar.gz git://sourceware.org/git/bzip2 tests.git;name bzip2 tests;branch master file://configure.ac;subdir bzip2 1.0.8 file://Makefile.am;subdir bzip2 1.0.8 file://run ptest \" ``` å¾—åˆ°åœ°å€åŽï¼Œæ‰‹åŠ¨å°†è¯¥ä»“åº“`clone`ä¸‹æ¥ï¼Œç„¶åŽæ‰¾åˆ°å®ƒå¯¹åº”çš„`.bb`æ–‡ä»¶ ```shell $ find name bzip*.bb ./openembedded core/meta/recipes extended/bzip2/bzip2_1.0.8.bb ``` åœ¨è¯¥æ–‡ä»¶ä¸­æ‰¾åˆ°`SRC_URI`è¿™ä¸€é¡¹ ```shell SRC_URI \"https://sourceware.org/pub/${BPN}/${BPN} ${PV}.tar.gz \\ git://sourceware.org/git/bzip2 tests.git;protocol file;name bzip2 tests;branch master \\ file://configure.ac;subdir ${BP} \\ file://Makefile.am;subdir ${BP} \\ file://run ptest \\ \" ``` åŠ ä¸Š`protocol`æŒ‡å®šä¸º`file`ï¼Œè‹¥éœ€è¦åˆ‡æ¢åˆ†æ”¯ï¼Œç›´æŽ¥åœ¨`clone`ä¸‹æ¥çš„æœ¬åœ°repoä¸­`checkout`åˆ°å¯¹åº”çš„åˆ†æ”¯å³å¯ï¼Œä¿®æ”¹å¥½åŽï¼Œç›´æŽ¥fetchè¿™ä¸ªåŒ…å³å¯ã€‚ ```shell bitbake bzip2 c fetch ``` è‹¥ç¼–è¯‘é€Ÿåº¦è¿‡æ…¢ï¼Œæ‰¾åˆ°`build_directory`çš„`conf`ç›®å½•ä¸‹çš„`local.conf`æ–‡ä»¶ï¼Œä¿®æ”¹ç›¸åº”çš„å‚æ•°å³å¯ï¼Œå‚è€ƒ[æ­¤æ–‡æ¡£](https://docs.yoctoproject.org/dev manual/speeding up build.html?highlight bb_numbers)ï¼Œä¾‹å¦‚ï¼Œå¢žåŠ ä¸‹è½½å’Œç¼–è¯‘æ—¶çš„é€Ÿåº¦ï¼Œå¯ä»¥åœ¨æ–‡ä»¶ä¸­å¢žåŠ å¦‚ä¸‹ä»£ç ï¼Œå°†å¹¶è¡Œæ•°é‡è°ƒå¤§ï¼ˆæ³¨æ„æ ¹æ®CPUå…·ä½“å‚æ•°æ¥ï¼‰ ``` BB_NUMBER_THREADS '16' PARALLEL_MAKE ' j 12' ``` yoctoç¼–è¯‘åŽå¯¹packageæœ‰ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥åœ¨åŽé¢ç¼–è¯‘æ—¶å‡å°‘æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯åœ¨ç¼–è¯‘å‰æå‰ä¸‹è½½å¥½ä¸€äº›åŒ…ï¼Œæ”¾å…¥æŸä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åŽåœ¨`build_directory`çš„`conf`æ–‡ä»¶å¤¹çš„`local.conf`æ‰¾åˆ°`DL_DIR`è¿™ä¸€é¡¹ï¼Œè¿™å°±æ˜¯å…±äº«æ–‡ä»¶å¤¹ï¼Œæ›´æ”¹åˆ°æŒ‡å®šç›®å½•æˆ–è½¯é“¾æŽ¥å…±äº«å³å¯ã€‚ ### å•ç‹¬æž„å»ºu boot åœ¨ç¼–è¯‘æ—¶å°†æºç ä¸‹è½½åˆ°`light fm/tmp glibc/work/light_lpi4a oe linux/u boot/1_2020.10 r0/git`è·¯å¾„ä¸‹ï¼ˆå€’æ•°ç¬¬äºŒçº§ç›®å½•åä¸ºç‰ˆæœ¬å·ï¼‰ï¼Œä¿®æ”¹æºç åŽæ‰§è¡Œè¯¥å‘½ä»¤å³å¯ï¼š ```shell bitbake u boot C compile ``` ### å•ç‹¬æž„å»ºopensbi åœ¨ç¼–è¯‘æ—¶å°†æºç ä¸‹è½½åˆ°`light fm/tmp glibc/work/light_lpi4a oe linux/opensbi/0.9 r0/git`è·¯å¾„ä¸‹ï¼Œä¿®æ”¹æºç åŽæ‰§è¡Œè¯¥å‘½ä»¤å³å¯ï¼š ```shell bitbake opensbi C compile ``` ç¼–è¯‘å®ŒæˆåŽï¼Œä¸ºäº†ç®€åŒ–æ‰“åŒ…æµç¨‹ï¼Œåœ¨`light_deploy_images`æä¾›äº†æ‰“åŒ…è„šæœ¬`sdk.sh`ã€‚ç¼–è¯‘å®ŒæˆåŽï¼Œåœ¨`light fm`æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª`sdk`æ–‡ä»¶å¤¹ï¼Œå°†è¯¥é•œåƒæ‰“åŒ…è„šæœ¬ä¸‹è½½åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œè¿è¡Œå³å¯ã€‚ æ‰“åŒ…åŽå…¸åž‹çš„ç›®å½•ç»“æž„åº”å¦‚ä¸‹æ‰€ç¤ºï¼š ```shell . â”œâ”€â”€ deb â”‚Â Â  â”œâ”€â”€ all â”‚Â Â  â”œâ”€â”€ light_lpi4a â”‚Â Â  â””â”€â”€ riscv64 â”œâ”€â”€ images â”‚Â Â  â””â”€â”€ light lpi4a â”‚Â Â  â”œâ”€â”€ boot.ext4 â”‚Â Â  â”œâ”€â”€ light_fastboot_image_single_rank â”‚Â Â  â”‚Â Â  â””â”€â”€ u boot with spl.bin â”‚Â Â  â”œâ”€â”€ rootfs.thead image linux.ext4 â”‚Â Â  â””â”€â”€ vmlinux â”œâ”€â”€ sdk.sh â””â”€â”€ tarball â””â”€â”€ prebuild_light lpi4a.tar.gz ``` çƒ§å½•æ—¶ä¸»è¦æ˜¯ç”¨`images`ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¦‚æžœå°‘äº†å“ªä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å¤åˆ¶è¿›åŽ»ã€‚`tarball`ç›®å½•ä¸‹ä¸ºæ‰“åŒ…å¥½çš„é•œåƒæ–‡ä»¶çš„åŽ‹ç¼©åŒ…ï¼Œ`deb`ç›®å½•ä¸‹ä¸ºè½¯ä»¶åŒ…ã€‚ å‚è€ƒï¼š [bitbakeå®˜æ–¹æ–‡æ¡£](https://docs.yoctoproject.org/bitbake.html?highlight bitbake) [yoctoå®˜æ–¹æ–‡æ¡£](https://docs.yoctoproject.org/overview manual/yp intro.html) [T Head æ›³å½± 1520 Yocto ç”¨æˆ·æŒ‡å—](https://gitee.com/thead yocto/documents/raw/master/zh/user_guide/T Head%E6%9B%B3%E5%BD%B11520Yocto%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf) ## è®¾å¤‡æ ‘è§£æž TODO ## å…¶ä»–å‚è€ƒèµ„æ–™ **light_deploy_images ä»“åº“ï¼š** åŒ…å«å·²ç»æž„å»ºå¥½å¯çƒ§å½•çš„ Linux Imageï¼Œæ‰“åŒ…é•œåƒè„šæœ¬ä»¥åŠå…¶ä»–ç›¸å…³å·¥å…·ï¼Œè¯¦è§ä»“åº“ã€‚ ä»“åº“åœ°å€ï¼š[https://gitee.com/thead yocto/light_deploy_images](https://gitee.com/thead yocto/light_deploy_images) **documents ä»“åº“ï¼š** åŒ…å«æ‰€æœ‰å‘å¸ƒçš„ SDK ç›¸å…³æ–‡æ¡£ ä»“åº“åœ°å€ï¼š[https://gitee.com/thead yocto/documents](https://gitee.com/thead yocto/documents) æ¬¢è¿ŽæŠ•ç¨¿ï½ž æŠ•ç¨¿æŽ¥å—åŽå¯å¾—ï¿¥5ï½ž150ï¼ˆ$1~20ï¼‰ä¼˜æƒ åˆ¸ï¼"},"/hardware/zh/lichee/th1520/lpi4a/6_peripheral.html":{"title":"å¤–è®¾ä½¿ç”¨","content":" title: å¤–è®¾ä½¿ç”¨ keywords: Linux, Lichee, TH1520, SBC, RISCV, Peripheral update: date: 2023 07 17 version: v1.1 author: ztd content: Update docs date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## SoC ç›¸å…³ ### CPU è¿è¡Œé¢‘çŽ‡ `sudo cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_cur_freq ` å•ä½ä¸º KHz æ³¨æ„ç³»ç»Ÿè‡ªå¸¦æ¸©æŽ§ç­–ç•¥ï¼Œå½“ç³»ç»Ÿè¿‡äºŽç©ºé—²æˆ–è€…æ¸©åº¦è¿‡é«˜æ—¶ï¼Œéƒ½ä¼šé™é¢‘ã€‚è¯·ä¿æŒè‰¯å¥½æ•£çƒ­ï¼Œä½¿å¾— CPU åœ¨ 60 åº¦ä»¥ä¸‹ï¼ŒèŽ·å¾—æœ€ä½³æ€§èƒ½ã€‚ ### èŠ¯ç‰‡æ¸©åº¦ `cat /sys/class/thermal/thermal_zone0/temp` å•ä½ä¸º0.001æ‘„æ°åº¦ ### CPUè¶…é¢‘ TH1520 é»˜è®¤æœ€å¤§è¿è¡Œé¢‘çŽ‡ä¸º 1.85GHzï¼Œä½†æ˜¯ç»è¿‡åˆæ­¥æµ‹è¯•å‘çŽ°ï¼Œæœ‰ 80% å·¦å³çš„èŠ¯ç‰‡å¯ä»¥åœ¨ 2GHz è¿è¡Œï¼Œæœ‰ 50% å·¦å³çš„èŠ¯ç‰‡å¯ä»¥åœ¨ 2GHz é€šè¿‡åŽ‹åŠ›æµ‹è¯•ã€‚ è¿™é‡Œæ”¾å‡ºç®€æ˜“è¶…é¢‘æ­¥éª¤ï¼Œä»…ä¾›å‚è€ƒï¼Œä¸å¯¹ç¨³å®šæ€§å’Œå®‰å…¨æ€§åšä¿è¯ã€‚ æŸ¥çœ‹`/boot`ä¸‹çš„æ–‡ä»¶ï¼š ```bash fw_dynamic.bin #opensbi Image #kernel image kernel release #commit id of kernel light_aon_fpga.bin #fw for E902 aon light_c906_audio.bin #fw for C906 audio light lpi4a.dtb #1.85GHz dtb light lpi4a_2Ghz.dtb #2GHz overclock dtb light lpi4a ddr2G.dtb #history dtb ``` å°† `light lpi4a_2Ghz.dtb` æ‹·è´è¦†ç›–ä¸º `light lpi4a.dtb`ï¼Œé‡å¯ï¼Œå³å¯ä¿®æ”¹å¼€æœºåŽçš„æœ€å¤§é¢‘çŽ‡ã€‚ æ³¨æ„æœ‰ä¸€å®šå‡ çŽ‡è¿™æ ·ä¿®æ”¹åŽæ— æ³•å¯åŠ¨ï¼Œæ­¤æ—¶éœ€è¦é‡æ–°çƒ§å½•å›ºä»¶æ¥æ¢å¤ã€‚ å¦‚æžœæˆåŠŸå¯åŠ¨ï¼Œåˆ™å¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„æ•°å€¼ç¡®è®¤æ˜¯å¦å·²æˆåŠŸè¶…é¢‘ï¼š `sudo cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_max_freq` ## PWM ä»¥æ•£çƒ­é£Žæ‰‡æ‰€æŽ¥çš„ PWM1 ä¸ºä¾‹ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç è¿›è¡Œé£Žæ‰‡ä½¿èƒ½æ“ä½œï¼š ```bash echo 1 > /sys/class/pwm/pwmchip0/export echo 1000000 > /sys/class/pwm/pwmchip0/pwm1/period echo 1000000 > /sys/class/pwm/pwmchip0/pwm1/duty_cycle echo 1 > /sys/class/pwm/pwmchip0/pwm1/enable ``` ## GPIO LicheePi 4A æ¿è½½ 2x10pin æ’é’ˆï¼Œå…¶ä¸­æœ‰ 16 ä¸ªåŽŸç”Ÿ IOï¼ŒåŒ…æ‹¬ 6 ä¸ªæ™®é€š IOï¼Œ3 å¯¹ä¸²å£ï¼Œä¸€ä¸ª SPIã€‚ > æ³¨æ„ï¼šSOCçš„æ‰€æœ‰åŽŸç”ŸIOå‡æ˜¯1.8Vç”µå¹³ï¼Œè¯·æ³¨æ„ç”µå¹³è½¬æ¢ã€‚ > æ’é’ˆä¸Šçš„ä¸²å£è¾“å…¥ä¾§å·²ç»è¿›è¡Œäº†1/2åˆ†åŽ‹å¤„ç†ï¼Œå¯ä»¥æŽ¥3.3Vçš„ä¸²å£ã€‚ TH1520 SOC å…·æœ‰4ä¸ªGPIO bankï¼Œæ¯ä¸ªbankæœ€å¤§æœ‰32ä¸ªIOï¼š Bank Address kernel io num GPIO0 0xffec005000 456 487 GPIO1 0xffec006000 424 455 GPIO2 0xffe7f34000 392 423 GPIO3 0xffe7f38000 360 391 AO_GPIO 0xfffff41000 328 359 AO_GPIO4 0xfffff52000 296 327 AUDIO_GPIO0xffcb013000 å…¶ä¸­ 0x0 åç§»å¤„çš„ 4Byteï¼ˆ32bitï¼‰æ˜¯ GPIO æ•°æ®å¯„å­˜å™¨ï¼Œ0x4 åç§»å¤„çš„ 4Byteï¼ˆ32bitï¼‰æ˜¯ GPIO æ–¹å‘å¯„å­˜å™¨ SOM ä¸Šçš„ GPIO å¯¹åº”è¡¨æ ¼ä¸ºï¼š åç§° GPIO 01 GPIO0_27 02 GPIO0_28 03 GPIO2_0 04 AOGPIO4 05 GPIO2_1 06 GPIO1_22 07 GPIO0_24 08 GPIO0_25 09 GPIO3_2 10 GPIO3_3 11 GPIO1_3 12 GPIO1_4 13 GPIO1_5 14 GPIO1_6 LicheePi 4Aä¸Šçš„æ’é’ˆçš„ GPIO å¯¹åº”å…³ç³»ä¸ºï¼š ![io_map](./assets/peripheral/io_map.png) > ä»¥æ–‡æ¡£çš„æ ‡æ³¨ä¸ºå‡†ï¼Œå†…æµ‹ç‰ˆçš„ä¸å°æ ‡æ³¨å¯èƒ½æœ‰è¯¯ GPIO æ“ä½œï¼š > æ³¨æ„ï¼Œå¯èƒ½éœ€è¦äº‹å…ˆè®¾ç½® pinmux ```bash num xxx echo ${num} > /sys/class/gpio/export echo out>/sys/class/gpio/gpio${num}/direction echo 1 > /sys/class/gpio/gpio${num}/value echo 0 > /sys/class/gpio/gpio{num}/value ``` ä¹Ÿå¯ä»¥ç›´æŽ¥æ“ä½œå¯„å­˜å™¨ï¼š > devmem å¯ä»¥ä»Žæ­¤å¤„ä¸‹è½½ç¼–è¯‘ï¼šhttps://github.com/VCTLabs/devmem2/blob/master/devmem2.c ```bash ./devmem 0xffe7f38000 w ``` ç³»ç»Ÿå†…GPIOä¿¡æ¯æŸ¥çœ‹ï¼š ```bash sipeed@lpi4a:~$ sudo cat /sys/kernel/debug/gpio ``` ä¸‹é¢æ˜¯ç¤ºä¾‹ç»“æžœ: ![peripheral_gpio_information](./assets/peripheral/peripheral_gpio_information.png) <! ```bash sipeed@lpi4a:~$ sudo cat /sys/kernel/debug/gpio gpiochip8: GPIOs 296 327, parent: platform/fffff52000.gpio, fffff52000.gpio: AO_GPIO4 gpiochip7: GPIOs 328 359, parent: platform/fffff41000.gpio, fffff41000.gpio: AO_GPIO gpio 332 ( hubswitch ) out hi gpiochip6: GPIOs 360 391, parent: platform/ffe7f38000.gpio, ffe7f38000.gpio: GPIO3 gpiochip5: GPIOs 392 423, parent: platform/ffe7f34000.gpio, ffe7f34000.gpio: GPIO2 gpio 395 ( cs ) out hi ACTIVE LOW gpio 406 ( aon:soc_vdd5v_se_en ) out lo gpio 407 ( spi0 CS0 ) out hi ACTIVE LOW gpio 417 ( Volume Up Key ) in lo IRQ ACTIVE LOW gpio 421 ( aon:soc_wcn33_en ) out lo gpiochip4: GPIOs 424 455, parent: platform/ffec006000.gpio, ffec006000.gpio: GPIO1 gpio 443 ( Volume Down Key ) in hi IRQ ACTIVE LOW gpio 446 ( aon:soc_vbus_en ) out hi gpiochip3: GPIOs 456 487, parent: platform/ffec005000.gpio, ffec005000.gpio: GPIO0 gpio 457 ( spi2 CS0 ) out hi ACTIVE LOW gpio 486 ( aon:soc_vdd_3v3_en ) out hi gpiochip2: GPIOs 488 495, parent: i2c/3 0018, 3 0018, can sleep: IO expend 3 gpio 490 ( regulator hub vdd12 ) out hi gpio 491 ( regulator hub vcc5v ) out hi gpio 492 ( regulator pwr en ) out hi gpio 493 ( aon:soc_lcd0_vdd33_e) out hi gpio 494 ( aon:soc_lcd0_vdd18_e) out hi gpio 495 ( reset ) out hi ACTIVE LOW gpiochip1: GPIOs 496 503, parent: i2c/1 0018, 1 0018, can sleep: IO expend 2 gpio 496 ( aon:soc_cam2_dvdd12_) out lo gpio 501 ( wlan_default_wlan_po) out hi gpio 502 ( bt_default_poweron ) out lo gpiochip0: GPIOs 504 511, parent: i2c/0 0018, 0 0018, can sleep: IO expend 1 gpio 504 ( aon:soc_dvdd12_rgb ) out lo gpio 505 ( aon:soc_avdd28_rgb ) out lo gpio 506 ( aon:soc_dovdd18_rgb ) out lo gpio 507 ( aon:soc_dovdd18_ir ) out lo gpio 508 ( aon:soc_dvdd12_ir ) out lo gpio 509 ( aon:soc_avdd25_ir ) out lo gpio 510 ( aon:soc_cam2_dovdd18) out lo gpio 511 ( aon:soc_cam2_avdd25_) out lo ``` > ## UART ### ç³»ç»Ÿä¸²å£ LicheePi 4A çš„ç³»ç»Ÿä¸²å£æ˜¯ UART0,åœ¨ä¾§è¾¹æ’é’ˆä¸­æœ‰å¼•å‡ºã€‚ ä½ å¯ä»¥ä½¿ç”¨ USB è½¬ä¸²å£æ¨¡å—è¿žæŽ¥è¯¥ä¸²å£ï¼Œå³ `U0 RX` å’Œ `U0 TX`ï¼Œæ³¨æ„äº¤å‰è¿žæŽ¥ï¼Œä»¥åŠ GND è¿žæŽ¥ã€‚ ![ttl_link](./assets/peripheral/ttl_link.png) è¿žæŽ¥å®ŒæˆåŽï¼Œå³å¯ä½¿ç”¨ä¸²å£å·¥å…·è¿›è¡Œé€šä¿¡ï¼ŒWindows ä¸‹æŽ¨è `XShell`ï¼Œ`mobaterm`ï¼ŒLinuxä¸‹æŽ¨è `minicom` è®¾ç½®ä¸²å£æ³¢ç‰¹çŽ‡ä¸º `115200`ï¼Œå³å¯åœ¨ä¸²å£ç»ˆç«¯ä¸‹ç™»å½•å¹¶è¿›è¡ŒæŒ‡ä»¤æ“ä½œï¼š > æ³¨ï¼šåˆšè¿žæŽ¥åŽå¯ä»¥æ•²å‡ ä¸ªå›žè½¦æŸ¥çœ‹æ˜¯å¦æœ‰ååº”ï¼Œå¦‚æžœæ²¡æœ‰ååº”åˆ™æ£€æŸ¥æŽ¥çº¿æˆ–è€…ä¸²å£é…ç½® ![ttl_login](./assets/peripheral/ttl_login.png) ### ä¸€èˆ¬ä¸²å£ LicheePi 4Açš„ä¾§è¾¹æ’é’ˆä¸­è¿˜å¼•å‡ºäº† UART1/2/3, åŒæ ·å¯ä»¥æ“ä½œã€‚ é»˜è®¤é•œåƒä¸­ä»…ä½¿èƒ½äº† UART1, å…¶å®ƒä¸²å£å¯èƒ½éœ€è¦é‡æ–°é…ç½®è®¾å¤‡æ ‘æ“ä½œã€‚ > æ³¨æ„ï¼šSOCä¸²å£ç”µå¹³ä¸º1.8Vï¼Œåˆšå¥½å¤„äºŽ3.3Vçš„é«˜ç”µå¹³é˜ˆå€¼é™„è¿‘ï¼Œå¯èƒ½æŸäº›ä¸²å£æ¨¡å—æ— æ³•æ­£ç¡®è¾“å…¥è¾“å‡ºï¼Œå»ºè®®ä½¿ç”¨æˆ‘ä»¬æä¾›é…å¥—ä¸²å£æ¨¡å—ï¼Œæˆ–è€…å¾®è°ƒå…¶ä»–ä¸²å£æ¨¡å—çš„3.3Vç”µåŽ‹åˆ°2.8V #### æŸ¥çœ‹ä¸²å£è®¾å¤‡ ```bash ls /dev/ttyS* ``` #### æŸ¥çœ‹ä¸²å£çš„æ³¢ç‰¹çŽ‡ç­‰ä¿¡æ¯ ```bash stty F /dev/ttyS1 a ``` #### è®¾ç½®ä¸²å£æ³¢ç‰¹çŽ‡ã€æ•°æ®æ¨¡å¼ ```bash stty F /dev/ttyS1 ispeed 115200 ospeed 115200 cs8 ``` #### æŸ¥çœ‹ä¸²å£æ•°æ® ```bash cat /dev/ttyS1 ``` #### å‘é€ä¸²å£æ•°æ® ```bash echo \"12345\" > /dev/ttyS1 ``` #### å…¶å®ƒæ–¹æ³• ä¹Ÿå¯ä»¥ä½¿ç”¨`minicom`ï¼Œæˆ–è€…pyserialåº“è¿›è¡Œä¸²å£æ“ä½œï¼Œè¯·ç”¨æˆ·è‡ªè¡ŒæŸ¥æ‰¾ç›¸å…³èµ„æ–™ä½¿ç”¨ã€‚ ## I2C LicheePi 4A ä¸Šæœ‰å¤šä¸ª I2C è®¾å¤‡ï¼ˆI2C0/1/2/3ï¼‰ï¼Œå…¶ä¸­ 0/1/3 ç”¨äºŽè¿žæŽ¥ I2C IO æ‰©å±•èŠ¯ç‰‡ï¼ŒI2C2 é¢„ç•™åœ¨å¯¹å¤–æ’é’ˆä¸Šã€‚ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ i2c tools æ¥è¿›è¡Œ i2c éªŒè¯æ“ä½œï¼Œé•œåƒé»˜è®¤é¢„è£…äº† i2c tools: ```bash sipeed@lpi4a:/usr$ ls /sbin/i2c* /sbin/i2c stub from dump /sbin/i2cdetect /sbin/i2cdump /sbin/i2cget /sbin/i2cset /sbin/i2ctransfer ``` åˆ—å‡ºæ‰€æœ‰I2Cæ€»çº¿ï¼š ```bash sipeed@lpi4a:~$ /sbin/i2cdetect l i2c 0 unknown Synopsys DesignWare I2C adapter N/A i2c 1 unknown Synopsys DesignWare I2C adapter N/A i2c 2 unknown Synopsys DesignWare I2C adapter N/A i2c 3 unknown Synopsys DesignWare I2C adapter N/A i2c 4 unknown Synopsys DesignWare I2C adapter N/A i2c 5 unknown Synopsys DesignWare I2C adapter N/A i2c 6 unknown Synopsys DesignWare I2C adapter N/A i2c 7 unknown DesignWare HDMI N/A ``` æ£€æµ‹ I2C æ€»çº¿ä¸Šçš„è®¾å¤‡ï¼Œå¯è§ PCA9557PW çš„ I2C åœ°å€ä¸º 0x18ï¼Œä¸ŽåŽŸç†å›¾ç›¸ç¬¦ï¼š ```bash sipeed@lpi4a:~$ sudo /sbin/i2cdetect r y 0 0 1 2 3 4 5 6 7 8 9 a b c d e f 00: 10: UU 20: 30: 40: 50: 60: 70: ``` ![i2c_io](./assets/peripheral/i2c_io.png) æ­¤å¤–è¿˜å¯ä»¥ä½¿ç”¨ `i2cdump` æ¥ dump æŒ‡å®š i2c åœ°å€çš„æ‰€æœ‰å¯„å­˜å™¨ï¼Œç”¨ `i2cget` æ¥è¯»å‡ºæŒ‡å®š i2c åœ°å€çš„æŒ‡å®šå¯„å­˜å™¨å€¼ï¼Œç”¨ `i2cset` æ¥å†™å…¥æŒ‡å®š i2c åœ°å€çš„æŒ‡å®šå¯„å­˜å™¨å€¼ã€‚ ä¸è¿‡ç”±äºŽ IO æ‰©å±•èŠ¯ç‰‡å·²ç»è¢«å†…æ ¸ä½¿ç”¨ï¼Œæ‰€ä»¥æ— æ³•ç›´æŽ¥ä½¿ç”¨è¿™äº›å‘½ä»¤éªŒè¯ã€‚ç”¨æˆ·å¯ä»¥è‡ªè¡Œåœ¨ I2C2 ä¸Šå¤–æŽ¥å¤–è®¾æ¥éªŒè¯ã€‚ ## SPI LicheePi4Aä¸Šé¢„ç•™äº†ä¸¤è·¯SPIï¼Œä¸€è·¯æ˜¯èƒŒé¢ç©ºè´´çš„SPI Flashç„Šç›˜ï¼Œä¸€è·¯æ˜¯æ’é’ˆä¸Šçš„SPIã€‚ ```bash sipeed@lpi4a:~$ ls /dev/spidev2.0 /dev/spidev2.0 ``` TODO ## USB ### USB SSD è¿žæŽ¥å¥½ USB SSDï¼š ![usb_ssd_connect](./assets/peripheral/usb_ssd_connect.jpg) åœ¨ç³»ç»Ÿä¸­å¯ä»¥çœ‹åˆ°ç›¸åº”çš„è®¾å¤‡ï¼š ![usb_ssd_use](./assets/peripheral/usb_ssd_use.png) ### USB ç½‘å¡ è¿žæŽ¥å¥½ USB ç½‘å¡ï¼š ![usb_lan_connect](./assets/peripheral/usb_lan_connect.jpg) å³ä¸Šè§’çš„ç½‘ç»œå›¾æ ‡ä¼šå˜ä¸ºå·²è¿žæŽ¥æœ‰çº¿ç½‘çš„çŠ¶æ€ï¼š ![usb_lan_use](./assets/peripheral/usb_lan_use.png) ç»ˆç«¯ä¸­ä½¿ç”¨`sudo ifconfig`å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ç›¸åº”è®¾å¤‡çš„ä¿¡æ¯ï¼š ![check_usb_lan_ip](./assets/peripheral/check_usb_lan_ip.png) ### USB æ‘„åƒå¤´ è¿žæŽ¥å¥½ USB æ‘„åƒå¤´ï¼š ![usb_cam_connect](./assets/peripheral/usb_cam_connect.jpg) å®‰è£… guvcview åŽï¼Œä½¿ç”¨ç›¸åº”çš„å‘½ä»¤ï¼Œå³å¯çœ‹åˆ° USB æ‘„åƒå¤´çš„å›¾åƒæµï¼š ```shell sudo apt get install guvcview guvcview ``` ![usb_cam_use](./assets/peripheral/usb_cam_use.png) æŒ‰ä¸‹ Ctrl+C æˆ–ç‚¹å‡» guvcview çª—å£çš„ quit æŒ‰é’®éƒ½å¯ä»¥ç»“æŸå›¾åƒæµã€‚ ### USB å£°å¡ TODO ## ETH LicheePi4A å…·æœ‰åŒåƒå…†ç½‘å£ï¼Œå…¶ä¸­ Eth0 è¿˜å…·å¤‡ PoE åŠŸèƒ½ã€‚ TODO ### PoE LicheePi 4Açš„Ethernet 0æŽ¥å£å…·æœ‰PoEåŠŸèƒ½ï¼Œå¯é€šè¿‡PoEå®žçŽ°ä¾›ç”µã€‚ PoEä¾›ç”µæ¨¡å—éœ€è¦è‡ªè¡Œè´­ä¹°ï¼Œä½¿ç”¨5Vç”µåŽ‹ï¼Œ35.6mmé•¿åº¦çš„è§„æ ¼ï¼Œå¯ä»¥é€šè¿‡æœç´¢â€œ5V PoE æ’é’ˆâ€å…³é”®è¯æœç´¢å¾—åˆ°ã€‚ å½“ç›®è§†æ–¹å‘æ­£å¯¹â€œPOE POWERâ€æ ‡è¯†æ—¶ï¼Œé’ˆè„šå·¦è¾¹4æ ¹é’ˆè„šå®šä¹‰ä»Žå·¦åˆ°å³ä¾æ¬¡ä¸ºï¼šVA1ã€VA2ã€VB1ã€VB2ï¼Œå³è¾¹ä¸ºï¼šGNDã€5VINã€‚ ## Audio LicheePi 4A ä¸Šæœ‰ä¸¤ä¸ªæ¨¡æ‹Ÿç¡…éº¦ï¼Œä½¿ç”¨ ES7210 CODECï¼Œä»¥åŠæœ‰ä¸€è·¯æ¿è½½çš„æ‰¬å£°å™¨ï¼Œå’Œç«‹ä½“å£°è€³æœºï¼Œä½¿ç”¨ ES8156 CODECã€‚ > æ³¨ï¼šæ¿è½½æ‰¬å£°å™¨ä¸Žç«‹ä½“å£°è€³æœºä½¿ç”¨äº†äº’æ–¥è®¾è®¡ï¼Œæ’å…¥è€³æœºåŽï¼ŒéŸ³é¢‘è¾“å‡ºè‡ªåŠ¨åˆ‡æ¢åˆ°è€³æœºï¼Œæ¿è½½æ‰¬å£°å™¨å¤±èƒ½ã€‚ ä½¿ç”¨ aplay å’Œ arecord å¯ä»¥è¿›è¡Œç®€æ˜“å½•æ”¾æµ‹è¯•ï¼Œ æ³¨æ„æ¿è½½æ‰¬å£°å™¨æ˜¯å³å£°é“ã€‚ ```bash #!/bin/bash echo \"Play Test Audio\" aplay /usr/share/sounds/alsa/Side_Right.wav # Record Audio echo \"Start record auido, auto replay after 3 seconds\" arecord Dhw:0,1 d 3 r 48000 f S16_LE t wav test.wav & > /dev/null & sleep 4 # Play Audio aplay test.wav echo \"Start Play\" ``` ä½ è¿˜å¯ä»¥ä½¿ç”¨alsaç›¸å…³å·¥å…·ï¼Œå¦‚`alsamixer`ï¼Œè¿›è¡ŒéŸ³é‡è°ƒæ•´ç­‰æ“ä½œã€‚ ## HDMI > æ³¨ï¼šæ—©æœŸé•œåƒçš„HDMIéŸ³é¢‘ä¸ç”Ÿæ•ˆï¼Œè¯·å‡çº§åˆ°è¾ƒæ–°ç‰ˆæœ¬ä½¿èƒ½HDMIéŸ³é¢‘åŠŸèƒ½ã€‚ ç‚¹å‡»å±å¹•å³ä¸Šè§’çš„å–‡å­å›¾æ ‡ï¼Œè¿›å…¥ Audio mixerï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ç•Œé¢ï¼š ![audiomixer](./assets/peripheral/audiomixer.png) åå­—ä¸º Build in Audio Stereo è®¾å¤‡å³ HDMI éŸ³é¢‘ï¼Œå¯ä»¥åœ¨è¿™ä¸ªç•Œé¢è¿›è¡Œç›¸å…³é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨ç›´æŽ¥å•å‡»å°å–‡å­å›¾æ ‡åŽè¿›è¡Œè®¾å¤‡çš„åˆ‡æ¢ã€‚ è‹¥ç¡®è®¤è¿žæŽ¥æ— è¯¯ï¼Œä¸”ä½¿ç”¨çš„ HDMI æ˜¾ç¤ºå™¨æ”¯æŒ HDMIéŸ³é¢‘åŠŸèƒ½ï¼Œä½†æ²¡æœ‰åœ¨è®¾å¤‡åˆ—è¡¨ä¸­çœ‹åˆ°ç›¸åº”è®¾å¤‡ï¼Œå¯ä»¥å°è¯•è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š ```shell systemctl user restart pulseaudio.service ``` ## MIPI CSI LicheePi 4A å…·æœ‰ CAM0/CAM1/CAM2 ä¸‰ä¸ªæ‘„åƒå¤´æŽ¥å£ï¼Œ CAM0 æœ€å¤§ 4laneï¼ŒCAM1/2 ä¸º 2laneï¼Œé»˜è®¤ä½¿ç”¨ CSI0 æŽ¥å£ï¼ŒæŽ¥ OV5693 æ‘„åƒå¤´ã€‚ è¿žæŽ¥æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½¿ç”¨ CSI0 æŽ¥å£ï¼Œæ‘„åƒå¤´é‡‘æ‰‹æŒ‡é¢æœä¸‹è¿žæŽ¥ï¼š ![mipi_csi_connect.jpg](./assets/peripheral/mipi_csi_connect.jpg) ç›®å‰æš‚æ—¶éœ€è¦çƒ§å½•ä¸“ç”¨çš„é•œåƒæµ‹è¯•ï¼Œåœ¨æ–‡æ¡£é•œåƒé›†åˆé¡µé¢ä¸­çš„[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/e/1xH56ZlewB6UOMlke5BrKWQ)ï¼Œä¸‹è½½ /image/latest_20230714/LPI4A_YOCTO_CAM.zip é•œåƒæ–‡ä»¶ã€‚ çƒ§å½•åŽï¼Œè¿›å…¥åˆ° /usr/share/csi_hal/ ç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š ```shell ./cam_demo_simple 2 0 1 0 640 480 1 30 ``` è¿è¡Œå®ŒæˆåŽï¼Œå¯ä»¥åœ¨å½“å‰ç›®å½•çœ‹åˆ°dumpä¸‹æ¥çš„æ‹æ‘„ç…§ç‰‡ï¼Œå…¸åž‹å‘½åä¸º demo_save_img_OV5693_ch0_0_* ï¼Œåˆ†è¾¨çŽ‡ä¸º640\\*480(å½“å‰ä»…æ”¯æŒ640*480åˆ†è¾¨çŽ‡)ï¼Œæ ¼å¼ä¸º YUV420SP(NV12)ï¼Œè¯¥æ ¼å¼ä¸‹UVåˆ†é‡äº¤ç»‡å­˜å‚¨ï¼Œ bit depth ä¸º 8bitï¼ŒæŸ¥çœ‹æ—¶æ³¨æ„ç›¸å…³å‚æ•°é…ç½®æ˜¯å¦æ­£ç¡®ã€‚ Linux ä¸‹å¯ä»¥ä½¿ç”¨ YUView è®¾ç½®ç›¸å…³å‚æ•°æŸ¥çœ‹å›¾ç‰‡ï¼›æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ python å¤„ç†ç›¸å…³å‚æ•°åŽæŸ¥çœ‹å›¾ç‰‡ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹ï¼š ```python import numpy as np import cv2 class nv12_to_jpg: def __init__(self): return def to_jpg(self, yuv_path, resolution): width, height resolution with open(yuv_path, 'rb') as f: yuvdata np.fromfile(f, dtype np.uint8) self.input_file yuv_path cv_format cv2.COLOR_YUV2RGB_NV21 bgr_img cv2.cvtColor(yuvdata.reshape((height*3//2, width)), cv_format) return bgr_img def save(self, img_data, output_path): cv2.imwrite(output_path, img_data) if __name__ \"__main__\": # ä¾‹ï¼šå°†10bit rawæ ¼å¼çš„å›¾åƒè½¬æ¢ä¸ºjpgæ ¼å¼ file_name input(\"è¯·è¾“å…¥ raw å›¾ç‰‡çš„æ–‡ä»¶åï¼š\") input_str input(\"width å’Œ hightï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼š\") width, height map(int, input_str.split()) img nv12_to_jpg() jpg_data img.to_jpg(file_name, (width, height)) img.save(jpg_data, file_name+'nv12tojpg.jpg') ``` ## MIPI DSI LicheePi 4A å…·æœ‰ MIPI DSI0 æŽ¥å£ï¼Œæ”¯æŒ 4K è§†é¢‘è¾“å‡ºï¼Œå¯ä»¥é€‰é… 10.1 å¯¸ 1280x800 æˆ–è€… 1920x1200 çš„å±å¹•ã€‚ è¿žæŽ¥æ–¹å¼å¦‚ä¸‹å›¾ï¼Œä¸¤æ ¹ fpc è½¯æŽ’çº¿å‡ä¸ºä¸‹æŽ¥ï¼ˆæŽ’çº¿æœ«ç«¯é‡‘å±žè§¦ç‚¹çš„é‚£ä¸€é¢æœä¸‹ï¼‰ï¼Œå…¶ä¸­è§¦æ‘¸å±çš„è½¬æŽ¥å°æ¿åœ¨è¿žæŽ¥æ—¶éœ€è¦æ³¨æ„æ–¹å‘ï¼Œç¡®è®¤ToLPi4A çš„é‚£ä¸€å¤´è¿žæŽ¥LPi4Açš„è§¦æ‘¸è½¯æŽ’çº¿ï¼ŒToLcdTP çš„é‚£ä¸€å¤´è¿žæŽ¥å±å¹•ï¼š è½¯æŽ’çº¿é‡‘å±žè§¦ç‚¹é¢ç¤ºæ„å›¾ï¼š ![fpc](./assets/peripheral/fpc.jpg) æ³¨æ„åœ¨è¿žæŽ¥å‰ï¼Œå…ˆæ‹¨èµ·æŽ¥å£ä¸Šç”¨äºŽå›ºå®šæŽ’çº¿çš„é»‘è‰²ç¿»ç›–ï¼Œç¡®è®¤æŽ¥å¥½åŽå†æ‹¨ä¸‹ã€‚ è§¦æ‘¸å±è½¯æŽ’çº¿è¿žæŽ¥ï¼š ![tpconnector_on_touchscreen](./assets/peripheral/tpconnector_on_touchscreen.jpeg) ![touchconnector_on_board](./assets/peripheral/touchconnector_on_board.jpeg) MIPI å±è½¯æŽ’çº¿è¿žæŽ¥ï¼š ![mipi_dsi_connect](./assets/peripheral/mipi_dsi_connect.jpeg) ç¡®è®¤è¿žæŽ¥æ— è¯¯åŽï¼Œä½¿ç”¨æ”¯æŒ MIPI å±å¹•çš„å›ºä»¶ï¼Œå¼€æœºå³å¯çœ‹åˆ° MIPI å±å¹•æ˜¾ç¤ºã€‚ è‹¥åªä½¿ç”¨ MIPI å±å¹•ï¼Œå¯ä»¥åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å…³é—­ HDMI æ˜¾ç¤ºï¼Œå°† MIPI å±å¹•è®¾ç½®ä¸ºä¸»å±å¹•ï¼Œä¹Ÿå¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š ```shell xrandr output HDMI 1 off xrandr output DSI 1 rotate normal primary ``` ä¸Šè¿°å‘½ä»¤ä¸­ `rotate` å‚æ•°ä¸ºå±å¹•çš„æ—‹è½¬æ–¹å‘ï¼Œ`normal` è¡¨ç¤ºä¸ºä¸æ—‹è½¬ï¼Œå³ç«–å±æ˜¾ç¤ºï¼Œè‹¥è¦ç»§ç»­æ¨ªå±æ˜¾ç¤ºå¯ä»¥æ”¹ä¸º `left` æˆ–è€… `right`ã€‚ è‹¥åŒæ—¶ä½¿ç”¨ MIPI å±å¹•å’Œ HDMI å±å¹•ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä¸Šè¿°å‘½ä»¤æ¥è®¾ç½®ä¸»å±å¹•å’Œä¸¤ä¸ªå±å¹•é—´çš„å…³ç³»ï¼Œä¾‹å¦‚ä¸‹é¢çš„å‘½ä»¤ï¼Œå°† HDMI è®¾ç½®ä¸ºä¸»å±å¹•ï¼ŒMIPI å±å¹•è®¾ç½®ä¸ºä¸»å±å¹•ä¸‹æ–¹çš„æ‰©å±•å±å¹•ä¸”ä¸ºæ¨ªå±æ˜¾ç¤ºï¼š ```shell xrandr output HDMI 1 auto primary xrandr output DSI 1 rotate left below HDMI 1 ``` ä¸Šè¿°çš„å±å¹•æ ‡è¯†ç¬¦å’Œå¯ä¾›è®¾ç½®çš„åˆ†è¾¨çŽ‡å¯ä»¥ç›´æŽ¥è¾“å…¥ `xrandr` å‘½ä»¤æ¥æŸ¥çœ‹ã€‚ è‹¥ä¿®æ”¹è®¾ç½®åŽå‘çŽ°è§¦æ‘¸å±çš„åæ ‡ä¸å¯¹ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤ä¿®æ­£ï¼š æŸ¥çœ‹è§¦æ‘¸å±è®¾å¤‡å¯¹åº”çš„ ID ```shell xinput ``` ![list_touchsreen](./assets/peripheral/list_touchsreen.png) è¿™é‡Œå¯ä»¥çœ‹åˆ°æ˜¯è§¦æ‘¸å±è®¾å¤‡ Goodix 7ï¼Œé‚£ä¹ˆåˆ™è¾“å…¥ä¸‹é¢å‘½ä»¤ï¼Œå°†è§¦æ‘¸è®¾å¤‡æ˜ å°„åˆ°æ­£ç¡®çš„å±å¹•ä¸Šï¼š ```shell xinput map output of 7 DSI 1 ``` åŒæ ·çš„ï¼Œæ ¹æ® IDï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤æ¥å…³é—­ç›¸åº”çš„è§¦æ‘¸è®¾å¤‡ï¼š ```shell xinput disable 7 ``` è‹¥åªä½¿ç”¨ HDMI å±å¹•ï¼Œå…ˆæ–­ç”µï¼Œå°† MIPI å±å¹•å’Œè§¦æ‘¸æ¿çš„è½¯æŽ’çº¿éƒ½æ‹”æŽ‰åŽå†ä¸Šç”µã€‚å†è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ˆéœ€è¦åˆ‡æ¢åˆ° root ç”¨æˆ·æ‰§è¡Œï¼Œç›´æŽ¥ sudo å¯èƒ½ä¼šé‡åˆ°æƒé™ä¸å¤Ÿçš„é—®é¢˜ï¼‰ï¼š ```shell echo off > /sys/class/drm/card0 DSI 1/status ``` ## GPU `sudo watch cat /sys/kernel/debug/pvr/status` TODO ## NPU TODO ## å…¶å®ƒ æ¬¢è¿ŽæŠ•ç¨¿ï½ž æŠ•ç¨¿æŽ¥å—åŽå¯å¾—ï¿¥5ï½ž150ï¼ˆ$1~20ï¼‰ä¼˜æƒ åˆ¸ï¼"},"/hardware/zh/lichee/th1520/lpi4a/10_test_report.html":{"title":"æ¿å¡æ€§èƒ½æµ‹è¯•","content":" title: æ¿å¡æ€§èƒ½æµ‹è¯• keywords: Linux, Lichee, TH1520, SBC, RISCV, report update: date: 2023 07 13 version: v1.1 author: ztd content: Update docs date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## åŠŸè€—æµ‹è¯• ### é™æ€åŠŸè€— åœºæ™¯(é™æ€) ç”µåŽ‹ ç”µæµ åŠŸè€— å¤‡æ³¨ å¾…æœº 5.11V 0.46A 2.35W å¼€å¯é£Žæ‰‡ï¼ŒåŽç»­æ‰€æœ‰æµ‹è¯•ä¸­é£Žæ‰‡å‡ä¸å…³é—­ å•ç½‘å£è¿žæŽ¥ç½‘çº¿ 5.06V 0.52A 2.63W åŒç½‘å£è¿žæŽ¥ç½‘çº¿ 5.08V 0.53A 2.69W è¿žæŽ¥ HDMI æ˜¾ç¤ºå™¨ 5.04V 0.53A 2.67W ### åŠ¨æ€åŠŸè€— åœºæ™¯(åŠ¨æ€) ç”µåŽ‹ ç”µæµ åŠŸè€— å¤‡æ³¨ å¾…æœº 5.04V 0.71A 3.58W è¿žæŽ¥æ˜¾ç¤ºå™¨ã€é”®ç›˜ã€é¼ æ ‡ ä½¿ç”¨ä¸€ä¸ªç½‘å£ STRESS NG åŽ‹æµ‹<br>( CPU çŸ©é˜µè¿ç®—) 4.95V 1.22A 6.04W CPU é¢‘çŽ‡ä¸Šé™ 1.845GHzï¼Œç”µåŽ‹ 1V æµè§ˆå™¨æ’­æ”¾è§†é¢‘ 4.96V 1.06A 5.26W ä½¿ç”¨ GPUã€æ— ç¡¬ä»¶è§£ç , firefox æµè§ˆå™¨ ## eMMC ```bash #4kå†™å…¥ dd if /dev/zero of test bs 4k count 100000 oflag direct #4kè¯»å– dd if test of /dev/null bs 4k count 100000 iflag direct #åˆ é™¤æµ‹è¯•æ–‡ä»¶ rm test #è¿žç»­å†™å…¥(4MB) dd if /dev/zero of test bs 4096k count 100 oflag direct #è¿žç»­è¯»å–(4MB) dd if test of /dev/null bs 4096k count 100 iflag direct #åˆ é™¤æµ‹è¯•æ–‡ä»¶ rm test #è¿žç»­å†™å…¥(64MB) dd if /dev/zero of test bs 65536k count 10 oflag direct #è¿žç»­è¯»å–(64MB) dd if test of /dev/null bs 65536k count 10 iflag direct #åˆ é™¤æµ‹è¯•æ–‡ä»¶ rm test ``` **8GB eMMC** Test Item Result 4KB W 22.4 MB/s 4KB R 22.4 MB/s 4MB W 53.9 MB/s 4MB R 296 MB/s 64MB W 229 MB/s 64MB R 298 MB/s **32/128GB eMMC** Test Item Result 4KB W 24.0 MB/s 4KB R 40.3 MB/s 4MB W 209 MB/s 4MB R 296 MB/s 64MB W 229 MB/s 64MB R 298 MB/s ## LPDDR4X ![lpddr4x](./assets/test_report/lpddr4x.png) ## GbE `iperf3 c 192.168.3.18 t 15` ![iperf](./assets/test_report/iperf.png) ## WiFi æµ‹è¯•çŽ¯å¢ƒï¼šå®¤å†…ç©ºæ—·é•¿èµ°å»Š æµ‹è¯•æ–¹æ³•ï¼šä½¿ç”¨ iperf3ï¼Œç¬”è®°æœ¬ç”µè„‘ä½œä¸º serverï¼ŒLPi4A ä½œä¸º client æµ‹è¯•è®¾å¤‡ï¼šè·¯ç”±å™¨ä½¿ç”¨ newifi D2, ç¬”è®°æœ¬ç”µè„‘åž‹å·ä¸º å®ç¢æŽ å¤ºè€…æˆ˜æ–§300 åœ¨è·¯ç”±å™¨ä¸Ž LPi4A é—´éš”ä¸åŒè·ç¦»çš„æµ‹è¯•ç»“æžœå¦‚ä¸‹ï¼š 5m ![wifi_test_5m.png](./assets/test_report/wifi_test_5m.png) 10m ![wifi_test_10m.png](./assets/test_report/wifi_test_10m.png) 15m ![wifi_test_15m.png](./assets/test_report/wifi_test_15m.png) 20m ![wifi_test_20m.png](./assets/test_report/wifi_test_20m.png) 25m ![wifi_test_25m.png](./assets/test_report/wifi_test_25m.png) 30m ![wifi_test_30m.png](./assets/test_report/wifi_test_30m.png) ## Bluetooth æµ‹è¯•çŽ¯å¢ƒï¼šå®¤å†…è¿‘è·ç¦» æµ‹è¯•æ–¹æ³•ï¼šæ‰‹æœºå¼€å¯è“ç‰™å…±äº«ç½‘ç»œï¼Œä¸Žå¼€å‘æ¿é…å¯¹å¹¶è¿žæŽ¥è“ç‰™ï¼Œä½¿ç”¨iperf3æµ‹è¯• æµ‹è¯•è®¾å¤‡ï¼šå°ç±³13ï¼ŒLPi4A ![bluetooth_phone](./assets/test_report/bluetooth_phone.jpg) ![bluetooth_1520](./assets/test_report/bluetooth_1520.png) ## æ¸©åº¦ æ•£çƒ­å™¨: é£Žæ‰‡+é“æ•£çƒ­ç‰‡(25*25*5) ç¡…è„‚åž«: Laird 500 å¾…æœºçŠ¶æ€ï¼š ![temp_idle](./assets/test_report/temp_idle.png) åŽ‹æµ‹ç»“æŸï¼š ![temp_press](./assets/test_report/temp_press.png) ## å…¶å®ƒ æ¬¢è¿ŽæŠ•ç¨¿ï½ž æŠ•ç¨¿æŽ¥å—åŽå¯å¾—ï¿¥5ï½ž150ï¼ˆ$1~20ï¼‰ä¼˜æƒ åˆ¸ï¼"},"/hardware/zh/lichee/th1520/lpi4a/7_develop_other.html":{"title":"ç³»ç»Ÿå¼€å‘","content":" title: ç³»ç»Ÿå¼€å‘ keywords: Linux, Lichee, TH1520, SBC, RISCV, Kernel, SDK, Develop update: date: 2023 05 12 version: v1.0 author: wonder content: Release docs "},"/hardware/zh/lichee/th1520/lpi4a/5_desktop.html":{"title":"æ¡Œé¢ç³»ç»ŸåŸºç¡€ä½¿ç”¨","content":" title: æ¡Œé¢ç³»ç»ŸåŸºç¡€ä½¿ç”¨ keywords: Linux, Lichee, TH1520, SBC, RISCV, Debian, Desktop update: date: 2023 07 17 version: v1.1 author: ztd content: Update docs date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## ç™»å½•ç³»ç»Ÿ æœ¬ç¯‡æ–‡æ¡£ä»¥é»˜è®¤çš„ Debian æ¡Œé¢ç³»ç»Ÿä¸ºä¾‹ï¼Œä»‹ç»åŸºç¡€ç³»ç»Ÿä½¿ç”¨æ“ä½œã€‚ å°† LicheePi 4A è¿žæŽ¥ä¸Šæ˜¾ç¤ºå™¨åŽï¼Œå¯ä»¥çœ‹åˆ°å›¾å½¢åŒ–äº¤äº’ç•Œé¢äº†ã€‚ åœ¨ç™»å½•ç•Œé¢ï¼Œè¾“å…¥ç”¨æˆ·å `sipeed`ï¼Œå¯†ç  `licheepi` å°±å¯ä»¥ç™»å½•è¿›ç³»ç»Ÿäº†ã€‚ > æ€»å…±æœ‰ä¸‰ä¸ªç”¨æˆ·ï¼Œ`root`ï¼Œ`debian`ï¼Œ`sipeed`ï¼Œåˆå§‹å¯†ç å‡ä¸º`licheepi` > æœ‰äº›ç‰ˆæœ¬çš„`debian`ç”¨æˆ·çš„å¯†ç ä¸º`sipeed` **0714åŠä»¥åŽç‰ˆæœ¬çš„é•œåƒï¼Œé»˜è®¤å¼€å¯äº†è‡ªåŠ¨ç™»å½•ï¼Œè‡ªåŠ¨ç™»å½•çš„ç”¨æˆ·ä¸º `sipeed`** ![usage_login_userpasserward](./assets/desktop/usage_login_userpasserward.png) ## æ‰“å¼€å‘½ä»¤è¡Œ åœ¨ LicheePi 4A çš„ Debian å›¾å½¢åŒ–ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨å¿«æ·é”® `Ctrl` + `Alt` + `T` ä¸‰ä¸ªç»„åˆé”®å¯ä»¥ç›´æŽ¥æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ¥å¿«é€Ÿæ–¹ä¾¿åœ°æ“ä½œç³»ç»Ÿã€‚ **0714åŠä»¥åŽç‰ˆæœ¬çš„é•œåƒï¼Œé»˜è®¤å¼€å¯äº†å…å¯†ç `sudo`** ![usage_debian_terminal_shell_hotkey](./assets/desktop/usage_debian_terminal_shell_hotkey.png) ## è¿žæŽ¥ç½‘ç»œ ### è¿žæŽ¥æœ‰çº¿ç½‘ç»œ LicheePi 4A ç”±ä¸¤ä¸ªåƒå…†ç½‘ç»œæŽ¥å£ï¼›å°†å·²ç»æŽ¥é€šç½‘ç»œçš„ç½‘çº¿æ’å…¥åˆ° LicheePi 4A çš„ç½‘ç»œæŽ¥å£ä¸­èŠ‚èƒ½å®žçŽ°è¿žæŽ¥æœ‰çº¿ç½‘ç»œäº†ã€‚ <table> <tr> <td>æ’ä¸Šç½‘çº¿ä¹‹å‰</td> <td>æ’ä¸Šç½‘çº¿ä¹‹åŽ</td> </tr> <tr> <td><img src \"./assets/desktop/usage_debian_ethernet_port_disconnect_one.png\" alt \"usage_debian_ethernet_port_connect_one\"></td> <td><img src \"./assets/desktop/usage_debian_ethernet_port_connect_one.png\" alt \"usage_debian_ethernet_port_connect_one\"></td> </tr> <tr> <td colspan 2> ä¸Šé¢ä¸¤å¼ å›¾å¯¹æ¯”å¯ä»¥çœ‹åˆ°ï¼šåœ¨æŽ¥ä¸Šç½‘çº¿å‰ï¼Œç³»ç»Ÿä¸­ <code>Ethernet Network</code> ä¸‹é¢æ˜¾ç¤ºç€ <code>disconnected</code>, æŽ¥ä¸Šç½‘çº¿åŽæ˜¾ç¤º <code>Wired connection </code></td> </tr> </table> ### è¿žæŽ¥æ— çº¿ç½‘ç»œ LicheePi 4A æ¿è½½æ— çº¿æ¨¡ç»„ï¼Œæ”¯æŒè“ç‰™å’Œ wifi ã€‚ ä»ŽçŠ¶æ€æ ä¸­çš„ `Avaliable networks` ä¸­æŸ¥çœ‹è‡ªå·±æƒ³è¦è¿žæŽ¥åˆ°çš„æ— çº¿ç½‘ç»œï¼Œè¾“å…¥å¯†ç ä¹‹åŽå°±è‡ªåŠ¨è¿žæŽ¥ä¸Šäº†ã€‚ <table> <tr> <td colspan 2><img src \"./assets/desktop/usage_debian_select_wireless_network.png\" alt \"usage_debian_select_wireless_network\"></td> </tr> <tr> <td><img src \"./assets/desktop/usage_debian_wireless_network_password.png\" alt \"usage_debian_wireless_network_password\"></td> <td><img src \"./assets/desktop/usage_debian_wireless_network_connected.png\" alt \"usage_debian_wireless_network_connected\"></td> </tr> </table> åœ¨è¾“å…¥å¯†ç çš„å¼¹å‡ºçª—å£ä¸­ï¼Œ`Wi Fi adapter` ä¸­éœ€è¦é€‰æ‹© `wlan0` æ¥è¿žæŽ¥ç½‘ç»œã€‚ ## è¿žæŽ¥è“ç‰™ æ‰¾åˆ°æ¡Œé¢å³ä¸Šè§’çš„è“ç‰™å›¾æ ‡ï¼Œç¡®è®¤è“ç‰™åŠŸèƒ½å·²ç»æ‰“å¼€ï¼Œè‹¥æ²¡æ‰“å¼€ï¼Œå³é”®å•å‡»è“ç‰™å›¾æ ‡å³å¯æ‰“å¼€ï¼š ![bluetooth_icon.png](./assets/desktop/bluetooth_icon.png) æ‰“å¼€åŽï¼Œå·¦é”®å•å‡»è“ç‰™å›¾æ ‡ï¼Œå¯ä»¥çœ‹åˆ°è“ç‰™è®¾å¤‡æ‰«æç•Œé¢ ç‚¹å‡»è¯¥ç•Œé¢å·¦ä¸Šè§’çš„Searchå³å¯æœç´¢è“ç‰™è®¾å¤‡ï¼Œå°†è“ç‰™é”®é¼ ã€è“ç‰™è€³æœºç­‰è®¾å¤‡çš„é…å¯¹æ¨¡å¼æ‰“å¼€å³å¯è¢«æ‰«æåˆ°ã€‚ å³é”®é€‰æ‹©æƒ³è¦è¿žæŽ¥çš„è®¾å¤‡ï¼Œå³å¯è¿žæŽ¥ã€‚æˆåŠŸè¿žæŽ¥åŽè¿˜å¯ä»¥å³é”®è¯¥è®¾å¤‡ï¼Œç‚¹å‡»Trustï¼Œä¸‹æ¬¡æ‰«æåˆ°å³å¯è‡ªåŠ¨è¿žæŽ¥ã€‚ ![bluetooth_devices.png](./assets/desktop/bluetooth_devices.png) è‹¥è“ç‰™å›¾å½¢ç®¡ç†ç•Œé¢æ— æ³•æœç´¢åˆ°è®¾å¤‡ï¼Œä¹Ÿå¯ä»¥çŽ°åœ¨å‘½ä»¤è¡Œç•Œé¢ä¸‹ä½¿ç”¨`bluetoothctl`æ¥è¿›è¡Œé…å¯¹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š ```shell bluetoothctl scan on # æ‰¾åˆ°æƒ³è¦é…å¯¹è®¾å¤‡çš„macåœ°å€ pair ç›®æ ‡è®¾å¤‡çš„macåœ°å€ connect ç›®æ ‡è®¾å¤‡çš„macåœ°å€ ``` ä¸Šè¿°æ­¥éª¤ä¹Ÿå¯ä»¥åœ¨è“ç‰™å›¾å½¢ç•Œé¢è¿›è¡Œæ“ä½œï¼Œä½†è“ç‰™å›¾å½¢ç•Œé¢èƒ½å¤Ÿå±•ç¤ºçš„æœç´¢åˆ°çš„è“ç‰™è®¾å¤‡æœ‰é™ï¼Œæ­¤æ—¶å¯ä»¥å…ˆç”¨ `bluetoothctl` å·¥å…·æ¥è¿›è¡Œæœç´¢å’Œé…å¯¹ï¼Œé…å¯¹æˆåŠŸåŽå›¾å½¢ç•Œé¢å°±ä¼šå‡ºçŽ°è¿™ä¸ªè®¾å¤‡ï¼Œå°±å¯ä»¥åˆ‡æ¢åˆ°å›¾å½¢ç•Œé¢è¿›è¡Œæ“ä½œäº†ã€‚ ## è½¯ä»¶å®‰è£… åœ¨å®Œæˆç½‘ç»œè¿žæŽ¥åŽï¼Œå³å¯è¿›è¡Œè½¯ä»¶åŒ…çš„æ›´æ–°ï¼Œå®‰è£…ã€‚ ### è½¯ä»¶æº åœ¨ Debian ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä½¿ç”¨ apt (Advanced Packaging Tool) æ¥è¿›è¡Œè½¯ä»¶çš„å®‰è£…ã€‚ å®‰è£…è½¯ä»¶çš„æ—¶å€™ï¼Œä¼šä»Žç³»ç»ŸæŒ‡å®šçš„è½¯ä»¶ç½‘ç«™ä¸­æœç´¢å¹¶ä¸‹è½½ç›®æ ‡è½¯ä»¶ï¼Œå½“ç›®æ ‡ç½‘ç«™è®¿é—®å›°éš¾ï¼ˆæ¯”å¦‚æœåŠ¡å™¨è·ç¦»å¤ªè¿œæˆ–è€…æœåŠ¡å™¨ç½‘ç»œä¸ä½³ï¼‰æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®ç¼–è¾‘è½¯ä»¶æºç½‘ç«™ï¼Œæ”¹æˆè·ç¦»è‡ªå·±å½“å‰æœ€è¿‘çš„æºï¼Œæ¥å‡å°‘ä¸‹è½½æ—¶é—´ã€‚ è½¯ä»¶æºé»˜è®¤ä½¿ç”¨ `/etc/apt/sources.list` æ–‡ä»¶é‡Œé¢çš„å†…å®¹ï¼Œæœ‰é¢å¤–éœ€è¦çš„è¯å¯ä»¥è‡ªè¡Œæ›´æ”¹ã€‚ä½†æ˜¯è¦æ³¨æ„éœ€è¦ä½¿ç”¨æ”¯æŒ Risc V æž¶æž„çš„è½¯ä»¶æºã€‚ ![usage_debian_apt_change_source](./assets/desktop/usage_debian_apt_change_source.png) ### å‡çº§è½¯ä»¶ ä½¿ç”¨ `sudo apt update` å¯ä»¥æ›´æ–°è½¯ä»¶åˆ—è¡¨ï¼Œä¸€èˆ¬åœ¨æ›´æ¢è½¯ä»¶æºä¹‹åŽéœ€è¦ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ã€‚ ç„¶åŽä½¿ç”¨ `sudo apt upgrade package_name` å¯ä»¥æ›´æ–°åç§°ä¸º `package_name` çš„è½¯ä»¶ã€‚ æ¯”å¦‚ä¸‹é¢æ˜¯ä½¿ç”¨ `sudo apt upgrade vim` æ¥æ›´æ–° `vim` è¿™ä¸ªè½¯ä»¶çš„ç¤ºä¾‹ ![usage_debian_apt_upgrade_vim](./assets/desktop/usage_debian_apt_upgrade_vim.png) è‹¥ä½¿ç”¨ `sudo apt update` å‘½ä»¤æ—¶é‡åˆ°ç±»ä¼¼ä¸‹é¢çš„æç¤ºä¿¡æ¯ï¼š ```shell Ign:1 https://mirror.iscas.ac.cn/deepin riscv/deepin stage1 beige InRelease Ign:2 https://community packages.deepin.com/driver driver InRelease Ign:3 https://mirror.iscas.ac.cn/deepin riscv/deepin addons beige InRelease Ign:2 https://community packages.deepin.com/driver driver InRelease Ign:1 https://mirror.iscas.ac.cn/deepin riscv/deepin stage1 beige InRelease Ign:3 https://mirror.iscas.ac.cn/deepin riscv/deepin addons beige InRelease Ign:1 https://mirror.iscas.ac.cn/deepin riscv/deepin stage1 beige InRelease Ign:2 https://community packages.deepin.com/driver driver InRelease Ign:3 https://mirror.iscas.ac.cn/deepin riscv/deepin addons beige InRelease Err:2 https://community packages.deepin.com/driver driver InRelease Could not resolve 'community packages.deepin.com' Err:1 https://mirror.iscas.ac.cn/deepin riscv/deepin stage1 beige InRelease Could not resolve 'mirror.iscas.ac.cn' Err:3 https://mirror.iscas.ac.cn/deepin riscv/deepin addons beige InRelease Could not resolve 'mirror.iscas.ac.cn' Reading package lists... Done W: Failed to fetch https://mirror.iscas.ac.cn/deepin riscv/deepin stage1/dists/beige/InRelease Could not resolve 'mirror.iscas.ac' W: Failed to fetch https://mirror.iscas.ac.cn/deepin riscv/deepin addons/dists/beige/InRelease Could not resolve 'mirror.iscas.ac' W: Failed to fetch https://community packages.deepin.com/driver/dists/driver/InRelease Could not resolve 'community packages.deep' W: Some index files failed to download. They have been ignored, or old ones used instead. ``` å¯ä»¥å°è¯•å¦‚ä¸‹å‘½ä»¤è¿›è¡Œä¿®å¤ï¼š ```shell sudo apt get update fix missing ``` ### å®‰è£…ç¨‹åº å¯ä»¥å€ŸåŠ©äºŽ apt å‘½ä»¤æ¥å®‰è£…è½¯ä»¶ï¼›æ¯”å¦‚ä½¿ç”¨ `sudo apt install package_name` å‘½ä»¤æ¥å®‰è£… `package_name`ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ apt æ¥å®‰è£… `net tools` çš„ä¾‹å­ã€‚ ![usage_debian_apt_install_nettools](./assets/desktop/usage_debian_apt_install_nettools.png) å®‰è£… `net tools` åŽï¼Œå°±å¯ä»¥ä½¿ç”¨ `ifconfig` å‘½ä»¤äº†ã€‚ ![usage_debian_ifconfig_result_list](./assets/desktop/usage_debian_ifconfig_result_list.png) ç®­å¤´æŒ‡å‘çš„åœ°æ–¹å°±æ˜¯å¸¸è¯´çš„ IP åœ°å€äº†ã€‚ è‹¥åœ¨ä¸‹è½½è½¯ä»¶çš„è¿‡ç¨‹ä¸­é‡åˆ°ç±»ä¼¼ä¸‹é¢çš„æç¤ºä¿¡æ¯ï¼š ```shell W: GPG error: http://archive.ubuntu.com trusty updates Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 40976EAF437D05B5 NO_PUBKEY 3B4FE6ACC0B21F32 ``` å¯ä»¥å°è¯•ç”¨ä¸‹åˆ—å‘½ä»¤ä¿®å¤ï¼š ```shell sudo apt key adv keyserver keyring.debian.org recv keys 'æ›¿æ¢æˆæŠ¥é”™ä¸­çš„NO_PUBKEY åŽé¢çš„keyå€¼' # æˆ–ä½¿ç”¨ gpg keyserver keyring.debian.org recv keys 'æ›¿æ¢æˆæŠ¥é”™ä¸­çš„NO_PUBKEY åŽé¢çš„keyå€¼' ``` ## SSH å¦‚æžœä½ çš„é•œåƒé‡Œæ²¡æœ‰ ssh æˆ– sshd æŒ‡ä»¤ï¼Œå¯ä»¥å…ˆé€šè¿‡ä»¥ä¸‹æŒ‡ä»¤å®‰è£…ï¼š ```bash sudo apt install ssh openssh server ``` å®‰è£…ä¹‹åŽå³å¯ä½¿ç”¨ ssh æ¥è¿œç¨‹ç™»å½•åˆ°å…¶å®ƒæœºå™¨æ“ä½œï¼Œæˆ–è€…åœ¨å…¶å®ƒæœºå™¨ä¸Šä½¿ç”¨ ssh ç™»å½•åˆ° LicheePi 4A è¿˜å¯ä»¥ä½¿ç”¨ scp è¿›è¡Œæ–‡ä»¶ä¼ è¾“ï¼š ```bash scp demo.zip sipeed@192.168.1.9:~/ ``` ## è¾“å…¥æ³• å¦‚æžœä½ éœ€è¦è¿›è¡Œéž ascii çš„å­—ç¬¦è¾“å…¥ï¼Œå°±éœ€è¦å®‰è£…è¾“å…¥æ³•ï¼Œè¿™é‡Œä»¥ä¸­æ–‡è¾“å…¥æ³•ä¸ºä¾‹ï¼Œå…¶å®ƒè¯­è¨€è¯·è‡ªè¡ŒæŸ¥æ‰¾ç›¸å…³æ•™ç¨‹ã€‚ å…ˆå®‰è£… ibus libpinyinï¼š ```bash sudo apt install y ibus libpinyin ``` > æ³¨æ„è¿™é‡Œä¼šæ¶ˆè€—çº¦200MBç£ç›˜ç©ºé—´ å®‰è£…å®ŒåŽï¼Œé‡å¯æ¿å¡ï¼Œå³å¯åœ¨ Applications ä¸‹çœ‹åˆ° `IBus Preference` é€‰é¡¹ï¼Œç‚¹å‡»è¿›å…¥è®¾ç½®ã€‚ ![pinyin_cfg0](./assets/desktop/pinyin_cfg0.png) åœ¨å‡ºçŽ°çš„ç•Œé¢é‡Œç‚¹å‡» `Input Method`ï¼Œç‚¹å‡» `Add`ï¼Œé€‰æ‹© `Chinese`ï¼Œé€‰æ‹© `Intelligent Pinyin`ï¼Œç‚¹å‡» `Add`ï¼Œå³å¯æ·»åŠ ä¸­æ–‡æ‹¼éŸ³è¾“å…¥æ³•ã€‚ ![pinyin_cfg1](./assets/desktop/pinyin_cfg1.png) åœ¨å³ä¸Šè§’ç‚¹å‡»è¾“å…¥æ³•å›¾æ ‡ï¼Œå¯è§ä»¥ä¸‹é€‰é¡¹ï¼Œé€‰æ‹© `Chinese Intelligent Pinyin` å³å¯ã€‚ ![pinyin_cfg2](./assets/desktop/pinyin_cfg2.png) æ­¤æ—¶å³å¯åœ¨ç³»ç»Ÿä¸­é¡ºåˆ©è¾“å…¥ä¸­æ–‡ï¼š ![pinyin_cfg3](./assets/desktop/pinyin_cfg3.png) > æ³¨ï¼šåœ¨ 0425 ç‰ˆæœ¬é•œåƒä¸­ï¼Œå¯èƒ½ä¼šç”±äºŽ GPU æ”¯æŒé—®é¢˜ï¼Œå¯¼è‡´å®‰è£…äº†è¾“å…¥æ³•åŽï¼Œå‡ºçŽ°å›¾å½¢ç•Œé¢å¡é¡¿æ»žåŽçš„é—®é¢˜ã€‚ ## åŠžå…¬è½¯ä»¶ éƒ¨åˆ†é•œåƒé‡Œå†…ç½®äº†åŸºç¡€çš„ Office åŠžå…¬è½¯ä»¶ï¼ˆLibreOfficeï¼‰ï¼š ![office0](./assets/desktop/office0.png) LibreOffice Calc å³ XLS åŠŸèƒ½ï¼š ![office_calc](./assets/desktop/office_calc.png) LibreOffice Impress å³ PPT åŠŸèƒ½ï¼š ![office_impress](./assets/desktop/office_impress.png) LibreOffice Writer å³ WORD åŠŸèƒ½ï¼š ![office_writer](./assets/desktop/office_writer.png) ## æµè§ˆå™¨ ç³»ç»Ÿå†…ç½®äº† Chromium æµè§ˆå™¨ï¼Œç‚¹å‡»æ¡Œé¢ä¸‹æ–¹çš„æµè§ˆå™¨å›¾æ ‡å³å¯ä½¿ç”¨ï¼š ![browser_location](./assets/desktop/browser_location.png) ä½¿ç”¨æœç´¢å¼•æ“Žï¼š ![browser_search_engine_use](./assets/desktop/browser_search_engine_use.jpg) è§‚çœ‹åœ¨çº¿è§†é¢‘ï¼š ![browser_play_video](./assets/desktop/browser_play_video.jpg) > æ³¨ï¼šç›®å‰çš„ 0714é•œåƒä¸­ï¼ŒChromium ä¸‹æ’­æ”¾è§†é¢‘æˆ–éŸ³é¢‘æ—¶ï¼Œè‹¥ä¸º HDMI éŸ³é¢‘è¾“å‡ºï¼Œä¼šæœ‰å™ªéŸ³ï¼Œå¯ä»¥æš‚æ—¶åˆ‡æ¢ä¸º Firefox æµè§ˆå™¨æ¥æ’­æ”¾ã€‚ ## æ’­æ”¾å™¨ ç³»ç»Ÿå†…ç½®äº†ä¸€äº›å¼€æºæ’­æ”¾å™¨ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ VLC Player ä½œä¸ºè§†é¢‘æ’­æ”¾å™¨ ![player](./assets/desktop/player.png) ä½¿ç”¨ VLC Player æŸ¥çœ‹ MP4 æ ¼å¼çš„è§†é¢‘æ•ˆæžœå¦‚ä¸‹ï¼š ![vlc_player_use](./assets/desktop/vlc_player_use.jpg) ## ç¼–ç¨‹å¼€å‘ ### Python ç³»ç»Ÿå·²å†…ç½®äº† python3 çŽ¯å¢ƒï¼Œå¯ä»¥åœ¨ç»ˆç«¯ç›´æŽ¥è¿è¡Œï¼š ![python](./assets/desktop/python.png) å¦‚æžœéœ€è¦å®‰è£…PythonåŒ…ï¼Œåˆ™ä½¿ç”¨ï¼š`sudo apt install python3 XXX` æ¯”å¦‚å®‰è£…pyserialåŒ…ï¼š`sudo apt install python3 serial` å³å¯ ### C éœ€è¦å®‰è£… `build essential` åŒ…ï¼Œå ç”¨çº¦800MBç£ç›˜ç©ºé—´ ```bash sudo apt install build essential ``` ç„¶åŽå³å¯ä½¿ç”¨ gcc è¿›è¡Œç›¸å…³ç¼–è¯‘æ“ä½œï¼š ![gcc](./assets/desktop/gcc.png) ## æ‰©å±•å­˜å‚¨ç©ºé—´ å†…æµ‹ç‰ˆæ¿è½½ eMMC å®¹é‡è¾ƒå°ï¼Œç•™ç»™ç”¨æˆ·çš„ç©ºé—´åªæœ‰ 2ï½ž3GBï¼Œå¦‚æžœéœ€è¦è¿›è¡Œå¤§å®¹é‡å­˜å‚¨ï¼Œåˆ™éœ€è¦æ‰©å±•å­˜å‚¨ç©ºé—´ï¼Œå¯é€‰ä½¿ç”¨ USB å­˜å‚¨æˆ–è€… TF å­˜å‚¨ã€‚ ### æŒ‚è½½ U ç›˜ å°†ä¸€ä¸ª U ç›˜æ’å…¥ LicheePi 4A çš„ USB å£åŽï¼Œå¯ä»¥åœ¨å‘½ä»¤ç»ˆç«¯çª—å£ä½¿ç”¨ `dmesg` æŸ¥çœ‹æ¿å¡ç¡¬ä»¶å˜åŠ¨ä¿¡æ¯ã€‚ å¦‚ä¸‹æ˜¯è¿žæŽ¥ U ç›˜åŽï¼Œä½¿ç”¨ `dmesg` åœ¨å‘½ä»¤è¡Œç»ˆç«¯çœ‹åˆ°çš„æœ€æ–°ä¿¡æ¯ï¼ˆæˆªå–ï¼‰ã€‚ ![usage_debian_udisk_dmesg](./assets/desktop/usage_debian_udisk_dmesg.png) ä¸Šé¢çš„ä¿¡æ¯æ˜¾ç¤ºå‡ºäº†æ¿å¡çš„å¤–è®¾æ›´æ”¹ä¿¡æ¯ï¼›ä»Žä¸­å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªå¤§å®¹é‡ USB å­˜å‚¨è®¾å¤‡è¿žæŽ¥åˆ°äº† LicheePi 4Aã€‚ ä½¿ç”¨å‘½ä»¤ `cat /proc/partitions grep \"sd*\"` å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ° U å†…éƒ¨çš„åˆ†åŒºä¸ªæ•° ![usage_debian_udisk_partition_detail](./assets/desktop/usage_debian_udisk_partition_detail.png) ä»¥ä¸Šé¢çš„ç»“æžœä¸ºä¾‹ï¼Œå…¶ä¸­ `sda` æŒ‡ä»£çš„æ˜¯æ•´ä¸ª U ç›˜ï¼Œ`sda1` å’Œ `sda2` è¡¨ç¤ºçš„æ˜¯ U ç›˜é‡Œé¢çš„ä¸¤ä¸ªåˆ†åŒºã€‚ å…ˆåœ¨æ¡Œé¢ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åŽä½¿ç”¨ `mount` å‘½ä»¤å°† U ç›˜çš„æŸä¸€åˆ†åŒºæŒ‚è½½åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ã€‚ ```bash mkdir ~/Desktop/udisk # åœ¨æ¡Œé¢åˆ›å»ºä¸€ä¸ªåä¸º udisk çš„æ–‡ä»¶å¤¹ mount /dev/sda2 ~/Desktop/udisk # æŒ‚è½½ U ç›˜çš„ sda2 åˆ†åŒºåˆ° udisk æ–‡ä»¶å¤¹ ``` <table> <tr> <td> è¿è¡Œå‘½ä»¤å‰ </td> <td> è¿è¡Œå‘½ä»¤åŽ </td> </tr> <tr> <td style \"white space:nowrap\"><img src \"./assets/desktop/usage_debian_udisk_before_mount.png\" alt \"usage_debian_udisk_before_mount\"></td> <td style \"white space:nowrap\"><img src \"./assets/desktop/usage_debian_udisk_after_mount.png\" alt \"usage_debian_udisk_after_mount\"></td> </tr> <tr> <td colspan 2> è¿è¡Œå‘½ä»¤åŽæ¡Œé¢æ–°å¢žäº†ä¸€ä¸ªåä¸º udisk çš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨é¼ æ ‡åŒå‡»æ‰“å¼€ udisk æ–‡ä»¶å¤¹åŽå¯ä»¥çœ‹åˆ°æ–‡ä»¶å¤¹é‡Œé¢çš„å†…å®¹ä¸Ž U ç›˜é‡Œé¢çš„å®žé™…å†…å®¹ä¸€è‡´ <img src \"./assets/desktop/usage_debian_udisk_open_folder.png\" alt \"usage_debian_udisk_open_folder\"></td> </tr> </table> ### æŒ‚è½½ TFå¡ å°† TF å¡æ’å…¥ LicheePi 4A èƒŒé¢çš„ TF å¡æ§½ä¸­ï¼Œå³å¯åœ¨ç³»ç»Ÿä¸‹çœ‹åˆ° `/dev/mmcblk1` è®¾å¤‡ ï¼ˆ/dev/mmcblk0 æ˜¯ SOM ä¸Šçš„ eMMCï¼‰ å¦‚æžœ TF å¡å°šæœªåˆ†åŒºæˆ–è€…æ ¼å¼åŒ–ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ `sudo fdisk /dev/mmcblk1` æŒ‡ä»¤è¿›è¡Œåˆ†åŒºï¼Œ ç„¶åŽä½¿ç”¨ `sudo mkfs.ext4 /dev/mmcblk1p1` æˆ–è€… `sudo mkfs.vfat /dev/mmcblk1p1` å¯¹æ–°å»ºçš„åˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–æ“ä½œã€‚ å¦‚æžœæƒ³ä½œä¸ºæ‰©å±•åˆ†åŒºä½¿ç”¨ï¼Œå»ºè®®ä½¿ç”¨ ext4ï¼›å¦‚æžœæƒ³ä½œä¸ºä¸Ž Windows äº¤æ¢æ•°æ®çš„ TF å¡ï¼Œå»ºè®®ä½¿ç”¨ vfatã€‚ æ ¼å¼åŒ–å¥½åŽï¼Œå³å¯ä¸Žä¸ŠèŠ‚å†…å®¹ä¸€æ ·è¿›è¡ŒæŒ‚è½½æ“ä½œï¼Œç¡®è®¤æ˜¯å¦æŒ‚è½½æ­£å¸¸ã€‚ ### è®¾ç½®å¼€æœºæŒ‚è½½ éªŒè¯æ‰‹å·¥æŒ‚è½½æˆåŠŸåŽï¼Œä½ å¯ä»¥è¿›ä¸€æ­¥è®¾ç½®å¼€æœºæŒ‚è½½ã€‚ åªéœ€è¦åœ¨ /etc/fstab æ–‡ä»¶å†…åŠ ä¸Šéœ€è¦å¼€æœºè‡ªåŠ¨æŒ‚è½½çš„è®¾å¤‡ä¿¡æ¯å³å¯ï¼Œä»¥ä¸‹æ˜¯åœ¨æœ€åŽä¸€è¡Œæ·»åŠ TFå¡è‡ªåŠ¨æŒ‚è½½çš„ç¤ºä¾‹ã€‚ ```bash sipeed@lpi4a:~$ cat /etc/fstab # UNCONFIGURED FSTAB FOR BASE SYSTEM /dev/mmcblk0p3 / auto defaults 1 1 /dev/mmcblk0p2 /boot auto defaults 0 0 /dev/mmcblk1p1 /mnt auto defaults 0 2 ``` ç¬¬ä¸€ä¸ªæ•°å­—ï¼š0 è¡¨ç¤ºå¼€æœºä¸æ£€æŸ¥ç£ç›˜ï¼Œ1 è¡¨ç¤ºå¼€æœºæ£€æŸ¥ç£ç›˜ï¼› ç¬¬äºŒä¸ªæ•°å­—ï¼š0 è¡¨ç¤ºäº¤æ¢åˆ†åŒºï¼Œ1 ä»£è¡¨å¯åŠ¨åˆ†åŒºï¼ˆLinuxï¼‰ï¼Œ2 è¡¨ç¤ºæ™®é€šåˆ†åŒº /dev/mmcblk1p1 ä¹Ÿå¯ä½¿ç”¨ç£ç›˜ UUIDï¼Œå³å†™æˆ UUID xxxx xxx çš„å½¢å¼ï¼ŒUUID å¯ä»¥ä½¿ç”¨`sudo blkid`æŸ¥çœ‹ï¼š `/dev/mmcblk1p1: UUID \"033173ff b3ab 494c ab14 4dcd656a9214\" BLOCK_SIZE \"4096\" TYPE \"ext4\" PARTUUID \"8e4e28df 01\"` ### VNCè¿œç¨‹æ¡Œé¢ å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œè¿œç¨‹æ¡Œé¢ä½¿ç”¨è½»é‡åŒ–çš„ Xfce æ¡Œé¢çŽ¯å¢ƒã€‚ ```shell sudo apt install xfce4 xfce4 goodies xorg dbus x11 x11 xserver utils sudo apt install tigervnc standalone server tigervnc common ``` å®‰è£…å¥½ä¹‹åŽï¼Œè¾“å…¥ vncserver å‘½ä»¤ï¼Œé…ç½®ç›¸å…³å¯†ç ï¼Œç³»ç»Ÿä¼šæç¤ºé…ç½®å¯†ç ï¼Œæ ¹æ®è‡ªèº«éœ€è¦è®¾ç½®ï¼Œç¬¬äºŒä¸ªå¯†ç ç”¨äºŽä»…ä¾›æŸ¥çœ‹çš„ç”¨æˆ·ç™»å½•ï¼š ```shell sipeed@lpi4a:~$ vncserver You will require a password to access your desktops. Password: Verify: Would you like to enter a view only password (y/n)? n A view only password is not used ``` ç›¸å…³å¯†ç ä¼šåˆ›å»ºæ–‡ä»¶å­˜å‚¨åœ¨ `~/.vnc` ä¸­ã€‚ è®¾ç½®å®Œå¯†ç åŽä¼šæŽ¥ç€æ˜¾ç¤ºä¸‹é¢çš„ä¿¡æ¯ ```shell New Xtigervnc server 'lpi4a:1 (sipeed)' on port 5901 for display :1. Use xtigervncviewer SecurityTypes VncAuth passwd /tmp/tigervnc.I5Af7X/passwd :1 to connect to the VNC server. ``` æ³¨æ„ä¸Šé¢è¾“å‡ºä¸­çš„ä¸»æœºååŽæœ‰ä¸€ä¸ª `:1`ï¼Œè¿™è¡¨ç¤º VNC æœåŠ¡å™¨çš„æ˜¾ç¤ºç«¯å£å·ã€‚ VNC æœåŠ¡å™¨å°†ä¼šç›‘å¬ç«¯å£ `5901`ï¼Œå³ 5900+1ã€‚ç±»ä¼¼çš„ï¼Œè¿è¡Œ vncserver å‘½ä»¤åˆ›å»ºç¬¬äºŒä¸ªç¤ºä¾‹æ—¶ï¼Œå°†ä½¿ç”¨ä¸‹ä¸€ä¸ªæ˜¾ç¤ºç«¯å£ `:2`ï¼Œå¯¹äºŽè¿™ä¸ªæ˜¾ç¤ºç«¯å£ï¼Œç›‘å¬çš„ç«¯å£åˆ™ä¸º `5902`ã€‚ æŽ¥ä¸‹æ¥ï¼Œå…ˆ kill æŽ‰åˆšåˆšåˆ›å»ºçš„ VNC å®žä¾‹ï¼Œå…ˆè¿›è¡Œä¸€äº›é…ç½®ã€‚ ```shell vncserver kill :1 ``` xstartup æ–‡ä»¶æ˜¯ TigerVNC æœåŠ¡å™¨å¯åŠ¨æ—¶è¿è¡Œçš„è„šæœ¬ï¼Œåˆ›å»ºå¹¶ç¼–è¾‘æ–‡ä»¶ `~/.vnc/xstartup`ï¼Œå†™å…¥ä¸‹é¢çš„å†…å®¹ï¼š ```shell #!/bin/sh unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS exec startxfce4 ``` å¹¶èµ‹äºˆæƒé™ ```shell chmod +x ~/.vnc/xstartup ``` æŽ¥ä¸‹æ¥å¢žåŠ  VNC æœåŠ¡å™¨çš„å¯åŠ¨å‚æ•°ï¼Œåˆ›å»ºå¹¶ç¼–è¾‘ `~/.vnc/config` æ–‡ä»¶ï¼ŒåŠ å…¥éœ€è¦çš„å¯åŠ¨å‚æ•°ï¼Œæ¯”å¦‚æƒ³è¦è®¾ç½®å¯åŠ¨æ—¶çš„åˆ†è¾¨çŽ‡å’Œ dpiï¼Œå¯ä»¥å†™å…¥ä¸‹é¢çš„å†…å®¹ï¼š ```shell geometry your_prefer_resolution dpi your_prefer_dpi ``` è‹¥å› ä¸ºé˜²ç«å¢™è¿žæŽ¥ä¸ä¸Š VNCï¼Œå¯ä»¥ä½¿ç”¨ ufw æ¥æ·»åŠ å…è®¸çš„ç«¯å£ï¼Œæ¯”å¦‚ä½¿ç”¨ VNCæœåŠ¡å™¨çš„æ˜¾ç¤ºç«¯å£5901ï¼š ```shell sudo ufw allow 5901 ``` æœ€åŽï¼Œå°±å¯ä»¥è¿è¡Œ vnc æœåŠ¡å™¨äº†ï¼š ```shell vncserver localhost no ``` æŽ¥ä¸‹æ¥ï¼Œä¸ºäº†è®¿é—®è¿œç¨‹ä¸»æœºï¼ˆLPi4Aï¼‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æœ¬åœ°ä¸»æœºï¼ˆä½ æ­£åœ¨ä½¿ç”¨çš„ç”µè„‘ï¼‰ä¸Šä¸‹è½½å®‰è£… [vncviewer](https://www.realvnc.com/en/connect/download/viewer/)ï¼Œå®‰è£…å®ŒæˆåŽï¼Œå¯åŠ¨ VNCviewerï¼Œåœ¨çª—å£é¡¶éƒ¨è¾“å…¥è¿œç¨‹ä¸»æœºçš„ IP åœ°å€å’Œç«¯å£å·ï¼ˆæ ¼å¼ä¸º `ä½ çš„IPåœ°å€:VNCæœåŠ¡å™¨çš„æ˜¾ç¤ºç«¯å£å·ï¼‰ï¼š ![vnc_viewer_connect](./assets/desktop/vnc_viewer_connect.png) é»˜è®¤ä¼šæ ¹æ®ç½‘ç»œæƒ…å†µæ¥è®¾ç½®è¿œç¨‹æ¡Œé¢çš„ç”»è´¨ï¼Œä½Žç”»è´¨æ—¶å¯èƒ½ä¼šå¯¼è‡´è¿œç¨‹æ¡Œé¢ç”»é¢é¢œè‰²å¼‚å¸¸ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨æŒ‡å®šä¸ºé«˜ç”»è´¨ã€‚ åœ¨ç¬¬ä¸€æ¬¡æˆåŠŸè¿žæŽ¥åŽï¼Œå³é”®å•å‡»æ–°å‡ºçŽ°çš„ä¼šè¯çª—å£ï¼Œé€‰æ‹© propertiesï¼š ![vnc_viewer_change_properties](./assets/desktop/vnc_viewer_change_properties.png) ä¿®æ”¹ Options é€‰é¡¹ä¸­çš„ Picture quality ä¸º Highï¼š ![vnc_viewer_settings](./assets/desktop/vnc_viewer_settings.png) æ˜¾ç¤ºçš„æ•ˆæžœå¦‚ä¸‹ï¼š ![vnc_viewer_use](./assets/desktop/vnc_viewer_use.png) ## æ›´å¤š æ¬¢è¿ŽæŠ•ç¨¿ï½ž æŠ•ç¨¿æŽ¥å—åŽå¯å¾—ï¿¥5ï½ž150ï¼ˆ$1~20ï¼‰ä¼˜æƒ åˆ¸ï¼"},"/hardware/zh/lichee/th1520/lpi4a/7_develop_revyos.html":{"title":"revyos SDK","content":" title: revyos SDK keywords: Linux, Lichee, TH1520, SBC, RISCV update: date: 2023 07 03 version: v1.1 author: ztd Sipeedæ‰€ä½¿ç”¨çš„SDKæ˜¯è¯¥æ–‡æ¡£ä¸­çš„SDKã€‚ è¯¥SDKåœ¨æœ¬æœºé…ç½®ç¼–è¯‘çŽ¯å¢ƒä½¿ç”¨`make`æž„å»ºã€‚ä¸”ä¸‹è¿°æž„å»ºæµç¨‹è¿è¡ŒäºŽubuntu 22.04ç³»ç»Ÿï¼Œè¯·é¢„ç•™çº¦20Gç©ºé—´ã€‚ ## ç¼–è¯‘çŽ¯å¢ƒé…ç½® é¦–å…ˆå®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…å¹¶è®¾ç½®å¥½çŽ¯å¢ƒå˜é‡ ```bash export xuetie_toolchain https://occ oss prod.oss cn hangzhou.aliyuncs.com/resource//1663142514282 export toolchain_file_name Xuantie 900 gcc linux 5.10.4 glibc x86_64 V2.6.1 20220906.tar.gz export toolchain_tripe riscv64 unknown linux gnu export ARCH riscv export nproc 12 #è¯·æ ¹æ®è‡ªèº«CPUé…ç½®è®¾ç½®ï¼Œè¯¥æ–‡æ¡£ä½¿ç”¨cpuä¸ºi5 11400 mkdir th1520_build && cd th1520_build export GITHUB_WORKSPACE \"~/th1520_build\" #æœ¬æ–‡å‡è®¾å‡ä¸‹è½½åˆ°ç”¨æˆ·ç›®å½•ä¸‹ï¼Œå¯æ ¹æ®è‡ªèº«éœ€è¦æ›´æ”¹ sudo apt update && \\ sudo apt install y gdisk dosfstools g++ 12 riscv64 linux gnu build essential \\ libncurses dev gawk flex bison openssl libssl dev tree \\ dkms libelf dev libudev dev libpci dev libiberty dev autoconf device tree compiler sudo update alternatives install \\ /usr/bin/riscv64 linux gnu gcc riscv64 gcc /usr/bin/riscv64 linux gnu gcc 12 10 sudo update alternatives install \\ /usr/bin/riscv64 linux gnu g++ riscv64 g++ /usr/bin/riscv64 linux gnu g++ 12 10 ``` **æ³¨æ„ï¼Œcloneä¸‹é¢çš„repoæ—¶è¯·æ£€æŸ¥æ˜¯å¦ä¸ºå¯¹åº”åˆ†æ”¯ï¼š** **kernelåˆ†æ”¯ä¸ºlpi4a** **ubootåˆ†æ”¯ä¸ºlpi4a** **opensbiåˆ†æ”¯ä¸ºlpi4a** **å„ä»“åº“è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬** ## æž„å»ºkernel é¦–å…ˆè¯·cloneç”¨åˆ°çš„repoï¼Œå¹¶å»ºç«‹å¥½å¯¹åº”æ–‡ä»¶å¤¹ï¼ˆä¸‹åˆ—è·¯å¾„å‡å‡è®¾æ ¹ç›®å½•ä¸ºç”¨æˆ·ç›®å½•ä¸‹ï¼‰ ```shell git clone https://github.com/revyos/thead kernel.git kernel ``` é…ç½®ç¼–è¯‘å·¥å…·é“¾ ```shell wget ${xuetie_toolchain}/${toolchain_file_name} tar xvf ${toolchain_file_name} C /opt export PATH \"/opt/Xuantie 900 gcc linux 5.10.4 glibc x86_64 V2.6.1/bin:$PATH\" ``` åˆ›å»ºå®‰è£…ç›®æ ‡ç›®å½• ```shell mkdir rootfs && mkdir rootfs/boot ``` ç¼–è¯‘å†…æ ¸ ```shell pushd kernel make CROSS_COMPILE ${toolchain_tripe} ARCH ${ARCH} revyos_defconfig make CROSS_COMPILE ${toolchain_tripe} ARCH ${ARCH} j$(nproc) make CROSS_COMPILE ${toolchain_tripe} ARCH ${ARCH} j$(nproc) dtbs if [ x\"$(cat .config grep CONFIG_MODULES y)\" x\"CONFIG_MODULES y\" ]; then sudo make CROSS_COMPILE ${toolchain_tripe} ARCH ${ARCH} INSTALL_MOD_PATH ${GITHUB_WORKSPACE}/rootfs/ modules_install j$(nproc) fi sudo make CROSS_COMPILE ${toolchain_tripe} ARCH ${ARCH} INSTALL_PATH ${GITHUB_WORKSPACE}/rootfs/boot zinstall j$(nproc) ``` æž„å»ºperfï¼ˆæ ¹æ®éœ€è¦æž„å»ºï¼‰ ```shell make CROSS_COMPILE riscv64 unknown linux gnu ARCH riscv LDFLAGS static NO_LIBELF 1 NO_JVMTI 1 VF 1 C tools/perf/ sudo cp v tools/perf/perf ${GITHUB_WORKSPACE}/rootfs/sbin/perf thead ``` è®°å½• commit id ```shell git rev parse HEAD > kernel commitid sudo cp v kernel commitid ${GITHUB_WORKSPACE}/rootfs/boot/ ``` å®‰è£…å†…æ ¸ã€è®¾å¤‡æ ‘åˆ°ç›®æ ‡ç›®å½• ```shell sudo cp v arch/riscv/boot/Image ${GITHUB_WORKSPACE}/rootfs/boot/ sudo cp v arch/riscv/boot/dts/thead/light lpi4a.dtb ${GITHUB_WORKSPACE}/rootfs/boot/ popd ``` ä¹‹åŽåªéœ€è¦æŠŠrootfsä¸­å†…å®¹æ‹·è´æˆ–è¦†ç›–åˆ°å¯¹åº”ç›®å½•å³å¯ï¼Œæ³¨æ„å†…æ ¸Imageå’Œå†…æ ¸moduleç›®å½•ä¸€å®šè¦å¯¹åº”ï¼Œä¸ç„¶ä¼šå› ç¼ºå¤±å†…æ ¸æ¨¡å—å¯¼è‡´å¤–è®¾åŠŸèƒ½å¤±æ•ˆã€‚ ### æž„å»ºuboot æ³¨æ„ï¼Œæ­¤æ—¶ä»åœ¨th1520_buildç›®å½•ä¸‹ï¼Œä¸”å·²ç»é…ç½®å¥½çŽ¯å¢ƒå˜é‡å’Œå·¥å…·é“¾ï¼Œæ­¥éª¤å‚è€ƒæž„å»ºkernelã€‚ ```shell git clone https://github.com/revyos/thead u boot.git uboot ``` ç„¶åŽå¼€å§‹æ‰§è¡Œç¼–è¯‘å‘½ä»¤ ```shell pushd uboot make ARCH ${ARCH} CROSS_COMPILE ${toolchain_tripe} light_lpi4a_defconfig make ARCH ${ARCH} CROSS_COMPILE ${toolchain_tripe} j$(nproc) find . name \"u boot with spl.bin\" xargs I{} cp av {} ${GITHUB_WORKSPACE}/rootfs/u boot with spl.bin popd ``` æ£€æŸ¥è¾“å‡ºçš„æ–‡ä»¶ ```shell tree ${GITHUB_WORKSPACE}/rootfs ``` ## æž„å»ºopensbi æ³¨æ„ï¼Œæ­¤æ—¶ä»åœ¨th1520_buildç›®å½•ä¸‹ï¼Œä¸”å·²ç»é…ç½®å¥½çŽ¯å¢ƒå˜é‡å’Œå·¥å…·é“¾ï¼Œæ­¥éª¤å‚è€ƒæž„å»ºkernelã€‚ ```shell git clone https://github.com/revyos/thead opensbi.git opensbi ``` ç„¶åŽå¼€å§‹æ‰§è¡Œç¼–è¯‘å‘½ä»¤ ```shell pushd opensbi make PLATFORM generic ARCH ${ARCH} CROSS_COMPILE ${toolchain_tripe} sudo install D p m 644 build/platform/generic/firmware/fw_dynamic.bin \\ \"${GITHUB_WORKSPACE}/rootfs/boot/\" popd ``` æ£€æŸ¥è¾“å‡ºçš„æ–‡ä»¶ ```shell tree ${GITHUB_WORKSPACE}/rootfs ``` å°†ç›®å‰æž„å»ºå¥½çš„kernel, uboot, opensbiç›¸å…³æ–‡ä»¶æ‰“åŒ…ä¸ºåŽ‹ç¼©åŒ… ```shell tar zcvf kernel.tar.gz rootfs ``` è¦ä½¿ç”¨æž„å»ºçš„æ–‡ä»¶ï¼Œåˆ™å°†åŽ‹ç¼©åŒ…ä¸­æ–‡ä»¶æ›¿æ¢åˆ°ç›¸åº”ä½ç½®å³å¯ã€‚ å°†boot.ext4ä¸­è¦æ›¿æ¢çš„æ–‡ä»¶åˆ æŽ‰ï¼Œç„¶åŽrootfs/boot/ä¸‹çš„æ–‡ä»¶æ”¾åˆ°boot.ext4ä¸­ï¼› å°†rootfs/lib/modules/æ›¿æ¢æŽ‰rootfs.ext4ä¸­çš„/lib/modules/ç›®å½•ï¼› è‹¥æž„å»ºäº†perfäº†ï¼Œå°†rootfs/sbinä¸‹çš„æ–‡ä»¶æ›¿æ¢æŽ‰rootfs.ext4ä¸­/sbinä¸‹çš„æ–‡ä»¶ï¼› ubootç›´æŽ¥çƒ§å½•å³å¯ã€‚"},"/hardware/zh/lichee/th1520/lpi4a/7_develop_mainline.html":{"title":"ç³»ç»Ÿå¼€å‘","content":" title: ç³»ç»Ÿå¼€å‘ keywords: Linux, Lichee, TH1520, SBC, RISCV, Kernel, SDK, Develop update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs "},"/hardware/zh/lichee/th1520/lpi4a/4_burn_image.html":{"title":"çƒ§å½•é•œåƒ","content":" title: çƒ§å½•é•œåƒ keywords: Linux, Lichee, TH1520, SBC, RISCV, image update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## å‡†å¤‡å·¥ä½œ ### èŽ·å–é•œåƒ å‚è§ä¸Šä¸€ç« â€œé•œåƒé›†åˆâ€ï¼Œé€‰å–éœ€è¦çš„é•œåƒä¸‹è½½ã€‚ ä»¥ä¸‹çš„çƒ§å½•æ–¹å¼ä»¥ Debian é•œåƒ `LPi4A_Test_0425.7z` ä¸ºä¾‹ã€‚ ### èŽ·å–çƒ§å½•å·¥å…· åœ¨é•œåƒé›†åˆçš„ç½‘ç›˜å†…å¯ä»¥èŽ·å¾— `burn_tool.zip`, è§£åŽ‹å¯å¾— win/linux/mac ä¸‰ä¸ªç³»ç»Ÿä¸‹çš„ fastboot çƒ§å½•å·¥å…·ã€‚ ## è¿›å…¥çƒ§å½•æ¨¡å¼ æ³¨æ„ä¸åŒç‰ˆæœ¬ç¡¬ä»¶è¿›å…¥çƒ§å½•æ¨¡å¼çš„æ–¹å¼ç•¥æœ‰ä¸åŒï¼Œå‚è§ä»¥ä¸‹ç« èŠ‚ã€‚ ### å†…æµ‹ç‰ˆç¡¬ä»¶ æŒ‰ä½æ¿ä¸Šçš„BOOTæŒ‰é”®ä¸æ”¾ï¼Œç„¶åŽæ’å…¥ USB C çº¿ç¼†ä¸Šç”µï¼ˆçº¿ç¼†å¦ä¸€å¤´æŽ¥ PC ï¼‰ï¼Œå³å¯è¿›å…¥ USB çƒ§å½•æ¨¡å¼ã€‚ ![press_boot](./assets/burn_image/press_boot.png) åœ¨ Windows ä¸‹ä½¿ç”¨è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹ï¼Œä¼šå‡ºçŽ° â€œUSB download gadgetâ€ è®¾å¤‡ã€‚ åœ¨ Linux ä¸‹ï¼Œä½¿ç”¨ `lsusb` æŸ¥çœ‹è®¾å¤‡ï¼Œä¼šæ˜¾ç¤ºä»¥ä¸‹è®¾å¤‡ï¼š `ID 2345:7654 T HEAD USB download gadget` ### æ­£å¼ç‰ˆç¡¬ä»¶ TODO ### Windows ä¸‹é©±åŠ¨å®‰è£… Windows ä¸‹çƒ§å½•æ—¶ï¼Œéœ€è¦å…ˆè¿›å…¥é«˜çº§å¯åŠ¨æ¨¡å¼ï¼Œç¦ç”¨æ•°å­—ç­¾åã€‚æ‰èƒ½æ­£å¸¸å®‰è£…ä¸‹é¢çš„é©±åŠ¨ã€‚ ![before_install_driver](./assets/burn_image/before_install_driver.png) ![install_driver](./assets/burn_image/install_driver.png) ## çƒ§å½•é•œåƒ è¿›å…¥çƒ§å½•æ¨¡å¼åŽï¼Œå¯ä½¿ç”¨ burn_tool.zip å†…çš„ fastboot è¿›è¡Œçƒ§å½•æ“ä½œï¼Œæ³¨æ„å¯èƒ½éœ€è¦å…ˆèµ‹äºˆ fastboot å¯æ‰§è¡Œæƒé™ã€‚ ### Windows ç³»ç»Ÿæ­¥éª¤ ç¼–è¾‘ burn_tool.zip æ–‡ä»¶å¤¹é‡Œé¢çš„ `burn_lpi4a.bat` æ–‡ä»¶ï¼Œå°†å¯¹åº”çš„é•œåƒè·¯å¾„æ›´æ”¹æˆè‡ªå·±å®žé™…ä½¿ç”¨çš„é•œåƒåŠåç§°ã€‚ç„¶åŽåŒå‡»è¿è¡Œ `burn_lpi4a.bat` å°±èƒ½å¤Ÿæ­£å¸¸è¿›è¡Œçƒ§å½•äº†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ `fastboot.exe` çš„è·¯å¾„ä¹Ÿéœ€è¦åŒ¹é…ä¸Šï¼Œä¸ç„¶ä¼šè¢«æç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶ã€‚ ![target_burn_image_path](./assets/burn_image/target_burn_image_path.png) ### Linux ç³»ç»Ÿæ­¥éª¤ åœ¨æŒ‰ä½BOOTæŒ‰é”®çš„æ¡ä»¶ä¸‹ï¼Œç³»ç»Ÿåœ¨resetå¯åŠ¨åŽï¼Œä¼šé»˜è®¤è¿›å…¥fastbootæ¨¡å¼ï¼Œ è¿™æ—¶ä¾¯æˆ‘ä»¬å¯ä»¥é€šè¿‡fastbootä¸‹è½½å¹¶å¯åŠ¨u booté•œåƒçš„å‘½ä»¤ï¼Œæ¥è¿›å…¥åˆ°u bootçš„fastbootçƒ§å½•æ¨¡å¼ï¼ˆç›¸æ¯”Bromé˜¶æ®µï¼Œä¼šæœ‰æ›´å¤§ä¸‹è½½bufferï¼Œé€Ÿåº¦ä¼šæ›´å¿«ï¼‰ ä¸‹é¢çš„æŒ‡ä»¤ä¼šæ£€æŸ¥å¹¶æ ¼å¼åŒ–åˆ†åŒºï¼Œè¯·åŠ¡å¿…æ‰§è¡Œï¼Œå¦åˆ™åŽé¢çƒ§å½• rootfs ä¼šå¾ˆæ…¢ã€‚ ```bash sudo ./fastboot flash ram ./images/u boot with spl.bin sudo ./fastboot reboot sleep 1 ``` åˆ†åˆ«çƒ§å½•ä¸‹é¢ä¸‰ä¸ªé•œåƒï¼šå¯åŠ¨å¼•å¯¼é•œåƒ ubootï¼Œå¯åŠ¨åˆ†åŒº bootï¼Œæ“ä½œç³»ç»Ÿæ ¹åˆ†åŒº root ```bash sudo ./fastboot flash uboot ./images/u boot with spl.bin sudo ./fastboot flash boot ./images/boot.ext4 sudo ./fastboot flash root ./images/rootfs.ext4 ``` `boot.ext4` ä¸º boot åˆ†åŒºï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š ```bash fw_dynamic.bin #opensbi Image #kernel image kernel release #commit id of kernel light_aon_fpga.bin #fw for E902 aon light_c906_audio.bin #fw for C906 audio light lpi4a.dtb #1.85GHz dtb light lpi4a_2Ghz.dtb #2GHz overclock dtb light lpi4a ddr2G.dtb #history dtb ``` `rootfs.ext4` ä¸ºæ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œé»˜è®¤ä¸º Debian ç³»ç»Ÿã€‚ çƒ§å½•é•œåƒçš„å…¸åž‹ log è¾“å‡ºå¦‚ä¸‹ï¼š ![](./assets/burn_image/burn_image_progress_result.png) <! ```bash (base) pc@n5105:~/work/$ sudo ./fastboot flash ram u boot with spl.bin Sending 'ram' (935 KB) OKAY [ 0.248s] Writing 'ram' OKAY [ 0.002s] Finished. Total time: 0.255s (base) pc@n5105:~/work/$ sudo ./fastboot reboot Rebooting OKAY [ 0.001s] Finished. Total time: 0.202s (base) pc@n5105:~/work/$ sudo ./fastboot flash uboot u boot with spl.bin Sending 'uboot' (935 KB) OKAY [ 0.054s] Writing 'uboot' OKAY [ 0.030s] Finished. Total time: 0.107s (base) pc@n5105:~/work/$ sudo ./fastboot flash boot boot_20230420.ext4 Sending 'boot' (40000 KB) OKAY [ 1.705s] Writing 'boot' OKAY [ 0.877s] Finished. Total time: 2.770s (base) pc@n5105:~/work/$ sudo ./fastboot flash root rootfs 20230425 001635 nogpu.ext4 Invalid sparse file format at header magic Sending sparse 'root' 1/37 (114572 KB) OKAY [ 4.793s] Writing 'root' OKAY [ 3.087s] Sending sparse 'root' 2/37 (105264 KB) OKAY [ 4.465s] Writing 'root' OKAY [ 2.330s] Sending sparse 'root' 3/37 (111970 KB) OKAY [ 4.814s] Writing 'root' OKAY [ 2.861s] Sending sparse 'root' 4/37 (114684 KB) OKAY [ 4.902s] Writing 'root' OKAY [ 2.658s] Sending sparse 'root' 5/37 (101490 KB) OKAY [ 4.305s] Writing 'root' OKAY [ 2.652s] Sending sparse 'root' 6/37 (114684 KB) OKAY [ 4.648s] Writing 'root' OKAY [ 2.657s] Sending sparse 'root' 7/37 (113862 KB) OKAY [ 4.755s] Writing 'root' OKAY [ 2.826s] Sending sparse 'root' 8/37 (111189 KB) OKAY [ 4.741s] Writing 'root' OKAY [ 2.695s] Sending sparse 'root' 9/37 (114625 KB) OKAY [ 4.865s] Writing 'root' OKAY [ 2.660s] Sending sparse 'root' 10/37 (104030 KB) OKAY [ 4.506s] Writing 'root' OKAY [ 4.108s] Sending sparse 'root' 11/37 (111701 KB) OKAY [ 4.744s] Writing 'root' OKAY [ 2.717s] Sending sparse 'root' 12/37 (107317 KB) OKAY [ 4.568s] Writing 'root' OKAY [ 2.583s] Sending sparse 'root' 13/37 (114629 KB) OKAY [ 4.830s] Writing 'root' OKAY [ 2.753s] Sending sparse 'root' 14/37 (109798 KB) OKAY [ 4.711s] Writing 'root' OKAY [ 2.778s] Sending sparse 'root' 15/37 (112203 KB) OKAY [ 4.795s] Writing 'root' OKAY [ 2.982s] Sending sparse 'root' 16/37 (112502 KB) OKAY [ 4.827s] Writing 'root' OKAY [ 2.991s] Sending sparse 'root' 17/37 (114110 KB) OKAY [ 4.849s] Writing 'root' OKAY [ 2.853s] Sending sparse 'root' 18/37 (114681 KB) OKAY [ 4.888s] Writing 'root' OKAY [ 2.802s] Sending sparse 'root' 19/37 (112042 KB) OKAY [ 4.799s] Writing 'root' OKAY [ 3.674s] Sending sparse 'root' 20/37 (109101 KB) OKAY [ 4.631s] Writing 'root' OKAY [ 2.582s] Sending sparse 'root' 21/37 (114225 KB) OKAY [ 4.623s] Writing 'root' OKAY [ 2.782s] Sending sparse 'root' 22/37 (114365 KB) OKAY [ 4.703s] Writing 'root' OKAY [ 2.667s] Sending sparse 'root' 23/37 (103529 KB) OKAY [ 4.133s] Writing 'root' OKAY [ 2.442s] Sending sparse 'root' 24/37 (114664 KB) OKAY [ 4.631s] Writing 'root' OKAY [ 2.581s] Sending sparse 'root' 25/37 (114550 KB) OKAY [ 4.749s] Writing 'root' OKAY [ 2.878s] Sending sparse 'root' 26/37 (114686 KB) OKAY [ 4.796s] Writing 'root' OKAY [ 2.853s] Sending sparse 'root' 27/37 (114466 KB) OKAY [ 4.800s] Writing 'root' OKAY [ 2.894s] Sending sparse 'root' 28/37 (110689 KB) OKAY [ 4.711s] Writing 'root' OKAY [ 2.616s] Sending sparse 'root' 29/37 (114687 KB) OKAY [ 4.880s] Writing 'root' OKAY [ 2.992s] Sending sparse 'root' 30/37 (110984 KB) OKAY [ 4.710s] Writing 'root' OKAY [ 2.451s] Sending sparse 'root' 31/37 (114685 KB) OKAY [ 4.920s] Writing 'root' OKAY [ 2.749s] Sending sparse 'root' 32/37 (114684 KB) OKAY [ 4.825s] Writing 'root' OKAY [ 2.503s] Sending sparse 'root' 33/37 (114684 KB) OKAY [ 4.816s] Writing 'root' OKAY [ 3.262s] Sending sparse 'root' 34/37 (114686 KB) OKAY [ 4.745s] Writing 'root' OKAY [ 2.825s] Sending sparse 'root' 35/37 (114684 KB) OKAY [ 4.913s] Writing 'root' OKAY [ 2.630s] Sending sparse 'root' 36/37 (114684 KB) OKAY [ 4.838s] Writing 'root' OKAY [ 2.593s] Sending sparse 'root' 37/37 (21324 KB) OKAY [ 0.926s] Writing 'root' OKAY [ 0.487s] Finished. Total time: 281.671s ``` > ## å¯åŠ¨æœºåˆ¶ brom > U Boot SPL > U Boot > OpenSBI > Kernel æŽ¥ä¸‹æ¥ç®€å•ä»‹ç»ä¸€ä¸‹æ¯ä¸ªé˜¶æ®µï¼Œå¹¶å±•ç¤ºä½¿ç”¨ä¸²å£å·¥å…·è¿žæŽ¥å¼€å‘æ¿æ—¶èƒ½å¤Ÿçœ‹åˆ°çš„ç›¸åº”æ—¥å¿—ã€‚ æ­£å¼ç‰ˆå¼€å‘æ¿ä¸­ï¼Œç³»ç»Ÿä¸²å£IOæ–°å¢žç”µå¹³è½¬æ¢ICåˆ°3.3Vï¼Œå¯ä»¥ä½¿ç”¨æ™®é€šä¸²å£æ¨¡å—è¿žæŽ¥ã€‚ ### brom è¯¥é˜¶æ®µçš„å…¸åž‹è¾“å‡ºå¦‚ä¸‹ï¼š ```shell brom_ver 8 [APP][E] protocol_connect failed, exit. ``` brom é˜¶æ®µä¼šä»Ž SoC çš„ ROM ä¸­èŽ·å–æ ¸å¿ƒä»£ç ï¼Œå¹¶å¯»æ‰¾ä¸‹ä¸€é˜¶æ®µçš„ bootloaderã€‚ ### U Boot SPL è¯¥é˜¶æ®µçš„å…¸åž‹è¾“å‡ºå¦‚ä¸‹ï¼š ```shell U Boot SPL 2020.01 gd6c9182f (Jul 07 2023 12:31:51 +0200) FM[1] lpddr4x dualrank freq 3733 64bit dbi_off n sdram init ddr initialized, jump to uboot image has no header ``` è¿™é‡Œçš„ U Boot SPL ä¸­çš„ SPL æŒ‡çš„æ˜¯ Secondary Program Loaderï¼Œå…¶ä¸­çš„ Secondaryï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒé˜¶æ®µï¼Œæ˜¯ç›¸å¯¹äºŽå‰é¢çš„ brom æ¥è¯´çš„ã€‚ U Boot SPL çš„ä¸»è¦åŠŸèƒ½æ˜¯åŠ è½½çœŸæ­£çš„ U Boot è¿è¡Œï¼Œå› ä¸ºä¸€äº› SoC ä¸­æ— æ³•è£…ä¸‹ä¸€ä¸ªå®Œæ•´çš„ U Boot é•œåƒï¼Œé‚£ä¹ˆå°±éœ€è¦ U Boot SPL æ¥åˆå§‹åŒ–å¤–éƒ¨ RAM å’ŒçŽ¯å¢ƒï¼ŒåŠ è½½çœŸæ­£çš„ U Boot åˆ°å¤–éƒ¨ RAM ä¸­æ‰§è¡Œã€‚ ### U Boot è¯¥é˜¶æ®µçš„å…¸åž‹è¾“å‡ºå¦‚ä¸‹ï¼š ```shell U Boot 2020.01 gd6c9182f (Jul 07 2023 12:31:51 +0200) CPU: rv64imafdcvsu Model: T HEAD c910 light DRAM: 8 GiB C910 CPU FREQ: 750MHz AHB2_CPUSYS_HCLK FREQ: 250MHz AHB3_CPUSYS_PCLK FREQ: 125MHz PERISYS_AHB_HCLK FREQ: 250MHz PERISYS_APB_PCLK FREQ: 62MHz GMAC PLL POSTDIV FREQ: 1000MHZ DPU0 PLL POSTDIV FREQ: 1188MHZ DPU1 PLL POSTDIV FREQ: 1188MHZ MMC: sdhci@ffe7080000: 0, sd@ffe7090000: 1 Loading Environment from MMC... OK Error reading output register Warning: cannot get lcd en GPIO LCD panel cannot be found : 121 splash screen startup cost 15 ms In: serial Out: serial Err: serial Net: ethernet@ffe7070000 (eth0) using MAC address ae:be:2a:50:5e:89 eth0: ethernet@ffe7070000ethernet@ffe7070000:0 is connected to ethernet@ffe7070000. ethernet@ffe7060000 (eth1) using MAC address ae:be:2a:50:5e:8a , eth1: ethernet@ffe7060000 Hit any key to stop autoboot: 0 ``` è¿™ä¸ªé˜¶æ®µï¼Œçœ‹åˆ° `Hit any key to stop autoboot:` æ—¶ï¼Œåœ¨2ç§’å€’è®¡æ—¶ç»“æŸå‰å¯ä»¥æŒ‰å›žè½¦é”®è¿›å…¥ U Bootï¼Œåœ¨è¿™é‡Œå¯ä»¥è®¾ç½®å„ç§çŽ¯å¢ƒå˜é‡ï¼Œå¯¹äºŽå¸¸ç”¨çš„çŽ¯å¢ƒå˜é‡ä¸¾ä¾‹è®¾ç½®å¦‚ä¸‹ï¼š è®¾ç½® MAC åœ°å€ï¼š ```shell setenv ethaddr ae:be:2a:50:5e:89 setenv eth1addr ae:be:2a:50:5e:8a saveenv ``` å°†ä¸Šè¿°å‘½ä»¤ä¸­çš„ MAC åœ°å€æ›¿æ¢ä¸ºè‡ªå·±çš„ MAC åœ°å€å³å¯ï¼Œæ³¨æ„ `eth1addr` çš„å€¼ä¸º `ethaddr` çš„å€¼åŠ 1ã€‚ è®¾ç½®å†…æ ¸ä½¿ç”¨çš„è®¾å¤‡æ ‘ï¼š ```shell setenv fdt_file light lpi4a.dtb saveenv ``` ä¸Šè¿°å‘½ä»¤ä¸­çš„ `light lpi4a.dtb` æ›¿æ¢ä¸ºå­˜æ”¾åœ¨ `boot.ext4` ä¸­æƒ³ä½¿ç”¨çš„è®¾å¤‡æ ‘çš„æ–‡ä»¶åã€‚ è®¾ç½®å®ŒæˆåŽä¹Ÿå¯ä»¥ä½¿ç”¨ `printenv` å‘½ä»¤æ£€æŸ¥æ˜¯å¦æ­£ç¡®ï¼Œç„¶åŽè¾“å…¥ `boot` å‘½ä»¤å³å¯è¿›å…¥å†…æ ¸ã€‚ æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®å¯åŠ¨å‚æ•°æ¥é€‰æ‹©å¯åŠ¨æ–¹å¼ï¼Œæ¯”å¦‚ä½¿ç”¨ SD å¡å¯åŠ¨ã€‚ çƒ§å½•é•œåƒåˆ° SD å¡ä¸­åŽï¼Œå°† SD å¡æ’å…¥å¼€å‘æ¿ï¼Œè¿›å…¥åˆ° U Bootï¼š ```shell env set f set_bootargs 'setenv bootargs console ttyS0,115200 root /dev/mmcblk1 rootfstype ext4 rootwait rw earlycon clk_ignore_unused loglevel 7 eth ethaddr rootrwoptions rw,noatime rootrwreset {factory_reset} init /lib/systemd/systemd' env save ``` ä¸Šè¿°æ­¥éª¤å®ŒæˆåŽï¼Œè¾“å…¥ `reset` å‘½ä»¤é‡å¯å¼€å‘æ¿ï¼Œå³å¯ä»Ž SD å¡å¯åŠ¨ç³»ç»Ÿã€‚ å¯¹äºŽæ­£å¼ç‰ˆå¼€å‘æ¿åˆ™å¯ä»¥ä½¿ç”¨åº•æ¿ä¸Šçš„æ‹¨ç å¼€å…³æ¥é€‰æ‹©å¯åŠ¨æ–¹å¼ï¼š ![switch_boot_mode](./assets/burn_image/switch_boot_mode.jpg) ### OpenSBI OpenSBI çš„ sbi_init.c æ–‡ä»¶ä¸­çš„ä¸€äº›åˆå§‹åŒ–æ‰“å°ä¸ä¼šåœ¨å¯åŠ¨ log ä¸­å±•ç¤ºå‡ºæ¥ï¼Œä½†èƒ½å¤Ÿåœ¨ Kernel å¯åŠ¨æ—¶çœ‹åˆ°ä¸€äº›å…³äºŽ OpenSBI çš„ä¿¡æ¯è¢«æ‰“å°å‡ºæ¥ï¼š ```shell [ 0.000000] SBI specification v0.3 detected [ 0.000000] SBI implementation ID 0x1 Version 0x9 [ 0.000000] SBI v0.2 TIME extension detected [ 0.000000] SBI v0.2 IPI extension detected [ 0.000000] SBI v0.2 RFENCE extension detected [ 0.000000] SBI v0.2 HSM extension detected ``` OpenSBI æœ‰ä¸‰ç§ firmwareï¼Œè¿™é‡Œæ‰€ä½¿ç”¨çš„æ˜¯ FW_DYNAMICï¼Œå®ƒä¼šæ ¹æ®å‰ä¸€ä¸ªé˜¶æ®µä¼ å…¥çš„ä¿¡æ¯åŠ è½½ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚OpenSBI çš„ fw_dynamic.bin å›ºä»¶è¢«å­˜æ”¾åœ¨ boot.ext4 ä¸­ï¼Œè¿™ä¸ªé˜¶æ®µä¼šå¼•å¯¼å†…æ ¸å¯åŠ¨ã€‚ ### Kernel è¯¥é˜¶æ®µçš„å…¸åž‹ log å¦‚ä¸‹ï¼ˆç”±äºŽå¤ªé•¿ï¼Œä»…æˆªå–éƒ¨åˆ†ï¼‰ï¼š ```shell [ 0.000000] Linux version 5.10.113 g387b6863253c dirty [ 0.000000] OF: fdt: Ignoring memory range 0x0 0x200000 [ 0.000000] earlycon: uart0 at MMIO32 0x000000ffe7014000 (options '115200n8') [ 0.000000] printk: bootconsole [uart0] enabled [ 0.000000] efi: UEFI not found. [ 0.000000] Reserved memory: created CMA memory pool at 0x00000003e4000000, size 320 MiB [ 0.000000] OF: reserved mem: initialized node linux,cma, compatible id shared dma pool [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000000200000 0x00000000ffffffff] [ 0.000000] Normal [mem 0x0000000100000000 0x00000003ffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000000200000 0x000000000fffffff] [ 0.000000] node 0: [mem 0x0000000010000000 0x00000000166fffff] [ 0.000000] node 0: [mem 0x0000000016700000 0x0000000016ffffff] [ 0.000000] node 0: [mem 0x0000000017000000 0x0000000018ffffff] [ 0.000000] node 0: [mem 0x0000000019000000 0x000000001bffffff] [ 0.000000] node 0: [mem 0x000000001c000000 0x000000001dffffff] [ 0.000000] node 0: [mem 0x000000001e000000 0x000000001fffffff] [ 0.000000] node 0: [mem 0x0000000020000000 0x00000000207fffff] [ 0.000000] node 0: [mem 0x0000000020800000 0x00000003ffffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000000200000 0x00000003ffffffff] [ 0.000000] software IO TLB: mapped [mem 0x00000000fbfff000 0x00000000fffff000] (64MB) [ 0.000000] SBI specification v0.3 detected [ 0.000000] SBI implementation ID 0x1 Version 0x9 [ 0.000000] SBI v0.2 TIME extension detected [ 0.000000] SBI v0.2 IPI extension detected [ 0.000000] SBI v0.2 RFENCE extension detected [ 0.000000] SBI v0.2 HSM extension detected [ 0.000000] riscv: ISA extensions acdfimsuv [ 0.000000] riscv: ELF capabilities acdfimv [ 0.000000] percpu: Embedded 27 pages/cpu s73496 r8192 d28904 u110592 [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 4128264 [ 0.000000] Kernel command line: console ttyS0,115200 root PARTUUID 80a5a8e9 c744 491a d [ 0.000000] Dentry cache hash table entries: 2097152 (order: 12, 16777216 bytes, linear) [ 0.000000] Inode cache hash table entries: 1048576 (order: 11, 8388608 bytes, linear) [ 0.000000] Sorting __ex_table... [ 0.000000] mem auto init: stack:off, heap alloc:off, heap free:off [ 0.000000] Memory: 15887448K/16775168K available (12390K kernel code, 5982K rwdata, 61) [ 0.000000] SLUB: HWalign 64, Order 0 3, MinObjects 0, CPUs 4, Nodes 1 [ 0.000000] rcu: Preemptible hierarchical RCU implementation. [ 0.000000] rcu: RCU restricting CPUs from NR_CPUS 8 to nr_cpu_ids 4. [ 0.000000] Trampoline variant of Tasks RCU enabled. [ 0.000000] Tracing variant of Tasks RCU enabled. [ 0.000000] rcu: RCU calculated value of scheduler enlistment delay is 25 jiffies. [ 0.000000] rcu: Adjusting geometry for rcu_fanout_leaf 16, nr_cpu_ids 4 [ 0.000000] NR_IRQS: 64, nr_irqs: 64, preallocated irqs: 0 [ 0.000000] riscv intc: 64 local interrupts mapped [ 0.000000] plic: interrupt controller@ffd8000000: mapped 64 interrupts with 4 handlers. [ 0.000000] random: get_random_bytes called from start_kernel+0x372/0x4d4 with crng_ini0 [ 0.000000] riscv_timer_init_dt: Registering clocksource cpuid [0] hartid [0] [ 0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x1623s [ 0.000008] sched_clock: 64 bits at 3000kHz, resolution 333ns, wraps every 439804651109s [ 0.008693] Console: colour dummy device 80x25 ``` éƒ½å¯ä»¥åœ¨å¯åŠ¨å†…æ ¸åŽï¼Œå¯ä»¥æ›¿æ¢è®¾å¤‡æ ‘ DTB æ–‡ä»¶ã€OpenSBI å›ºä»¶ã€å†…æ ¸é•œåƒæ–‡ä»¶ Image ç­‰æ–‡ä»¶ï¼Œå®ƒä»¬ä½äºŽ `/boot/` ç›®å½•ä¸‹ï¼š ```shell sipeed@lpi4a:~$ ls /boot/ Image light lpi4a.dtb System.map 5.10.113 g387b6863253c dirty light_aon_fpga.bin config 5.10.113 g387b6863253c dirty light_c906_audio.bin fw_dynamic.bin vmlinuz 5.10.113 g387b6863253c dirty kernel commitid ``` ## æ‰¹é‡çƒ§å½• å¦‚æžœä½ æœ‰å•†ä¸šéœ€æ±‚ï¼Œéœ€è¦æ‰¹é‡çƒ§å½•å›ºä»¶ï¼Œå¯ä»¥ä½¿ç”¨ sipeed æä¾›çš„ ARM/RV ç‰ˆ fastboot åˆ¶ä½œç¦»çº¿æ‰¹é‡çƒ§å½•å™¨ã€‚ å¦‚æžœä½ éœ€è¦çƒ§å½•çš„æ•°é‡å¾ˆå¤§ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥è”ç³» support@sipeed.comï¼Œæˆ‘ä»¬æä¾›é¢„çƒ§å½•é•œåƒæœåŠ¡ã€‚"},"/hardware/zh/lichee/th1520/lpi4a/9_benchmark.html":{"title":"CPU è·‘åˆ†æµ‹è¯•","content":" title: CPU è·‘åˆ†æµ‹è¯• keywords: Linux, Lichee, TH1520, SBC, RISCV, benchmark update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## Dhrystone å¹³å¤´å“¥å®˜æ–¹æ•°æ®ï¼ŒC910 ä¸º 5.6 åˆ†å·¦å³ã€‚ ![dmips](./assets/benchmark/dmips.png) ## CoreMarks æµ‹è¯•å‚æ•°é…ç½®ï¼š ` funroll all loops finline limit 500 fgcse sm fno schedule insns msignedness cmpiv fno code hoisting mno thread jumps1 mno iv adjust addr cost mno expand split imm` æµ‹è¯•ç»“æžœï¼ˆ1.85GHzï¼‰ï¼š ```txt 2K performance run parameters for coremark. CoreMark Size : 666 Total ticks : 15129 Total time (secs): 15.129000 Iterations/Sec : 13219.644392 Iterations : 200000 Compiler version : GCC10.4.0 Compiler flags : O2 march rv64gv0p7_zfh_xtheadc O3 funroll all loops finline limit 500 fgcse sm fno schedule insns msignedness cmpiv fno code hoisting mno thread jumps1 mno iv adjust addr cost mno expand split imm DPERFORMANCE_RUN 1 lrt Memory location : Please put data memory location here (e.g. code in flash, data on heap etc) seedcrc : 0xe9f5 [0]crclist : 0xe714 [0]crcmatrix : 0x1fd7 [0]crcstate : 0x8e3a [0]crcfinal : 0x4983 Correct operation validated. See README.md for run and reporting rules. CoreMark 1.0 : 13219.644392 / GCC10.4.0 O2 march rv64gv0p7_zfh_xtheadc O3 funroll all loops finline limit 500 fgcse sm fno schedule insns msignedness cmpiv fno code hoisting mno thread jumps1 mno iv adjust addr cost mno expand split imm DPERFORMANCE_RUN 1 lrt / Heap lrt / Heap ``` ![coremarks](./assets/benchmark/coremarks.png) ## Geekbench5 > æ³¨ï¼šè¿™é‡Œçš„æµ‹è¯•ä½¿ç”¨å…¬ç‰ˆå·¥å…·é“¾ï¼Œè‹¥ä½¿ç”¨theadä¸“ç”¨å·¥å…·é“¾ï¼Œæ€§èƒ½é¢„è®¡å¯æå‡50%ä»¥ä¸Š ![geekbench5](./assets/benchmark/geekbench5.png) https://browser.geekbench.com/v5/cpu/compare/21100603?baseline 21092115 ## 7 Zip LZMA [7 Zip LZMA Benchmark](https://7 cpu.com/) ![7z](./assets/benchmark/7z.png) ## OpenSSL ```bash openssl speed evp aes 256 cbc openssl speed evp aes 256 gcm openssl speed evp sha1 openssl speed evp sha256 ``` type 16bytes 64bytes 256bytes 1024bytes 8192bytes 16384bytes <p style \"white space:nowrap\">AES 256 CBC</p> 29206.05k 36957.73k 39648.85k 40407.72k 40624.13k 40768.21k <p style \"white space:nowrap\">AES 256 GCM</p> 24610.57k 28191.29k 29459.29k 29727.06k 29911.72k 29949.95k <p style \"white space:nowrap\">sha1</p> 9428.03k 30591.02k 72920.06k 113164.63k 135271.77k 137052.16k <p style \"white space:nowrap\">sha256</p> 6206.94k 17151.38k 34806.19k 47151.10k 52559.87k 53163.07k ## LLVM TODO ## å…¶å®ƒ æ¬¢è¿ŽæŠ•ç¨¿ï½ž æŠ•ç¨¿æŽ¥å—åŽå¯å¾—ï¿¥5ï½ž150ï¼ˆ$1~20ï¼‰ä¼˜æƒ åˆ¸ï¼"},"/hardware/zh/lichee/th1520/lpi4a/11_credits.html":{"title":"è‡´è°¢","content":" title: è‡´è°¢ keywords: Linux, Lichee, TH1520, SBC, RISCV, credits update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs æœ¬ç« èŠ‚ä¸“é—¨å‘ LicheePi 4A ä½œå‡ºè´¡çŒ®çš„ä¸ªäººå’Œå›¢ä½“è‡´è°¢ï¼ æ„Ÿè°¢ä½ ä»¬çš„è´¡çŒ®è®© RISC V å‘å±•å¾—æ›´å¿«æ›´å¥½ï¼ ï¼ˆæœ¬æ–‡æŒ‰ä¸ªäººæ„æ„¿ä»¥çœŸåæˆ–è€…ç½‘åè¿›è¡Œè‡´è°¢ï¼‰ ## çŸ½é€Ÿ æ³½ç•”ï¼Œé˜”çˆ·ï¼Œç€šå®ï¼Œwonderï¼Œztdï¼Œ... ## å¹³å¤´å“¥ æ˜¥å¼ºï¼Œé™ˆç‚œï¼Œç©†å‘ˆï¼Œé™†æ–Œï¼Œ... ç‰¹åˆ«æ„Ÿè°¢ é™†æ–Œ åŒå­¦çš„å…¨ç¨‹æ²Ÿé€šï¼ ## PLCT Wu Weiï¼šæ„Ÿè°¢å´è€æ¿å¤§åŠ›æ”¯æŒï¼è€æ¿å¤§æ°”ï¼ [Icenowy Zheng](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?qt author&q Icenowy+Zheng)ï¼šå†°æ¿€å‡Œï¼Œæ°¸è¿œçš„ç¥žï¼Œæ‰‹æ‰“ binary patchï¼ŒçœŸäººå¿«æ‰“ï¼ é«˜æ¶µï¼šrevyosä¹‹çˆ¶ï¼ Estela ad Astraï¼šé¢„è®¢ OpenWRTï¼ ## å¼€æºç¤¾åŒº [Jisheng Zhang](https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?qt author&q Jisheng+Zhang): TH1520 ä¸»çº¿åŒ–æ”¯æŒ èŒƒæ–‡æ·ï¼šWine CE ä½œè€…ï¼Œåœ¨ LPi4A ä¸Šè¿›è¡Œç›¸å…³ç§»æ¤æµ‹è¯•ã€‚"},"/hardware/zh/lichee/th1520/lpi4a/7_develop.html":{"title":"ç³»ç»Ÿå¼€å‘","content":" title: ç³»ç»Ÿå¼€å‘ keywords: Linux, Lichee, TH1520, SBC, RISCV, Kernel, SDK, Develop update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## Yocto Linux TH1520 çš„å®˜æ–¹å¼€å‘çŽ¯å¢ƒæ˜¯å¹³å¤´å“¥çš„åŸºäºŽ yocto çš„å¼€å‘çŽ¯å¢ƒï¼Œå¤§å®¶å¯ä»¥åœ¨è¿™é‡ŒèŽ·å–å¼€å‘çŽ¯å¢ƒï¼š https://gitee.com/thead yocto/ æœ¬èŠ‚ç®€å•ä»‹ç»å¦‚ä½•æ­å»º Linux Yocto çŽ¯å¢ƒå¹¶ä½¿ç”¨ Yocto æž„å»ºå¯åœ¨å¼€å‘æ¿ä¸Šè¿è¡Œçš„å®Œæ•´é•œåƒã€‚ ### æ­å»ºYoctoç¼–è¯‘çŽ¯å¢ƒ Linux SDK ä½¿ç”¨ Yocto æž„å»ºé•œåƒã€‚Yocto ç¼–è¯‘çŽ¯å¢ƒä½¿ç”¨ Ubuntu18.04ï¼ŒæŽ¨èåœ¨ Linux ä¸Šä½¿ç”¨ Docker éƒ¨ç½²,ä¹Ÿå¯ç›´æŽ¥åœ¨ Ubuntu18.04 ä¸‹æ­å»ºçŽ¯å¢ƒï¼ˆè§[T Headæ›³å½±1520Yoctoç”¨æˆ·æŒ‡å—.pdf](https://gitee.com/thead yocto/documents/blob/master/zh/user_guide/T Head%E6%9B%B3%E5%BD%B11520Yocto%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97.pdf)2.2ï¼‰ã€‚ è¿™é‡Œä»…ä»‹ç» Linux ä¸Šä½¿ç”¨ Docker éƒ¨ç½²çš„æ–¹å¼ã€‚**å»ºè®®ç¼–è¯‘æœºå™¨é¢„ç•™200Gç£ç›˜ç©ºé—´ï¼Œå†…å­˜ä¸º4Gä»¥ä¸Šï¼Œç¼–è¯‘æ—¶é—´å› ç½‘ç»œæƒ…å†µå·®å¼‚å¾ˆå¤§ï¼Œåœ¨ä½¿ç”¨ä»£ç†çš„æƒ…å†µä¸‹ç¼–è¯‘å…¸åž‹linuxç³»ç»Ÿé…ç½®ï¼ˆæœ€å°ç³»ç»ŸåŠ ä¸Šå¿…è¦çš„ç›¸å…³åŸºç¡€ç»„ä»¶ï¼‰æ—¶é—´çº¦ä¸º1.5hï¼ˆCPUä¸ºi5 11400ï¼Œæ—¶é—´ä¾›å‚è€ƒï¼‰**ã€‚ ä½¿ç”¨å®˜æ–¹è„šæœ¬å®‰è£… docker \t```bash \tcurl fsSL https://get.docker.com bash s docker mirror Aliyun \t``` ä¸‹è½½ dockerfile å¹¶ä¿®æ”¹ç”¨æˆ·åå’Œ ID \tç‚¹å‡»ä¸‹è½½ [linux dev master.7z](https://gitee.com/thead yocto/documents/blob/master/linux dev master.7z) å¹¶è§£åŽ‹åŽï¼Œè¿›å…¥åˆ° `linux dev master` ç›®å½•ï¼Œæ‰“å¼€ `Dockerfile`ï¼Œæ‰¾åˆ°å¦‚ä¸‹è¯­å¥ \t```bash \tENV DOCKER_USER2 \"your the same user name asyour host\"` \tENV USER2_ID \"your user id\" \t``` \tå°† \"your the same user name asyour host\" æ”¹ä¸ºç”¨æˆ· host os çš„ç”¨æˆ·åï¼Œ\"your user id\" çš„å€¼å¯¹åº”è¯¥ç”¨æˆ·çš„å¯†ç ã€‚ æž„å»º docker é•œåƒçŽ¯å¢ƒ \t```bash \tdocker build t linux dev base:base . \t``` \tè¿™é‡Œä¸‹è½½çš„è½¯ä»¶åŒ…çš„æ—¶å€™å¯èƒ½ä¼šæœ‰äº›æŠ¥é”™ï¼Œå¯ä»¥åœ¨ Dockerfile ä¸­è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼Œç­‰åˆ°åˆ›å»ºå¥½ docker åŽç™»å½•åˆ° docker ä¸­å†è¿›è¡Œä¸‹è½½ã€‚è¿™ä¸ª docker é•œåƒå¯ä»¥ç¼–è¯‘ thead å‘å¸ƒçš„ buildrootã€yocto ç­‰ Linux SDKã€‚é»˜è®¤å¯†ç ä¸º `123`ã€‚ å¯åŠ¨ docker \t```bash \tdocker run u thead dt name linux dev {your_name} v {your_lock_home}:{your_home} linux dev base:base /bin/bash \t``` \t{your_name} ä¸ºå®¹å™¨åç§°ï¼Œèµ·åæ—¶ä¸è¦é‡åã€‚ \té€šè¿‡ v é€‰é¡¹å¯ä»¥æŒ‚è½½å®¿ä¸»æœºçš„ç›®å½•ï¼Œèµ·åˆ°ç±»ä¼¼å…±äº«æ–‡ä»¶çš„ä½œç”¨ï¼Œ{your_lock_home} ä¸ºå®¿ä¸»æœºçš„æœ¬åœ°è·¯å¾„ï¼Œ{your_home} ä¸ºæŒ‚è½½åœ¨ docker é‡Œçš„è·¯å¾„ã€‚ æŸ¥çœ‹å¯åŠ¨çš„ docker å®¹å™¨ \t```bash \tdocker ps grep linux dev base \t``` å°±èƒ½å¤Ÿçœ‹åˆ°åˆšåˆšå¯åŠ¨çš„ docker å®¹å™¨ã€‚ ç™»å½• docker \t```bash \tdocker exec it linux dev {your_name} /bin/bash \t``` ä¸‹è½½å¼€æºè½¯ä»¶åŒ…ï¼ˆä»…åœ¨ç¬¬ä¸€æ¬¡èŽ·å– SDK æ—¶æ‰éœ€è¦ä¸‹è½½ï¼‰ \tæž„å»ºå›ºä»¶æ—¶ä¼šä»Žç½‘ä¸Šä¸‹è½½å¼€æºè½¯ä»¶åŒ…ï¼Œè‹¥ç½‘ç»œè¾ƒå·®ï¼Œä¸‹è½½æ—¶é—´ä¼šæ¯”è¾ƒé•¿ã€‚ä¸ºäº†åŠ é€Ÿè¿™ä¸€è¿‡ç¨‹ï¼Œå¯ä»¥å…ˆåˆ° gitee ä¸‹è½½ç¦»çº¿å¼€æºè½¯ä»¶åŒ…ï¼ˆå‡è®¾ä¸‹è½½åˆ°ç”¨æˆ·ç›®å½•ï¼‰ \t```bash \tcd ~ \tgit clone https://gitee.com/thead yocto/yocto downloads.git \t``` ä¸‹è½½ Yocto æž„å»ºåŒ… \t```bash \tgit clone https://gitee.com/thead yocto/xuantie yocto.git b Linux_SDK_V1.1.2 \t``` åŠ è½½ç›®æ ‡è®¾å¤‡çš„é…ç½®æ–‡ä»¶å’ŒçŽ¯å¢ƒå˜é‡ï¼ˆç¼–è¯‘å‰è®°å¾—æ£€æŸ¥æ˜¯å¦åŠ è½½ï¼‰ \t```bash \tcd xuantie yocto \tsource openembedded core/oe init build env thead build/light fm \t``` å°†å‰é¢ä¸‹è½½çš„å¼€æºè½¯ä»¶åŒ…é€šè¿‡å…±äº« downloads ç›®å½•çš„æ–¹å¼è½¯é“¾æŽ¥åˆ° SDK ç›®å½• \t```bash \tln s ~/yocto downloads ../downloads \t``` è‡³æ­¤ï¼Œæ­å»ºçŽ¯å¢ƒå·²ç»å®Œæˆã€‚ ### Machine/Targetæ”¯æŒåˆ—è¡¨ åœ¨ä¸Šé¢çš„åŠ è½½çŽ¯å¢ƒå˜é‡æ­¥éª¤ä¸­ï¼Œè®¾ç½®å®ŒæˆåŽå¯çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ ```bash ### Shell environment set up for builds. ### You can now run 'bitbake <target>' Common targets are: thead image linux thead image multimedia thead image gui machines: light beagle light b product light a val light lpi4a ``` ç›¸å…³è¯´æ˜Žå¦‚ä¸‹ targetï¼ˆSDK æ”¯æŒçš„é•œåƒåˆ—è¡¨ï¼‰ï¼š å‘½åæè¿° thead image linuxå…¸åž‹linuxç³»ç»Ÿé…ç½®ï¼Œæœ€å°ç³»ç»ŸåŠ ä¸Šå¿…è¦çš„ç›¸å…³åŸºç¡€ç»„ä»¶ thead image multimediaå…¸åž‹linuxç³»ç»Ÿ+è§†é¢‘è§†è§‰é…ç½®ï¼ŒåŠ ä¸Šè§†é¢‘å­ç³»ç»Ÿçš„ç»„ä»¶ï¼ˆGstreamerç­‰ï¼‰ thead image guiåŠ ä¸ŠGUIç›¸å…³ç»„ä»¶çš„å®Œæ•´é…ç½®ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬Gnomeæ¡Œé¢ã€westonã€QTç­‰åº”ç”¨ç»„ä»¶ç­‰ç­‰ machinesï¼ˆSDK æ”¯æŒçš„æ¿çº§é…ç½®ï¼‰ï¼š å‘½åæè¿° light a valTH1520 A EVBæ¿ light b productTH1520 B EVBæ¿ light beaglebeagleV Aheadå¼€å‘æ¿ light lpi4aLichee Pi 4Aå¼€å‘æ¿ ### æž„å»ºé•œåƒ æž„å»ºå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š ```bash MACHINE {machine} bitbake {target} ``` å°†å…¶ä¸­çš„ {machine} å’Œ {target} éƒ¨åˆ†æ›¿æ¢ä¸ºä¸Šé¢ä¸¤ä¸ªè¡¨æ ¼ä¸­å¯¹åº”çš„å‘½åå³å¯ã€‚ä¾‹å¦‚ï¼Œç¼–è¯‘ä¸€ä¸ªåœ¨ LicheePi 4A å¼€å‘æ¿ä¸Šè¿è¡Œçš„å…¸åž‹ Linux é•œåƒçš„å‘½ä»¤å¦‚ä¸‹ï¼š ```bash MACHINE light lpi4a bitbake thead image linux ``` #### æž„å»ºé•œåƒæ—¶å¯èƒ½ä¼šå‡ºçŽ°çš„é—®é¢˜ ç”±äºŽç½‘ç»œåŽŸå› ï¼Œè¿™ä¸€æ­¥å¯èƒ½ä»ä¼šå‡ºçŽ°ä¸‹è½½å¤±è´¥æˆ–ä¸‹è½½å¾ˆæ…¢çš„æƒ…å†µï¼Œæœ‰æ¡ä»¶çš„è¯æŽ¨èä½¿ç”¨ä»£ç†ã€‚ æŠ¥é”™ä¿¡æ¯ \t```bash \tPlease use a locale setting which supports utf 8. \tPython can't change the filesystem locale after loading so we need a utf 8 when python starts or things won't work. \t``` \té¦–å…ˆè¿è¡Œå¦‚ä¸‹å‘½ä»¤ \t```bash \tsudo apt get install locales \tsudo dpkg reconfigure locales \t``` \tç„¶åŽåœ¨æ‰“å°å‡ºæ¥çš„åˆ—è¡¨ä¸­æ‰¾åˆ°`en_US.UTF8`è¿™ä¸€é¡¹ï¼ˆå¤§æ¦‚åœ¨ç¬¬158é¡¹ï¼‰,è¾“å…¥è¿™ä¸€é¡¹å¯¹åº”çš„åºå·åŽå›žè½¦ï¼ŒæŽ¥ä¸‹æ¥ä¹Ÿé€‰æ‹©è¿™ä¸€é¡¹åŽå›žè½¦ã€‚ \tå®Œæˆä¸Šè¿°è®¾ç½®æ­¥éª¤åŽæŽ¥ç€è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ˆä¹Ÿå¯è€ƒè™‘å°†ä¸‹é¢çš„å‘½ä»¤åŠ å…¥åˆ°dockerçš„`.bashrc`ä¸­ï¼‰ \t```bash \tsudo locale gen en_US.UTF 8 \tsudo update locale LC_ALL en_US.UTF 8 LANG en_US.UTF 8 \texport LANG en_US.UTF 8 \t``` \tå®Œæˆä¸Šè¿°æ­¥éª¤åŽå†ç¼–è¯‘å°±ä¸ä¼šå‡ºçŽ°åŽŸæ¥çš„æŠ¥é”™ã€‚ æŠ¥é”™ä¿¡æ¯ \t```bash \tplease install them in order to proceed: lz4c pzstd zstd \t``` \tå®‰è£…å¯¹åº”çš„ä¾èµ–å³å¯ \t```bash \tsudo apt update && sudo apt install y zstd liblz4 tool \t``` ### é•œåƒæ‰“åŒ… åœ¨ [light_deploy_images](https://gitee.com/thead yocto/light_deploy_images/tree/master/tarball) ä»“åº“ä¸­ï¼ŒåŒ…å«äº†ä¸€äº›é¢„å‘å¸ƒé•œåƒã€‚å¯¹äºŽåˆšåˆšç¼–è¯‘å¥½çš„é•œåƒï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªä»“åº“ä¸­çš„ `sdk.sh` è„šæœ¬æ¥è¿›è¡Œæ‰“åŒ…ã€‚ é¦–å…ˆåˆ‡æ¢åˆ°å·²ç»ç¼–è¯‘å¥½çš„é•œåƒä¸­çš„ `light fm` ç›®å½•ä¸‹ï¼Œå°†è¯¥ä»“åº“ä¸­çš„ `sdk.sh` ç§»åŠ¨åˆ°è¿™é‡Œå³å¯ã€‚ç›´æŽ¥è¿è¡Œè¯¥è„šæœ¬ `./sdk.sh` å³å¯ï¼Œæ‰“åŒ…åŽä¼šç”Ÿæˆç›¸åº”çš„é•œåƒï¼Œç›¸åº”æ–‡ä»¶çš„ä½ç½®ä»¥åŠé•œåƒç›®å½•çš„ç»“æž„å‚è€ƒ [light_deploy_images](https://gitee.com/thead yocto/light_deploy_images/tree/master/tarball) ä»“åº“ã€‚ æœ€åŽï¼Œå¯ä»¥å°† docker ç¼–è¯‘å¥½çš„é•œåƒåŠç›¸å…³æ–‡ä»¶å¤åˆ¶åˆ°å…ˆå‰é€šè¿‡ v é€‰é¡¹æŒ‚è½½çš„å…±äº«æ–‡ä»¶å¤¹ä¸­ï¼Œå®¿ä¸»æœºå³å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¿›è¡Œçƒ§å½•ã€‚ åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç¼–è¯‘å’Œæ‰“åŒ…ï¼Œå¾—åˆ°äº†ä¸€ä¸ªå¯ä»¥çƒ§å½•åˆ°å¼€å‘æ¿ä¸­è¿è¡Œçš„é•œåƒã€‚ ### å•ç‹¬ç¼–è¯‘ å¦‚ä½•å•ç‹¬ç¼–è¯‘theadå®˜æ–¹å‘å¸ƒçš„ç»„ä»¶ OpenSBI Uboot \t```bash \tgit clone https://gitee.com/thead yocto/u boot \tcd u boot \tmake CROSS_COMPILE riscv64 unknown linux gnu ARCH riscv light_lpi4a_defconfig \tmake CROSS_COMPILE riscv64 unknown linux gnu ARCH riscv \t``` \tç”Ÿæˆçš„å›ºä»¶è·¯å¾„ä¸ºï¼Œu boot with spl.binï¼Œå¯ä½¿ç”¨fastbootè¿›è¡Œçƒ§å½• Kernel ### è®¾å¤‡æ ‘è§£æž TODO ### å…¶ä»–å‚è€ƒèµ„æ–™ **light_deploy_images ä»“åº“ï¼š** åŒ…å«å·²ç»æž„å»ºå¥½å¯çƒ§å½•çš„ Linux Imageï¼Œæ‰“åŒ…é•œåƒè„šæœ¬ä»¥åŠå…¶ä»–ç›¸å…³å·¥å…·ï¼Œè¯¦è§ä»“åº“ã€‚ ä»“åº“åœ°å€ï¼š[https://gitee.com/thead yocto/light_deploy_images](https://gitee.com/thead yocto/light_deploy_images) **documents ä»“åº“ï¼š** åŒ…å«æ‰€æœ‰å‘å¸ƒçš„ SDK ç›¸å…³æ–‡æ¡£ ä»“åº“åœ°å€ï¼š[https://gitee.com/thead yocto/documents](https://gitee.com/thead yocto/documents) ## Mainline å¦‚ä½•ä½¿ç”¨ä¸»çº¿æ­£åœ¨å¼€å‘çš„ç‰ˆæœ¬ ### OpenSBI ä¸‹è½½ï¼Œç¼–è¯‘ ```bash \tgit clone https://github.com/riscv software src/opensbi \tcd opensbi \tmake CROSS_COMPILE riscv64 unknown linux gnu PLATFORM generic \t``` \tç”Ÿæˆçš„å›ºä»¶è·¯å¾„ä¸ºï¼Œbuild/platform/generic/firmware/fw_dynamic.binï¼Œæ‹·è´åˆ°/boot/ ### U boot ä¸‹è½½ï¼Œç¼–è¯‘ \t```bash \tgit clone b th1520 https://github.com/dlan17/u boot.git \tcd u boot \tmake CROSS_COMPILE riscv64 unknown linux gnu ARCH riscv light_lpi4a_defconfig \tmake CROSS_COMPILE riscv64 unknown linux gnu ARCH riscv \t``` \tç”Ÿæˆçš„å›ºä»¶è·¯å¾„ä¸ºï¼Œu boot dtb.binï¼Œæ‹·è´åˆ°/boot/ ä½¿ç”¨æ¿è½½çš„ U boot å¯åŠ¨ä¸»çº¿å¼€å‘ä¸­çš„ U boot \tå¼€å‘æ¿å†…é¢„çƒ§å½•çš„ U boot å·²ç»åŒ…å« Ethernet åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ tftp åè®®èŽ·å–æ–° U boot é•œåƒã€‚ \tåœ¨å¼€å‘æœºå¯åŠ¨ä¸€ tftp å®žä¾‹ï¼Œä»¥ Alpine ä¸ºä¾‹ï¼Œå®‰è£…åŒ… `tftp hpa` å¹¶å¯ç”¨ç›¸åº”æœåŠ¡ \t```bash \tapk add tftp hpa \trc update add in.tftp \trc service in.tftp start \t``` \ttftp é»˜è®¤ä½¿ç”¨ `/var/tftpboot` ä½œä¸ºæ–‡ä»¶æ ¹ç›®å½•ï¼Œå°†ç¼–è¯‘å¥½çš„ U boot `u boot dtb.bin` æ‹·è´åˆ° `/var/tftpboot`ã€‚ \tè¿žæŽ¥å¥½ LicheePi 4A å¼€å‘ç‰ˆçš„ä¸²å£å’Œç½‘çº¿ï¼Œä¸Šç”µå¯åŠ¨å¹¶åœ¨ä¸²å£æ˜¾ç¤º \t``` \tPress any key to stop autoboot \t``` \tæ—¶æŒ‰ä»»æ„é”®åœæ­¢è‡ªåŠ¨å¯åŠ¨è¿›å…¥ U boot Shellã€‚ \tè¾“å…¥ `dhcp` ä½¿ç”¨ DHCP åè®®é…ç½®ç½‘å¡ã€‚å¼€å‘ä¸­çš„ä¸»çº¿ U boot åŠ è½½åœ°å€ä¸º 0x1c00000ï¼Œåœ¨ U boot è¾“å…¥ \t``` \ttftp 0x1c00000 TFTP_SERVER_IP:u boot dtb.bin \tgo 0x1c00000 \t``` \tå°† U boot è½½å…¥ 0x1c00000 åœ°å€å¹¶è·³è½¬å¯åŠ¨ä¹‹ã€‚ ### Linux ## Others æ¬¢è¿ŽæŠ•ç¨¿ï½ž æŠ•ç¨¿æŽ¥å—åŽå¯å¾—ï¿¥5ï½ž150ï¼ˆ$1~20ï¼‰ä¼˜æƒ åˆ¸ï¼"},"/hardware/zh/lichee/th1520/lpi4a/usage.html":{"title":"LicheePi 4A åŸºç¡€ä¸Šæ‰‹","content":"# LicheePi 4A åŸºç¡€ä¸Šæ‰‹ ## éœ€è¦çš„é…ä»¶ ä¸ºäº†æ›´å®¹æ˜“åœ°ä½¿ç”¨ LicheePi 4Aï¼Œéœ€è¦å‡†å¤‡ä»¥ä¸‹çš„é…ä»¶: HDMI æ˜¾ç¤ºå™¨ï¼Œæˆ–è€…ä¸Ž LicheePi 4A æ‹å¥—å”®å–çš„æ˜¾ç¤ºå±ï¼›å›¾å½¢åŒ–æ“ä½œç³»ç»Ÿå¾ˆæ–¹ä¾¿æ“ä½œã€‚ é”®ç›˜å’Œé¼ æ ‡ï¼›ç”¨æ¥æ“ä½œå›¾å½¢åŒ–ç³»ç»Ÿã€‚ ç”µæºé€‚é…å™¨ï¼›æœ€å¥½è´­ä¹°ä¸Ž LicheePi 4A é…å¥—çš„ç”µæºé€‚é…å™¨ï¼›è¿™ä¼šç»™ LicheePi 4A æä¾›è¶³å¤Ÿçš„ä¾›ç”µã€‚ ## çƒ§å½•ç³»ç»Ÿ ### èŽ·å–é•œåƒ ç™¾åº¦ç½‘ç›˜ï¼š[ç‚¹æˆ‘](https://pan.baidu.com/s/1jnjz0KO_xnO5R8tWlXtx0A) ### çƒ§å½•ç³»ç»Ÿ çƒ§å½•é•œåƒéœ€è¦ä½¿ç”¨ å‚è€ƒï¼šhttps://gitee.com/thead yocto/light_deploy_images ## ä¸²å£ç™»å½• 20230423 è®°å½•: > å½“å‰å›¾å½¢åŒ–ç³»ç»Ÿæ˜¾ç¤ºé©±åŠ¨æœ‰ä¸€äº›é—®é¢˜ï¼Œå…ˆä½¿ç”¨ä¸²å£ç™»å½•åˆ°ç³»ç»ŸåŽï¼Œåˆ é™¤ `/lib/libGLESv1_CM_PVR_MESA.so` å’Œ`/lib/libGLESv2_PVR_MESA.so` ä¸¤ä¸ªæ–‡ä»¶åŽï¼Œå¯ä»¥æµç•…çš„ä½¿ç”¨å›¾å½¢åŒ–ç³»ç»Ÿäº† ä½¿ç”¨ä¸²å£è¿žæŽ¥ä¸Šåº•æ¿ä¸Š GPIO çš„ `U0 RX` å’Œ `U0 TX`ï¼Œç„¶åŽæ‰“å¼€ä¸²å£è½¯ä»¶ï¼Œ`Windows` ä¸Šå¯ä»¥ä½¿ç”¨ `mobaxterm`ï¼Œ`Linux` ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ `minicom`ã€‚ è®¾ç½®æ³¢ç‰¹çŽ‡ `115200` åŽæ‰“å¼€é€‰æ‹©å¹¶æ‰“å¼€è¿žæŽ¥åœ¨ç”µè„‘ä¸Šçš„ä¸²å£ç«¯å£ï¼Œç„¶åŽåœ¨æ‰“å¼€ä¸²å£åŽçš„ç»ˆç«¯é‡Œå¯ä»¥æ•²å‡»å‡ æ¬¡ **å›žè½¦é”®** æ¥çœ‹çœ‹ç»ˆç«¯æœ‰æ²¡æœ‰ååº”. ![usage_serial_login_test](./assets/usage/usage_serial_login_test.png) å¦‚æžœæ²¡æœ‰ååº”ï¼š 1. æ£€æŸ¥ Lichee Pi 4A çš„ä¾›ç”µæƒ…å†µï¼›å¦‚æžœåº•æ¿ TypeC é™„è¿‘çš„ LED äº®èµ·æ¥ï¼Œè¯´æ˜Žä¾›ç”µæ­£å¸¸ã€‚ 2. æ£€æŸ¥ä¸²å£å¼•è„šæŽ¥çº¿æƒ…å†µï¼›å¯ä»¥æ›´æ¢ `TX` å’Œ `RX` æŽ¥çº¿æ¥å°è¯•æŽ’é™¤ä¸²å£æŽ¥çº¿é”™è¯¯å¯¼è‡´ä¸²å£ä¸èƒ½æ­£å¸¸é€šä¿¡çš„æƒ…å†µ 3. æ£€æŸ¥ç³»ç»Ÿçƒ§å½•æƒ…å†µï¼›åœ¨åº•æ¿ TypeC æŽ¥å£ä¸Žå¤©çº¿æŽ¥å£ä¹‹é—´æœ‰ä¸€ä¸ªå¤ä½æŒ‰é”®ï¼Œå°è¯•æŒ‰ä¸‹åŽå¯ä»¥ä»Žä¸²å£ç»ˆç«¯ä¸­å¼€åˆ°å¯åŠ¨ä¿¡æ¯æ—¥å¿—ï¼›å¤šæ¬¡é‡å¯è¯´æ˜Žç³»ç»Ÿæœ‰ç¼ºå¤±ï¼Œéœ€è¦é‡æ–°çƒ§å½•é•œåƒã€‚ è¾“å…¥ç”¨æˆ·å `root`ï¼Œå¯†ç  `sipeed` å°±å¯ä»¥ç™»å½•è¿›ç³»ç»Ÿäº†ã€‚ ç™»å½•ç³»ç»ŸåŽï¼Œä½¿ç”¨ `rm /lib/libGLESv1_CM_PVR_MESA.so` å’Œ`rm /lib/libGLESv2_PVR_MESA.so` å‘½ä»¤æ¥åˆ é™¤ä¸¤å¤„æ–‡ä»¶ï¼Œæš‚æ—¶è§£å†³å›¾å½¢åŒ–ç³»ç»Ÿå¡é¡¿çš„æƒ…å†µã€‚ ![usage_login_remove_gpu_file](./assets/usage/usage_login_remove_gpu_file.png) ## ç™»å½•ç³»ç»Ÿ å°† Lichee Pi 4A è¿žæŽ¥ä¸Šæ˜¾ç¤ºå™¨åŽï¼Œå¯ä»¥çœ‹åˆ°å›¾å½¢åŒ–äº¤äº’ç•Œé¢äº†ã€‚ åœ¨ç™»å½•ç•Œé¢ï¼Œè¾“å…¥ç”¨æˆ·å `root`ï¼Œå¯†ç  `sipeed` å°±å¯ä»¥ç™»å½•è¿›ç³»ç»Ÿäº†ã€‚ > 2023 å¹´ 4 æœˆ 25 æ—¥æ›´æ–°é•œåƒçš„ç™»å½•å¯†ç ä¸º `licheepi` ![usage_login_userpasserward](./assets/usage/usage_login_userpasserward.png) ## æ‰“å¼€å‘½ä»¤è¡Œ åœ¨ Lichee Pi 4A çš„ Debian å›¾å½¢åŒ–ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨å¿«æ·é”® `Ctrl` + `Alt` + `T` ä¸‰ä¸ªç»„åˆé”®å¯ä»¥ç›´æŽ¥æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ¥å¿«é€Ÿæ–¹ä¾¿åœ°æ“ä½œç³»ç»Ÿã€‚ ![usage_debian_terminal_shell_hotkey](./assets/usage/usage_debian_terminal_shell_hotkey.png) ## æŽ§åˆ¶é£Žæ‰‡ åœ¨ Lichee Pi 4A ä¸Šï¼Œé£Žæ‰‡æ˜¯é€šè¿‡ PWM æ¥æŽ§åˆ¶çš„ï¼Œä½¿ç”¨ ## è¿žæŽ¥ç½‘ç»œ ### è¿žæŽ¥æœ‰çº¿ç½‘ç»œ Lichee Pi 4A ç”±ä¸¤ä¸ªåƒå…†ç½‘ç»œæŽ¥å£ï¼›å°†å·²ç»æŽ¥é€šç½‘ç»œçš„ç½‘çº¿æ’å…¥åˆ° Lichee Pi 4A çš„ç½‘ç»œæŽ¥å£ä¸­èŠ‚èƒ½å®žçŽ°è¿žæŽ¥æœ‰çº¿ç½‘ç»œäº†ã€‚ <table> <tr> <td>æ’ä¸Šç½‘çº¿ä¹‹å‰</td> <td>æ’ä¸Šç½‘çº¿ä¹‹åŽ</td> </tr> <tr> <td><img src \"./assets/usage/usage_debian_ethernet_port_disconnect_one.png\" alt \"usage_debian_ethernet_port_connect_one\"></td> <td><img src \"./assets/usage/usage_debian_ethernet_port_connect_one.png\" alt \"usage_debian_ethernet_port_connect_one\"></td> </tr> <tr> <td colspan 2> ä¸Šé¢ä¸¤å¼ å›¾å¯¹æ¯”å¯ä»¥çœ‹åˆ°ï¼šåœ¨æŽ¥ä¸Šç½‘çº¿å‰ï¼Œç³»ç»Ÿä¸­ <code>Ethernet Network</code> ä¸‹é¢æ˜¾ç¤ºç€ <code>disconnected</code>, æŽ¥ä¸Šç½‘çº¿åŽæ˜¾ç¤º <code>Wired connection </code></td> </tr> </table> ### è¿žæŽ¥æ— çº¿ç½‘ç»œ Lichee Pi 4A æ¿è½½æ— çº¿æ¨¡ç»„ï¼Œæ”¯æŒè“ç‰™å’Œ wifi ã€‚ ä»ŽçŠ¶æ€æ ä¸­çš„ `Avaliable networks` ä¸­æŸ¥çœ‹è‡ªå·±æƒ³è¦è¿žæŽ¥åˆ°çš„æ— çº¿ç½‘ç»œï¼Œè¾“å…¥å¯†ç ä¹‹åŽå°±è‡ªåŠ¨è¿žæŽ¥ä¸Šäº†ã€‚ <table> <tr> <td colspan 2><img src \"./assets/usage/usage_debian_select_wireless_network.png\" alt \"usage_debian_select_wireless_network\"></td> </tr> <tr> <td><img src \"./assets/usage/usage_debian_wireless_network_password.png\" alt \"usage_debian_wireless_network_password\"></td> <td><img src \"./assets/usage/usage_debian_wireless_network_connected.png\" alt \"usage_debian_wireless_network_connected\"></td> </tr> </table> åœ¨è¾“å…¥å¯†ç çš„å¼¹å‡ºçª—å£ä¸­ï¼Œ`Wi Fi adapter` ä¸­çš„ä¸¤ä¸ªé€‰é¡¹éƒ½èƒ½ç”¨æ¥é“¾æŽ¥æ— çº¿ç½‘ç»œï¼Œé€‰æ‹©ä¸€ä¸ªå³å¯ã€‚ <! ## è¿žæŽ¥è“ç‰™ > ## æµ‹è¯• USB æŽ¥å£ ä½¿ç”¨æ¡Œé¢ç³»ç»Ÿæ—¶ï¼Œé”®ç›˜é¼ æ ‡æ­£å¸¸ä½¿ç”¨å°±è¯´æ˜Ž USB æ˜¯æ­£å¸¸çš„ã€‚ å½“ç„¶ï¼Œåªæœ‰å‘½ä»¤è¡Œç»ˆç«¯æ—¶ï¼Œä½¿ç”¨ `lsusb` å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ¿å¡ä¸Šæ‰€è¿žæŽ¥çš„ USB è®¾å¤‡ã€‚ å¦‚ä¸‹å›¾ï¼Œç®­å¤´æ‰€æŒ‡çš„æ˜¯å·²ç»æŽ¥ä¸Š Lichee Pi 4A çš„é”®ç›˜ã€‚ ![usage_debian_lsusb_list_device](./assets/usage/usage_debian_lsusb_list_device.png) ## æŒ‚è½½ U ç›˜ é™¤äº†ä¸Šé¢ä½¿ç”¨ `lsusb` æ¥æŸ¥çœ‹ USB æŽ¥å£çš„è¿žæŽ¥æƒ…å†µå¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `dmesg` å‘½ä»¤æ¥æŸ¥çœ‹å†…æ ¸ä¿¡æ¯ï¼Œè¿›ä¸€æ­¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚ å°†ä¸€ä¸ª U ç›˜æ’å…¥ Lichee Pi 4A çš„ USB å£åŽï¼Œå¯ä»¥åœ¨å‘½ä»¤ç»ˆç«¯çª—å£ä½¿ç”¨ `dmesg` æŸ¥çœ‹æ¿å¡ç¡¬ä»¶å˜åŠ¨ä¿¡æ¯ã€‚ å¦‚ä¸‹æ˜¯è¿žæŽ¥ U ç›˜åŽï¼Œä½¿ç”¨ `dmesg` åœ¨å‘½ä»¤è¡Œç»ˆç«¯çœ‹åˆ°çš„æœ€æ–°ä¿¡æ¯ï¼ˆæˆªå–ï¼‰ã€‚ ![usage_debian_udisk_dmesg](./assets/usage/usage_debian_udisk_dmesg.png) ä¸Šé¢çš„ä¿¡æ¯æ˜¾ç¤ºå‡ºäº†æ¿å¡çš„å¤–è®¾æ›´æ”¹ä¿¡æ¯ï¼›ä»Žä¸­å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªå¤§å®¹é‡ USB å­˜å‚¨è®¾å¤‡è¿žæŽ¥åˆ°äº† Lichee Pi 4Aã€‚ ä½¿ç”¨å‘½ä»¤ `cat /proc/partitions grep \"sd*\"` å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ° U å†…éƒ¨çš„åˆ†åŒºä¸ªæ•° ![usage_debian_udisk_partition_detail](./assets/usage/usage_debian_udisk_partition_detail.png) ä»¥ä¸Šé¢çš„ç»“æžœä¸ºä¾‹ï¼Œå…¶ä¸­ `sda` æŒ‡ä»£çš„æ˜¯æ•´ä¸ª U ç›˜ï¼Œ`sda1` å’Œ `sda2` è¡¨ç¤ºçš„æ˜¯ U ç›˜é‡Œé¢çš„ä¸¤ä¸ªåˆ†åŒºã€‚ å…ˆåœ¨æ¡Œé¢ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åŽä½¿ç”¨ `mount` å‘½ä»¤å°† U ç›˜çš„æŸä¸€åˆ†åŒºæŒ‚è½½åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ã€‚ ```bash mkdir ~/Desktop/udisk # åœ¨æ¡Œé¢åˆ›å»ºä¸€ä¸ªåä¸º udisk çš„æ–‡ä»¶å¤¹ mount /dev/sda2 ~/Desktop/udisk # æŒ‚è½½ U ç›˜çš„ sda2 åˆ†åŒºåˆ° udisk æ–‡ä»¶å¤¹ ``` <table> <tr> <td> è¿è¡Œå‘½ä»¤å‰ </td> <td> è¿è¡Œå‘½ä»¤åŽ </td> </tr> <tr> <td style \"white space:nowrap\"><img src \"./assets/usage/usage_debian_udisk_before_mount.png\" alt \"usage_debian_udisk_before_mount\"></td> <td style \"white space:nowrap\"><img src \"./assets/usage/usage_debian_udisk_after_mount.png\" alt \"usage_debian_udisk_after_mount\"></td> </tr> <tr> <td colspan 2> è¿è¡Œå‘½ä»¤åŽæ¡Œé¢æ–°å¢žäº†ä¸€ä¸ªåä¸º udisk çš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨é¼ æ ‡åŒå‡»æ‰“å¼€ udisk æ–‡ä»¶å¤¹åŽå¯ä»¥çœ‹åˆ°æ–‡ä»¶å¤¹é‡Œé¢çš„å†…å®¹ä¸Ž U ç›˜é‡Œé¢çš„å®žé™…å†…å®¹ä¸€è‡´ <img src \"./assets/usage/usage_debian_udisk_open_folder.png\" alt \"usage_debian_udisk_open_folder\"></td> </tr> </table> ## æŒ‚è½½ TF å¡ å°† tf å¡æ’å…¥åˆ° Lichee Pi 4A åº•æ¿ï¼Œä½¿ç”¨ ## éŸ³é¢‘æµ‹è¯• ### æµ‹è¯•éŸ³é¢‘æ’­æ”¾ Lichee Pi 4A åº•æ¿ä¸Šæœ‰æ‰¬å£°å™¨æŽ¥å£å’Œ 3.5mm éŸ³é¢‘æŽ¥å£ä¸¤å¤„å¯ä»¥æ’­æ”¾éŸ³é¢‘çš„åœ°æ–¹ã€‚ è¦æ³¨æ„çš„æ˜¯ 3.5mm éŸ³é¢‘æŽ¥å£å’Œæ‰¬å£°å™¨æŽ¥å£æ˜¯äº’æ–¥çš„ï¼šæŽ¥ä¸Š 3.5mm éŸ³é¢‘è®¾å¤‡åŽï¼Œæ¿è½½çš„æ‰¬å£°å™¨æŽ¥å£æ˜¯è¢«ç¦ç”¨çš„ï¼›æ–­å¼€ 3.5mm éŸ³é¢‘è®¾å¤‡æ‰èƒ½ä½¿ç”¨æ¿è½½çš„æ‰¬å£°å™¨ã€‚ ç³»ç»Ÿå†…ç½®äº†ä¸€äº› wav éŸ³é¢‘æ–‡ä»¶ç”¨æ¥æµ‹è¯•ï¼Œç›´æŽ¥ä½¿ç”¨ `aplay` å‘½ä»¤æ¥æ’­æ”¾éŸ³é¢‘æ–‡ä»¶å°±å¯ä»¥ã€‚ ![usage_debian_list_audio_file](./assets/usage/usage_debian_list_audio_file.png) è¿è¡Œä¸‹é¢çš„å‘½ä»¤åŽï¼Œå¯ä»¥ä»Žè€³æœºå­”éŸ³é¢‘è®¾å¤‡ä¸­å¬åˆ° `Rear` `Left` ä¸¤ä¸ªå•è¯çš„å£°éŸ³ã€‚ ```bash aplay /usr/share/sounds/alsa/Rear_Left.wav ``` ## è®¾ç½®ä¸­æ–‡æ˜¾ç¤º ## å®‰è£…ä¸­æ–‡è¾“å…¥æ³• ## æ›´æ¢è½¯ä»¶æº åœ¨ Debian ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä½¿ç”¨ apt (Advanced Packaging Tool) æ¥è¿›è¡Œè½¯ä»¶çš„å®‰è£…ã€‚ å®‰è£…è½¯ä»¶çš„æ—¶å€™ï¼Œä¼šä»Žç³»ç»ŸæŒ‡å®šçš„è½¯ä»¶ç½‘ç«™ä¸­æœç´¢å¹¶ä¸‹è½½ç›®æ ‡è½¯ä»¶ï¼Œå½“ç›®æ ‡ç½‘ç«™è®¿é—®å›°éš¾ï¼ˆæ¯”å¦‚æœåŠ¡å™¨è·ç¦»å¤ªè¿œæˆ–è€…æœåŠ¡å™¨ç½‘ç»œä¸ä½³ï¼‰æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®ç¼–è¾‘è½¯ä»¶æºç½‘ç«™ï¼Œæ”¹æˆè·ç¦»è‡ªå·±å½“å‰æœ€è¿‘çš„æºï¼Œæ¥å‡å°‘ä¸‹è½½æ—¶é—´ã€‚ è½¯ä»¶æºé»˜è®¤ä½¿ç”¨ `/etc/apt/sources.list` æ–‡ä»¶é‡Œé¢çš„å†…å®¹ï¼Œæœ‰é¢å¤–éœ€è¦çš„è¯å¯ä»¥è‡ªè¡Œæ›´æ”¹ã€‚ä½†æ˜¯è¦æ³¨æ„éœ€è¦ä½¿ç”¨æ”¯æŒ Risc V æž¶æž„çš„è½¯ä»¶æºã€‚ ![usage_debian_apt_change_source](./assets/usage/usage_debian_apt_change_source.png) ## å‡çº§è½¯ä»¶ ä½¿ç”¨ `sudo apt update` å¯ä»¥æ›´æ–°è½¯ä»¶åˆ—è¡¨ï¼Œä¸€èˆ¬åœ¨æ›´æ¢è½¯ä»¶æºä¹‹åŽéœ€è¦ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ã€‚ ç„¶åŽä½¿ç”¨ `sudo apt upgrade package_name` å¯ä»¥æ›´æ–°åç§°ä¸º `package_name` çš„è½¯ä»¶ã€‚ æ¯”å¦‚ä¸‹é¢æ˜¯ä½¿ç”¨ `sudo apt upgrade vim` æ¥æ›´æ–° `vim` è¿™ä¸ªè½¯ä»¶çš„ç¤ºä¾‹ ![usage_debian_apt_upgrade_vim](./assets/usage/usage_debian_apt_upgrade_vim.png) ## å®‰è£…ç¨‹åº å¯ä»¥å€ŸåŠ©äºŽ apt å‘½ä»¤æ¥å®‰è£…è½¯ä»¶ï¼›æ¯”å¦‚ä½¿ç”¨ `sudo apt install package_name` å‘½ä»¤æ¥å®‰è£… `package_name`ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ apt æ¥å®‰è£… `net tools` çš„ä¾‹å­ã€‚ ![usage_debian_apt_install_nettools](./assets/usage/usage_debian_apt_install_nettools.png) å®‰è£… `net tools` åŽï¼Œå°±å¯ä»¥ä½¿ç”¨ `ifconfig` å‘½ä»¤äº†ã€‚ ![usage_debian_ifconfig_result_list](./assets/usage/usage_debian_ifconfig_result_list.png) ç®­å¤´æŒ‡å‘çš„åœ°æ–¹å°±æ˜¯å¸¸è¯´çš„ IP åœ°å€äº†ã€‚ ## æ›´æ”¹å¼€æœº LOGO ## æ“ä½œ GPIO > è¿›é˜¶ä½¿ç”¨ ## èŽ·å–è®¾å¤‡ IP ## VNC è¿œç¨‹æ¡Œé¢ ## é€šè¿‡ SSH ç™»å½•åˆ°ç³»ç»Ÿ ### è¿œç¨‹ç™»å½•åˆ°ç³»ç»Ÿ ### è¿œç¨‹æ‹·è´æ–‡ä»¶ ## Samba æ–‡ä»¶å…±äº« Samba åŸºäºŽSMB/CIFSç½‘ç»œåè®®ï¼Œä¸åŒè®¾å¤‡ä¹‹é—´å¯ä»¥é€šè¿‡è¯¥åè®®å…±äº«è®¿é—®æ–‡ä»¶ã€ä¸²è¡Œç«¯å£ç­‰ï¼Œè¿™é‡Œé€šè¿‡å®ƒå°† Windows 10 ç³»ç»Ÿè®¾å¤‡ä¸Šçš„å…±äº«æ–‡ä»¶å¤¹æŒ‚è½½è‡³ Lichee Pi 4Aã€‚ ä¸‹é¢çš„å‘½ä»¤ä¼šè‡ªåŠ¨å®‰è£… Samba ä½œä¸ºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„å…¨éƒ¨å¿…éœ€ç»„ä»¶ï¼š ```bash sudo apt install samba samba common bin smbclient cifs utils ``` ## æ­å»º FTP æœåŠ¡ ## é…ç½® NGINX ## å®‰è£… Docker ## æµ‹è¯• GPU ## ç¼–ç¨‹è¯­è¨€ä½“éªŒ ### C ### Java ### Python ## ä½¿ç”¨ Python è¿›è¡Œä¸²å£é€šä¿¡ ## ç¼–è¯‘ä½“éªŒ Opencv ## ç¼–è¯‘ä½“éªŒ Wiringpi ## é…ç½®å¼€æœºè„šæœ¬ ### å¼€æœºè‡ªåŠ¨æŒ‚è½½ U ç›˜"},"/hardware/zh/lichee/th1520/lpi4a/1_intro.html":{"title":"æ¿å¡ä»‹ç»","content":" title: æ¿å¡ä»‹ç» keywords: Linux, Lichee, TH1520, SBC, RISCV update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## ç®€ä»‹ LicheePi 4A æ˜¯åŸºäºŽ [Lichee Module 4A](http://wiki.sipeed.com/hardware/zh/lichee/th1520/lm4a.html) æ ¸å¿ƒæ¿çš„ é«˜æ€§èƒ½ RISC V Linux å¼€å‘æ¿ï¼Œä»¥ [TH1520](https://www.t head.cn/product/yeying) ä¸ºä¸»æŽ§æ ¸å¿ƒï¼ˆ4xC910@1.85Gï¼Œ RV64GCVï¼Œ4TOPS@int8 NPUï¼Œ 50GFLOP GPUï¼‰ï¼Œæ¿è½½æœ€å¤§ 16GB 64bit LPDDR4Xï¼Œ128GB eMMCï¼Œæ”¯æŒ HDMI+MIPI åŒ4K æ˜¾ç¤ºè¾“å‡ºï¼Œæ”¯æŒ 4K æ‘„åƒå¤´æŽ¥å…¥ï¼ŒåŒåƒå…†ç½‘å£ï¼ˆå…¶ä¸­ä¸€ä¸ªæ”¯æŒPOEä¾›ç”µï¼‰å’Œ 4 ä¸ª USB3.0 æŽ¥å£ï¼Œå¤šç§éŸ³é¢‘è¾“å…¥è¾“å‡ºï¼ˆç”±ä¸“ç”¨ C906 æ ¸å¿ƒå¤„ç†ï¼‰ã€‚ ![lpi4a](./assets/intro/lpi4a.png) LicheePi 4A æ˜¯æˆªæ­¢ç›®å‰ï¼ˆ2023Q2ï¼‰ä¸ºæ­¢æœ€å¼ºçš„ RISC V SBCã€‚æ€§èƒ½çº¦ä¸ºä¸Šä¸€ä»£ RISC V SBC [VisionFive2](https://www.starfivetech.com/en/site/boards)çš„2å€ï¼›æœªå¼€å¯ä¸“ç”¨æŒ‡ä»¤é›†åŠ é€Ÿçš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½é€¼è¿‘åŸºäºŽ ARM A72 çš„æ ‘èŽ“æ´¾ 4ï¼Œåœ¨å¼€å¯ç›¸å…³æŒ‡ä»¤é›†åŠ é€Ÿçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¸Žæ ‘èŽ“æ´¾ 4 æŒå¹³ã€‚è€Œä¸”æœ€é«˜å…·å¤‡ 16GB è¶…å¤§å†…å­˜ï¼Œæ˜¯æ ‘èŽ“æ´¾ 4 æœ€é«˜é…ç½® 8GB å†…å­˜çš„ä¸¤å€ï¼ ![benchmark](./assets/intro/benchmark.png) ![geekbench5](./assets/intro/geekbench5.png) LicheePi 4A å¯ä»¥ç”¨ä½œå…¸åž‹çš„ RISC V éªŒè¯å¹³å°ï¼Œå…¶å¼ºå¤§çš„æ€§èƒ½å¯ä»¥è¾ƒå¿«é€Ÿåœ°å®žçŽ°æœ¬åœ°ç¼–è¯‘ï¼Œè€Œæ— éœ€ä½¿ç”¨ QEMU è¿›è¡Œç¼–è¯‘ã€‚ æˆ‘ä»¬åœ¨è¿‘æœŸï¼ˆ2023Q2ï¼‰è¿˜ä¼šæ”¾å‡ºåŸºäºŽLM4Açš„é›†ç¾¤è®¡ç®—æ¿å¡ LicheeCluster 4Aï¼Œæœ€å¤§æ”¯æŒ 7xLM4A è¿›è¡Œé›†ç¾¤è®¡ç®—ï¼Œç¼–è¯‘ï¼Œéžå¸¸é€‚åˆå‘è¡Œç‰ˆç¼–è¯‘å†œåœºåœºæ™¯ï¼Œå°½æƒ…æœŸå¾…ã€‚ åœ¨ä¿æŒé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå°½é‡è¿›è¡Œäº† CostDown è®¾è®¡ï¼Œ8GB å†…å­˜ç‰ˆæœ¬ä»·æ ¼åœ¨ ï¿¥749~ 899ï¼ˆ\\\\$100 ~ \\\\$130ï¼‰ï¼Œ16GB å†…å­˜ç‰ˆæœ¬åœ¨ ï¿¥1100~1300 ï¼ˆ\\\\$155 ~\\\\$185ï¼‰, æ€§ä»·æ¯”ä¸Šè¶…è¶Šäº†æ ‘èŽ“æ´¾ 4ï¼ˆ8GB ~\\\\$150ï¼‰! æ— è®ºä½ æ˜¯å¦æ˜¯ RISC V ç²‰ä¸ï¼Œä½ éƒ½å€¼å¾—å…¥æ‰‹ä½“éªŒä¸‹ LicheePi 4A è¿™æ¬¾åˆ’æ—¶ä»£çš„é«˜æ€§èƒ½ RISC V SBCï¼ ![desktop](./assets/intro/desktop.png) ## æ¬¢è¿ŽæŠ•ç¨¿ æœ¬æ–‡æ¡£ä¸ºåœ¨çº¿æ–‡æ¡£ï¼Œæ‰˜ç®¡åœ¨ github ä¸Šï¼Œå¤§å®¶å¯ä»¥ç‚¹å‡»å³ä¸Šè§’ `ç¼–è¾‘æœ¬é¡µ` é“¾æŽ¥æ¥è¿›è¡Œç¼–è¾‘~ å¯¹æˆåŠŸæäº¤æ–‡æ¡£çš„ç”¨æˆ·ï¼Œæˆ‘ä»¬è§†æ–‡æ¡£è´¨é‡é…Œæƒ…æä¾› ï¿¥5 ~ 150ï¼ˆ\\\\$1 ~ 20ï¼‰çš„ä¼˜æƒ åˆ¸~ ## åŸºç¡€å‚æ•° <table> <thead> <tr> <th colspan 2>ä¸»æŽ§å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>ä¸»æŽ§èŠ¯ç‰‡</td> <td>TH1520</td> </tr> <tr> <td>CPUå¤„ç†å™¨</td> <td>RISC V 64GCV C910*4@1.85GHz <br>Â· æ¯æ ¸æ”¯æŒ 64KB I cache å’Œ 64KB D Cache <br>Â· å››æ ¸å…±äº« 1MB L2 Cache <br>Â· æ”¯æŒ TEE å’Œ REEï¼ŒTEE/REE æ”¯æŒæ ¸æ•°å¯åŠ¨æ—¶å¯é…ç½®<br>Â· æ”¯æŒè‡ªå®šä¹‰ä¸”æŽ¥å£å…¼å®¹ RISC V çš„å¤šæ ¸è°ƒè¯•æ¡†æž¶<br>Â· ç‹¬ç«‹ç”µæºåŸŸï¼Œæ”¯æŒ DVFS</td> </tr> <tr> <td>å›¾å½¢å¤„ç†å™¨</td> <td>Â· OpenCL 1.1/1.2/2.0<br>Â· OpenGL ES 3.0/3.1/3.2<br>Â· Vulkan 1.1/1.2<br>Â· Android NN HAL</td> </tr> <tr> <td>NPUå¤„ç†å™¨</td> <td>æ”¯æŒ 4TOPS@INT8 é€šç”¨ NNA ç®—åŠ›ï¼Œä¸»é¢‘ 1GHz <br>Â· æ”¯æŒ TensorFlowã€ONNXã€Caffe <br>Â· æ”¯æŒ CNNã€RNNã€DNN ç­‰</td> </tr> <tr> <td>è§†é¢‘è§£ç å™¨</td> <td>å®žæ—¶è§£ç å™¨ï¼Œæ”¯æŒ H.265/H.264/VP9/8/7/6/AVS/AVS+/AVS2.0/VC1/MPEG4 <br>Â· æ”¯æŒ H.264 BP/MP/HP@level 5.1 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ H.265/HEVC Main Profile@level 5.1 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ VP9 Profile 2 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ AVS2.0 è§£ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ VP6/7/8/AVS/AVS+/VC1/MPEG4 è§£ç ï¼Œæœ€å¤§ 1920x1080 åˆ†è¾¨çŽ‡<br>Â· è§£ç æ€§èƒ½æœ€å¤§ 4K@75fps</td> </tr> <tr> <td>è§†é¢‘ç¼–ç å™¨</td> <td>Â· æ”¯æŒ H.264 BP/MP/HP@level4.2 ç¼–ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· æ”¯æŒ H.265/HEVC Main Profile ç¼–ç ï¼Œæœ€å¤§ 4K åˆ†è¾¨çŽ‡<br>Â· ä»…æ”¯æŒ I å¸§å’Œ P å¸§<br>Â· ç¼–ç æ€§èƒ½æœ€å¤§ 4K@40fps</td> </tr> <tr> <th colspan 2>ç¡¬ä»¶ç‰¹æ€§</th> </tr> <tr> <td>RAM</td> <td>Â· 8GB 64bits LPDDR4X<br>Â· 16GB 64bits LPDDR4X<br></td> </tr> <tr> <td>å­˜å‚¨</td> <td>Â· eMMC: å¯é€‰ ç©ºè´´ã€ 8Gã€ 32Gã€ 128G<br>Â· æ”¯æŒ TF å¡</td> </tr> <tr> <td>ä»¥å¤ªç½‘</td> <td>Â· 2 x åƒå…†ä»¥å¤ªç½‘æŽ¥å£ï¼Œå¯é€‰ POE</td> </tr> <tr> <td>USB</td> <td>Â· USB3.0 x 4<br>Â· USB2.0 x 1ï¼ˆä»…ç”¨äºŽçƒ§å½•ï¼‰</td> </tr> <tr> <td>éŸ³é¢‘æŽ¥å£</td> <td>Â· 1 x 3.5mm è€³æœºæŽ¥å£<br>Â· ä¸€ä¸ªæ‰¬å£°å™¨æŽ¥å£<br>Â· ä¸¤ä¸ªæ¿è½½éº¦å…‹é£Ž<br></td> </tr> <tr> <td>æ˜¾ç¤ºæŽ¥å£</td> <td>Â· 1 x HDMI2.0<br>Â· 1 x 4 lane MIPI DSI</td> </tr> <tr> <td>æ‘„åƒå¤´æŽ¥å£</td> <td>Â· 2 x 2 lane MIPI CSI<br>Â· 1 x 4 lane MIPI CSI</td> </tr> <tr> <td>GPIO</td> <td>Â· UART<br>Â· IIC<br>Â· SPI</td> </tr> </tbody> </table> ### ç¡¬ä»¶èµ„æ–™ä¸‹è½½ [æ¿å¡è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/01_Specification) [åº•æ¿åŽŸç†å›¾](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/02_Schematic) [åº•æ¿ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/03_Bit_number_map) [åº•æ¿å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/04_Dimensional_drawing) [æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/05_3D_model) ## å…¶ä»–é“¾æŽ¥ [Github](https://github.com/sipeed/LicheePi4A) [æ·˜å®](https://item.taobao.com/item.htm?id 715508771884) [Sipeed ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a) QQç¾¤: 559614960 [ç‚¹æˆ‘è‡ªåŠ¨åŠ ç¾¤](http://qm.qq.com/cgi bin/qm/qr?k 5YkapIhdtWHp8AEfM5_bFFYQIX3CUQN6) Telegram: https://t.me/linux4rv è®ºå›ï¼šbbs.sipeed.com è”ç³»é‚®ç®±ï¼šsupport@sipeed.com"},"/hardware/zh/lichee/th1520/lpi4a/2_unbox.html":{"title":"å¼€ç®±ä½“éªŒ","content":" title: å¼€ç®±ä½“éªŒ keywords: Linux, Lichee, TH1520, SBC, RISCV, unbox update: date: 2023 05 08 version: v1.0 author: wonder content: Release docs ## å¼€ç®±å†…å®¹ LicheePi 4A åˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬ï¼Œå†…æµ‹ç‰ˆä¸Žæ­£å¼ç‰ˆã€‚ å†…æµ‹ç‰ˆäºŽ 2023 å¹´ 5 æœˆå‘å”®ï¼Œä»…æœ‰ 8+8ï¼ˆDDR+eMMCï¼‰ç‰ˆæœ¬ï¼Œå„éƒ¨åˆ†åŠŸèƒ½åŸºæœ¬æ­£å¸¸ã€‚ æ­£å¼ç‰ˆäºŽ 2023 å¹´ 7 æœˆå‘å”®ï¼Œæœ‰ 8+32,16+128 ç‰ˆæœ¬ï¼Œä¹Ÿä¼šé’ˆå¯¹å†…æµ‹ç‰ˆç”¨æˆ·æå‡ºçš„ç›¸å…³å»ºè®®è¿›è¡Œå±€éƒ¨å¾®è°ƒä¼˜åŒ–ï¼ŒåŠŸèƒ½/é•œåƒä¸Žå†…æµ‹ç‰ˆä¼šä¿æŒä¸€è‡´ã€‚ ### å†…æµ‹ç‰ˆ å¦‚æžœä½ æ˜¯ç¬¬ä¸€æ‰¹å†…æµ‹ç‰ˆ LicheePi 4A ç”¨æˆ·ï¼Œä½ æ”¶åˆ°çš„åŒ…è£¹å†…å°†æ˜¯å¦‚ä¸‹åŒ…è£…ï¼š ![package_alpha](./assets/unbox/package_alpha.png) æ‰“å¼€å¡‘æ–™ç›’åŒ…è£…ï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹çš„å†…å®¹ï¼š ![unbox_alpha](./assets/unbox/unbox_alpha.png) åŒ…è£¹åœ¨é»‘è‰²æ³¡æ£‰å†…çš„å°±æ˜¯ LicheePi 4A ä¸»ä½“ï¼Œå…¶ä½™æ ‡å·éƒ¨ä»¶ä¸ºï¼š 1. 30x30mm æ•£çƒ­ç¡…è„‚ 2. 30mm 5V æ•£çƒ­é£Žæ‰‡ï¼Œå³è¾¹å·²è¿žæŽ¥è‡³é£Žæ‰‡æ’é’ˆã€‚å¦‚æžœæ¾åŠ¨è„±å‡ºï¼Œè¯·è‡ªè¡Œå®‰è£…å›žåŽ»ï¼Œæ³¨æ„çº¢çº¿ä¸ºæ­£æžï¼Œè£…ååŽé£Žæ‰‡ä¸ä¼šè½¬åŠ¨ã€‚ 3. 2.4G WiFi å¤©çº¿ï¼Œå·²å®‰è£…è‡³ IPEX åº§å­ã€‚å¦‚æžœæ¾åŠ¨è„±å‡ºï¼Œè¯·è‡ªè¡Œå®‰è£…å›žåŽ»ã€‚ 4. USB C çº¿ç¼†ï¼Œä½œä¸ºä¾›ç”µå’Œä¸‹è½½é•œåƒä½¿ç”¨ã€‚ å¦‚æžœå¼€ç®±åŽå‘çŽ°ç¼ºå°‘ç›¸å…³éƒ¨ä»¶ï¼Œè¯·è”ç³»å®¢æœå’¨è¯¢ã€‚ ### æ­£å¼ç‰ˆ å¦‚æžœä½ è´­ä¹°äº†æ­£å¼ç‰ˆ LicheePi 4Aï¼Œä½ æ”¶åˆ°çš„åŒ…è£¹å†…å°†æ˜¯å¦‚ä¸‹åŒ…è£…ï¼š ![package_v1](./assets/unbox/package_v1.jpg) åœ¨åŒ…è£…ä¾§é¢å¯ä»¥çœ‹åˆ°å½“å‰ç¡¬ä»¶çš„ å†…å­˜/eMMC ç‰ˆæœ¬ï¼Œå¦‚æžœå‘çŽ°ä¸Žä½ è´­ä¹°çš„ç‰ˆæœ¬ä¸ç¬¦ï¼Œè¯·ä¸Žå®¢æœè”ç³»ï¼š ![package_v1mem](./assets/unbox/package_v1mem.jpg) ç§»é™¤è“è‰²å°ç›–ï¼Œæ˜¯ç™½è‰²çº¸ç›’åŒ…è£…ï¼š ![package_v1box](./assets/unbox/package_v1box.jpg) æ‰“å¼€ç™½è‰²çº¸ç›’ï¼Œå°±å¯ä»¥çœ‹åˆ°LicheePi 4Aæ¿å¡ï¼š ![package_v1board](./assets/unbox/package_v1board.jpg) å¯ä»¥çœ‹åˆ°æ¿å¡ä¸Šè´´äº†ä¸¤ä¸ªäºŒç»´ç ï¼Œåœ¨åº•æ¿USBä¸Šè´´çš„äºŒç»´ç ä¸ºåº•æ¿ç”Ÿäº§ä¿¡æ¯ï¼Œä»£è¡¨äº†åº•æ¿åž‹å·ç‰ˆæœ¬ï¼Œç”Ÿäº§æ—¥æœŸï¼Œå¦‚ï¼š `LPI4A0 23070702067` åœ¨SOMä¸Šè´´çš„äºŒç»´ç ä¸ºSOMç”Ÿäº§ä¿¡æ¯ï¼Œä»£è¡¨äº† SOMåž‹å·ç‰ˆæœ¬ï¼Œå†…å­˜eMMCï¼ŒMACåœ°å€ï¼ˆç¬¬äºŒä¸ªç½‘å£åœ°å€ä¸ºæ­¤åœ°å€+1ï¼‰ï¼Œç”Ÿäº§æ—¥æœŸï¼Œå¦‚ï¼š `LM4A0 16128 48DA3560003E 23071100318` æ‹¿å‡ºå¼€å‘æ¿åŽï¼Œçº¸ç›’åº•éƒ¨è£…ç€é»˜è®¤é…ä»¶ï¼ŒUSBçº¿ï¼Œæ•£çƒ­å™¨ï¼Œæ•£çƒ­ç¡…è„‚ï¼š ![package_v1misc](./assets/unbox/package_v1misc.jpg) å¦‚æžœå¼€ç®±åŽå‘çŽ°ç¼ºå°‘ç›¸å…³éƒ¨ä»¶ï¼Œè¯·è”ç³»å®¢æœå’¨è¯¢ã€‚ ### é€‰é…ä»¶ LicheePi 4Aè¿˜æœ‰ä¸°å¯Œçš„é…ä»¶å¯ä¾›é€‰æ‹©ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![accessory](./assets/unbox/accessory.jpg) é€‰è´­è¯´æ˜Žï¼š é…ä»¶åé€‰è´­è¯´æ˜Ž é“åˆé‡‘å¤–å£³é€‚åˆä½œä¸ºå°ä¸»æœºï¼Œè½¯è·¯ç”±çš„å¤–å£³ 10.1å¯¸è§¦æ‘¸å±1280x800 4lane MIPIï¼Œé€‚åˆä½œä¸ºè½¦æœºï¼Œå®‰å“ è°ƒè¯•ä½¿ç”¨ OV5693 æ‘„åƒå¤´ 5MPæ‘„åƒå¤´ï¼Œé€‚åˆä½œä¸ºç§»åŠ¨è®¾å¤‡ï¼Œå¦‚å®‰å“çš„åŽŸç”Ÿæ‘„åƒå¤´è°ƒè¯• USBæ‘„åƒå¤´5MP USBæ‘„åƒå¤´ï¼Œæ¿è½½éº¦å…‹é£Žï¼Œé€‚åˆä½œä¸ºopenCVçš„æ‘„åƒå¤´ä½¿ç”¨ PoEç”µæºæ¨¡å—5V2.4A PoEç”µæºæ¨¡å—ï¼Œç½‘å…³ç±»åº”ç”¨ä½¿ç”¨ç½‘çº¿PoEä¾›ç”µ 12Vç”µæº12V2Aç”µæºé€‚é…å™¨ï¼Œæ¿å¡å¤–æŽ¥å¾ˆå¤šè€—ç”µå¤–è®¾æ—¶é€‰è´­ RV Debugger PlusUART+JTAGè°ƒè¯•å°æ¿ï¼Œè¿žæŽ¥ç³»ç»Ÿä¸²å£ç»ˆç«¯è°ƒè¯•ç”¨ ## ç»„è£…æ¿å¡ ### SOMå®‰è£… é»˜è®¤æƒ…å†µä¸‹ LM4A SOM å·²ç»å®‰è£…è‡³ä¸»æ¿ä¸Šï¼Œå¦‚æžœä½ éœ€è¦å‡çº§/æ›¿æ¢ SOMï¼Œå¯æŒ‰å¦‚ä¸‹è¯´æ˜Žè¿›è¡Œ SOM çš„å–å‡ºå’Œå®‰è£… 1. å–å‡º SOM: <table> <tr> <td colspan 2>å…ˆç”¨æ‰‹æŒ‡å¾€å¤–æ‹¨åŠ¨å¼¹ç‰‡è§£é” SOM, ç„¶åŽå°† SOM å–å‡º</td> </tr> <tr> <td><img src \"./assets/unbox/unlock_som.png\" alt \"unlock_som\"></td> <td><img src \"./assets/unbox/remove_som.png\" alt \"remove_som\"></td> </tr> </table> 2. å®‰è£… SOM: <table> <tr> <td colspan 2>å…ˆæŠŠ SOM æ–œç€æ’å…¥è¿žæŽ¥å™¨æ’æ§½, ç„¶åŽæŒ‰åŽ‹SOMï¼Œä¸¤è¾¹å¼¹ç‰‡ä¼šè‡ªåŠ¨é”ä½SOM</td> </tr> <tr> <td><img src \"./assets/unbox/insert_som.png\" alt \"insert_som\"></td> <td><img src \"./assets/unbox/lock_som.png\" alt \"lock_som\"></td> </tr> </table> ### æ•£çƒ­å™¨å®‰è£… LicheePi 4A æ˜¯é«˜æ€§èƒ½ SBCï¼Œéœ€è¦å®‰è£…ä¸»åŠ¨æ•£çƒ­å™¨å¯¹ SOM è¿›è¡Œæ•£çƒ­ï¼Œå¦åˆ™åœ¨æ»¡è½½æ—¶å¯èƒ½ç”±äºŽæ ¸å¿ƒè¿‡çƒ­è€Œè‡ªåŠ¨é™é¢‘ï¼Œæ— æ³•è¾¾åˆ°æœ€ä¼˜æ€§èƒ½ã€‚ 1. å®‰è£…å¯¼çƒ­ç¡…è„‚ç‰‡ å–å‡ºå¯¼çƒ­ç¡…è„‚ç‰‡ï¼Œæ’•å¼€ä¸¤é¢è–„è†œï¼Œå°†ç¡…è„‚ç‰‡æ”¾ç½®åœ¨ä¸‹å›¾ä½ç½®å¹¶è½»è½»æŒ‰åŽ‹å›ºå®šï¼ˆç¡…è„‚ç‰‡è‡ªå·±å…·å¤‡ä¸€å®šç²˜æ€§å¯ä»¥å›ºå®šä½ï¼‰ï¼Œæ³¨æ„å®Œæ•´è¦†ç›–ä½ä¸»èŠ¯ç‰‡ä¸Žä¸¤é¢—å†…å­˜èŠ¯ç‰‡ ![silicone_pad](./assets/unbox/silicone_pad.png) 2. å®‰è£…æ•£çƒ­é£Žæ‰‡ åœ¨ç¡…è„‚ç‰‡ä¸Šå¯¹é½å®‰è£…30mmçš„æ•£çƒ­é£Žæ‰‡ï¼Œå¹¶è½»è½»æŒ‰åŽ‹å›ºå®šä½ã€‚ ![insert_fan](./assets/unbox/insert_fan.png) 3. å®‰è£…æ•£çƒ­é£Žæ‰‡ç”µæº é»˜è®¤æ”¶åˆ°æ—¶åº”è¯¥å·²ç»æ’å…¥å¥½äº†é£Žæ‰‡ç”µæºï¼Œå¦‚æžœé£Žæ‰‡ç”µæºçº¿è„±å‡ºï¼Œè¯·æŒ‰ä¸‹å›¾æ‰€ç¤ºæ’å…¥ï¼Œæ³¨æ„ç”µæºçº¿é¡ºåºï¼Œè£…åé£Žæ‰‡ä¸ä¼šæ—‹è½¬ã€‚ æ³¨æ„ï¼Œè¯¥ä½ç½®ä¸Šçš„æ’é’ˆç”µæºå— linux å†…æ ¸æŽ§åˆ¶ï¼Œéœ€æ­£ç¡®é…ç½®å†…æ ¸æ‰ä¼šæ—‹è½¬ï¼Œå¦‚æžœé£Žæ‰‡ä¸è½¬ï¼Œä¹Ÿå¯æ’åˆ°æ¿å¡ä¸‹æ–¹çš„ 20pin æ’é’ˆçš„ 5V + GND å¤„æµ‹è¯•é£Žæ‰‡å¥½åã€‚ ![insert_fan_cable](./assets/unbox/insert_fan_cable.png) ### WIFIå¤©çº¿å®‰è£… é»˜è®¤æƒ…å†µä¸‹WIFIå¤©çº¿å·²ç»å®‰è£…åœ¨ä¸»æ¿ä¸Šï¼Œå¦‚æžœè„±å‡ºï¼Œè¯·æŒ‰ç…§ä¸‹å›¾å®‰è£…å›žåŽ»ï¼š ![insert_ant](./assets/unbox/insert_ant.png) ### POEæ¨¡å—å®‰è£… è¯¥æ¨¡å—éœ€é¢å¤–è´­ä¹°ï¼Œè§„æ ¼ä¸º35.6mmé•¿åº¦çš„5V PoEä¾›ç”µæ¨¡å—ï¼Œç„ŠæŽ¥åœ¨å¼€å‘æ¿çš„POE POWERä½ç½®ã€‚ PoEæ¨¡å—å®‰è£…å¦‚å›¾æ‰€ç¤ºï¼š <table> <tr> <td><img src \"./assets/unbox/unbox_poe_0.jpg\" alt \"poe_back\"></td> <td><img src \"./assets/unbox/unbox_poe_1.jpg\" alt \"poe_front\"></td> </tr> </table> ### ç»„è£…å®Œæˆ ç»„è£…å®ŒæˆåŽçš„çŠ¶æ€å¦‚ä¸‹æ‰€ç¤ºï¼š ![assemble_ok](./assets/unbox/assemble_ok.png) ## å¯åŠ¨æ¿å¡ LicheePi 4Aå‡ºåº“å·²é¢„çƒ§å½•äº†åŸºç¡€ç³»ç»Ÿé•œåƒï¼Œè‡³æ­¤ä½ å·²å¯ä»¥å¿«é€Ÿè¿›è¡Œå¼€æœºä½“éªŒï¼ æ³¨æ„ï¼šé¢„çƒ§å½•çš„ç³»ç»Ÿé•œåƒç‰ˆæœ¬å¯èƒ½æ¯”è¾ƒæ—§ï¼Œä½“éªŒä¸ä½³ï¼Œå®Œæˆä¸Šç”µä½“éªŒåŽï¼Œå¯ä»¥æ ¹æ®ä¸‹ç« æ•™ç¨‹è¿›è¡Œé•œåƒæ›´æ–°ã€‚ ä½¿ç”¨ HDMI çº¿ç¼†(è‡ªå¤‡)è¿žæŽ¥æ˜¾ç¤ºå™¨(è‡ªå¤‡)ä¸Ž LicheePi 4A çš„ HDMI å£ï¼Œä½¿ç”¨é…å¥—çš„ USB C çº¿ç¼†è¿žæŽ¥åˆ°è‡³å°‘ 5V2A è¾“å‡ºçš„ USB ç”µæº(è‡ªå¤‡)ä¸Šï¼ŒLicheePi 4A å³ä¼šå¼€æœºå¯åŠ¨ï¼Œé»˜è®¤é•œåƒä¼šåœ¨ 30s å†…å¯åŠ¨åˆ°æ¡Œé¢ç³»ç»Ÿçš„ç™»å½•ç•Œé¢ï¼Œæˆ–è€…è‡ªåŠ¨ä½¿ç”¨sipeedè´¦æˆ·ç™»å½•åˆ°æ¡Œé¢ã€‚ ![boot_login](./assets/unbox/boot_login.png) é»˜è®¤é•œåƒæœ‰ä¸¤ç±»å¸å·å¯†ç é…ç½®ï¼Œå¯ä»¥éƒ½å°è¯•ä¸‹ï¼š 1. å¸å·ï¼š`root`ï¼Œ`debian`ï¼Œ`sipeed`ï¼›å¯†ç å‡ä¸º `licheepi` 2. å¸å·`debian`ï¼Œå¯†ç `debian`ï¼›å¸å·`sipeed`ï¼Œå¯†ç `licheepi` æ’å…¥é”®é¼ ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç åŽå³å¯ç™»å½•ä½“éªŒï¼Œå…·ä½“æ“ä½œè¯·æŸ¥çœ‹åŽç»­ç« èŠ‚ã€‚ å¦‚æžœæŒ‰ç…§ä¸Šè¿°æ“ä½œï¼Œæ²¡èƒ½ç‚¹äº®æ˜¾ç¤ºå™¨ï¼Œè¿›å…¥ç³»ç»Ÿï¼Œæœ‰ä»¥ä¸‹å¯èƒ½è¯·è‡ªæŸ¥ï¼š 1. æ£€æŸ¥ç”µæºç”µåŽ‹æ˜¯å¦æ­£å¸¸ï¼ŒUSB C å£è¿žæŽ¥æ˜¯å¦æ­£å¸¸ï¼Œç”µæºæŒ‡ç¤ºç¯æ˜¯å¦ç‚¹äº® 2. æ£€æŸ¥æ•£çƒ­å™¨æ˜¯å¦æ­£å¸¸å®‰è£…ï¼Œé£Žæ‰‡æ˜¯å¦æ—‹è½¬ 3. æ£€æŸ¥ HDMI æ˜¯å¦ç¨³å›ºè¿žæŽ¥ï¼Œæ˜¾ç¤ºå™¨æ˜¯å¦å¼€æœºï¼Œä»¥åŠå¯ä»¥å°è¯•æ›´æ¢æ˜¾ç¤ºå™¨æµ‹è¯• 4. ä¹Ÿå¯èƒ½æ˜¯å‡ºåŽ‚é—æ¼å›ºä»¶çƒ§å½•ï¼Œè¯·æŒ‰ä¸‹ç« æ–¹æ³•è¿›è¡Œé•œåƒçƒ§å½•åŽå†è¯• 5. å¦‚æžœä»¥ä¸Šå‡ä¸å¥æ•ˆï¼Œè¯·è”ç³»å®¢æœå”®åŽ ## é“åˆé‡‘å¤–å£³å®‰è£…è¯´æ˜Ž {#install_shell} ### å¤–å£³é…ä»¶æ¦‚è§ˆ å¤–å£³é…ä»¶åº”åŒ…å«å¦‚ä¸‹å†…å®¹ï¼Œå¦‚æœ‰ç¼ºå¤±ï¼Œè¯·è”ç³»å®¢æœã€‚ ![20230718_assemble_0](./assets/unbox/20230718_assemble_0.jpg) ä»Žå·¦åˆ°å³åˆ†åˆ«æ˜¯ï¼š 1. 3507æ¶¡è½®é£Žæ‰‡ 2. 40x40x5mm é“æ•£çƒ­ç‰‡ 3. å°å·åå­—èžºä¸åˆ€ 4. M3x5 å¹³å¤´èžºä¸ 8é¢— 5. å¤–å£³æŒ¡æ¿x2 6. IPEXè½¬SMAè½¬æŽ¥çº¿ + SMAæ£’çŠ¶å¤©çº¿ 7. 30x30mm å¯¼çƒ­ç¡…è„‚ç‰‡ 8. é“åˆé‡‘å¤–å£³x2 ### å®‰è£…æ•£çƒ­ç‰‡ 1. å‡†å¤‡å¼€å‘æ¿ ![20230718_assemble_1](./assets/unbox/20230718_assemble_1.jpg) 2. ç²˜è´´å¯¼çƒ­ç¡…è„‚ ![20230718_assemble_2](./assets/unbox/20230718_assemble_2.jpg) 3. æŒ‰æ–¹å‘å®‰è£…æ•£çƒ­ç‰‡ ![20230718_assemble_3](./assets/unbox/20230718_assemble_3.jpg) ### å®‰è£…ç›–æ¿ 1. æ»‘å…¥å¼€å‘æ¿ ![20230718_assemble_4](./assets/unbox/20230718_assemble_4.jpg) 2. å®‰è£…å¤©çº¿åˆ°ç›–æ¿ ![20230718_assemble_5](./assets/unbox/20230718_assemble_5.jpg) 3. å®‰è£…å¤©çº¿åˆ°PCB ![20230718_assemble_6](./assets/unbox/20230718_assemble_6.jpg) 4. å®‰è£…å‰ç›–æ¿ï¼ˆ2é¢—èžºä¸ï¼‰ ![20230718_assemble_7](./assets/unbox/20230718_assemble_7.jpg) 5. æ’•å¼€åŽç›–æ¿æ³¡æ£‰èƒ¶ ![20230718_assemble_8](./assets/unbox/20230718_assemble_8.jpg) 6. å®‰è£…åŽç›–æ¿ï¼ˆ2é¢—èžºä¸ï¼‰ ![20230718_assemble_9](./assets/unbox/20230718_assemble_9.jpg) ### å®‰è£…é£Žæ‰‡ 1. æ’å¦‚é£Žæ‰‡ç”µæºçº¿åˆ°æ¿å¡æ’é’ˆï¼ˆä¸Šæ­£ä¸‹è´Ÿï¼‰ï¼Œç²˜è´´é£Žæ‰‡åˆ°é¡¶å£³ï¼ˆæ³¨æ„é£Žæ‰‡é è¿‘å¤–å£³è¾¹ç¼˜ç²˜è´´ï¼Œæ‹‰ç›´è¿žæŽ¥çº¿ï¼Œå¦åˆ™ä¼šå¡ä½å¤–å£³ï¼‰ ![20230718_assemble_10](./assets/unbox/20230718_assemble_10.jpg) 2. ä»Žå³ä¾§å°å¿ƒå‘å·¦ä¾§ç›–ä½é¡¶å£³ï¼ˆåŠ¡å¿…æ³¨æ„æ–¹å‘ï¼Œå¦åˆ™é£Žæ‰‡æ’é’ˆä¼šå¡ä½ï¼‰ ![20230718_assemble_11](./assets/unbox/20230718_assemble_11.jpg) ### å®‰è£…å‰©ä½™èžºä¸ ![20230718_assemble_12](./assets/unbox/20230718_assemble_12.jpg) ![20230718_assemble_13](./assets/unbox/20230718_assemble_13.jpg) ### æœ€ç»ˆæ•ˆæžœ ![last](./assets/unbox/last.png) ## POEæ¨¡å—å®‰è£…è¯´æ˜Ž POEæ¨¡å—éœ€è¦ç”¨æˆ·æ‰‹å·¥ç„ŠæŽ¥å®‰è£…ï¼Œè¯·æŒ‰ä¸‹å›¾ç„ŠæŽ¥ï¼š ![poe](./assets/unbox/poe.jpg) > æ³¨æ„ POEæ¨¡å—ç„ŠæŽ¥åŽæ— æ³•è£…å…¥é“åˆé‡‘å¤–å£³ã€‚ ## æ¿å¡ç¡¬ä»¶è¯´æ˜Ž å®Œæˆåˆæ¬¡ç‚¹äº®æ¿å¡åŽï¼Œå¯ä»¥é™ä¸‹å¿ƒæ¥è®¤è¯†ä¸‹ LicheePi 4A çš„ç¡¬ä»¶ï¼Œæ–¹ä¾¿åŽæœŸå¯èƒ½çš„ç»´æŠ¤å·¥ä½œã€‚ ![pi_view](./assets/unbox/pi_view.png) ### è¶…é¢‘è¯´æ˜Ž TH1520 æ ‡ç§°é¢‘çŽ‡ä¸º 1.85GHzï¼Œæˆ‘ä»¬ä»…ä¿è¯ä½ æ”¶åˆ°çš„æ¿å¡å¯ä»¥ç¨³å®šå·¥ä½œåœ¨ 1.85GHzã€‚ å¦‚æžœä½ æ˜¯å‘çƒ§çŽ©å®¶ï¼Œæƒ³è¿›è¡Œè¶…é¢‘æ“ä½œï¼Œé‚£ä¹ˆä½ æœ‰ä¸€å®šæ¦‚çŽ‡å¯ä»¥è¶…é¢‘åˆ° 2GHzï¼Œä½†æˆ‘ä»¬ä¸ä¿è¯åœ¨è¯¥é¢‘çŽ‡ä¸‹çš„ç¨³å®šæ€§ã€‚ ç»ä¸å®Œå…¨æµ‹è¯•ï¼Œçº¦æœ‰ 80% çš„ SOM å¯ä»¥è¶…é¢‘è‡³ 2GHz å¯åŠ¨ç³»ç»Ÿï¼Œçº¦æœ‰ 50% çš„ SOM å¯ä»¥åœ¨ 2GHz ä¸‹è·‘é€šåŽ‹åŠ›æµ‹è¯•ã€‚ ### USB é™æµè¯´æ˜Ž ç”±äºŽç³»ç»Ÿæœ€å¤§ç”µæºè¾“å…¥èƒ½åŠ›ä¸º 12V2Aï¼Œå³çº¦ 24Wï¼Œè½¬æ¢ä¸º 5V åŽï¼Œå¤§çº¦æœ‰ 20W å·¦å³æœ‰æ•ˆåŠŸçŽ‡ã€‚ ä¸ºäº†æ›´å¥½åœ°ä¸º SOM ä¾›ç”µï¼ˆSOM åœ¨è¶…é¢‘æ»¡è½½æƒ…å†µä¸‹å¯è¾¾ 12W åŠŸçŽ‡ï¼‰ï¼Œæ‰€ä»¥ USB HUB å¤„è¿›è¡Œäº†ç”µæµé™åˆ¶ï¼Œé™åˆ¶äº† 1.5A çš„ç”µæµï¼ˆå†…æµ‹ç‰ˆç¡¬ä»¶ã€‚æ­£å¼ç‰ˆç¡¬ä»¶ä¼šæ ¹æ®åé¦ˆè°ƒæ•´æ­¤å¤„ç”µæµé™åˆ¶ï¼‰ï¼Œå³ 7.5W åŠŸçŽ‡ã€‚ å†æŽ¥å…¥å¤§é‡ USB è®¾å¤‡æ—¶å¯èƒ½ä¼šè¶…å‡ºè¯¥ç”µæµé™åˆ¶ï¼Œæ­¤æ—¶å»ºè®®å¯¹ USB è®¾å¤‡è¿›è¡Œå¤–éƒ¨è¾…åŠ©ä¾›ç”µã€‚ å¦‚æžœéœ€è¦è§£é™¤æ­¤å¤„ç”µæµé™åˆ¶ï¼Œè¯·è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼šTODOã€‚ ### æ­£å¼ç‰ˆç›¸å¯¹å†…æµ‹ç‰ˆå·®å¼‚è¯´æ˜Ž 1. æ–°å¢žUSB Cå£è¾“å…¥å¤„çš„é«˜åŽ‹ä¿æŠ¤ï¼Œé˜²æ­¢æŸäº›å¿«å……é€‚é…å™¨è¾“å…¥é«˜åŽ‹çƒ§æ¯SOM 2. ç³»ç»Ÿä¸²å£IOæ–°å¢žç”µå¹³è½¬æ¢ICåˆ°3.3Vï¼Œå¯ä»¥ä½¿ç”¨æ™®é€šä¸²å£æ¨¡å—è¿žæŽ¥ 3. ä¿®å¤è€³æœºï¼Œæ‰¬å£°å™¨ è‡ªåŠ¨åˆ‡æ¢ç”µè·¯ ï¼ˆå†…æµ‹ç‰ˆæ‰¬å£°å™¨ç”µè·¯åˆ‡æ¢ä¸åˆ°ä½è€Œä¸ç¨³å®šï¼‰ 4. è€³æœºåº§ä¸­æ–°å¢žä¸€è·¯micè¾“å…¥ 5. æ–°å¢žå¯åŠ¨ä»‹è´¨æ‹¨ç å¼€å…³ï¼ˆSOMåº•éƒ¨ï¼‰ï¼Œå¯é€‰TF/eMMCå¯åŠ¨ 6. å…¶ä»–ç»†èŠ‚ä¸å°ï¼Œå…ƒä»¶å¾®è°ƒ ### ç¡¬ä»¶èµ„æ–™ä¸‹è½½ [æ¿å¡è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/01_Specification) [åº•æ¿åŽŸç†å›¾](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/02_Schematic) [åº•æ¿ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/03_Bit_number_map) [åº•æ¿å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/04_Dimensional_drawing) [æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a/05_3D_model) ## å…¶ä»–é“¾æŽ¥ [Github](https://github.com/sipeed/LicheePi4A) [æ·˜å®](https://item.taobao.com/item.htm?id 715508771884) [Sipeed ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/LICHEE/licheepi4a) QQç¾¤: 559614960 [ç‚¹æˆ‘è‡ªåŠ¨åŠ ç¾¤](http://qm.qq.com/cgi bin/qm/qr?k 5YkapIhdtWHp8AEfM5_bFFYQIX3CUQN6) Telegram: https://t.me/linux4rv è®ºå›ï¼šbbs.sipeed.com è”ç³»é‚®ç®±ï¼šsupport@sipeed.com"},"/hardware/zh/lichee/ZeroPlus/ZeroPlus.html":{"title":"Lichee ZeroPlus","content":"# Lichee ZeroPlus ## æ¦‚è¿° Lichee Zero Plusæ˜¯åŸºäºŽå…¨å¿—ç§‘æŠ€çš„S3 (ARM Cortex A7å†…æ ¸)çš„é«˜æ€§èƒ½CPUèŠ¯ç‰‡è®¾è®¡çš„é«˜é›†æˆåº¦æ ¸å¿ƒæ¿ã€‚ ä½¿ç”¨åŒNGFFé‡‘æ‰‹æŒ‡è®¾è®¡ï¼Œå¼•å‡º134pinå¼•è„šï¼Œæ–¹ä¾¿å¼€å‘è€…æ‹“å±•ä½¿ç”¨ã€‚S3æ˜¯V3sçš„å‡çº§ç‰ˆï¼Œ1.2GHzä¸»é¢‘ï¼Œå†…ç½®128MB ddr3å†…å­˜ï¼Œå¼•è„šç›¸å¯¹V3så…¨å¾ˆå¤šã€‚ æ”¯æŒMIPIæ‘„åƒå¤´ï¼Œæ™®é€šå¹¶å£æ‘„åƒå¤´ï¼ŒRGBå±å¹•ï¼Œå†…ç½®ePHY. <img src \"./../assets/Zero Plus/Plus_1.jpg\" width 400> ## å‚æ•° ### èŠ¯ç‰‡ S3èŠ¯ç‰‡æž¶æž„ ![](./../assets/Zero Plus/Plus_2.png) é¡¹ç›® å‚æ•° CPU â€¢ ARMÂ® Cortexâ„¢ A7 @1.2GHz GPU â€¢ Supports 1080p@60fps or 2 channel 1080p@30fps H.264 video encoding, supports 8M JPEG encoding <br>â€¢ Supports H.264 1080p@60fps decoding, MJPEG 1080@30fps decoding ISP â€¢ Integrated ISP up to 8M pixels<br>â€¢ Supports two channel outputs for display and encoding respectively<br>â€¢ Supports various input and output formats<br>â€¢ Supports AE/AF/AWB<br>â€¢ Supports saturation adjustment/ noise reduction/ defect pixel correction/distortion correction Video Input/Output â€¢ Supports 8/10/12 bit parallel CSI and 4 lane MIPI CSI2<br>â€¢ Supports BT1120 input<br>â€¢ Supports up to 8M CMOS sensor<br>â€¢ Supports RGB/i80/LVDS LCD up to 1024x768 resolution<br>â€¢ Supports Allwinner's next gen SmartColor display technology for better visual effects for images & videos Memory â€¢ SIP 16 bit DDR3, up to 1333Mbp Audio Codec â€¢ Integrated 92dB audio codec<br>â€¢ Supports two ADC channels and two DAC channels<br>â€¢ Supports 3 MIC in, a stereo Line in, a headphone output and a stereo line out output Security Engine â€¢ Supports AES/DES Connectivity â€¢ 3 x SD card controllers<br>â€¢ LRADC/SPI/TWI/UART/PWM<br>â€¢ USB, EMAC+PHY ### æ ¸å¿ƒæ¿ é¡¹ç›® å‚æ•° CPU ARM Cortex A7 å¤„ç†å™¨(1.2Ghz)ï¼Œ VFPv4 æµ®ç‚¹å¤„ç†å™¨ å†…å­˜ èŠ¯ç‰‡å†…ç½® 128Mbyte DDR3 å†…å­˜ (æ—¶é’Ÿé¢‘çŽ‡æœ€é«˜ 672MHz) å­˜å‚¨ å¯é€‰ SPI Nor Flash(8/16/32MB)ï¼ŒSD Nand(128/512MB)ï¼ŒeMMC(4/8GB)<br>Micro SD å¡ ç”µæº 5V ç”µæºè¾“å…¥ï¼Œ 3 è·¯ DCDC ç¨³åŽ‹è¾“å‡º (1.2,1.5,3.3) å¤ä½ æ¿è½½å¤ä½èŠ¯ç‰‡ æ™¶æŒ¯ æ¿è½½ 24M ä¸»æ™¶æŒ¯ï¼Œ 32.768KHz RTC æ™¶æŒ¯ æŽ¥å£ NGFF M.2 B KEY x 2 å…±å¼•å‡º 67x2 134pin<br>æ¿è½½ micro usb æŽ¥å£å’Œç³»ç»Ÿä¸²å£ï¼Œå¯ä¾›ä¸‹è½½å›ºä»¶åŠè°ƒè¯• ç³»ç»Ÿæ”¯æŒ æ”¯æŒæœ€æ–° Linux 5.2 mainline kernel, Linux 3.4 bsp kernel<br>æ”¯æŒ debian å‘è¡Œç‰ˆ ## ä½¿ç”¨æ•™ç¨‹ [Lichee Zero](/soft/Lichee/zh/Zero Doc/Start/intro_cn.md) ## äº§å“æŠ€æœ¯æ”¯æŒ Lichee ZeroPlus å¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨ AIoT ä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡ <support@sipeed.com>ã€‚"},"/hardware/zh/lichee/RV/user.html":{"title":"åŸºç¡€ä¸Šæ‰‹","content":"# åŸºç¡€ä¸Šæ‰‹ ## Dock ç›¸å…³ä½¿ç”¨ ### è¿žæŽ¥æ¿å­ æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çœ‹åˆ°åº•æ¿èƒŒéƒ¨ä¸Šæœ‰ä¸²å£çš„ TX å’Œ RX å¼•è„šæ ‡è¯†ã€‚å› æ­¤å¯ä»¥ä½¿ç”¨ ttl ç”µå¹³çš„ä¸²å£æ¥ä½¿æ¿å­ä¸Žç”µè„‘è¿›è¡Œé€šä¿¡ï¼ˆTinaå’ŒDebianå‡é€‚ç”¨ï¼‰ã€‚ å¯¹äºŽ Tina ç³»ç»Ÿå¯ä»¥ä½¿ç”¨æ ¸å¿ƒæ¿ä¸Šçš„ typec æŽ¥å£å’Œç”µè„‘ä¸Šçš„ adb ç»ˆç«¯æ¥è¿›è¡Œè¿žæŽ¥ å¯¹äºŽ Debian ç³»ç»Ÿå¯ä»¥å¤–æŽ¥é”®ç›˜å’Œé¼ æ ‡æ¥ç›´æŽ¥æ“ä½œ #### Debian ç›¸å…³äº‹é¡¹ å¯åŠ¨ä¼šæ¯”è¾ƒæ…¢ï¼Œå–å†³äºŽTFå¡çš„é€Ÿåº¦ã€‚ ç”¨æˆ·åä¸º `root` å¯†ç æ˜¯ `licheepi` **ä½¿ç”¨ä¸²å£ä¸Ž debian ç³»ç»Ÿè¿žæŽ¥çš„è¯ä¼šä¸€ç›´æ‰“å°å†…æ ¸ä¿¡æ¯ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼š** ä½¿ç”¨rootæƒé™ç¼–è¾‘ `/etc/rsyslog.conf` å¹¶ä¸”æŠŠæ–‡ä»¶æœ€åŽä¸€è¡Œä¸­çš„ `*.emerg` æ”¹æˆ `#*.emerg` é‡å¯ rsyslog æœåŠ¡ï¼Œç›´æŽ¥æ‰§è¡Œ `/etc/init.d/rsyslog restart` å³å¯ **æƒ³è¦åœ¨å›¾å½¢åŒ–ç•Œé¢ä¸­è°ƒå‡ºå‘½ä»¤è¡Œçš„æ–¹æ³•ï¼š** é”®ç›˜æ‰§è¡Œ `Alt+F2` æ‰“å¼€è¿è¡Œï¼ŒæŽ¥ç€åœ¨é‡Œé¢è¾“å…¥ `termit` å³å¯æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ã€‚ ### ç‚¹ç¯ç¤ºä¾‹ å½“æˆ‘ä»¬æˆåŠŸè¿›å…¥ç³»ç»Ÿ(Tinaå’Œdebianå‡å¯)åŽï¼Œå°±å¯ä»¥è¿›è¡ŒåŸºç¡€çš„ç‚¹ç¯æ“ä½œå•¦ï¼ æ ¸å¿ƒæ¿çš„èžºä¸å›ºå®šç„Šç›˜æ—æœ‰ä¸€é¢— LED ï¼ŒæŸ¥çœ‹å°ºå¯¸å›¾å¾ˆå®¹æ˜“çœ‹åˆ°ï¼š <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹å°ºå¯¸å›¾</font></summary> <img src \"./../assets/RV/rv_coreboard_dimension.png\"> </details> ä»Ž[åŽŸç†å›¾](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV/HDK/2_Schematic)å¯ä»¥æŸ¥åˆ° LED è¿žæŽ¥çš„æ˜¯ PC0 å¼•è„šï¼Œæ ¹æ®ç®€å•çš„å…¬å¼ ('C' 'A')x32 + 0 2x32+0 64 å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æŸ¥çœ‹ pinmux pins æ–‡ä»¶ä¸­çš„å†…å®¹æ¥çŸ¥é“ IO å¤ç”¨æƒ…å†µè¡¨ï¼š ```bash cat /sys/kernel/debug/pinctrl/2000000.pinctrl/pinmux pins ... pin 64 (PC0): device 2008000.ledc function ledc group PC0 #è¿™é‡Œå¯ä»¥çœ‹åˆ°æ˜¯LEDå¼•è„š pin 65 (PC1): UNCLAIMED pin 66 (PC2): UNCLAIMED pin 67 (PC3): UNCLAIMED pin 68 (PC4): UNCLAIMED pin 69 (PC5): UNCLAIMED pin 70 (PC6): UNCLAIMED pin 71 (PC7): UNCLAIMED ... ``` æˆ‘ä»¬å…ˆå¯¼å‡ºè¯¥ GPIOï¼š ```bash echo 64 > /sys/class/gpio/export #å¯¼å‡ºGPIO64 ``` ç„¶åŽå†å°†è¯¥ IO ç½®ä¸ºè¾“å‡ºçŠ¶æ€ï¼Œå³å¯æ“ä½œå…¶ç”µå¹³ï¼š ```bash echo out>/sys/class/gpio/gpio64/direction #è®¾ç½®IOä¸ºè¾“å‡º echo 1 > /sys/class/gpio/gpio64/value #è¾“å‡ºé«˜ç”µå¹³ echo 0 > /sys/class/gpio/gpio64/value #è¾“å‡ºä½Žç”µå¹³ ``` ä¸Šé¢çš„æ˜¯æœ€ç®€å•çš„ä½¿ç”¨ IO çš„æ“ä½œäº†ï¼Œå°±ä¸ç»†è¯´äº†å§ã€‚ ä¸ä½¿ç”¨IOçš„è¯å°±å–æ¶ˆå¯¼å‡º ```bash echo 64 > /sys/class/gpio/unexport #å–æ¶ˆå¯¼å‡ºGPIO64 ``` è‡³æ­¤æˆ‘ä»¬å°±æˆåŠŸåœ¨ RISC V 64 D1ä¸Šç‚¹ç¯å•¦~ ä½ ä¹Ÿå¯ä»¥å¯¹ ä¸²è¡ŒRGB LED WS2812 è¿›è¡ŒèŠ±å¼ç‚¹ç¯ï¼š ```bash echo 255 > /sys/class/leds/sunxi_led0r/brightness #çº¢ç¯äº® echo 0 > /sys/class/leds/sunxi_led0r/brightness #çº¢ç¯ç­ echo 255 > /sys/class/leds/sunxi_led0g/brightness #ç»¿ç¯äº® echo 0 > /sys/class/leds/sunxi_led0g/brightness #ç»¿ç¯ç­ echo 255 > /sys/class/leds/sunxi_led0b/brightness #è“ç¯äº® echo 0 > /sys/class/leds/sunxi_led0b/brightness #è“ç¯ç­ ``` ### å¤–è®¾åŠŸèƒ½éªŒè¯ #### éŸ³é¢‘åŠŸèƒ½ å½•éŸ³è®¾å¤‡æŸ¥çœ‹ ä½¿ç”¨ `arecord l` å‘½ä»¤ ```bash root@MaixLinux:~# arecord l **** List of CAPTURE Hardware Devices **** card 0: audiocodec [audiocodec], device 0: SUNXI CODEC 2030000.codec 0 [] Subdevices: 1/1 Subdevice 0: subdevice 0 card 1: snddmic [snddmic], device 0: 2031000.dmic dmic hifi dmic hifi 0 [] Subdevices: 1/1 Subdevice 0: subdevice 0 card 2: sndhdmi [sndhdmi], device 0: 2034000.daudio audiohdmi dai 20340a4.hdmiaudio 0 [] Subdevices: 1/1 Subdevice 0: subdevice 0 ``` æ’­æ”¾è®¾å¤‡æŸ¥çœ‹ ä½¿ç”¨ `aplay l` å‘½ä»¤ ```bash root@MaixLinux:~# aplay l **** List of PLAYBACK Hardware Devices **** card 0: audiocodec [audiocodec], device 0: SUNXI CODEC 2030000.codec 0 [] Subdevices: 1/1 Subdevice 0: subdevice 0 card 2: sndhdmi [sndhdmi], device 0: 2034000.daudio audiohdmi dai 20340a4.hdmiaudio 0 [] Subdevices: 1/1 Subdevice 0: subdevice 0 ``` å½•éŸ³æ’­æ”¾æµ‹è¯•ï¼š ```bash arecord D hw:1,0 f S16_LE t wav d 3 t.wav #å½•éŸ³ ``` ```bash aplay D hw:0,0 t.wav #æ’­æ”¾å½•éŸ³ ``` å¦å¤–å¯ä»¥ä½¿ç”¨ alsamixer è¿›è¡ŒéŸ³é‡è°ƒæ•´ <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹è¿è¡Œalsamixer</font></summary> <pre><code class \"language shell\">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ AlsaMixer v1.2.4 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Card: audiocodec F1: Help â”‚ â”‚ Chip: F2: System information â”‚ â”‚ View: F3:[Playback] F4: Capture F5: All F6: Select sound card â”‚ â”‚ Item: Headphone [dB gain: 24.00] Esc: Exit â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â” â”Œâ”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â†’ â”‚ â”‚ â”‚ â”‚ â”‚ â†’ â”‚ â”‚ â”‚ â”‚â–’â–’â”‚ â†’ â”‚ â”‚ â”‚ â”‚â–’â–’â”‚ â†’ â”‚ â”‚ â”‚ â”‚â–’â–’â”‚ â†’ â”‚ â”‚ â”‚ â”‚â–’â–’â”‚ â†’ â”‚ â”‚â–’â–’â”‚ â”‚â–’â–’â”‚ â†’ â”‚ â”‚â–’â–’â”‚ â”‚â–’â–’â”‚ â”‚ â”‚ â”‚â–’â–’â”‚ â”‚â–’â–’â”‚ â”‚ â”‚ â”œâ”€â”€â”¤ â”Œâ”€â”€â” â”Œâ”€â”€â” Off â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â””â”€â”€â”˜ â”‚ â”‚ â”‚MMâ”‚ â”‚MMâ”‚ â”‚MMâ”‚ â”‚MMâ”‚ â”‚MMâ”‚ â”‚MMâ”‚ â”‚ â”‚ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â”‚ â”‚ 25 63 â”‚ â”‚ &lt;Headphon>FMINL ga FMINR ga ADC1 ADC ADC1 Inp ADC1 Inp ADC1 Inp ADC1 vol â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre> </details> #### USBåŠŸèƒ½ é»˜è®¤å†…æ ¸æ”¯æŒå¤–æŒ‚Uç›˜çš„é©±åŠ¨ï¼Œæ’ä¸ŠUç›˜åŽå¯ä»¥ä½¿ç”¨ `fdisk l` æŒ‡ä»¤æŸ¥çœ‹åˆ°æ–°å¢žçš„ /dev/sda è®¾å¤‡ <br> å¦‚æžœUç›˜æ²¡æœ‰è¢«æ ¼å¼åŒ–ï¼Œåº”è¯¥ä½¿ç”¨mkfs.vfatæŒ‡ä»¤æ¥æ ¼å¼åŒ–Uç›˜ï¼Œå†ä½¿ç”¨mountæŒ‡ä»¤æŒ‚è½½Uç›˜ã€‚ #### æ— çº¿ç½‘ç»œ ##### **ä½¿ç”¨ Tina ç³»ç»Ÿ** LicheeRV åº•æ¿é»˜è®¤ä½¿ç”¨ XR829 æˆ–è€… RTL8723BS wifi æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤è¿›è¡Œè”ç½‘æ“ä½œ å…ˆé…ç½®çƒ­ç‚¹ä¿¡æ¯ï¼šéœ€è¦æ‰‹åŠ¨åœ¨ /etc/wifi ç›®å½•ä¸‹çš„ wpa_supplicant.conf æ–‡ä»¶é‡Œæ·»åŠ ä¸‹é¢å†…å®¹ ```bash network { ssid \"WiFi_name\" psk \"WiFi_password\" } ``` é…ç½®å®ŒæˆåŽé‡å¯ä¸€ä¸‹(æ‰§è¡Œ `reboot` å‘½ä»¤å³å¯)ï¼Œé‡å¯å®ŒæˆåŽæ‰§è¡Œ `ifconfig wlan0 up; udhcpc iwlan0 &` åŽå³å¯è¿žä¸Šå¯¹åº”çš„wifiã€‚ è¿žä¸Šç½‘ç»œåŽï¼Œå°±å¯ä»¥ä½¿ç”¨ ssh (è‡ªå·±è®°å¾—è®¾ç½®ä¸€ä¸‹å¯†ç )æ¥è¿œç¨‹ç™»å½•æ¿å¡ï¼Œæˆ–è€…ä½¿ç”¨ scp æ¥è¿›è¡Œæ–‡ä»¶ä¼ è¾“ã€‚ ##### **ä½¿ç”¨ debian ç³»ç»Ÿ** > Debian ä¸æ”¯æŒå‘½ä»¤è¡Œè”ç½‘ ç‚¹å‡»ç³»ç»Ÿèœå• Preferenes Connman Settingsï¼Œæ‰“å¼€ Network Settings ï¼ŒæŸ¥çœ‹ç½‘ç»œå±žæ€§ä¸­çš„ Interface æ˜¯å¦ä¸º wlan0ã€‚åŒå‡»ç½‘ç»œåç§°ï¼Œå¹¶è¾“å…¥ WiFi å¯†ç è¿›è¡Œè¿žæŽ¥ ![](./../assets/RV/wifi 1.jpg) æˆåŠŸè¿žæŽ¥ç½‘ç»œä¹‹åŽï¼Œé€šè¿‡ç³»ç»Ÿç³»ç»Ÿèœå• Preferenes Connman Settingsï¼ŒæŸ¥çœ‹ç½‘ç»œå±žæ€§æŸ¥çœ‹ç½‘ç»œçš„ IP åœ°å€ ![](./../assets/RV/wifi 2.jpg) #### å±æ˜¾è§¦æ‘¸ LicheeRVç³»åˆ—å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ˜¾ç¤ºå±ï¼š SPIå±\t\t1.14å¯¸å±(TODO) RGBå±\t\t4.3å¯¸ 480x272ï¼›5.0å¯¸ 800x480ï¼› RGB+SPIå±\t4.0å¯¸ 480x480(st7701s); 4.0å¯¸ 720x720(nv3052c) MIPIå±\t\t8.0å¯¸ 1280x720(ILI9881C) å¦‚æžœéœ€è¦è°ƒè¯•å±å¹•é©±åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹å±å¹•é©±åŠ¨ä¿¡æ¯ï¼š ä»¥ä¸‹ä¿¡æ¯æ ¹æ®çƒ§å½•é•œåƒçš„ä¸åŒè€Œæ‰“å°çš„ä¸ä¸€æ ·ã€‚ ```bash cat /sys/class/disp/disp/attr/sys screen 0: de_rate 300000000 hz, ref_fps:60 mgr0: 480x480 fmt[rgb] cs[0x204] range[full] eotf[0x4] bits[8bits] err[0] force_sync[0] unblank direct_show[false] iommu[1] dmabuf: cache[0] cache max[0] umap skip[0] overflow[0] \tlcd output\tbacklight( 50)\tfps:59.5\tesd level(0)\tfreq(60)\tpos(0)\treset(0)\t 480x 480 \terr:0\tskip:184\tirq:230715\tvsync:0\tvsync_skip:0 BUF enable ch[1] lyr[0] z[16] prem[N] a[globl 255] fmt[ 0] fb[ 480, 480; 480, 480; 480, 480] crop[ 0, 0, 480, 480] frame[ 0, 0, 480, 480] addr[ffe00000, 0, 0] flags[0x 0] trd[0,0] ``` å±å¹•å½©æ¡æµ‹è¯•ï¼š`echo 1 > /sys/class/disp/disp/attr/colorbar` #### è§†é¢‘æ’­æ”¾ æˆ‘ä»¬å¯ä»¥å°è¯•åœ¨LicheeRVä¸Šæ’­æ”¾BadAppleå•¦~ [è§†é¢‘æ–‡ä»¶ä¸‹è½½](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV/MP4) Tinaé•œåƒä¸­å†…ç½®äº†ffmpegè½¯ä»¶åŒ…ï¼›ffmpegæ˜¯å¼ºå¤§çš„å¤šåª’ä½“åº“ï¼Œå¯ä»¥ç”¨äºŽå½•å±æˆ–è€…æ’­æ”¾ å½•å±æŒ‡ä»¤ï¼š ```bash ffmpeg f fbdev framerate 10 i /dev/fb0 record.avi ``` æ’­æ”¾æŒ‡ä»¤ï¼ˆåˆ†åˆ«æ˜¯æ‰¬å£°å™¨æ’­æ”¾éŸ³é¢‘å’Œhdmiæ’­æ”¾éŸ³é¢‘ï¼‰ï¼š ```bash ffmpeg i /mnt/UDISK/badapple_640480_xvid.mp4 pix_fmt bgra f fbdev /dev/fb0 f alsa hw:0,0 ffmpeg i /mnt/UDISK/badapple_640480_xvid.mp4 pix_fmt bgra f fbdev /dev/fb0 f alsa hw:2,0 ``` è¿™é‡Œç”±äºŽæ˜¯CPUè½¯è§£ï¼Œæ‰€ä»¥æµ‹è¯•æœ€é«˜åˆ†è¾¨çŽ‡çº¦ä¸º720x540ï¼Œ å†é«˜ä¼šå˜å¡ <iframe src \"https://player.bilibili.com/player.html?aid 209723771&bvid BV1xa411r7PP&cid 457742249&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> #### éº¦å…‹é£Žé˜µåˆ—(ä»…debianç³»ç»Ÿ) å°†æ¿å­ä¸Žéº¦å…‹é£Žé˜µåˆ—è¿žæŽ¥å¥½åŽï¼ˆéœ€è¦æ³¨æ„ä¸è¦å°†æŽ’çº¿æŽ¥åå’Œä¸è¦æŠŠå¼•è„šæŽ¥åã€‚ï¼‰ï¼Œç›´æŽ¥æ‰§è¡Œå†…ç½®çš„ `micarr_0609` æŒ‡ä»¤å³å¯å³ ```bash sudo ./micarr_0609 ``` æœ‰éº¦å…‹é£Žé˜µåˆ—ç›¸å…³çš„äºŒæ¬¡å¼€å‘éœ€æ±‚ï¼Œå¯ä»¥è”ç³» support@sipeed.com ![](./../assets/RV/mic_array_picture.jpg) <iframe src \"https://player.bilibili.com/player.html?aid 849734125&bvid BV1HL4y1H7nv&cid 457750392&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## 86Panel å¦‚æžœçƒ§å½•åŽæ˜¾ç¤ºä¸æ­£ç¡®æˆ–è€…ä¸å¯¹åŠ²çš„è¯ï¼Œå‰å¾€[ç›¸å…³é—®é¢˜](./problems.html)çº é”™ä¸€ä¸‹ ä¸‹é¢ä»…è¿›è¡Œç®€å•çš„æ“ä½œã€‚å¦å¤–ä¸Šé¢ dock æ¿å­çš„æ“ä½œåŒæ ·é€‚ç”¨äºŽ 86Panelã€‚ å¯¹äºŽä½¿ç”¨ tina ç³»ç»Ÿçš„æ˜¯æ²¡æœ‰ GUI ç•Œé¢çš„ã€‚å› æ­¤ä¸‹é¢ä½¿ç”¨ debian ç®€å•å±•ç¤ºä¸€ä¸‹å±å¹• çƒ§å½• debian ç³»ç»ŸåŽï¼Œæ’å¡å¯åŠ¨ï¼Œç­‰å¾…2åˆ†é’Ÿå·¦å³ï¼Œå±å¹•ä¸Šå°±ä¼šæ˜¾ç¤ºç™»å½•ç•Œé¢ ![ç™»å½•ç•Œé¢](./../assets/RV/LicheeRV_login_picture.png \"ç™»å½•ç•Œé¢\") è¾“å…¥ç”¨æˆ·å sipeedï¼Œå¯†ç  licheepiï¼Œå³å¯è¿›å…¥æ¡Œé¢ ï¼ˆä½¿ç”¨USB HOSTå£å¤–æŽ¥é”®ç›˜é¼ æ ‡è¿›è¡Œè¾“å…¥ï¼‰ ![æ¡Œé¢æ ·å¼](./../assets/RV/desktop_appearance.png \"æ¡Œé¢æ ·å¼\") è¿›å…¥æ¡Œé¢åŽå¯ä»¥è¿›è¡Œä¸€äº›åŸºç¡€æ“ä½œ Alt+F2 å¯ä»¥æ‰“å¼€ è¿è¡Œ ï¼ŒæŽ¥ç€è¾“å…¥ termit å³å¯æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ ![åŸºç¡€æ“ä½œ](./../assets/RV/Basic_operation.png \"åŸºç¡€æ“ä½œ\") æŽ¥ä¸‹æ¥è®©æˆ‘ä»¬å°è¯•åœ¨Debianä¸‹è·‘ä¸€ä¸‹Hello World: ![è¿è¡Œè‡ªåˆ¶ç¨‹åº](./../assets/RV/Run_HelloWorld.png \"è¿è¡Œè‡ªåˆ¶ç¨‹åº\") å¦æœ‰720Pé«˜æ¸…å±çš„æ•ˆæžœå¯¹æ¯”ï¼Œæœ‰ç±³çš„æœ‹å‹å¯ä»¥è€ƒè™‘å…¥æ‰‹ã€‚ æ³¨æ„ä½¿ç”¨çš„æ—¶å€™åº”å½“çƒ§å½•ä¸€ä¸‹æ¿çº§é…ç½®æ–‡ä»¶æ¥æˆåŠŸæ˜¾ç¤ºï¼Œå…·ä½“è¯·çœ‹[86panelæ˜¾ç¤ºå¼‚å¸¸](problems.html#86 panel çƒ§å½•åŽå±å¹•æ— ååº”æ˜¾ç¤ºä¸å¯¹) å®žé™…æ˜¾ç¤ºæ•ˆæžœå¦‚ä¸‹ï¼š ![é«˜æ¸…æ˜¾ç¤º_1](./../assets/RV/display_1.png) ![é«˜æ¸…æ˜¾ç¤º_2](./../assets/RV/display_2.png) ### ç‚¹ç¯æ“ä½œ ç”±äºŽ 86Panel çš„æ ¸å¿ƒæ¿çš„ LED ä¸Žåº•æ¿å¤–è®¾å¤ç”¨äº†ï¼Œå› æ­¤ä¸èƒ½ç›´æŽ¥ä½¿ç”¨æ ¸å¿ƒæ¿çš„ç¯äº†ã€‚ å°†ç›´æ’åž‹ LED æ­£ç¡®åœ°ä¸Žé¢„ç•™çš„ IO ç„Šç›˜è¿žæŽ¥å¥½åŽå¯ä»¥å‚è€ƒ dock åº•æ¿ç‚¹ç¯çš„æ–¹å¼æ¥ç‚¹ç¯ã€‚ ### è¿žæŽ¥ç½‘ç»œ #### æœ‰çº¿ç½‘ç»œ 86 Panel æ”¯æŒç™¾å…†ç½‘ç»œï¼Œä½¿ç”¨å¥—é¤é™„é€çš„ç½‘çº¿æŽ¥ä¸Šæ¿å­ç½‘å£åŽï¼Œæ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤æ¥è¿žæŽ¥æœ‰çº¿ç½‘ç»œ ```bash ifconfig eth0 up udhcpc ieth0 ``` #### æ— çº¿ç½‘ç»œ å¯ä»¥å‚è€ƒ Dock åº•æ¿è¿žæŽ¥[ç½‘ç»œçš„æ–¹æ³•](#æ— çº¿ç½‘ç»œ) ### å…¶ä»– ä¸Ž dock åº•æ¿ç›¸å…³æ“ä½œä¸€è‡´ ### è§¦æ‘¸å±æµ‹è¯• <font color #16B2C>ä»… tina ç³»ç»Ÿå†…ç½® è§¦æ‘¸demo</font> å¦‚æžœä½ è´­ä¹°çš„æ˜¯86é¢æ¿å¥—é¤ï¼Œå¯ä»¥ä½¿ç”¨ ts_test è¿›è¡Œè§¦æ‘¸æµ‹è¯•ã€‚ > æ³¨æ„è§¦æ‘¸é©±åŠ¨æœ‰ç‘•ç–µï¼Œts_testæµ‹è¯•æ—¶æ¾å¼€åŽï¼Œå…‰æ ‡ä¼šä¸åŠ¨ï¼Œä½†æ˜¯ç»ˆç«¯ä»ä¼šæ­£å¸¸æ‰“å°ä¿¡æ¯ ```bash root@MaixLinux:/# ts ts_calibrate ts_harvest ts_print_mt ts_test ts_verify ts_finddev ts_print ts_print_raw ts_test_mt tshowimg ``` ## BSP SDK å¼€å‘æŒ‡å— ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·è‡ªè¡Œå¼€å‘ï¼ŒçŸ½é€Ÿæ•´ç†å‘å¸ƒäº† LicheeRV çš„bspå¼€å‘dockeré•œåƒï¼Œå¤§å®¶ä½¿ç”¨è¯¥é•œåƒå¯ä»¥å¿«é€Ÿå¼€å§‹D1çš„ç³»ç»Ÿçº§å¼€å‘ã€‚ å›½å†…ç”¨æˆ·ï¼š[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1QJTaDw6kkTM4c_GAlmG0hg) æå–ç ï¼šwbef å›½å¤–ç”¨æˆ·ï¼š[Mega](https://mega.nz/folder/lx4CyZBA#PiFhY7oSVQ3gp2ZZ_AnwYA) åœ¨ç½‘ç›˜ä¸­ä¸‹è½½å¯¹åº”çš„dockeræ–‡ä»¶åŽï¼Œè§£åŽ‹åˆ°taræ–‡ä»¶åŽå¯¼å…¥åˆ°docker ```bash gzip d licheerv_d1_compile.tar.gz #è§£åŽ‹æˆtaræ–‡ä»¶ docker import licheerv_d1_compile.tar licheerv_d1_compile:latest #dockerå¯¼å…¥é•œåƒ ``` æˆåŠŸè¿è¡ŒåŽåº”å½“é‡æ–°ç™»é™†ä¸€æ¬¡ï¼›ç”¨æˆ·åä¸º `nihao`ï¼Œå¯†ç ä¸º `sipeed123` ```bash sudo docker run it licheerv_d1_compile:latest /bin/bash # äº¤äº’æ¨¡å¼å¯åŠ¨D1é•œåƒç¼–è¯‘çŽ¯å¢ƒ login #åˆ‡æ¢ç”¨æˆ· ``` è¿›å…¥å®¹å™¨åŽçš„åŸºç¡€ç¼–è¯‘æ“ä½œä¸ºï¼š ```bash cd ~/sdk/tina d1 open_new/ source build/envsetup.sh lunch #é€‰1 make menuconfig #åŽ»æŽ‰é‡Œé¢çš„ alsa plugin é€‰é¡¹ï¼Œå¦åˆ™ç¼–è¯‘ä¸è¿‡ # alsa plugins åœ¨ menuconfig ä¸­çš„ä½ç½®å¦‚ä¸‹ #. #â””â”€â”€ Libraries # â””â”€â”€ alsa plugins make j8 #æŒ‰å®žé™…CPUæ€§èƒ½ç¼–è¯‘ pack #æ‰“åŒ… ``` SDKå†…ç½®äº†ä¸€äº›ç‰ˆåž‹çš„dtsï¼Œä½ å¯ä»¥è‡ªè¡Œé€‰æ‹©ç¼–è¾‘ï¼š device/config/chips/d1/configs/nezha/board_xxx.dts å…¶ä»–SDKçš„å¼€å‘è¯´æ˜Žï¼Œå¯ä»¥å‚è§å…¨å¿—å¼€å‘å¹³å°ä¸Šä¸‹è½½çš„ç›¸å…³æ–‡æ¡£ https://open.allwinnertech.com/ ä¹Ÿå¯ä»¥åŠ å…¨å¿—äº¤æµQQç¾¤ï¼š`498263967` å¦‚æžœéœ€è¦è‡ªå·±ä¸‹è½½SDKå¼€å‘ï¼Œå‚è€ƒå…¨å¿—åœ¨çº¿ç›¸å…³ç½‘é¡µï¼šhttps://d1.docs.aw ol.com/ ## WAFT å¼€å‘æŒ‡å— TODO"},"/hardware/zh/lichee/RV/86_panel.html":{"title":"Lichee 86 Panel","content":"# Lichee 86 Panel ## æ¦‚è¿° Lichee RV 86 Panelæ˜¯ä¸ºæ™ºèƒ½å®¶å±…ä¸­æŽ§åº”ç”¨åœºæ™¯è€Œè®¾è®¡çš„å¼€å‘å¥—ä»¶ã€‚åœ¨ç¡¬ä»¶ä¸Šï¼Œå¥—ä»¶åŒ…å«äº†LicheeRV æ ¸å¿ƒæ¿ï¼ˆå…¨å¿—D1+512MB DDR3)ã€4è‹±å¯¸ IPS æ˜¾ç¤ºå±+ç”µå®¹è§¦æ‘¸å±ã€WIFI + BTã€ä»¥å¤ªç½‘ã€åŒæ•°å­—ç¡…éº¦å’Œ GPIO æ‹“å±•æŽ¥å£ç­‰ã€‚ åœ¨è½¯ä»¶ä¸Šï¼Œæˆ‘ä»¬æä¾›äº† Linux ç³»ç»Ÿï¼ˆOpenWRT åŠ Debian )å’Œé˜¿é‡Œ WAFT å¼€å‘çŽ¯å¢ƒ( WAFT æ˜¯é˜¿é‡ŒåŸºäºŽ WebAssembly å’Œè‡ªç ”çš„æ¸²æŸ“å¼•æ“Žæ‰“é€ çš„ä¸€æ¬¾é¢å‘ AIOT çš„é«˜æ€§èƒ½åº”ç”¨æ¡†æž¶)ã€‚ ![è£¸æ¿è§†å›¾](./../assets/RV/86_2.png) ## å‚æ•° é¡¹ç›® å‚æ•° æ ¸å¿ƒæ¨¡å— Sipeed LicheeRV å“ªå’è®¡ç®—æ¡ æ˜¾ç¤º é»˜è®¤æ­é…ä¸º4è‹±å¯¸480\\*480 IPSæ ‡æ¸…ç”µå®¹è§¦æ‘¸å±<br>å¯é€‰å‡çº§ä¸º4è‹±å¯¸720\\*720 IPSé«˜æ¸…ç”µå®¹è§¦æ‘¸å±<br>é¢„ç•™8è‹±å¯¸1280\\*800 IPSç”µå®¹è§¦æ‘¸å±æŽ¥å£ éŸ³é¢‘ æ¿è½½1Wå°æ‰¬å£°å™¨ï¼ŒåŒè·¯æ•°å­—ç¡…éº¦ ç½‘ç»œ XR829 WIFI+BTæ— çº¿æ¨¡å—<br>RTL8201Fç™¾å…†ä»¥å¤ªç½‘<br>é¢„ç•™æ¿è½½RJ45ä»¥å¤ªç½‘æŽ¥å£ USB æ ¸å¿ƒæ¿å¸¦æœ‰USB C OTGæŽ¥å£ <br>åº•æ¿é¢„ç•™USB C HOST ä¸ŽUSBè½¬ä¸²å£ç”µè·¯ ç”µæº æ”¯æŒ5V,12Vä¾›ç”µ(æ¿è½½DC DC ) æ‰©å±•å¼•è„š åŒ2x8Pin 2.54mm æŽ’é’ˆï¼Œé¢„ç•™FPCIOå¼•å‡º å¤–å£³ é€‰é…86ç›’3Dæ‰“å°å¤–å£³ï¼Œå›¾çº¸å¼€æº å°ºå¯¸ 86x86mm é€‚ç”¨åœºæ™¯ æ™ºèƒ½å®¶å±…ä¸­æŽ§ï¼ŒWAFT UIè¯„ä¼° å¼€å‘æ¡†æž¶ æ”¯æŒWAFT (WebAssembly Framework For Thingsï¼‰çŽ¯å¢ƒ ç³»ç»Ÿæ”¯æŒ æ”¯æŒ OpenWRTåŠ Debianç³»ç»Ÿ å¼€å‘èµ„æº æä¾›åŽŸåŽ‚SDKçš„ Dockerå¼€å‘é•œåƒ ![æ¿å­åŠŸèƒ½](./../assets/RV/86_pin.png) ## ç›¸å…³é“¾æŽ¥ [ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV_86_panel) [çƒ§å½•ç³»ç»Ÿ](./flash.html) [ç›¸å…³ä½¿ç”¨](./user.html) ## äº§å“æŠ€æœ¯æ”¯æŒ Lichee RV 86 Panel å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡ <support@sipeed.com>ã€‚"},"/hardware/zh/lichee/RV/flash.html":{"title":"Lichee RV çƒ§å½•ç³»ç»Ÿ","content":"# Lichee RV çƒ§å½•ç³»ç»Ÿ ç³»ç»Ÿé•œåƒåˆ†ä¸º Tinaä¸ŽDebianä¸¤ç§ï¼ŒTinaä¸ºä¸“ç”¨å°linuxé•œåƒï¼ŒDebianä¸ºæ¡Œé¢çº§é•œåƒ ## å‡†å¤‡ 1. Lichee RV æ ¸å¿ƒæ¿ 2. TF å†…å­˜å¡ï¼ˆå»ºè®®ä½¿ç”¨[å®˜æ–¹åº—](https://shop365481095.taobao.com/)çš„çš„å†…å­˜å¡ï¼Œå…¶ä»–çš„å¡å¯èƒ½ä¼šæœ‰å„ç§å¥‡æ€ªçš„é—®é¢˜ï¼‰ 3. çƒ§å½•å·¥å…· [PhoenixCard](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV/tool) 4. ç³»ç»Ÿé•œåƒä¸‹è½½ å›½å†…ç”¨æˆ·ï¼š[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1QJTaDw6kkTM4c_GAlmG0hg) æå–ç ï¼šwbef å›½å¤–ç”¨æˆ·ï¼š[Mega](https://mega.nz/folder/lx4CyZBA#PiFhY7oSVQ3gp2ZZ_AnwYA) é•œåƒè¯ç¼€è¯´æ˜Ž å«ä¹‰ å¤‡æ³¨ LicheeRV Sipeed ä¸“ç”¨çš„ RISCV D1 Linux ç³»åˆ—ç³»ç»Ÿã€‚ Tina æ ‡è®°ä¸º tina openwrt ç³»ç»Ÿã€‚ debian æ ‡è®°ä¸º riscv debian ç³»ç»Ÿã€‚ 86panel [taobao 86panel](https://item.taobao.com/item.htm?spm a230r.1.14.18.30b534187YMsRx&id 663345415205&ns 1&abbucket 7#detail) dock [taobao dock](https://item.taobao.com/item.htm?spm a1z10.3 c s.w4002 21410578028.20.35765d54K9XCOt&id 666274331852) hdmi è¡¨ç¤ºå±å¹•é»˜è®¤è¾“å‡ºåˆ° HDMI å±å¹•ä¸Šã€‚ 800480 / 480P è¡¨ç¤ºå±å¹•é»˜è®¤è¾“å‡ºåˆ° LCD å±å¹•ä¸Šï¼Œåˆ†è¾¨çŽ‡å¯ä»¥æ˜¯ 800*480 æˆ– 480P (640X480)ã€‚ 8723ds è¡¨ç¤ºè¯¥é•œåƒæ”¯æŒ 8723ds WIFI / BLE é©±åŠ¨ã€‚ xr829 è¡¨ç¤ºè¯¥é•œåƒæ”¯æŒ xr829 WIFI / BLE é©±åŠ¨ã€‚ waft æ˜¯å¦å†…ç½® waft è½¯ä»¶ã€‚ ## çƒ§å½•é•œåƒ ### çƒ§å½•æ­¥éª¤ çƒ§å½•å‰æœ€å¥½ä½¿ç”¨[SD card Formatter](https://www.sdcard.org/downloads/formatter/eula_windows/SDCardFormatterv5_WinEN.zip)å…ˆæŠŠå†…å­˜å¡æ ¼å¼åŒ–ä¸€æ¬¡ï¼Œæ ¼å¼åŒ–çš„æ—¶å€™æ³¨æ„ä¸è¦é€‰æ‹©é”™äº†é•œåƒã€‚ æ‰“å¼€çƒ§å½•è½¯ä»¶ [PhoenixCard](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV/tool)ï¼Œé€‰æ‹©çƒ§å½•çš„å›ºä»¶ï¼Œå°†å†…å­˜å¡é€šè¿‡è¯»å¡å™¨æ’å…¥ç”µè„‘ä¸­ é€‰æ‹© `å¯åŠ¨å¡` é€‰é¡¹ é€‰æ‹©æ­£ç¡®çš„ç›˜ç¬¦ ç‚¹å‡» `çƒ§å¡` æ ¹æ®çŠ¶æ€æ çš„é¢œè‰²å¯ä»¥åˆ¤æ–­çƒ§å½•ç»“æžœï¼šçº¢è‰²çš„è¯è¯´æ˜Žçƒ§å½•å¤±è´¥äº†ï¼Œå»ºè®®ä½¿ç”¨[SD card Formatter](https://www.sdcard.org/downloads/formatter/eula_windows/SDCardFormatterv5_WinEN.zip)æ ¼å¼åŒ–åŽå†é‡æ–°çƒ§å½•ä¸€æ¬¡ï¼›ç»¿è‰²åˆ™è¡¨ç¤ºä¸€åˆ‡æ­£å¸¸ã€‚ ![](./../assets/RV/flash.png) è¦æ³¨æ„ Windows é»˜è®¤æ‰“ä¸å¼€ linux çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥å¯¹äºŽçƒ§å½•è¿‡ linux é•œåƒçš„ sd å¡åœ¨ Windows ä¸Šä¼šä¸èƒ½ç›´æŽ¥è¢«æ‰“å¼€ï¼Œä¸”è¢«æç¤ºéœ€è¦æ ¼å¼åŒ–ä¹‹ç±»çš„ã€‚ è¿™æ—¶å¯ä»¥ä½¿ç”¨[SD card Formatter](https://www.sdcard.org/downloads/formatter/eula_windows/SDCardFormatterv5_WinEN.zip)æ¥æ ¼å¼åŒ– sd å¡æ¥æ¢å¤åˆ° Windows ç³»ç»Ÿå¯ç”¨çš„çŠ¶æ€ã€‚ å¯¹äºŽåµŒå…¥å¼ linuxï¼Œå»ºè®®æŒæœ‰ä¸¤å¼ ä»¥ä¸Šçš„ sd å¡ã€‚ > å¹¶ä¸èƒ½ä¿è¯æ¯å°ç”µè„‘å’Œæ¯ä¸ªäººçš„å†…å­˜å¡éƒ½æ˜¯å¯ä»¥çƒ§å½•çš„ï¼Œçƒ§å½•å¤±è´¥çš„è¯å»ºè®®è´­ä¹°å®˜æ–¹çš„é•œåƒå¡ã€‚ ç­‰å¾…çƒ§å½•ç»“æŸï¼›çƒ§å½• Tina ç³»ç»Ÿé•œåƒä¼šæ¯”è¾ƒå¿«ï¼Œçƒ§å½• Debian ç³»ç»Ÿé•œåƒå°†ä¼šä¹…ä¸€ç‚¹ï¼Œå¯èƒ½å¤šç”¨10åˆ†é’Ÿã€‚ ### çƒ§å½•å¤±è´¥ç›¸å…³ å¦‚æžœåœ¨çƒ§å½•æ—¶æç¤ºæ ¼å¼åŒ–å¤±è´¥ï¼Œæˆ–è€…ä½¿ç”¨çƒ§å½•è¿‡çš„å¡ä½†æ˜¯ç”µè„‘ä¸Šæ²¡æœ‰æ˜¾ç¤ºç›˜ç¬¦ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ“ä½œæ¥è§£å†³ï¼š 1. åœ¨æ­¤ä¸‹è½½ç£ç›˜å¤„ç†è½¯ä»¶ï¼š https://www.diskgenius.cn/ 2. ç”µè„‘ä¸Šæ˜¾ç¤ºä¸å‡ºçš„ç›˜ç¬¦ï¼Œä¼šåœ¨è¯¥è½¯ä»¶é‡Œæ˜¾ç¤ºå‡ºæ¥ï¼Œä½¿ç”¨è¯¥è½¯ä»¶è¿›è¡Œå¿«é€Ÿåˆ†åŒºï¼š ![attachmentId 2788](./../assets/RV/Diskgenius.png) 3. åˆ†åŒºå®ŒæˆåŽï¼Œç”µè„‘ä¸Šå°±èƒ½å¤Ÿçœ‹åˆ°ç›˜ç¬¦ï¼ŒPhoenixCard é‡Œä¹Ÿèƒ½çœ‹åˆ°ï¼Œåœ¨ PhoenixCard é‡Œç‚¹å‡»æ¢å¤å¡å³å¯æ¢å¤å¡åˆ°æ­£å¸¸çŠ¶æ€ 4. æŒ‰ä¹‹å‰æ­¥éª¤ç»§ç»­çƒ§å½•å³å¯ ## å¯åŠ¨ å¯åŠ¨åŽè‹¥æç¤ºéœ€è¦ç”¨æˆ·åå’Œå¯†ç çš„è¯çš„åˆ†åˆ«å¦‚ä¸‹ï¼š Tina ç³»ç»Ÿç™»å½•ç”¨æˆ·åï¼š`root` å¯†ç ï¼š`tina` Debian ç³»ç»Ÿç™»å½•ç”¨æˆ·åï¼š`root` å¯†ç ï¼š`licheepi` æ’å¡å¯åŠ¨ï¼Œå¯ä»¥åœ¨ä¸²å£å·¥å…·ä¸­æŸ¥çœ‹åˆ°å¯åŠ¨ä¿¡æ¯: debian å¯åŠ¨çš„æ‰“å°ä¿¡æ¯ <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹éƒ¨åˆ†debianå¯åŠ¨æ—¥å¿—</font></summary> <pre><code class \"language shell\"> [270]HELLO! BOOT0 is starting! [273]BOOT0 commit : 27369ab OpenSBI v0.6 ____ _____ ____ _____ / __ \\ / ____ _ \\_ _ _ __ ___ _ __ (___ _) '_ \\ / _ \\ '_ \\ \\___ \\ _ < __ _) __/ ____) _) _ \\____/ .__/ \\____ ______/____/_____ _ </code></pre> </details> Tina å¯åŠ¨çš„æ‰“å°ä¿¡æ¯ <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹Tinaå¯åŠ¨æ—¥å¿—</font></summary> <pre><code class \"language shell\"> BusyBox v1.27.2 () built in shell (ash) __ ___ _ __ _ / / /__ _(_)_ __ / / (_)__ __ ____ __ / /_/ / _ `/ /\\ \\ / / /__/ / _ \\/ // /\\ \\ / /_/ /_/\\_,_/_//_\\_\\ /____/_/_//_/\\_,_//_\\_\\ Maix Linux (Neptune, 5C1C9C53) root@MaixLinux:/# </code></pre> </details> ## ç›¸å…³é—®é¢˜ [ç‚¹æˆ‘è·³è½¬](./problems.html)"},"/hardware/zh/lichee/RV/problems.html":{"title":"ç›¸å…³é—®é¢˜","content":" title: ç›¸å…³é—®é¢˜ keywords: debian, Rv, Problam, apt, img, sipeed ## apt ç›¸å…³ åœ¨ä½¿ç”¨é»˜è®¤debiané•œåƒæ—¶ï¼Œå¦‚æžœè¿›è¡Œaptæ“ä½œï¼Œå‘çŽ°ä»¥ä¸‹æŠ¥é”™ï¼š > GPG error: http://ftp.ports.debian.org/debian ports sid InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E852514F5DF312F6 è¯´æ˜Žå†…ç½®çš„å¯†é’¥åˆ°æœŸäº†ï¼Œéœ€è¦æ‰‹å·¥æ›´æ–°ä¸‹å¯†é’¥ï¼›ä¸‹é¢æ˜¯ä¸¤ç§ä¸‹è½½å¯†é’¥çš„æ–¹å¼ï¼š ç½‘é¡µä¸‹è½½ï¼šhttps://packages.debian.org/sid/all/debian ports archive keyring/download wgetæ–¹å¼ `wget http://ftp.cn.debian.org/debian/pool/main/d/debian ports archive keyring/debian ports archive keyring_2022.02.15_all.deb` å°†å¯†é’¥æ‹·è´ï¼ˆä½¿ç”¨scpæˆ–è€…lrzszå·¥å…·ï¼‰åˆ°LicheeRVæ¿ä¸Šï¼Œæ‰§è¡Œï¼š > sudo dpkg i debian ports archive keyring_2022.02.15_all.deb å³å¯æ›´æ–°å¯†é’¥ï¼Œç„¶åŽå¯ä»¥æ­£å¸¸è¿›è¡Œaptæ›´æ–°ï¼š`sudo apt get update` ## å¯åŠ¨æ— ååº” ç¡®è®¤è‡ªå·±åœ¨ä½¿ç”¨ PhoenixCard çš„æ—¶å€™é€‰æ‹©çš„æ˜¯ `å¯åŠ¨å¡` ![](./../assets/RV/flash.png) å¯¹äºŽä½¿ç”¨Tinaç³»ç»Ÿçš„æ˜¯å¯ä»¥ç”¨adbç»ˆç«¯æ¥è¿žæŽ¥è¿›è¡Œé€šä¿¡ ç›´æŽ¥å°†ç”µè„‘ä¸Žæ ¸å¿ƒæ¿ç›¸è¿žå³å¯ ![](./../assets/RV/adb shell.png) å¯¹äºŽdebianç³»ç»Ÿåªèƒ½ä½¿ç”¨ä¸²å£æ¥é€šä¿¡ ## 86 panel çƒ§å½•åŽå±å¹•æ— ååº”/æ˜¾ç¤ºä¸å¯¹ éœ€è¦åœ¨linuxç³»ç»Ÿä¸­ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¥å’Œå¯¹åº”çš„fexæ–‡ä»¶æ¥è¦†ç›–æ¿çº§é…ç½® fexä¸‹è½½åœ°å€ https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV/SDK/board è¦†ç›–æŒ‡ä»¤ä¸º ```bash sudo dd if boot_package_XXX.fex of /dev/sdX bs 1K seek 16400 ``` ä¸Šé¢å‘½ä»¤ä¸­çš„ sdX ä¸º TF å¡åœ¨ linux ç³»ç»Ÿä¸­çš„å‘½åã€‚ æœ‰é—®é¢˜çš„è¯å¯ä»¥åŽ»[è®ºå›](https://bbs.sipeed.com/)å‘å¸–"},"/hardware/zh/lichee/RV/Dock.html":{"title":"Lichee Dock","content":"# Lichee Dock ## æ¦‚è¿° Lichee RV Dock æ˜¯ä¸ºå¼€æºå¼€å‘è€…è€Œè®¾è®¡çš„ä¸€æ¬¾åŠŸèƒ½**é›†æˆåº¦é«˜**ã€**ä½“ç§¯å°**ä¸”ä»·æ ¼äº²æ°‘çš„RISC V Linuxå¼€å‘æ¿å¥—ä»¶ã€‚å®ƒä¸ä»…æ”¯æŒ **HDMI è¾“å‡º**ï¼Œæ­é…å±å¹•è½¬æŽ¥æ¿æ›´å¯ä»¥æ”¯æŒå¤šç§çš„å±å¹•æ˜¾ç¤ºï¼ˆ**MIPIã€RGBå’ŒMCUæŽ¥å£**ï¼‰ã€‚å®ƒåŒæ—¶å…·å¤‡ä¸°å¯Œçš„å¤–è®¾ï¼ŒåŒ…æ‹¬ä¸€ä¸ªä¸»æœº **USB A** æŽ¥å£ï¼Œ**2.4G Wi Fi+BT** æ¨¡å—ï¼Œä¸€ä¸ªæ¨¡æ‹Ÿéº¦å…‹é£Žå’Œæ‰¬å£°å™¨æ’å£ç­‰ã€‚ä½¿ç”¨è€…æ‹¿åˆ°å¥—ä»¶ä¹‹åŽï¼Œæ— éœ€ç­‰å¾…å’Œç„ŠæŽ¥ï¼Œå³å¯ç”¨å¥—ä»¶è¿žæŽ¥æ˜¾ç¤ºå™¨å’Œ USB è®¾å¤‡å¿«é€Ÿä¸Šæ‰‹å¼€å‘å„ç§æœ‰è¶£ä¸”å®žç”¨çš„ Linux åº”ç”¨ï¼Œè¾ƒå¤§åœ°**åŠ é€Ÿäº†**å¼€å‘è€…çš„è¯•ç ”å’Œå¼€å‘å·¥ä½œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥åˆ©ç”¨å¼€å‘æ¿çš„å¤šç§æ˜¾ç¤ºæŽ¥å£ï¼Œæ— çº¿åŠŸèƒ½å’Œ GPIO ï¼Œæ­é…æ¿è½½éº¦å…‹é£Žå’Œæ‰¬å£°å™¨ï¼Œå¿«é€Ÿå®žçŽ°å„ç§åˆ›æ„ã€‚ ![å¤–è§‚å›¾](./../assets/RV/RV Dock.jpg) ## å‚æ•° é¡¹ç›® å‚æ•° æ”¯æŒçš„æ ¸å¿ƒæ¿ Lichee RV æ ¸å¿ƒæ¿ æ˜¾ç¤ºè¾“å‡ºæŽ¥å£ æ¿è½½ä¸€ä¸ªæ˜¾ç¤ºè¾“å‡ºè¿žæŽ¥å™¨ï¼›<br>RGBå±å¹•ä¿¡å·å’ŒMIPIå±å¹•ä¿¡å·è¿žæŽ¥åˆ°2x20PæŽ’é’ˆç„Šç›˜ <br>ï¼ˆå¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„å±å¹•è½¬æŽ¥æ¿é©±åŠ¨RGBæŽ¥å£æˆ–è€…MIPIæŽ¥å£çš„å±å¹•ï¼‰ ç½‘ç»œè¿žæŽ¥ æ¿è½½2.4G WIFI+BTæ¨¡ç»„ã€2.4G è´´ç‰‡å¤©çº¿ã€IPEXè¿žæŽ¥å™¨ USB æ¿è½½ä¸€ä¸ªUSB type Aæ¯åº§ éŸ³é¢‘ æ¿è½½æ‰¬å£°å™¨é©±åŠ¨ç”µè·¯ï¼ˆæœ€é«˜æ”¯æŒ4Î©3Wæ‰¬å£°å™¨ï¼‰å’Œæ‰¬å£°å™¨è¿žæŽ¥å™¨<br>æ¿è½½é©»æžä½“éº¦å…‹é£Žç”µè·¯ å­˜å‚¨ é¢„ç•™äº†ä¸€ä¸ªSOP8ç„Šç›˜ï¼ŒSPIåè®®ï¼Œé»˜è®¤ä¸ç„ŠæŽ¥å…ƒä»¶ æ‹“å±•è¿žæŽ¥å™¨ æ¿è½½30P FPCè¿žæŽ¥å™¨ï¼Œå¯ä»¥ç›´æŽ¥è¿žæŽ¥åˆ°æˆ‘ä»¬çš„Mic Array R6 éº¦å…‹é£Žé˜µåˆ—æ¿ GPIOæ‹“å±• é€šè¿‡2x20P 2.54mm ç„Šç›˜å¼•å‡ºGPIOä¾›ç”¨æˆ·ä½¿ç”¨ LED æ¿è½½ä¸€ä¸ªWS2812 RGB LED<br>æ¿è½½ä¸€ä¸ªç”µæºæŒ‡ç¤ºç¯ æŒ‰é”® æ¿è½½ä¸€ä¸ªå¤ä½RSTæŒ‰é”®<br>æ¿è½½ä¸€ä¸ªç”¨æˆ·æŒ‰é”® ## ç›¸å…³é“¾æŽ¥ [è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV Dock/1_Datasheet) [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV Dock/2_Schematic) [ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV Dock/3_Bitmap) [å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV Dock/4_Dimensions) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV Dock/5_3D) [ä½¿ç”¨æ•™ç¨‹](./flash.html) ## äº§å“æŠ€æœ¯æ”¯æŒ Lichee RV Dock å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡ support@sipeed.comã€‚"},"/hardware/zh/lichee/RV/RV.html":{"title":"Lichee RV - Nezha CM","content":"# Lichee RV Nezha CM ## æ¦‚è¿° Lichee RV Nezha CMæ˜¯æ¨¡å—åŒ–è®¾è®¡çš„æ ¸å¿ƒè®¡ç®—æ¨¡ç»„ï¼Œæ­è½½å…¨å¿—D1ä¸»æŽ§èŠ¯ç‰‡(åŸºäºŽå¹³å¤´å“¥çŽ„é“C906å¤„ç†å™¨ï¼‰ï¼Œ512MB DDR3å†…å­˜ï¼Œå¯é€‰å¯åŠ¨ä»‹è´¨ä¸ºTFå¡æˆ–è€…SDNANDèŠ¯ç‰‡ï¼Œå¹¶ä½¿ç”¨ä¸¤ç»„M.2B KEY 67 Piné‡‘æ‰‹æŒ‡å¼•å‡ºæ‰€æœ‰l0ï¼Œæ–¹ä¾¿é‡äº§ä½¿ç”¨ï¼Œä¹Ÿæ–¹ä¾¿å®‰è£…æ›¿æ¢ã€‚ ![](./../assets/RV/D1 4.jpg) ![](./../assets/RV/D1 back.jpg) ## å‚æ•° é¡¹ç›® å‚æ•° CPU å…¨å¿— D1 é˜¿é‡Œå¹³å¤´å“¥ çŽ„é“ C906 å†…æ ¸ï¼Œä¸»é¢‘ 1GHz å†…å­˜ 16bit 512MB DDR3ï¼Œæ—¶é’Ÿé¢‘çŽ‡ 792MHz å­˜å‚¨ æ¿è½½ TF å¡è¿žæŽ¥å™¨ï¼Œå¯æ’å…¥ TF å¡ä½œä¸ºå­˜å‚¨ï¼Œå·²æµ‹è¯•èƒ½å¤Ÿè¯†åˆ«1TBå®¹é‡çš„å¡ï¼› <br>é¢„ç•™ SD NAND ç„Šç›˜ï¼ˆä¸Ž 8pin LCD æŽ¥å£å†²çªï¼Œç”¨äºŽå•†ä¸šåº”ç”¨å®šåˆ¶ï¼‰ æ˜¾ç¤ºæŽ¥å£ MIPIï¼šå¼•å‡º 4 lane MIPI DSI è‡³é‡‘æ‰‹æŒ‡ <br>RGBï¼šå¼•å‡º RGB888ï¼ˆéƒ¨åˆ†ä¸Ž DSI å¤ç”¨ï¼‰ è‡³é‡‘æ‰‹æŒ‡ <br>MCU(I80)ï¼šå¼•å‡º I80 æŽ¥å£è‡³é‡‘æ‰‹æŒ‡ <br>SPIï¼šæ¿è½½ 8pin SPI æ¶²æ™¶å±æŽ¥å£ï¼Œå¯æ‰©å±• 1.14 è‹±å¯¸æ¶²æ™¶å± éŸ³é¢‘æŽ¥å£ æ¨¡æ‹ŸéŸ³é¢‘è€³æœºè¾“å‡º(HPOUT)ï¼š å¼•å‡ºè‡³é‡‘æ‰‹æŒ‡ <br>æ¨¡æ‹ŸéŸ³é¢‘çº¿è·¯è¾“å…¥(LINEIN)ï¼š å¼•å‡ºè‡³é‡‘æ‰‹æŒ‡ <br>æ•°å­—éŸ³é¢‘ (I2S/SPDIF)ï¼š å¼•å‡ºè‡³é‡‘æ‰‹æŒ‡ <br>æ¨¡æ‹Ÿéº¦å…‹é£ŽæŽ¥å£(MIC3)ï¼š å¼•å‡ºè‡³é‡‘æ‰‹æŒ‡ <br>æ•°å­—éº¦å…‹é£ŽæŽ¥å£(DMIC)ï¼š å¼•å‡ºè‡³é‡‘æ‰‹æŒ‡ ä»¥å¤ªç½‘ å¼•å‡º RMII/RGMII æŽ¥å£è‡³é‡‘æ‰‹æŒ‡ï¼ˆä¸Žéƒ¨åˆ† GPIO å¤ç”¨ï¼‰ USB æ¿è½½ TYPE C USB OTG æŽ¥å£(USB0) <br>USB HOST å¼•å‡ºè‡³é‡‘æ‰‹æŒ‡(USB1) GPIO å‰©ä½™ GPIO å…¨éƒ¨å¼•å‡ºè‡³é‡‘æ‰‹æŒ‡ æŒ‰é”® â€¢ FEL æŒ‰é”®ï¼ˆè¿›å…¥ä¸‹è½½æ¨¡å¼ï¼‰ æŒ‡ç¤ºç¯ â€¢ ä¸€ä¸ªç”µæºæŒ‡ç¤ºç¯ <br>â€¢ ä¸€ä¸ªç”¨æˆ·æŒ‡ç¤ºç¯ï¼ˆé«˜ç”µå¹³æœ‰æ•ˆï¼‰ PCB æ¿å±‚ 4 å±‚ å›ºå®šæ–¹å¼ é€šè¿‡ä¸¤ç»„ M.2 B KEY é‡‘æ‰‹æŒ‡è¿žæŽ¥å™¨ä¸Žåº•æ¿è¿žæŽ¥ï¼Œä½¿ç”¨ä¸€é¢— M2 èžºä¸ç´§å›º æ”¯æŒå¼€å‘è¯­è¨€ C/C++, Python, Golang, etc... ç³»ç»Ÿé•œåƒ Tina Linux(åŸºäºŽOpenWRT 14.07)ã€ Debianã€YoC (RTOS ) ![](./../assets/RV/D1 pin.png) ## åº•æ¿ä¹‹é—´çš„å¯¹æ¯” é¡¹ç›® Lichee RV Dock Lichee RV Panel : : SOC å…¨å¿—D1ï¼ˆXuanTie C906 RISC Vï¼‰ å…¨å¿—D1ï¼ˆXuanTie C906 RISC Vï¼‰ å†…å­˜ 1GByte 1GByte æ— çº¿ç½‘ç»œ å¯é€‰æ‹©ï¼š<br> 2.4G WIFI+BT<br> æ— ï¼ˆå¯ä»¥è‡ªè¡Œç„ŠæŽ¥å…¶ä»–åž‹å·çš„WIFIæ¨¡å—è°ƒè¯•ï¼‰\t 2.4G WIFI+BT æœ‰çº¿ç½‘ç»œ æ— \t æ”¯æŒ100Mä»¥å¤ªç½‘ å½±åƒè¾“å‡º HDMIè¿žæŽ¥å™¨ <br>SPIæŽ¥å£å±å¹•è¿žæŽ¥å™¨ <br>è¿žæŽ¥å±å¹•è½¬æŽ¥æ¿ï¼Œå¯ä»¥å®žçŽ°ï¼š<br> å¸¸ç”¨RGBæŽ¥å£å±å¹•è¿žæŽ¥å™¨ï¼ˆå«TPå¼•è„šï¼‰ï¼ˆæ”¯æŒæˆ‘ä»¬åº—é“ºçš„4.3å¯¸/5.0å¯¸å±ï¼‰<br> MIPIæŽ¥å£å±å¹•è¿žæŽ¥å™¨ï¼ˆå…¼å®¹Nezhaå¼€å‘æ¿é€‚é…çš„8å¯¸å±ï¼‰ sRGBæŽ¥å£å±å¹•è¿žæŽ¥å™¨ï¼ˆå«TPå¼•è„šï¼‰ï¼ˆæ”¯æŒæ ‡é…çš„4å¯¸IPSå±å¸¦TPï¼‰ <br>MIPIæŽ¥å£å±å¹•è¿žæŽ¥å™¨ï¼ˆå…¼å®¹Nezhaå¼€å‘æ¿é€‚é…çš„8å¯¸å±ï¼‰ USBç«¯å£ \"1ä¸ªUSB OTG(æ ¸å¿ƒæ¿æ¿è½½çš„USB Cåº§å­) <br> 1ä¸ªUSB Host(åº•æ¿æ¿è½½çš„USB Aåº§å­) 1ä¸ªUSB OTG(æ ¸å¿ƒæ¿æ¿è½½çš„USB Cåº§å­) <br>1ä¸ªUSB Host(åº•æ¿æ¿è½½çš„USB Cåº§å­) æ‹“å±•æŽ¥å£ æ”¯æŒéº¦å…‹é£Žé˜µåˆ—æ¿<br>å¤§éƒ¨åˆ†GPIOé€šè¿‡2x20Pç›´æ’ç„Šç›˜å¼•å‡º å°éƒ¨åˆ†GPIOé€šè¿‡ç›´æ’ç„Šç›˜å¼•å‡º éŸ³é¢‘ æ¿è½½3WéŸ³é¢‘åŠŸæ”¾ <br>æ¿è½½é©»æžä½“éº¦å…‹é£Žç”µè·¯ æ¿è½½3WéŸ³é¢‘åŠŸæ”¾ <br>æ¿è½½2ä¸ªMEMSæ•°å­—éº¦å…‹é£Ž æŒ‰é”®\t 1ä¸ªFELæŒ‰é”®ï¼ˆè¿›å…¥ä¸‹è½½æ¨¡å¼ï¼‰<br>1ä¸ªRSTæŒ‰é”®ï¼ˆå¤ä½ï¼‰<br>1ä¸ªç”¨æˆ·æŒ‰é”® 1ä¸ªFELæŒ‰é”®ï¼ˆè¿›å…¥ä¸‹è½½æ¨¡å¼ï¼‰ LED 1ä¸ªç”µæºæŒ‡ç¤ºç¯<br>1ä¸ª2812 RGB LED 1ä¸ªç”µæºæŒ‡ç¤ºç¯ å¤–å£³ æ—  æœ‰3Dæ‰“å°å¤–å£³ å°ºå¯¸ 65.0mm x 40.0mm 86.0mm x 86.0mm ## è¿žæŽ¥1.14å¯¸å±å¹• ![](./../assets/RV/D1 1.png)![](./../assets/RV/D1 2.png)![](./../assets/RV/D1 3.png) > ç›®å‰ 1.14 æ˜¾ç¤ºå±æ˜¯ç‚¹ä¸äº®çš„ï¼Œéœ€è¦ç­‰å¾…åŽç»­çš„æ›´æ–°; ## ç³»ç»Ÿçƒ§å½• [çƒ§å½•æ•™ç¨‹](./flash.html) ## æ³¨æ„äº‹é¡¹ å½“å‰æ ¸å¿ƒæ¿çš„USB Type Cè¿žæŽ¥å™¨ä½¿ç”¨CCå¼•è„šä½œä¸ºè‡ªåŠ¨OTGçš„è¯†åˆ«å¼•è„šï¼Œä½†æ˜¯ä¸ŽUSB C to C æ•°æ®çº¿çš„è¯†åˆ«å­˜åœ¨å†²çªï¼Œåªèƒ½ä½¿ç”¨A to Cæ•°æ®çº¿ï¼Œå¯åœ¨ç¡¬ä»¶ä¸Šæ”¹åŠ¨å™¨ä»¶è¿›è¡Œåˆ‡æ¢ï¼Œå…±æœ‰ä¸¤ç§å·¥ä½œæ–¹å¼ï¼Œå…·ä½“ç‰¹æ€§å¯¹åº”å¦‚ä¸‹ï¼š Type Cå·¥ä½œæ¨¡å¼ OTGï¼ˆå‡ºåŽ‚é»˜è®¤äº§å“ï¼‰ CCè¯†åˆ«ï¼ˆéœ€è¦æ”¹åŠ¨ç¡¬ä»¶ï¼‰ : : : : ç”µé˜»R30ä¸Žç”µé˜»R31 ä¸è´´ è´´è£…5.1K 1% 0402ç”µé˜» äºŒæžç®¡D3ä¸ŽD4 è´´è£…4148äºŒæžç®¡ ä¸è´´ æ˜¯å¦å…¼å®¹C to Cæ•°æ®çº¿ å¦ æ˜¯ æ˜¯å¦å…¼å®¹A to C æ•°æ®çº¿ æ˜¯ æ˜¯ æ˜¯å¦æ”¯æŒè‡ªåŠ¨OTGåˆ‡æ¢ æ˜¯ å¦ å¦‚éœ€ä½¿ç”¨C to Cæ•°æ®çº¿ï¼Œåˆ™éœ€è¦æ”¹åŠ¨TypeCæŽ¥å£å‘¨å›´çš„å™¨ä»¶å¯¹åº”CCè¯†åˆ«æ¨¡å¼ï¼Œå¹¶åœ¨éœ€è¦æ‰©å±•å¤–ç½®USBè®¾å¤‡æ—¶æ‰‹åŠ¨åˆ‡æ¢ä¸ºHOSTæ¨¡å¼ã€‚æ ¸å¿ƒæ¿æ­£é¢ä½å·å›¾å¦‚ä¸‹ï¼Œä¾›å‚è€ƒï¼š > â‘  æ¢ä¸Š5.1K 1% 0402ç”µé˜»ï¼Œâ‘¡ æ‹†é™¤äºŒæžç®¡ ![](./../assets/RV/other.png) ![](./../assets/RV/D1Core2.png) ## èµ„æ–™ä¸‹è½½ [ç¡¬ä»¶èµ„æ–™ä¸‹è½½](https://dl.sipeed.com/shareURL/LICHEE/D1/Lichee_RV/HDK) Debian ç³»ç»Ÿé•œåƒè¯·åˆ° >[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1QJTaDw6kkTM4c_GAlmG0hg)(æå–ç ï¼š`wbef`) >[Mega netdisk](https://mega.nz/folder/lx4CyZBA#PiFhY7oSVQ3gp2ZZ_AnwYA) [æºç èŽ·å–](/hardware/zh/lichee/RV/user.html#BSP SDK å¼€å‘æŒ‡å—) ## ç›¸å…³é—®é¢˜ [licheeRV debiané•œåƒç›¸å…³é—®é¢˜](https://wiki.sipeed.com/hardware/zh/lichee/RV/problems.html#apt %E7%9B%B8%E5%85%B3)"},"/hardware/zh/lichee/RV/ubuntu.html":{"title":"LicheeRV ubuntu","content":" title: LicheeRV ubuntu keywords: ubuntu, riscv, lichee update: date: 2022 12 01 version: v0.1 author: wonder content: åˆæ¬¡ç¼–è¾‘ Ubuntu æä¾›äº†å¯ä»¥åœ¨ LicheeRV ä¸Šé¢è¿è¡Œçš„é•œåƒï¼Œå®ƒçš„çƒ§å½•æ–¹æ³•ä¸Žå¹¶ä¸æ˜¯ä½¿ç”¨ PhoenixCardï¼Œå› æ­¤è¿™è¾¹ä¸“é—¨è¯´æ˜Žä¸€ä¸‹ä½¿ç”¨æ–¹æ³•ã€‚ æœ‰æ˜¾ç¤ºå™¨çš„è¯å¯ä»¥æŽ¥é”®ç›˜æ¥ä½¿ç”¨å‘½ä»¤è¡Œæ“ä½œè¯¥ç³»ç»Ÿï¼Œæ²¡æœ‰çš„è¯åªèƒ½é€šè¿‡ä¸²å£æ¥æ“ä½œæ¿å­ã€‚ ## Ubuntu ä»‹ç» Ubuntu æ˜¯åŸºäºŽå¦ä¸€ä¸ª Linux å‘è¡Œç‰ˆ Debian å‘å±•è€Œæ¥ï¼Œç½‘ä¸Šå¤§å¤šæ•° linux ç›¸å…³çš„æ•™ç¨‹ä¹Ÿæ˜¯åŸºäºŽ ubuntu çš„ï¼Œè¿™ç‚¹å¯¹äºŽæ–°æ‰‹å¾ˆå‹å¥½ï¼Œé‡åˆ°é—®é¢˜çš„æ—¶å€™å¯ä»¥æ¯”è¾ƒå¿«åœ°æ‰¾åˆ°è§£å†³åŠžæ³•ã€‚ å› ä¸º D1 çš„æ€§èƒ½æœ‰é™ï¼Œæ‰€ä»¥åªæä¾›å‘½åè¡Œç‰ˆæœ¬ï¼Œéœ€è¦çš„è¯è‡ªè¡Œå®‰è£…ã€é€‚é…æ¡Œé¢ä¹Ÿæ˜¯èƒ½æœ‰ GUI çš„ã€‚ <img src \"./../assets/RV/ubuntu/d1_ubuntu_desktop.jpg\" alt \"d1_ubuntu_desktop\" width \"45%\"> <img src \"./../assets/RV/ubuntu/d1_ubuntu_desktop_picture.jpg\" alt \"d1_ubuntu_desktop_picture\" width \"45%\"> ä¸Šå›¾ä¸º D1 Dock Pro æ¿å¡ï¼Œä¸Žæ™®é€šçš„ Dock åº•æ¿æ˜¯ä¸åŒçš„ï¼Œåº•æ¿ä¸Šè‡ªå¸¦äº†ä¸²å£ï¼Œå¯ä»¥ä»…ä½¿ç”¨ä¸€æ ¹æ•°æ®çº¿æ¥è¿›è¡Œæ¿å¡ä¸Žç”µè„‘çš„ä¸²å£é€šä¿¡ã€‚ç›¸å…³å¤–è®¾å¯ä»¥çœ‹ä¸‹å›¾çš„æ ‡æ³¨ã€‚ <img src \"./../assets/RV/ubuntu/dock_pro_top_block.jpg\" alt \"dock_pro_top_block\" width \"45%\"> <img src \"./../assets/RV/ubuntu/dock_pro_bottom_block.jpg\" alt \"dock_pro_bottom_block\" width \"45%\"> å¯ä»¥åœ¨å®˜æ–¹æ·˜å®åº—å’¨è¯¢å–å®¶è´­å¾—è¯¥æ¿å¡ã€‚ ## æ“ä½œæ­¥éª¤ ### èŽ·å–é•œåƒ æä¾›äº†ç™¾åº¦ç½‘ç›˜ä¸‹è½½æ–¹å¼ã€‚ ç™¾åº¦ç½‘ç›˜: https://pan.baidu.com/s/1n Y1EoOCdfV4QzaHXY61Wg ### çƒ§å½•è½¯ä»¶ å‰å¾€ [balenaEtcher](https://www.balena.io/etcher/) å®˜ç½‘ä¸‹è½½è½¯ä»¶æˆ–è€…[ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/others/balenaEtcher)ä¸‹è½½ï¼Œå…¶ä¸­ä¸‹è½½ç«™ä»…æä¾› Windows ç‰ˆæœ¬è½¯ä»¶ï¼Œå…¶ä»–ç³»ç»Ÿæƒ³ç”¨è¿™ä¸ªè½¯ä»¶è‡ªè¡Œå‰å¾€ [balenaEtcher](https://www.balena.io/etcher/) å®˜ç½‘ä¸‹è½½ã€‚ ### çƒ§å½•ç³»ç»Ÿ å‡†å¤‡ä¸€å¼ å®¹é‡ 8G ä»¥ä¸Šçš„å†…å­˜å¡ï¼Œè¯»å†™é€Ÿåº¦å¿«ä¸€äº›çš„å¡èƒ½å¸¦æ¥æ›´å¥½çš„ä½“éªŒã€‚ å°† TF å¡ä¸Žç”µè„‘è¿žæŽ¥èµ·æ¥ï¼Œä½¿ç”¨è¯»å¡å™¨æˆ–è€…å…¶ä»–æ–¹å¼éƒ½å¯ä»¥ã€‚ä¸‹å›¾çš„ç”µè„‘ä¸Šçš„ TF å¡æ§½ä»…åšç¤ºä¾‹ï¼Œç”µè„‘ä¸Šæ²¡æœ‰ TF å¡è¯»å–æ’æ§½çš„è¯ä¾ç„¶æ˜¯éœ€è¦å‡†å¤‡è¯»å¡å™¨çš„ã€‚ <table> <tr> <th colspan \"2\"> å°† TF å¡ä¸Žç”µè„‘è¿žæŽ¥ </th> </th> </tr> <tr> <td>ä½¿ç”¨è¯»å¡å™¨æ¥è¿žæŽ¥ TF å¡å’Œç”µè„‘</td> <td>ç›´æŽ¥ä½¿ç”¨ç”µè„‘ä¸Šçš„ TF å¡æ’æ§½æ¥è¿žæŽ¥</td> </tr> <tr> <td><img src \"./../assets/RV/ubuntu/d1_ubuntu_sdcard_reader.jpg\" alt \"d1_ubuntu_sdcard_reader\" ></td> <td><img src \"./../assets/RV/ubuntu/d1_ubuntu_sdcard_computer_reader.jpg\" alt \"d1_ubuntu_sdcard_computer_reader\" ></td> </tr> </table> æ‰“å¼€ balenaEtcherï¼Œé€‰æ‹©æ‰€ä¸‹è½½çš„é•œåƒæ–‡ä»¶ï¼Œé€‰æ‹© TF å¡ï¼Œç‚¹å‡»çƒ§å½•ï¼š ![d1_ubuntu_burn_image](./../assets/RV/ubuntu/d1_ubuntu_burn_image.gif) è¦æ³¨æ„çš„æ˜¯çƒ§å½•çš„æ—¶å€™åˆ«é€‰é”™äº† TF å¡ã€‚ ![d1_ubuntu_burn_image_sdcard_choose](./../assets/RV/ubuntu/d1_ubuntu_burn_image_sdcard_choose.png) çƒ§å½•æ—¶é—´æœ‰ç‚¹ä¹…ï¼Œçƒ§å½•ç»“æŸåŽä¼šå‡ºçŽ°ä¸‹å›¾çš„æç¤ºã€‚å¦‚æžœä¸æ˜¯ Successful çš„è¯å°±éœ€è¦é‡æ–°çƒ§å½•ã€‚ ![d1_ubuntu_finish_burn_image](./../assets/RV/ubuntu/d1_ubuntu_finish_burn_image.png) ## å¯åŠ¨ç³»ç»Ÿ çƒ§å½•å®Œç³»ç»Ÿä¸”çœ‹åˆ° Successful å­—æ ·åŽï¼Œå¯ä»¥å°† TF å¡æ’åˆ°æ¿å­ä¸Šå¯åŠ¨äº†ã€‚ ![dock_pro_ubuntu](./../assets/RV/ubuntu/dock_pro_ubuntu.jpg) ä½¿ç”¨ä¸²å£å¯ä»¥æŸ¥çœ‹å¯åŠ¨ä¿¡æ¯ï¼Œå¹¶ä¸”æ“ä½œæ¿å¡ã€‚ <img src \"./../assets/RV/ubuntu/d1_ubuntu_boot_opensbi.jpg\" alt \"d1_ubuntu_boot_opensbi\" width \"45%\"> <img src \"./../assets/RV/ubuntu/ubuntu_boot.jpg\" alt \"ubuntu_boot\" width \"45%\"> ç­‰å¾…å¯åŠ¨ä¸€æ®µæ—¶é—´åŽï¼Œä½¿ç”¨ `root` ä½œä¸ºç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥ç™»å½•è¿›æ¿å¡äº†ï¼Œ ![d1_ubuntu_login](./../assets/RV/ubuntu/d1_ubuntu_login.jpg) ## è¿žæŽ¥ wifi ç„¶åŽä½¿ç”¨ `nmcli` å‘½ä»¤æ¥è¿žæŽ¥ 2.4G æ— çº¿ç½‘ç»œã€‚ æŸ¥çœ‹å‘¨å›´çš„ wifi ```bash nmcli dev wifi ``` ![d1_ubuntu_wifi_scan](./../assets/RV/ubuntu/d1_ubuntu_wifi_scan.jpg) ä½¿ç”¨å‘½ä»¤è¡Œæ¥è¿žæŽ¥ wifiï¼Œè¯­æ³•ä¸º `nmcli dev wifi connect (ç½‘ç»œåç§°ï¼‰ password (å¯†ç ï¼‰` ```bash nmcli dev wifi connect Sipeed_Guest password 12345678 ``` ![d1_ubuntu_wifi_connect](./../assets/RV/ubuntu/d1_ubuntu_wifi_connect.jpg) å‡ºçŽ° successfully å°±è¡¨ç¤ºè¿žæŽ¥ä¸Šäº†ï¼ŒåŽé¢å¯ä»¥æ­£å¸¸ä½¿ç”¨ `apt` ç­‰è½¯ä»¶äº† ![d1_ubuntu_install_tree](./../assets/RV/ubuntu/d1_ubuntu_install_tree.jpg) ## ç‚¹ç¯ åœ¨è¿™ä¸ª ubuntu ç³»ç»Ÿä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å‘ä¹‹å‰ä½¿ç”¨ tina ç³»ç»Ÿæ—¶ä¸€æ ·ï¼ŒæŽ§åˆ¶æ ¸å¿ƒæ¿ä¸Šçš„ led ç¯ã€‚ç›¸å…³ä»£ç å’Œç»“æžœå¦‚ä¸‹æ‰€ç¤ºï¼š ç‚¹äº®æ¿å¡ä¸Šçš„ LED : ```bash echo 1 > /sys/class/leds/\\:status/brightness ``` ä¸Šé¢çš„å‘½ä»¤ä¸­çš„ `:` ä½¿ç”¨äº† \"\\\" è¿›è¡Œè½¬ä¹‰ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ ![d1_ubuntu_led_on](./../assets/RV/ubuntu/d1_ubuntu_led_on.jpg) ç†„ç­æ¿å¡ä¸Šçš„ LED : ```bash echo 0 > /sys/class/leds/\\:status/brightness ``` ![d1_ubuntu_led_off](./../assets/RV/ubuntu/d1_ubuntu_led_off.jpg) ## ç»“è¯­ åœ¨ Ubuntu å®˜æ–¹æ‰€æä¾›çš„é•œåƒä¸Š[ç‚¹æˆ‘è·³è½¬](https://wiki.ubuntu.com/RISC V/LicheeRV)ï¼Œæˆ‘ä»¬è¿™è¾¹è¡¥ä¸Šäº† wifi é©±åŠ¨å…åŽ»äº†è‡ªè¡Œç¼–è¯‘çš„éº»çƒ¦ã€‚ ## å¸¸è§é—®é¢˜ ### æ²¡æœ‰ HDMI è¾“å‡º æ¿å¡ä½¿ç”¨ ubuntu é•œåƒåœ¨å¯åŠ¨æ—¶ä¸ä¼šç›´æŽ¥è¾“å‡º HDMIï¼Œ è€Œæ˜¯ä¼šåœ¨ç›¸å…³çš„æœåŠ¡å¯åŠ¨åŽ HDMI å±å¹•åœ¨ä¼šæœ‰è¾“å‡ºï¼Œå¦å¤–éƒ¨åˆ† HDMI å±å¹•ä¸ä¼šå…¼å®¹å¹¶æ˜¾ç¤ºå‡º LicheeRV HDMI å‘½ä»¤è¡Œã€‚ ä¸‹å›¾æ˜¯åˆ†åˆ«ç”¨ä¸²å£ (ttyS0) å’Œ HDMI æ˜¾ç¤ºå™¨ç»ˆç«¯ (tty1) ç™»å½• LicheeRV ubuntu çš„æ‹ç…§æˆªå›¾ ![d1_ubuntu_console_hdmi](./../assets/RV/ubuntu/d1_ubuntu_console_hdmi.jpg)"},"/hardware/zh/lichee/index.html":{"title":"Lichee Pi","content":" title: Lichee Pi > ç¼–è¾‘ä¸Ž2022å¹´3æœˆ11æ—¥ Lichee æ˜¯ [Sipeed](https://www.sipeed.com/) æŽ¨å‡ºçš„å¼€æºäº§å“ï¼Œæ˜¯ä¸ºäº†èƒ½è®©ç”¨æˆ·èŽ·å¾—ä¼˜å»‰çš„linuxè®¾å¤‡ï¼Œå®žæˆ˜linuxåº•å±‚ç›¸å…³çš„å†…å®¹çš„äº§å“ã€‚ ç›®å‰LicheePiç›¸å…³æ ¸å¿ƒæ¿éƒ¨åˆ†å‚æ•°å¯¹æ¯”è¡¨æ ¼å¦‚ä¸‹ï¼š ç±»åˆ« Lichee RV Lichee Zero PlusLichee ZeroLichee nano : : : : : SOC Allwinner D1 Allwinner S3 Allwinner V3s Allwinner F1c100s CPUæž¶æž„ çŽ„é“ C906 Cortexâ„¢ A7 Cortexâ„¢ A7 ARM 926EJS è¿è¡Œé¢‘çŽ‡1GHz1.2GHz1.2GHz(max)600MHz(max) RAM 512MB DDR3 128Mbyte DDR3 64MB DRAM 32MB DDR FLASHå¯é€‰SD nandå¯é€‰SD Nandã€<br>SPI Nor Flash<br>æˆ–è€…eMMC é¢„ç•™<br>SOP8 SPI Flash<br>ç„Šç›˜æ¿è½½ 16MB NOR FLASH TFè¿žæŽ¥å™¨ æœ‰æœ‰æœ‰æœ‰ ä¸Šè¿°çš„æ¬¾åž‹éƒ½å¯ä»¥é€šè¿‡sdå¡å¯åŠ¨ç³»ç»Ÿ å…¶ä»–å‚æ•°è¿‡å¤šï¼Œç‰ˆé¢æ”¾ä¸ä¸‹ï¼Œéœ€è¦çš„è¯éº»çƒ¦è‡ªè¡Œå¯¹æ¯”ä¸€ä¸‹ã€‚ ## Lichee æ ¸å¿ƒç‰ˆç…§ç‰‡(Linux) ### Lichee Zero <div align \"center\"> <a href \"./Zero/Zero.html\" ><img src \"./assets/Zero/Zero_1.png\" width 400></a> </div> ### Lichee Nano <div align \"center\"> <a href \"./Nano/Nano.html\" ><img src \"./assets/Nano/Nano_2.png\" width 400></a> </div> ### Lichee Zero Plus <div align \"center\"> <a href \"./ZeroPlus/ZeroPlus.html\"><img src \"./assets/Zero Plus/Plus_1.jpg\" width 400></a> </div> ### Lichee RV <div align \"center\"> <a href \"./RV/RV.html\"><img src \"./assets/RV/D1 4.png\" width 400></a> </div>"},"/hardware/zh/lichee/One/index.html":{"title":"","content":"æ•¬è¯·æœŸå¾…"},"/hardware/zh/lichee/Zero/Zero.html":{"title":"Lichee Zero","content":"# Lichee Zero ## Lichee Zero æ¦‚è¿° Lichee Zeroæ˜¯åŸºäºŽå…¨å¿—ç§‘æŠ€çš„V3s(ARM Cortex A7å†…æ ¸)é«˜æ€§èƒ½CPLèŠ¯ç‰‡è®¾è®¡çš„è¿·ä½ å¼€å‘æ¿ã€‚å¼€å‘æ¿è®¾è®¡å°å·§ç²¾è‡´ï¼Œå°†èŠ¯ç‰‡çš„æ‰€æœ‰èµ„æºéƒ½å¼•å‡º,æ¿è½½USBã€Flashã€TFå¡ã€4OP LCDæŽ¥å£ç­‰ï¼Œå¹¶æŠŠæ‰€æœ‰IOèµ„æºå¼•å‡ºï¼Œæ–¹ä¾¿å¼€å‘è€…æ‹“å±•ä½¿ç”¨ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹ linuxæˆ–è€…å•†ç”¨äºŽäº§å“å¼€å‘ã€‚ æ ¸å¿ƒæ¿ï¼š <html> <div class \"imbox\"> <img src \"./../assets/Zero/Zero_1.png\" width 240> <img src \"./../assets/Zero/Zero_6.png\" width 240> <style> .imbox{ display:flex; flex direction: row; } </style> </div> </html> æ ¸å¿ƒæ¿+æ‰©å±•æ¿ï¼š <html> <div class \"imbox\"> <img src \"./../assets/Zero/Zero_3.png\" width 240> <img src \"./../assets/Zero/Zero_4.png\" width 240> <style> .imbox{ display:flex; flex direction: row; } </style> </div> </html> ## å‚æ•° ### V3så‚æ•° V3sæ¡†æž¶ ![](./../assets/Zero/V3s.png) é¡¹ç›® å‚æ•° CPU ARM Cortexâ„¢ A7 æœ€é«˜1.2GHz Memory Integrated 64MB DRAM Audio Codec â€¢ Integrated 92dB audio codec<br>â€¢ Supports two ADC channels and two DAC channels<br>â€¢ Supports one low noise analog microphone bias outputs<br>â€¢ Supports one microphone input and one stereo microphone outpu Video â€¢ Supports 1080p@40fps or 1080p@30fps+VGA@30fps H.264 video encoding,<br>â€¢ Supports H.264 1080p@30fps decoding, MJPEG 1080@30fps decoding Video Input/Output â€¢ Supports 8/10/12 bit parallel CSI and 4 lane MIPI CSI2<br>â€¢ Supports up to 5M CMOS sensor<br>â€¢ Supports RGB/i80/LVDS LCD up to 1024x768 resolution Connectivity â€¢ 3 x SD card controllers<br>â€¢ LRADC/SPI/TWI/UART/PWM<br>â€¢ USB, EMAC+PHY ISP â€¢ Integrated ISP up to 5M pixels<br>â€¢ Supports two channel outputs for display and encoding respectively<br>â€¢ Supports various input and output formats<br>â€¢ Supports AE/AF/AWB<br>â€¢ Supports saturation adjustment/ noise reduction/ defect pixel correction/distortion correction ### Lichee Zeroæ ¸å¿ƒæ¿å‚æ•° é¡¹ç›® å‚æ•° CPU V3s å†…å­˜ 64MB DDR2 å­˜å‚¨ é¢„ç•™ SOP8 SPI Flashç„Šç›˜ <br>æ¿è½½TFå¡åº§ æ˜¾ç¤º é€šç”¨40P RGB LCD FPCåº§<br>å¯ç›´æ’å¸¸è§çš„40P 4.3/5/7å¯¸å±å¹•ï¼ˆæ¿è½½èƒŒå…‰é©±åŠ¨)ï¼Œé€šè¿‡è½¬æŽ¥æ¿å¯æ’50P 7/9å¯¸å±<br>æ”¯æŒå¸¸è§çš„272x480,480x800,1024x600ç­‰åˆ†è¾¨çŽ‡æ¿è½½ç”µé˜»å¼è§¦æ‘¸å±èŠ¯ç‰‡ï¼Œæ”¯æŒç”µé˜»å±<br>æ¿è½½RGB LED é€šè®¯æŽ¥å£ SDIO x2ï¼Œå¯æ­é…é…å¥—SDIO WiFi+BTæ¨¡å—<br>SPl x1<br>12C x2<br>UART x3<br>100M Ether x1(å«EPHY)<br>OTG USB x1<br>MIPI CSI x1 å…¶ä»–æŽ¥å£ <br>PWM x2<br>LRADC x1<br>Speakerx2+ Mic x1 ç”µæ°”ç‰¹æ€§ Micro USB 5Vä¾›ç”µ<br>2.54mmæ’é’ˆ3.3V~5Vä¾›ç”µ<br>1.27mmé‚®ç¥¨å­”ä¾›ç”µ ![](./../assets/Zero/Zero_8.png) ![](./../assets/Zero/Zero_10.png) ### Lichee Zero æ‹“å±•æ¿ é¡¹ç›® å‚æ•° CPU V3s å†…å­˜ 64MB DDR2 å­˜å‚¨ é¢„ç•™ SOP8 SPI Flashç„Šç›˜ <br>æ¿è½½TFå¡åº§ æ˜¾ç¤º é€šç”¨40P RGB LCD FPCåº§<br>å¯ç›´æ’å¸¸è§çš„40P 4.3/5/7å¯¸å±å¹•ï¼ˆæ¿è½½èƒŒå…‰é©±åŠ¨)ï¼Œé€šè¿‡è½¬æŽ¥æ¿å¯æ’50P 7/9å¯¸å±<br>æ”¯æŒå¸¸è§çš„272x480,480x800,1024x600ç­‰åˆ†è¾¨çŽ‡æ¿è½½ç”µé˜»å¼è§¦æ‘¸å±èŠ¯ç‰‡ï¼Œæ”¯æŒç”µé˜»å±<br>æ¿è½½RGB LED é€šè®¯æŽ¥å£ SDIO x2ï¼Œå¯æ­é…é…å¥—SDIO WiFi+BTæ¨¡å—<br>SPI x1<br>I2C x2<br>UART x3<br>100M Ether x1(å«EPHY)<br>OTG USB x1<br>MIPI CSI x1 å…¶ä»–æŽ¥å£ <br>PWM x2<br>LRADC x1<br>Speakerx2+ Mic x1 æ¿è½½å¤–è®¾ ä»¥å¤ªç½‘æŽ¥å£<br>3.5mmè€³æœºæŽ¥å£<br>é©»æžä½“éº¦å…‹é£Ž<br>é¢å¤–TFå¡å¡æ§½<br>4ä¸ªæŒ‰é”®<br>MIPIæŽ¥å£ ç”µæ°”ç‰¹æ€§ Micro USB 5Vä¾›ç”µ<br>2.54mmæ’é’ˆ3.3V~5Vä¾›ç”µ<br>1.27mmé‚®ç¥¨å­”ä¾›ç”µ ![](./../assets/Zero/Zero_9.png) ## ä½¿ç”¨æ•™ç¨‹ [Lichee Zero](./../../../../soft/Lichee/zh/Zero Doc/Start/board_intro.html) ## äº§å“æŠ€æœ¯æ”¯æŒ Lichee Zero å¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨ AIoT ä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡ <support@sipeed.com>ã€‚"},"/hardware/zh/lichee/Nano/Nano.html":{"title":"Lichee Nano","content":"# Lichee Nano ## æ¦‚è¿° Lichee Nanoæ˜¯åŸºäºŽå…¨å¿—ç§‘æŠ€çš„F1C100s(ARM 926EJSå†…æ ¸)é«˜æ€§èƒ½soCèŠ¯ç‰‡è®¾è®¡çš„è¿·ä½ å¼€å‘æ¿ã€‚å¼€å‘æ¿è®¾è®¡å°å·§ç²¾è‡´ï¼Œå°†èŠ¯ç‰‡çš„æ‰€æœ‰èµ„æºéƒ½å¼•å‡ºï¼Œæ¿è½½USBã€Flashã€TFå¡ã€4OP LCDæŽ¥å£ç­‰ï¼Œå¹¶æŠŠæ‰€æœ‰IOèµ„æºå¼•å‡ºï¼Œæ–¹ä¾¿å¼€å‘è€…æ‹“å±•ä½¿ç”¨ï¼Œéžå¸¸é€‚åˆåˆå­¦è€…å­¦ä¹ linuxæˆ–è€…å•†ç”¨äºŽäº§å“å¼€å‘ã€‚ > é»˜è®¤ç”¨æˆ·åç§°:root ç”¨æˆ·å¯†ç :licheepi <img src \"./../assets/Nano/Nano_2.png\" width 400> <img src \"./../assets/Nano/Nano_3.png\" width 400> ## å‚æ•° ### F1C100så‚æ•° Lichee Nanoå¼€å‘æ¿æ¿è½½çš„F1C100sèŠ¯ç‰‡åŠŸèƒ½å¾ˆå¼ºå¤§ï¼ŒèŠ¯ç‰‡å†…ç½®32MBDDRï¼Œæ‹¥æœ‰SDIOã€SPIã€UARTã€Speakerã€Micç­‰æŽ¥å£ï¼Œæ”¯æŒå¤–æŒ‚ 8~32MB SPI Nor Flash;åœ¨è§†é¢‘å¤„ç†æ–¹é¢è¡¨çŽ°å‡ºçŽ°ï¼Œæ”¯æŒ720Pè§†é¢‘è¾“å‡ºï¼Œæ”¯æŒH.264ã€MJPEGç­‰é«˜æ¸…æ ¼å¼çš„è§£ç ã€‚ ![](./../assets/Nano/F1C100s.png) é¡¹ç›® å‚æ•° CPU â€¢ARM9 CPU architecture<br>â€¢16KByte D Cache<br>â€¢32KByte I Cache Memory â€¢SIP 32MB DDR1<br>â€¢SD2.0,eMMC 4.41 Video â€¢H.264 1280x720@30fps decoding<br>â€¢MPEG1/2/4 1280x720@30fps decoding<br>â€¢MJPEG 1280x720@30fps encoding<br>â€¢JPEG encode size up to 8192x8192 Camera â€¢8 bit CMOS sensor interface<br>â€¢CCIR656 protocol for NTSC and PAL Audio â€¢Integrated analog audio codec with two DAC channels and one ADC channel,maximum 192kHz DAC sample rate and 48kHz ADC sample rate<br>â€¢One I2S/PCM interface Display â€¢LCD RGB interface up to 1280x720@60fps<br>â€¢TV CVBS output, support NTSC/PAL, with auto plug detecting Connectivity â€¢USB OTG, SDIO,IR, 3 x TWI, 2 x SPI, 3 x UART ### å¼€å‘æ¿å‚æ•° é¡¹ç›® å‚æ•° CPU å…¨å¿— F1C100sï¼Œ ARM 926EJS , ä¸»é¢‘ 408MHzï¼Œ å¯è¶…é¢‘è‡³ 600Mhz å†…å­˜åŠå­˜å‚¨ é›†æˆ 32MB DDR<br>æ¿è½½ 16MB NOR FLASHï¼Œ å¯ä»Ž FLASH å¯åŠ¨<br>æ¿è½½ TF å¡åº§ï¼Œå¯ä»Ž TF å¯åŠ¨ æ˜¾ç¤º é€šç”¨ 40P RGB LCD FPC 0.5mm åº§å­<br>å¯ç›´æŽ¥ä½¿ç”¨å¸¸è§çš„ 40P 4.3/5/7 å¯¸å±å¹•ï¼ˆæ¿è½½èƒŒå…‰é©±åŠ¨ï¼‰<br>æ”¯æŒå¸¸è§çš„ 272x480, 480x800, 1024x600 ç­‰åˆ†è¾¨çŽ‡<br>æ¿è½½ç”µé˜»å¼è§¦æ‘¸å±èŠ¯ç‰‡ è§†é¢‘å¤„ç†èƒ½åŠ› H.264 1280x720@30FPS è§£ç <br>MPEG1/2/4 1280x720@30FPS è§£ç <br>MJPEG 1280x720@30 FPS è§£ç <br>JPEG encode size up to 8192x8192 é€šä¿¡æŽ¥å£ SDIOï¼Œå¯æ­é…é…å¥— SDIO WiFi+BT æ¨¡å—<br>SPI x2<br>TWI x3<br>UART x3<br>OTG USB x1<br>TV out å…¶å®ƒæŽ¥å£ PWM x2<br>LRADC x1<br>Speakerx2 + Mic x1 ![](./../assets/Nano/Nano_pin.png) ### è½¯ä»¶å‚æ•° å¼€å‘çŽ¯å¢ƒ å‚æ•° Linux æ”¯æŒ3.10 BSP Linux<br>æ”¯æŒ4.19 ä¸»çº¿ Linux è£¸æœº Xboot è£¸æœº RT Thread ## ä½¿ç”¨æ•™ç¨‹ [Lichee Nano](./../../../../soft/Lichee/zh/Nano Doc Backup/index.html) ## äº§å“æŠ€æœ¯æ”¯æŒ Lichee Nano å¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡ <support@sipeed.com>ã€‚"},"/hardware/zh/maixzero/sense/start.html":{"title":"M0sense ä¸Šæ‰‹ä½¿ç”¨","content":" title: M0sense ä¸Šæ‰‹ä½¿ç”¨ keywords: M0sense update: date: 2023 02 03 version: v0.2 author: wonder content: å¢žåŠ æ—©æœŸå›ºä»¶è¯´æ˜Ž date: 2022 11 28 version: v0.1 author: wonder content: åˆæ¬¡ç¼–è¾‘ > å› ä¸ºå›ºä»¶ä¸åŒï¼Œm0sense å¯èƒ½æ˜¾ç¤ºä¸å‡º U ç›˜ï¼Œéœ€è¦è‡ªå·±æ ¹æ® [çƒ§å½• bin æ–‡ä»¶](#çƒ§å½• bin æ–‡ä»¶) ç¯‡ç« çš„å†…å®¹çƒ§å½•åŽæ‰èƒ½æ˜¾ç¤º U ç›˜ã€‚ ## åˆè§ > å› ä¸ºå›ºä»¶ä¸åŒï¼Œå¯èƒ½ä¸ä¼šæœ‰é¢‘è°±å›¾æ˜¾ç¤ºã€‚ é€šç”µåŽæ¿å­ä¸Šçš„ led äº®èµ·ï¼Œä¸”å±å¹•æ˜¾ç¤ºå‡ºå‘¨å›´çŽ¯å¢ƒéŸ³çš„é¢‘è°±å›¾ã€‚ <img src \"./assets/start/m0sense_start.jpg\" alt \"m0sense_start\" width \"45%\"> <img src \"./assets/start/m0sense_start_screen.jpg\" alt \"m0sense_start_screen\" width \"45%\"> ## U ç›˜çƒ§å½• å¯¹äºŽ M0sense æˆ‘ä»¬æä¾›äº†ä½¿ç”¨è™šæ‹Ÿ U ç›˜æ‹–æ‹½çƒ§å½•å›ºä»¶çš„æ–¹å¼ã€‚ > å› ä¸ºå›ºä»¶ä¸åŒï¼Œm0sense å¯èƒ½æ˜¾ç¤ºä¸å‡º U ç›˜ï¼Œéœ€è¦è‡ªå·±æ ¹æ® [çƒ§å½• bin æ–‡ä»¶](#çƒ§å½• bin æ–‡ä»¶) ç¯‡ç« çš„å†…å®¹çƒ§å½•åŽæ‰èƒ½æ˜¾ç¤º U ç›˜ã€‚ æŒ‰ä½æ¿å­ä¸Šçš„ BOOT é”®åŽæŒ‰ä¸‹ RESET é”®ï¼Œå°±ä¼šåœ¨ç”µè„‘ä¸Šæ˜¾ç¤ºä¸€ä¸ª U ç›˜äº†ã€‚ ![m0sense_udisk](./assets/start/m0sense_udisk.jpg) ç›´æŽ¥å°†æƒ³è¦çƒ§å½•çš„å›ºä»¶æ‹–è¿› U ç›˜ï¼ŒæˆåŠŸçƒ§å½•åŽ U ç›˜ä¼šè‡ªåŠ¨å¼¹å‡ºä¸”æ¿å­ä¼šè‡ªåŠ¨å¤ä½æ¥é‡æ–°åŠ è½½æ–°å›ºä»¶ã€‚ ![m0sense_drag_burn](./assets/start/m0sense_drag_burn.gif) è¿™è¾¹æä¾›äº†å‡ ä¸ª Demo å›ºä»¶ [ç‚¹æˆ‘è·³è½¬](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos)ï¼Œå¯ä»¥ç›´æŽ¥æ‹–æ‹½åˆ° U ç›˜æŸ¥çœ‹çƒ§å½•ç»“æžœï¼Œå…¶å¯¹åº”çš„æºç å‡å¯åœ¨ [github](https://github.com/sipeed/M0sense_BL702_example) ä¸Šé¢èŽ·å–ã€‚ > æºç é•œåƒåœ°å€ï¼š https://gitee.com/sipeed/M0sense_BL702_example ä¸‹é¢æ˜¯è¿™å‡ ä¸ª demo å›ºä»¶çš„è¯´æ˜Žä¸Žæ•ˆæžœå±•ç¤º ### hello_world.uf2 [ç‚¹æˆ‘ä¸‹è½½](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/hello_world) é€šè¿‡ U ç›˜çƒ§å½•æ–¹å¼å°†å®ƒçƒ§å½•è¿›æ¿å­åŽï¼Œå¯ä»¥é€šè¿‡ä¸²å£è½¯ä»¶æ‰“å¼€æ¿å­ä¸²å£ï¼Œå¯ä»¥çœ‹åˆ°æ¿å­æ‰“å°å‡ºçš„ `Hello,World` ![m0sense_hello_world](./assets/start/m0sense_hello_world.gif) ### blink_baremetal.uf2 [ç‚¹æˆ‘ä¸‹è½½](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/blink_baremetal) æ‹–æ‹½åˆ° U ç›˜çƒ§å½•å®ŒåŽï¼Œæ–­ç”µé‡æ–°è¿žæŽ¥ä¸€ä¸‹æ¿å­ï¼ŒLED å¼€å§‹é—ªç¯ã€‚æ‰“å¼€ä¸²å£åŽä¼šæ˜¾ç¤ºç¯çš„çŠ¶æ€ã€‚ æ‰“å¼€ä¸²å£è½¯ä»¶ ![m0sense_blink_baremetal_uart](./assets/start/m0sense_blink_baremetal_uart.gif) LED é—ªç¯ ![m0sense_blink_baremetal_led](./assets/start/m0sense_blink_baremetal_led.gif) ### blink_rtos.uf2 [ç‚¹æˆ‘ä¸‹è½½](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/blink_rtos) è¿™ä¸ª demo æ•ˆæžœä¸Žä¸Šé¢çš„ä¸€æ ·ï¼Œåªæ˜¯æ˜¯åŸºäºŽ RTOS å®žçŽ°çš„ï¼Œä¸Šé¢é‚£ä¸ª demo æ˜¯è£¸æœºç¨‹åºã€‚ ä½¿ç”¨ä¸²å£è½¯ä»¶æ‰“å¼€ä¸²å£åŽæ‰å¼€å§‹é—ªç¯ï¼Œå…³é—­ä¸²å£åŽç¯çš„é¢œè‰²ä¼šä¿æŒä¸å˜ã€‚ æ‰“å¼€ä¸²å£è½¯ä»¶ ![m0sense_blink_baremetal_uart](./assets/start/m0sense_blink_baremetal_uart.gif) LED é—ªç¯ ![m0sense_blink_baremetal_led](./assets/start/m0sense_blink_baremetal_led.gif) ### lcd_flush.uf2 [ç‚¹æˆ‘ä¸‹è½½](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/lcd_flush) çƒ§å½•è¿›æ¿å­åŽï¼Œæ¿å­é…å¥—çš„ lcd èƒŒæ™¯è‰²å˜åŒ–ï¼Œæ‰“å¼€ä¸²å£ä¼šæ˜¾ç¤ºå½“å‰å±å¹•é¢œè‰²çš„æ•°å€¼ã€‚ ![m0sense_lcd_flush](./assets/start/m0sense_lcd_flush.gif) ![m0sense_lcd_flush_uart](./assets/start/m0sense_lcd_flush_uart.gif) ### imu.uf2 [ç‚¹æˆ‘ä¸‹è½½](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/imu) çƒ§å½•è¿›æ¿å­åŽï¼Œä»Žä¸²å£å¯ä»¥çœ‹åˆ°æ¿å­ä¸Šé¢ 6 è½´ IMU (æƒ¯æ€§ä¼ æ„Ÿå™¨)çš„æ•°æ®ã€‚ ![m0sense_imu_uart](./assets/start/m0sense_imu_uart.gif) ### single_button_control.uf2 [ç‚¹æˆ‘ä¸‹è½½](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/single_button_control) çƒ§å½•åˆ°æ¿å­ä¸­åŽï¼ŒæŒ‰ä¸‹ BOOT é”®ï¼ŒLED ä¼šåˆ‡æ¢é¢œè‰²ï¼Œä¸²å£ä¼šæ‰“å°å½“å‰ LED IO çŠ¶æ€ã€‚ å…·ä½“é€»è¾‘å¯ä»¥æŸ¥çœ‹[æºç ](https://gitee.com/Sipeed/M0sense_BL702_example/blob/main/m0sense_apps/rtos_demos/single_button_control/main.c)ã€‚ ![single_button_control](./assets/start/single_button_control.gif) ![single_button_control_uart](./assets/start/single_button_control_uart.gif) ### audio_recording.uf2 [ç‚¹æˆ‘ä¸‹è½½](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/audio_recording) çƒ§å½•è¿›æ¿å­åŽï¼Œä¸²å£ä¼šæŒç»­æ‰“å°éº¦å…‹é£Žæ‰€èŽ·å¾—çš„å‘¨å›´çŽ¯å¢ƒéŸ³çš„ 16bit pcm æ ¼å¼æ•°æ®ã€‚ ![audio_recording](./assets/start/audio_recording.gif) ## SDK çŽ¯å¢ƒæ­å»º M0sense è¦æ±‚åœ¨ Linux çŽ¯å¢ƒä¸‹è¿›è¡Œç¼–è¯‘ã€‚ ### èŽ·å–ä¾‹ç¨‹ä»“åº“ ```bash git clone https://gitee.com/Sipeed/M0sense_BL702_example.git ``` æœ€ç»ˆç»“æž„æ ‘å¦‚ä¸‹ ```bash sipeed@DESKTOP:~$ tree L 1 M0sense_BL702_example/ M0sense_BL702_example/ â”œâ”€â”€ LICENSE # è®¸å¯è¯æ–‡ä»¶ â”œâ”€â”€ README.md # ä»“åº“è¯´æ˜Ž â”œâ”€â”€ bl_mcu_sdk # SDK æ–‡ä»¶ â”œâ”€â”€ build.sh # ç¼–è¯‘è„šæœ¬ â”œâ”€â”€ m0sense_apps # ä¾‹ç¨‹æºç  â”œâ”€â”€ misc # å…¶ä»–åº”ç”¨ â””â”€â”€ uf2_demos # ä¾‹ç¨‹æ–‡ä»¶ ``` ### åœ¨ä¾‹ç¨‹ç›®å½•ä¸‹ï¼ŒèŽ·å¾— SDK ä»“åº“ ä»“åº“å¾ˆå¤§ï¼Œ400M ä»¥ä¸Šã€‚ ```bash cd M0sense_BL702_example git clone https://gitee.com/bouffalolab/bl_mcu_sdk ``` æœ€ç»ˆå¾—åˆ°çš„ç»“æž„æ ‘åº”å¦‚ä¸‹(æˆªå–éƒ¨åˆ†)ï¼š ```bash sipeed@DESKTOP:~$ tree L 2 M0sense_BL702_example/ M0sense_BL702_example/ â”œâ”€â”€ LICENSE # è®¸å¯è¯æ–‡ä»¶ â”œâ”€â”€ README.md # ä»“åº“è¯´æ˜Ž â”œâ”€â”€ bl_mcu_sdk # SDK æ–‡ä»¶ â”‚ â”œâ”€â”€ README_zh.md # SDK ä¸­æ–‡è¯´æ˜Ž â”‚ â”œâ”€â”€ ReleaseNotes # SDK å‘å¸ƒè¯´æ˜Ž â”‚ â”œâ”€â”€ bsp â”‚ â”œâ”€â”€ cmake â”‚ â”œâ”€â”€ components â”‚ â”œâ”€â”€ docs â”‚ â”œâ”€â”€ drivers â”‚ â”œâ”€â”€ examples â”‚ â”œâ”€â”€ project.build â”‚ â”œâ”€â”€ tools â”‚ â””â”€â”€ utils â”œâ”€â”€ build.sh # ç¼–è¯‘è„šæœ¬ â”œâ”€â”€ m0sense_apps # ä¾‹ç¨‹æºç  â”œâ”€â”€ misc # å…¶ä»–åº”ç”¨ â””â”€â”€ uf2_demos # ä¾‹ç¨‹æ–‡ä»¶ ``` ### åœ¨ä¾‹ç¨‹ç›®å½•ä¸‹ï¼ŒèŽ·å–ç¼–è¯‘å·¥å…·é“¾ ```bash git clone https://gitee.com/bouffalolab/toolchain_gcc_sifive_linux ``` æœ€ç»ˆå¾—åˆ°çš„ç»“æž„æ ‘åº”å¦‚ä¸‹(æˆªå–éƒ¨åˆ†)ï¼š ```bash sipeed@DESKTOP:~$ tree L 2 M0sense_BL702_example/ M0sense_BL702_example/ â”œâ”€â”€ LICENSE # è®¸å¯è¯æ–‡ä»¶ â”œâ”€â”€ README.md # ä»“åº“è¯´æ˜Ž â”œâ”€â”€ bl_mcu_sdk # SDK æ–‡ä»¶ â”‚ â”œâ”€â”€ README_zh.md # SDK ä¸­æ–‡è¯´æ˜Ž â”‚ â”œâ”€â”€ ReleaseNotes # SDK å‘å¸ƒè¯´æ˜Ž â”‚ ... â”œâ”€â”€ build.sh # ç¼–è¯‘è„šæœ¬ â”œâ”€â”€ m0sense_apps # ä¾‹ç¨‹æºç  â”œâ”€â”€ misc # å…¶ä»–åº”ç”¨ â”œâ”€â”€ toolchain_gcc_sifive_linux # ç¼–è¯‘å·¥å…·é“¾ â”‚ â”œâ”€â”€ bin # ç¼–è¯‘é“¾å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ â”‚ â”œâ”€â”€ lib # åŠ¨æ€åº“æ–‡ä»¶ â”‚ ... â””â”€â”€ uf2_demos # ä¾‹ç¨‹æ–‡ä»¶ ``` ### åœ¨ä¾‹ç¨‹ç›®å½•ä¸‹ï¼Œæ‰“è¡¥ä¸ é¦–å…ˆç¡®å®šæ˜¯åœ¨ `M0sense_BL702_example` ç›®å½•ä¸‹ã€‚ æ‰“è¡¥ä¸å‰éœ€è¦å…ˆè®¾ç½®ä¸€ä¸‹ç”¨æˆ·åå’Œé‚®ç®±, éšä¾¿è®¾ç½®ä¸€ä¸ª ```bash cd bl_mcu_sdk git config user.email \"m0sense@sipeed.com\" git config user.name \"tinymaix\" ``` è®¾ç½®å®ŒåŽå¯ä»¥æ‰“è¡¥ä¸äº†ã€‚ ```bash cd .. ./build.sh patch ``` å‡ºçŽ° `Apply patch for you!` è¯´æ˜ŽæˆåŠŸæ‰“è¡¥ä¸äº†ï¼Œå¯ä»¥æŽ¥ç€ä¸‹é¢çš„æ“ä½œäº†ã€‚ ![m0sense_patch](./assets/start/m0sense_patch.jpg) ### é…ç½®ç¼–è¯‘å·¥å…·é“¾è·¯å¾„ ä»¥åŽæ¯æ¬¡å¼€å§‹ç¼–è¯‘éƒ½éœ€è¦æ‰§è¡Œä¸€æ¬¡è¿™ä¸ªæ¥é…ç½®ä¸‹ç¼–è¯‘å·¥å…·é“¾è·¯å¾„ã€‚ é¦–å…ˆéœ€è¦çŸ¥é“ `M0sense_BL702_example` çš„è·¯å¾„ã€‚ ```bash sipeed@DESKTOP:~$ pwd /home/lee/M0sense_BL702_example ``` æˆ‘ä»¬å¤åˆ¶ä¸Šé¢æ‰§è¡Œ `pwd` åŽçš„ç»“æžœï¼ˆæ¯ä¸ªäººçš„ä¼šä¸ä¸€æ ·ï¼‰ç„¶åŽåœ¨åŽé¢åŠ ä¸Š `/toolchain_gcc_sifive_linux/bin`ï¼Œç„¶åŽæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå°±é…ç½®å®Œè·¯å¾„äº† ```bash PATH $PATH:/home/lee/M0sense_BL702_example/toolchain_gcc_sifive_linux/bin ``` æ ¹æ®æ¯ä¸ªäººç”µè„‘ä¸åŒæ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤åŽå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ `riscv64 unknown elf gcc v` æ¥çœ‹æ‰€é…ç½®çš„å·¥å…·é“¾æ˜¯ä¸æ˜¯æ­£ç¡®äº†ã€‚ é…ç½®æˆåŠŸäº†çš„ç»“æžœå’Œä¸‹é¢ç±»ä¼¼ã€‚ ```bash sipeed@DESKTOP:~$ riscv64 unknown elf gcc v Using built in specs. COLLECT_GCC riscv64 unknown elf gcc COLLECT_LTO_WRAPPER /home/lee/M0sense_BL702_example/toolchain_gcc_sifive_linux/bin/../libexec/gcc/riscv64 unknown elf/10.2.0/lto wrapper Target: riscv64 unknown elf ``` æ²¡æœ‰æˆåŠŸçš„è¯ä¼šæç¤ºæ²¡æ‰¾åˆ° `riscv64 unknown elf gcc`ï¼Œè‡ªå·±å†é‡æ–°é…ç½®ä¸€ä¸‹ ![m0sense_toolchain_notfound](./assets/start/m0sense_toolchain_notfound.jpg) ### ç¼–è¯‘ demo é¦–æ¬¡ç¼–è¯‘ demo å‰ï¼Œéœ€è¦åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šç¼–è¯‘ä¸€ä¸‹å›ºä»¶è½¬æ¢å·¥å…·æ¥ä¸ºäº†ç›´æŽ¥ U ç›˜æ‹–æ‹½çƒ§å½•ã€‚ ç¡®å®šè‡ªå·±æ˜¯åœ¨ `M0sense_BL702_example` ç›®å½•ä¸‹æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ ```bash sudo apt install gcc # å®‰è£…é€‚ç”¨äºŽè‡ªå·±ç”µè„‘çš„ gcc gcc I libs/uf2_format misc/utils/uf2_conv.c o uf2_convert # ç¼–è¯‘å‡ºå›ºä»¶è½¬æ¢å·¥å…· ``` ç„¶åŽå°±å¯ä»¥ç¼–è¯‘ demo äº† ```bash ./build.sh m0sense_apps/blink/blink_baremetal ``` æœ€ç»ˆç”Ÿæˆçš„ U ç›˜çƒ§å½•çš„ uf2 æ–‡ä»¶åœ¨ uf2_demos ç›®å½•ä¸‹ï¼Œbin æ–‡ä»¶ä¹‹ç±»çš„åœ¨ bl_mcu_sdk/out æ–‡ä»¶å¤¹ä¸‹ã€‚ ## SDK ç¼–è¯‘æ³¨æ„äº‹é¡¹ 1. ç¬¬ä¸€æ¬¡æ­å»ºçŽ¯å¢ƒæœ€å¥½è‡ªå·±ç¼–è¯‘ä¸€ä»½ uf2 æ–‡ä»¶è½¬æ¢å·¥å…· 2. æ¯æ¬¡æ–°å¼€ç»ˆç«¯ç¼–è¯‘è®°å¾—é…ç½®ä¸€ä¸‹ [ç¼–è¯‘å·¥å…·é“¾è·¯å¾„](#é…ç½®ç¼–è¯‘å·¥å…·é“¾è·¯å¾„) 3. SDK ç¼–è¯‘å¤±è´¥æ—¶ç¡®å®šè‡ªå·±æ˜¯æŒ‰ç…§ [ç¼–è¯‘ demo](#ç¼–è¯‘ demo) é‡Œé¢æ‰€è¯´çš„ä½¿ç”¨ `./build.sh m0sense_apps/blink/blink_baremetal` å‘½ä»¤æ¥æ‰§è¡Œç¼–è¯‘çš„ï¼Œè€Œä¸æ˜¯ `./build.sh m0sense_apps/blink/blink_baremetal/` ï¼ˆæ³¨æ„ç»“å°¾å¤„çš„ `/` ï¼‰å‘½ä»¤ ## çƒ§å½• bin æ–‡ä»¶ æœ‰æ—¶å€™å¯èƒ½ç”±äºŽæŸäº›åŽŸå› éœ€è¦çƒ§å½• bin æ–‡ä»¶ï¼Œè¿™é‡Œå†™ä¸€ä¸‹çƒ§å½•æ–¹æ³•ã€‚ ç»™ M0sense çƒ§å½•éœ€è¦ç”¨åˆ°åšæµå®˜æ–¹çƒ§å½•å·¥å…·ï¼Œå‰å¾€ https://dev.bouffalolab.com/download ä¸‹è½½åç§°ä¸º `Bouffalo Lab Dev Cube` çš„æ–‡ä»¶ã€‚è§£åŽ‹åŽå°±å¾—åˆ°äº†ç”¨æ¥çƒ§å½•æ¿å­çš„åº”ç”¨ç¨‹åºã€‚ ![bouffalo_cube](./../../maix/m1s/other/assets/start/bouffalo_cube.png) è§£åŽ‹åŽçš„æ–‡ä»¶å¤¹ä¸­ä¸»è¦å…³æ³¨ `BLDevCube`ã€ `BLDevCube macos` å’Œ `BLDevCube ubuntu` ä¸‰ä¸ªæ–‡ä»¶ï¼Œç”¨äºŽåœ¨ä¸åŒç³»ç»Ÿå¯åŠ¨è¿™ä¸ªçƒ§å½•å·¥å…·ã€‚ ![application](./../../maix/m1s/other/assets/start/application.png) ç„¶åŽä½¿ç”¨é•Šå­æˆ–å…¶ä»–é‡‘å±žçŸ­æŽ¥ä¸Šæ¿å­ä¸Šçš„ 3.3V å¼•è„šå’Œ boot å¼•è„šï¼Œç„¶åŽåœ¨ç»™æ¿å­é€šç”µï¼Œè¿™æ ·æ¿å­è¿›å…¥çƒ§å½•æ¨¡å¼äº†ã€‚å¯ä»¥åœ¨ç”µè„‘è®¾å¤‡ç®¡ç†å™¨ä¸­çœ‹åˆ°å‡ºçŽ°äº†ä¸€ä¸ªä¸²å£è®¾å¤‡ã€‚ çŸ­æŽ¥å¼•è„š è®¾å¤‡ç®¡ç†å™¨ä¸­çš„ä¸²å£è®¾å¤‡ ![boot_mode](./assets/start/boot_mode.jpg) ![serial_device](./assets/start/serial_device.jpg) æŽ¥ç€æ‰“å¼€ `BLDevCube` çƒ§å½•è½¯ä»¶ï¼ˆæ ¹æ®è‡ªå·±ç³»ç»Ÿé€‰æ‹©ï¼‰ï¼Œé€‰æ‹© `BL702` èŠ¯ç‰‡ï¼Œåœ¨æ‰“å¼€çš„è½¯ä»¶ç•Œé¢é€‰æ‹© MCU æ¨¡å¼ï¼Œé€‰æ‹©æƒ³è¦çƒ§å½•è¿›åŽ»çš„å›ºä»¶ã€‚é»˜è®¤çš„å›ºä»¶å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½åˆ°: [Click me](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/default_firmware) <table> <tr> <td><img src \"./../../maix/m1s/other/assets/start/select_bl702.png\" alt \"select_bl702\" style \"transform:rotate(0deg);\"></td> <td><img src \"./../../maix/m1s/other/assets/start/mcu_mode.png\" alt \"mcu_mode\" style \"transform:rotate(0deg);\" width \"70%\"></td> </tr> </table> ç‚¹å‡» `Refresh`ï¼Œé€‰æ‹©å”¯ä¸€çš„ä¸²å£ï¼ˆå¦‚æžœçœ‹åˆ°çš„ä¸æ˜¯å”¯ä¸€ä¸²å£ï¼Œé‡æ–°çŸ­æŽ¥ boot å¼•è„šå’Œ 3.3v å¼•è„šåŽå†ä¸Šç”µä½¿ M0sense è¿›å…¥ä¸‹è½½æ¨¡å¼ï¼‰ï¼Œè®¾ç½®æ³¢ç‰¹çŽ‡ 2000000ï¼Œ ç‚¹å‡»ä¸‹è½½çƒ§å½•ã€‚ ![burn_bl702](./assets/start/burn_bl702.png) çƒ§å½•ç»“æŸåŽï¼Œé‡æ–°æ’æ‹”ä¸€æ¬¡ USB æ¥é‡æ–°å¯åŠ¨ bl702 ä»¥åº”ç”¨æ–°çš„å›ºä»¶ã€‚ ![finish_burn_702](./assets/start/finish_burn_702.png) ## è¡¥å……è¯´æ˜Ž æ¿å­ä¸Šæœ‰ BOOT æŒ‰é”®å’Œ BOOT å¼•è„šè¿™ä¸¤å¤„ BOOT ä¸å°è¯´æ˜Žã€‚ <img src \"./assets/start/m0sense_boot_key.jpg\" width \"40%\" alt \"m0sense_boot_key\"> <img src \"./assets/start/m0sense_boot_silkprint.jpg\" width \"40%\" alt \"m0sense_boot_silkprint\"> ä¸Šé¢å¯ä»¥çœ‹å‡ºæ¥ä¸¤ä¸ªæœ‰ BOOT è¯´æ˜Žï¼Œåœ¨åŽŸç†å›¾ä¸­åˆ†åˆ«å¦‚ä¸‹ï¼š ![boot_description](./assets/start/boot_description.png) ä»Ž [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/2_Schematic) å¯ä»¥çœ‹åˆ°ã€‚ä¸¤ä¸ªæŒ‰é”®åˆ†åˆ«è¿žæŽ¥åˆ°äº† GPIO_2 å’Œ AU_CHIPï¼Œæ ¹æ®èŠ¯ç‰‡å‚è€ƒæ‰‹å†Œå¯ä»¥çŸ¥é“ `AU_CHIP` å¼•è„šæ˜¯èŠ¯ç‰‡çš„å¤ä½å¼•è„šï¼Œå› æ­¤å¯¹åº”ç€ Reset æŒ‰é”®ï¼Œ æ‰€ä»¥å¦ä¸€ä¸ªæŒ‰é”®ä¸ºè‡ªå®šä¹‰çš„è½¯ä»¶ Boot å¼•è„šï¼Œéœ€è¦æ­é…[å›ºä»¶](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/7_Example_demos/default_firmware)æ‰èƒ½é€šè¿‡ U ç›˜çƒ§å½•æ–¹å¼æ¥å¿«é€Ÿçƒ§å½•ã€‚ ä¸Šé¢æ ‡è¯†çš„åŽŸç†å›¾ä¸­ï¼Œ Boot_Strap ä¸ºèŠ¯ç‰‡çš„ç¡¬ä»¶ BOOT å¼•è„šï¼Œä¸Šç”µå‰å°†ä»–æ‹‰é«˜å°±å¯ä»¥è¿›å…¥å®Œæ•´å›ºä»¶çƒ§å½•æ¨¡å¼ ï¼ˆéœ€è¦é…åˆå®˜æ–¹çƒ§å½•å·¥å…·æ¥çƒ§å½•å›ºä»¶ï¼‰ã€‚ U ç›˜çƒ§å½•æ¨¡å¼æ˜¯åŸºäºŽè½¯ä»¶å®žçŽ°çš„ä¸€ç§ç‰¹æ®Šçš„çƒ§å½•æ–¹å¼ï¼Œä¸²å£çƒ§å½•æ–¹å¼æ˜¯èŠ¯ç‰‡æœ€åŽŸå§‹çš„çƒ§å½•æ–¹å¼ã€‚"},"/hardware/zh/maixzero/sense/maix_zero_sense.html":{"title":"M0sense å¼€å‘æ¿","content":" title: M0sense å¼€å‘æ¿ keywords: BL702 ,å¼€å‘æ¿ update: date: 2022 11 08 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™æ–‡æ¡£ ## æ¦‚è¿° Sipeed M0sense æ˜¯åŸºäºŽ[åšæµæ™ºèƒ½ç§‘æŠ€](http://www.bouffalolab.com/)çš„ BL702 èŠ¯ç‰‡æ‰€è®¾è®¡çš„ä¸€æ¬¾ AIOT å¼€å‘æ¿ï¼Œä¸»æŽ§èŠ¯ç‰‡ä¸º Risc V æž¶æž„ï¼Œæ”¯æŒä½ŽåŠŸè€—è“ç‰™ã€‚æ¿è½½ä¸€ä¸ª 8P FPC æŽ¥å£æ¥è¿žæŽ¥ LCD å±å¹•ï¼Œé¢å¤–é…å¤‡äº† 1 ä¸ªéº¦å…‹é£Žã€1 ä¸ª RGB LED å’Œä¸€é¢—å…­è½´ä¼ æ„Ÿå™¨èŠ¯ç‰‡ï¼Œå¼•å‡ºäº†ä¸€è·¯ USB 2.0 FS åˆ° Type C åº§å­ã€‚ è´­ä¹°é“¾æŽ¥ï¼š[æ·˜å®](https://item.taobao.com/item.htm?id 693997918701) <img src \"./assets/m0sense_1.png\" alt \"m0sense_1.png\" > ## è§†é¢‘ M1s Dock å’Œ M0Sense æ€»è§ˆï¼› M0Sense åœ¨ 3:15 å¤„å¼€å§‹ï¼Œä¹‹å‰çš„ä¸º M1s Dock å®£ä¼ è§†é¢‘. <iframe src \"//player.bilibili.com/player.html?aid 559937139&bvid BV1De4y117sP&cid 887814913&page 1&t 197\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" > </iframe> ## ç‰¹ç‚¹ ä¸»èŠ¯ç‰‡ BL702 RISC V 144MHz æ”¯æŒè“ç‰™è§„èŒƒ 5.0/ è“ç‰™ä½ŽåŠŸè€— BLE æ¿è½½æ˜¾ç¤ºå±æŽ¥å£ï¼ˆå¯é€‰é… 0.68 å¯¸ 80x160 æ˜¾ç¤ºå±ï¼‰ æ¿è½½ 1 ä¸ªæ¨¡æ‹Ÿéº¦å…‹é£Žã€1 ä¸ª RGB LEDã€1 ä¸ª IMU å¼•å‡ºä¸€è·¯ USB 2.0 FS åˆ° USB Type C æŽ¥å£ ## å‚æ•° <table> <thead> <tr> <th colspan \"2\" > M0sense å¼€å‘æ¿ </th> </tr> </thead> <tbody> <tr> <td rowspan \"6\" style \"white space:nowrap\">ä¸»æŽ§ BL702 å¤„ç†å™¨</td> </tr> <tr> <td>32 bits RISC V with FPU (Max Freq 144MHz)</td> </tr> <tr> <td>132KB RAMï¼Œ192KB ROM, 512KB Flash</td> </tr> <tr> <td> Â· 2 ä¸ª 32 ä½é€šç”¨å®šæ—¶å™¨ <br> Â· 8 ä¸ª DMA é€šé“ <br> Â· 1 ä¸ª SPI ä¸»/ä»Žæœº <br> Â· 2 ä¸ª UART <br> Â· 1 ä¸ª I2C ä¸»æœº <br> Â· 1 ä¸ª I2S ä¸»/ä»Žæœº <br> Â· 5 ä¸ª PWM é€šé“ <br> Â· 12 ä½é€šç”¨ ADC <br> Â· 10 ä½é€šç”¨ DAC <br> </td> </tr> <tr> <td>æ— çº¿ï¼š<br> Â· æ”¯æŒ 2.4Ghz è“ç‰™è§„èŒƒ V5.0<br> Â· è“ç‰™ä½ŽåŠŸè€— 1Mbps å’Œ 2Mbps </td> </tr> <tr> <td> USB 2.0 FS å¼•å‡ºåˆ° USB Type C æŽ¥å£ç”¨æ¥ä¸‹è½½å›ºä»¶ </td> </tr> <tr> <td rowspan \"6\" style \"white space:nowrap\"> æ¿è½½éƒ¨ä»¶ </td> </tr> <tr> <td>æ˜¾ç¤ºå±æŽ¥å£ï¼ˆå¯é€‰é… 0.96 å¯¸ 80x160 æ˜¾ç¤ºå±ï¼‰</td> </tr> <tr> <td>æ¿è½½ 1 ä¸ªæ¨¡æ‹Ÿéº¦å…‹é£Ž</td> </tr> <tr> <td>1 ä¸ª RGB LED</td> </tr> <tr> <td>1 ä¸ª 6 è½´ IMUï¼ˆQMI8658Aï¼‰</td> </tr> <tr> <td>é™¶ç“·å¤©çº¿</td> </tr> <tr> <td rowspan \"5\" style \"white space:nowrap\"> å…¶ä»–è¯´æ˜Ž </td> </tr> <tr> <td> 3D æ¨¡åž‹æ–‡ä»¶ä¸‹è½½ï¼š<a href \"https://dl.sipeed.com/shareURL/Maix Zero/M0sense/5_3D_file\">ç‚¹å‡»è·³è½¬</a> </td> </tr> <tr> <td>å¤–éƒ¨ä¾›ç”µéœ€æ±‚ TYPE C æŽ¥å£ï¼š5VÂ±10% 0.5A</td> </tr> <tr> <td>æ¸©å‡: &lt;30K</td> </tr> <tr> <td>å·¥ä½œæ¸©åº¦èŒƒå›´: 10â„ƒ ~ 65â„ƒ</td> </tr> </tbody> </table> ## å°ºå¯¸ <img src \"./assets/m0sense_size.png\" alt \"m0sense_size\" width 55%> ## å¼•è„š <img src \"./assets/m0sense_pinmap.png\" alt \"m0sense_pinmap\" width 75%> ## å¯¹æ¯” <table> <thead> <tr> <th>é¡¹ç›®</th> <th>Arduino Nano 33 BLE SENSE</th> <th>Sipeed M0sense</th> </tr> </thead> <body> <tr> <td> MCU </td> <td>nRF52840 (Cortex M4)</td> <td>BL702 (RV32)</td> </tr> <tr> <td>Freq</td> <td>64MHz</td> <td>144MHz</td> </tr> <tr> <td>SRAM</td> <td>256KB</td> <td>132KB</td> </tr> <tr> <td>è“ç‰™</td> <td>æ”¯æŒ</td> <td>æ”¯æŒ</td> </tr> <tr> <td>IIC/UART/SPI</td> <td>æœ‰</td> <td>æœ‰</td> </tr> <tr> <td>LED</td> <td>å•è‰²</td> <td>RGB ä¸‰è‰²</td> </tr> <tr> <td>MIC</td> <td>æœ‰</td> <td>æœ‰</td> </tr> <tr> <td>IMU</td> <td>æœ‰</td> <td>æœ‰</td> </tr> <tr> <td>å…¶ä»–ä¼ æ„Ÿå™¨</td> <td>APDS9960ï¼ŒLPS22HBï¼ŒHTS221</td> <td></td> </tr> <tr> <td>LCD</td> <td></td> <td>å¯é€‰ 0.96 å¯¸å±å¹•</td> </tr> <tr> <td>USB</td> <td>æœ‰</td> <td>æœ‰</td> </tr> <tr> <td>å°ºå¯¸</td> <td>45mm x 18mm</td> <td>23mm x 18mm</td> </tr> <tr> <td>æ¨¡åž‹å¹³å°</td> <td>TFLite Micro + edge impulse</td> <td>TinyMaix + MaixHub</td> </tr> <tr> <td>ä»·æ ¼</td> <td>$40</td> <td>$4</td> </tr> </body> </table> ## è½¯ä»¶æè¿° <table> <thead> <tr> <th colspan \"2\" > M0sense </th> </tr> </thead> <tbody> <tr> <td>OS</td> <td>FreeRTOS</td> </tr> <tr> <td>å¼€å‘æ–¹å¼</td> <td>Â· åŽŸç”Ÿ C SDK<br>Â· MaixHAL C æ¨¡å—<br>Â· PikaPython </td> </tr> <tr> <td>å›ºä»¶ä¸‹è½½</td> <td>Â· USBè™šæ‹Ÿä¸²å£ä¸‹è½½<br>Â· USBè™šæ‹Ÿç£ç›˜æ‹–æ‹½æ›´æ–°</td> </tr> <tr> <td>AI æŽ¨ç†æ¡†æž¶</td> <td>TinyMaix æŽ¨ç†æ¡†æž¶</td> </tr> <tr> <td>AI æ¨¡åž‹ä¸‹è½½</td> <td>Â· <a href \"https://maixhub.com/\">MaixHub</a> ä¸‹è½½ã€‚æ”¯æŒ å…³é”®è¯å”¤é†’ï¼Œæ‰‹åŠ¿è¯†åˆ« ç­‰æ¨¡åž‹</td> </tr> <tr> <td>Sipeed å‚è€ƒç¤ºä¾‹</td> <td>Â· https://github.com/sipeed/M0sense_BL702_example</td> </tr> </tbody> </table> ## è¡¥å……èµ„æ–™ [æ¿å¡è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/1_Specification) [æ¿å¡åŽŸç†å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/2_Schematic) [æ¿å¡ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/3_Bit_number_map) [æ¿å¡å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/4_Dimensional_drawing) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/Maix Zero/M0sense/5_3D_file) [åšæµå®˜æ–¹æ–‡æ¡£](https://dev.bouffalolab.com/home/) [BL702 æ•°æ®æ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL702_DS/zh_CN) (gitee) [BL702 å‚è€ƒæ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL702_RM/zh_CN) (gitee) [ä¾‹ç¨‹](https://github.com/sipeed/M0sense_BL702_example) (Github) [Bouffalolab SDK](https://github.com/bouffalolab/bouffalo_sdk)(Github) äº¤æµ QQ ç¾¤ï¼š`816177882` ã€‚[ç‚¹æˆ‘åŠ ç¾¤](https://jq.qq.com/?_wv 1027&k CSnLIADN) è®ºå›ï¼š[bbs.sipeed.com](https://bbs.sipeed.com/) ## æ³¨æ„äº‹é¡¹ <table> <tr> <th>é¡¹ç›®</th> <th>æ³¨æ„äº‹é¡¹</th> </tr> <tr> <td>é™ç”µé˜²æŠ¤</td> <td>è¯·é¿å…é™ç”µæ‰“åˆ° PCBA ä¸Šï¼›æŽ¥è§¦ PCBA ä¹‹å‰è¯·æŠŠæ‰‹çš„é™ç”µé‡Šæ”¾æŽ‰</td> </tr> <tr> <td>å®¹å¿ç”µåŽ‹</td> <td> æ¯ä¸ª GPIO çš„å·¥ä½œç”µåŽ‹å·²ç»åœ¨åŽŸç†å›¾ä¸­æ ‡æ³¨å‡ºæ¥ï¼Œè¯·ä¸è¦è®© GPIO çš„å®žé™…å·¥ä½œçš„ç”µåŽ‹è¶…è¿‡é¢å®šå€¼ï¼Œå¦åˆ™ä¼šå¼•èµ· PCBA çš„æ°¸ä¹…æ€§æŸå </td> </tr> <tr> <td>FPC åº§å­</td> <td>åœ¨è¿žæŽ¥ FPC è½¯æŽ’çº¿çš„æ—¶å€™ï¼Œè°²ç¡®ä¿æŽ’çº¿æ— åä¾ˆåœ°å®Œæ•´åœ°æ’å…¥åˆ°æŽ’çº¿ä¸­</td> </tr> <tr> <td>æ’æ‹”</td> <td>è¯·å®Œå…¨æ–­ç”µåŽæ‰è¿›è¡Œæ’æ‹”æ“ä½œ</td> </tr> <tr> <td>é¿å…çŸ­è·¯</td> <td>è¯·åœ¨ä¸Šç”µè¿‡ç¨‹ä¸­ï¼Œé¿å…ä»»ä½•æ¶²ä½“å’Œé‡‘å±žè§¦ç¢°åˆ° PCBA ä¸Šçš„å…ƒä»¶çš„ç„Šç›˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´è·¯ï¼Œçƒ§æ¯ PCBA</td> </tr> </table> ## è”ç³» M0sense å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼ŒæŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œè¯·è”ç³»ä½¿ç”¨é‚®ç®± [support@sipeed.com](support@sipeed.com)"},"/hardware/zh/maixzero/m0p/m0p.html":{"title":"M0P æ¨¡ç»„","content":" title: M0P æ¨¡ç»„ keywords: M0P ,æ¨¡ç»„, bl618, BL618 update: date: 2023 03 09 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™æ–‡æ¡£ ## æ¨¡ç»„æ¦‚è¿° Sipeed M0P æ¨¡ç»„æ˜¯åŸºäºŽ[åšæµæ™ºèƒ½ç§‘æŠ€](http://www.bouffalolab.com/)çš„ BL618 èŠ¯ç‰‡æ‰€è®¾è®¡çš„ä¸€æ¬¾ AIOT æ¨¡ç»„ï¼Œæ”¯æŒ WIFI6ã€è“ç‰™ 5.2 ç­‰æ— çº¿åè®®ï¼Œé‚®ç¥¨å­”çš„è®©å®ƒèƒ½å¿«é€Ÿåº”ç”¨åœ¨å¤šç§ AIOT åœºåˆã€‚ è´­ä¹°é“¾æŽ¥ï¼š[æ·˜å®](https://item.taobao.com/item.htm?id 710359411812) <img src \"./assets/m0p/m0p_module_outlook.png\" alt \"m0p_module_outlook\" width 15%> ## æ¨¡ç»„ç‰¹ç‚¹ ä¸»èŠ¯ç‰‡ BL618 RV32 320MHz RISC V æ”¯æŒ 2.4G WIFI6ï¼ˆIEEE 802.11 b/g/n/axï¼‰ æ”¯æŒè“ç‰™ 5.x åŒæ¨¡ï¼ˆBT+BLEï¼‰ æ”¯æŒ Zigbee / IEEE 802.15.4 æ”¯æŒ USB 2.0 HS OTGï¼ˆ480Mhzï¼‰ æ”¯æŒIPEXä¸€ä»£å¤©çº¿åº§å­å’Œ PCB æ¿è½½å¤©çº¿ æ¿è½½ SPI FLASHï¼ˆå¯é€‰å®¹é‡ï¼‰ é‚®ç¥¨å­”å¼•å‡ºæ‰€æœ‰ IO ## æ¨¡ç»„å‚æ•° <table> <thead> <tr> <th colspan \"3\"> M0P æ¨¡ç»„ </th> </tr> </thead> <tbody> <tr> <td rowspan \"18\" style \"white space:nowrap\">ä¸»æŽ§ BL618 å¤„ç†å™¨</td> </tr> <tr> <td colspan \"2\">RISC V CPUsï¼šRV32 320MHz</td> </tr> <tr> <td colspan \"2\">SRAM: 480KB + 4MB </td> </tr> <tr> <td rowspan \"15\"> æ”¯æŒæŽ¥å£ </td> </tr> <tr> <td>DVP Camera</td> </tr> <tr> <td>Displayï¼ˆQSPIã€DBIï¼‰</td> </tr> <tr> <td>USB2.0 HS OTG(High Speed 480Mhz)</td> </tr> <tr> <td>SPI</td> </tr> <tr> <td>UART * 2</td> </tr> <tr> <td>IIC * 2</td> </tr> <tr> <td>IIS</td> </tr> <tr> <td>10bit GPDAC</td> </tr> <tr> <td>12~16bit GPADC</td> </tr> <tr> <td>ACOMP</td> </tr> <tr> <td>PWM</td> </tr> <tr> <td>SDIO2.0</td> </tr> <tr> <td>Audio Codec</td> </tr> <tr> <td>æ— çº¿ï¼š<br>Â· æ”¯æŒWi Fi 802.11 b/g/n/axï¼ˆWiFi6ï¼‰<br>Â· æ”¯æŒè“ç‰™ 5.x åŒæ¨¡(BT+BLE)<br>Â· æ”¯æŒWi Fi / è“ç‰™/Zigbee å…±å­˜</td> </tr> <tr> <td rowspan \"3\" style \"white space:nowrap\"> æ¿è½½éƒ¨ä»¶ </td> </tr> <tr> <td colspan \"2\">æ¿è½½ SPI FLASHï¼š 8MByte</td> </tr> <tr> <td colspan \"2\">æ”¯æŒ IPEX ä¸€ä»£å¤©çº¿åº§å­å’Œ PCB æ¿è½½å¤©çº¿</td> </tr> </tbody> <tr> <td rowspan \"5\" style \"white space:nowrap\"> å…¶ä»–è¯´æ˜Ž </td> </tr> <tr> <td colspan \"2\"> å°ºå¯¸ï¼š25.5mm (L) x 18mm (W) </td> </tr> <tr> <td colspan \"2\"> KICAD æ ¼å¼å°è£…æ–‡ä»¶ä¸‹è½½ï¼š<a href \"https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P/4_Package\">ç‚¹å‡»è·³è½¬</a> </td> </tr> <tr> <td colspan \"2\">æ¸©å‡: &lt;30K</td> </tr> <tr> <td colspan \"2\">å·¥ä½œæ¸©åº¦èŒƒå›´: 10â„ƒ ~ 65â„ƒ</td> </tr> </table> ## å°ºå¯¸å¤§å° <img src \"./assets/m0p/m0p_size.png\" alt \"m0p_size\" width 35%> ## å¼•è„šåˆ†å¸ƒ å‰å¾€åŽŸç†å›¾æŸ¥çœ‹ï¼š[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P/2_Schematic) ## è½¯ä»¶æè¿° <table> <thead> <tr> <th colspan \"2\" > M0P æ¨¡ç»„ </th> </tr> </thead> <tbody> <tr> <td>OS</td> <td> æ”¯æŒFreeRTOS</td> </tr> <tr> <td>å¼€å‘æ–¹å¼</td> <td>Â· åŽŸç”ŸC SDK<br>Â· MaixHAL C æ¨¡å—<br>Â· PikaPython </td> </tr> <tr> <td> SDK </td> <td><a href \"https://github.com/bouffalolab/bouffalo_sdk\"> github </a></td> </tr> <tr> <td>Examples</td> <td><a href \"https://github.com/sipeed/M0P_BL618_examples\"> github </a></td> </tr> </tbody> </table> ## æ¨¡ç»„èµ„æ–™ [æ¨¡ç»„è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P/1_datasheet) [æ¨¡ç»„åŽŸç†å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P/2_Schematic) [æ¨¡ç»„å°è£…åº“](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P/4_Package) [æ¨¡ç»„å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P/3_Dimensional_drawing) [åšæµå®˜æ–¹æ–‡æ¡£](https://dev.bouffalolab.com/home/) [BL618 æ•°æ®æ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL616_DS/zh_CN) (gitee) [BL618 å‚è€ƒæ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL616_RM/zh_CN) (gitee) [Sipeed Examples](https://github.com/sipeed/M0P_BL618_examples)ï¼ˆgithubï¼‰ [Bouffalolab SDK](https://github.com/bouffalolab/bouffalo_sdk) (github) äº¤æµ QQ ç¾¤ï¼š`816177882` ã€‚[ç‚¹æˆ‘åŠ ç¾¤](https://jq.qq.com/?_wv 1027&k 4lroNFnI) è®ºå›ï¼š[bbs.sipeed.com](https://bbs.sipeed.com/) ## æ³¨æ„äº‹é¡¹ <table> <tr> <th>é¡¹ç›®</th> <th>æ³¨æ„äº‹é¡¹</th> </tr> <tr> <td>é™ç”µé˜²æŠ¤</td> <td>Â· è¯·æ³¨æ„é¿å…é™ç”µæ‰“åˆ° PCBA ä¸Šï¼›æŽ¥è§¦ PCBA ä¹‹å‰è¯·æŠŠæ‰‹çš„é™ç”µé‡Šæ”¾æŽ‰<br>Â· åœ¨åº•æ¿è®¾è®¡æ—¶ï¼Œå¿…é¡»è¦ä»Ž ESD é˜²æŠ¤è§’åº¦è¿›è¡Œè®¾è®¡ï¼ˆä¸²ç”µé˜»ã€åŠ  ESD äºŒæžç®¡ç­‰ï¼‰</td> </tr> <tr> <td>å®¹å¿ç”µåŽ‹</td> <td> æ‰€æœ‰ GPIO éƒ½æ˜¯ 3.3V ç”µå¹³ï¼Œè¯·ä¸è¦è®© GPIO çš„å®žé™…å·¥ä½œçš„ç”µåŽ‹è¶…è¿‡é¢å®šå€¼ï¼Œå¦åˆ™ä¼šå¼•èµ· PCBA çš„æ°¸ä¹…æ€§æŸå </td> </tr> <tr> <td>é¿å…çŸ­è·¯</td> <td>è¯·åœ¨ä¸Šç”µè¿‡ç¨‹ä¸­ï¼Œé¿å…ä»»ä½•æ¶²ä½“å’Œé‡‘å±žè§¦ç¢°åˆ° PCBA ä¸Šçš„å…ƒä»¶çš„ç„Šç›˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´çŸ­è·¯ï¼Œçƒ§æ¯ PCBA</td> </tr> <tr> <td>BOOT æ¨¡å¼é€‰æ‹©</td> <td> åœ¨å¯åŠ¨æ—¶ï¼ŒèŠ¯ç‰‡åˆ¤å®š BOOT å¼•è„šçš„ç”µå¹³ï¼Œé€‰æ‹©ä¸¤ä¸ªå¯åŠ¨é€‰é¡¹ä¹‹ä¸€<br> Â· BOOT ä½Žç”µå¹³ï¼šä»Ž FLASH åŠ è½½å›ºä»¶<br> Â· BOOT é«˜ç”µå¹³ï¼šè¿›å…¥ USB ä¸‹è½½æ¨¡å¼ </td> </tr> </table> ## è”ç³»æ–¹å¼ M0P æ¨¡ç»„å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼ŒæŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œè¯·è”ç³»ä½¿ç”¨é‚®ç®± [support@sipeed.com](support@sipeed.com)"},"/hardware/zh/maixzero/m0p/m0p_dock.html":{"title":"M0P Dock","content":" title: M0P Dock keywords: M0P ,Dock, bl618, BL618 update: date: 2023 03 09 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™æ–‡æ¡£ ## æ¿å¡æ¦‚è¿° Sipeed M0P Dock æ˜¯ä½¿ç”¨ [Sipeed M0P](https://wiki.sipeed.com//hardware/zh/maixzero/m0p/m0p.html) æ¨¡ç»„è®¾è®¡çš„å¼€å‘æ¿ï¼Œä¸»æŽ§æ˜¯ [åšæµæ™ºèƒ½ç§‘æŠ€](http://www.bouffalolab.com/) çš„ BL618 èŠ¯ç‰‡ï¼Œæ”¯æŒ Wifi6 å’Œè“ç‰™ 5.2 æ— çº¿åè®®ï¼Œé»˜è®¤æœ€é«˜ä¸»é¢‘ 320MHzï¼Œæ”¯æŒ USB2.0 HSã€‚æ¿å¡ä¸Šæœ‰ DVP æŽ¥å£æ¥è¿žæŽ¥æ‘„åƒå¤´ï¼Œæœ‰ FPC åº§å­æ¥è¿žæŽ¥å±å¹•ï¼Œæœ‰ TF å¡æ§½æ¥æ‰©å±•å­˜å‚¨ï¼Œè¿˜æœ‰ä¸€é¢— WMM7027ATSN1 MEMS éº¦å…‹é£Žç”¨äºŽè‡ªå®šä¹‰åŠŸèƒ½ï¼Œæ¿å¡ä¸Šè¿˜æœ‰ç”µæ± å……ç”µç®¡ç†ç”µè·¯ï¼Œæ”¯æŒä½¿ç”¨é”‚ç”µæ± ä¾›ç”µã€‚ è´­ä¹°é“¾æŽ¥ï¼š[æ·˜å®](https://item.taobao.com/item.htm?id 710359411812) <img src \"./assets/m0p_dock/m0p_dock_outlook.png\" alt \"m0p_dock_outlook\" width 15%> <img src \"./assets/m0p_dock/m0p_dock_outlook_back.png\" alt \"m0p_dock_outlook\" width 15%> ## æ¿å¡ç‰¹ç‚¹ ä¸»èŠ¯ç‰‡ BL618 RV32 320MHz RISC V æ”¯æŒ 2.4G WIFI6ï¼ˆIEEE 802.11 b/g/n/axï¼‰ æ”¯æŒè“ç‰™ 5.x åŒæ¨¡ï¼ˆBT+BLEï¼‰å’Œ Zigbee / IEEE 802.15.4 USB 2.0 Type Cï¼ˆ480Mhzï¼‰ï¼ˆå¯ç”¨ä½œä¸‹è½½å›ºä»¶å’ŒUSBè½¬ä¸²å£ï¼‰ DVP æ‘„åƒå¤´è¿žæŽ¥å™¨ SPI å±å¹•è¿žæŽ¥å™¨ï¼ˆå¯ä»¥è¿žæŽ¥3.92å¯¸320x320æ–¹å½¢ç”µå®¹è§¦æ‘¸å±ï¼‰ 4.2V é”‚ç”µæ± å……ç”µç”µè·¯ 1 ä¸ª TF å¡è¿žæŽ¥å™¨ï¼ˆSDIOæŽ¥å£ï¼‰ 1 ä¸ªæ¨¡æ‹Ÿéº¦å…‹é£Žã€2 ä¸ª ADC æŒ‰é”®å’Œ 1 ä¸ªçŠ¶æ€æŒ‡ç¤ºç¯ ## æ¿å¡å‚æ•° <table> <tbody> <tr> <th colspan \"3\" style \"white space:nowrap\"> M0P Dock å‚æ•° </td> </tr> <tr> <td rowspan \"18\" style \"white space:nowrap\"> M0P æ¨¡ç»„ </td> </tr> <tr> <td colspan \"2\"> RISC V CPUsï¼šRV32 320MHz </td> </tr> <tr> <td colspan \"2\"> SRAM: 480KB + 4MB </td> </tr> <tr> <td rowspan \"15\"> æ”¯æŒæŽ¥å£ </td> </tr> <tr> <td>DVP Camera</td> </tr> <tr> <td>Displayï¼ˆQSPIã€DBIï¼‰</td> </tr> <tr> <td>USB2.0 HS OTG(High Speed 480Mhz)</td> </tr> <tr> <td>SPI</td> </tr> <tr> <td>UART * 2</td> </tr> <tr> <td>IIC * 2</td> </tr> <tr> <td>IIS</td> </tr> <tr> <td>10bit GPDAC</td> </tr> <tr> <td>12~16bit GPADC</td> </tr> <tr> <td>ACOMP</td> </tr> <tr> <td>PWM</td> </tr> <tr> <td>SDIO2.0</td> </tr> <tr> <td>Audio Codec</td> </tr> <tr> <td> æ— çº¿ï¼š<br>Â· æ”¯æŒWi Fi 802.11 b/g/n/axï¼ˆWiFi6ï¼‰<br>Â· æ”¯æŒè“ç‰™ 5.x åŒæ¨¡(BT+BLE)<br>Â· æ”¯æŒWi Fi / è“ç‰™/ Zigbee å…±å­˜<br>ï¼ˆæ›´è¯¦ç»†çš„ç‰¹æ€§è¯·æŸ¥çœ‹èŠ¯ç‰‡ <a href \"https://gitee.com/wonderfullook/bl_docs/tree/main/BL616_DS/zh_CN\"> datasheet</a>ï¼‰</td> </tr> </td> </tr> <tr> <td colspan \"1\" rowspan \"11\" style \"white space:nowrap\"> æ¿è½½éƒ¨ä»¶ </td> </tr> <tr> <td colspan \"2\">USB2.0 Type C æ¯åº§è¿žæŽ¥å™¨: <br> å¯ç”¨ä½œUSBé€šä¿¡ã€ä¸‹è½½å›ºä»¶å’ŒUSBè½¬ä¸²å£</td> </tr> <tr> <td colspan \"2\">DVP æ‘„åƒå¤´è¿žæŽ¥å™¨ï¼š<br> é€šç”¨æŽ¥å£ï¼Œå¯ä»¥è¿žæŽ¥ GC0328 æ‘„åƒå¤´æ¨¡ç»„</td> </tr> <tr> <td colspan \"2\">SPI å±å¹•è¿žæŽ¥å™¨ï¼š<br>å¯ä»¥è¿žæŽ¥ 3.92 å¯¸ 320x320 æ–¹å½¢ç”µå®¹è§¦æ‘¸å±</td> </tr> <tr> <td colspan \"2\">SPI FLASHï¼ˆé»˜è®¤8MByteï¼‰</td> </tr> <tr> <td colspan \"2\">1 ä¸ª TF å¡è¿žæŽ¥å™¨ï¼ˆSDIOæŽ¥å£ï¼‰</td> </tr> <tr> <td colspan \"2\">1 ä¸ªæ¨¡æ‹Ÿéº¦å…‹é£Žï¼šWMM7027ATSN1ï¼ˆå…¨æŒ‡å‘ï¼Œçµæ•åº¦ 38dBï¼Œä¿¡å™ªæ¯” 59dB ï¼‰</td> </tr> <tr> <td colspan \"2\">2 ä¸ª ADC æŒ‰é”®ï¼ˆåœ¨æ¿å­ä¸¤ä¾§ï¼‰</td> </tr> <tr> <td colspan \"2\">1 ä¸ªç”µæºæŒ‡ç¤ºç¯å’Œ 1 ä¸ªçŠ¶æ€æŒ‡ç¤ºç¯</td> </tr> <tr> <td colspan \"2\">ä¸¤ä¾§æŽ’é’ˆå¼•å‡ºæ‰€æœ‰ IOï¼ˆå‡ºåŽ‚å·²ç»ç„ŠæŽ¥å¥½æŽ’é’ˆï¼‰</td> </tr> <tr> <td colspan \"2\">4.2V é”‚ç”µæ± å……ç”µç”µè·¯ï¼š<br>Â· USB ç»™æ•´æ¿ä¾›ç”µï¼Œæ•´æ¿ç»™ç”µæ± ä¾›ç”µï¼Œç”µæ± ä¸Žæ•´æ¿ä¸»ç”µæºä¹‹é—´æœ‰äºŒæžç®¡é˜²å€’çŒ<br>Â· ç”µæ± ç”µåŽ‹ä½ŽäºŽ 3.3V æ—¶ BL618 èŠ¯ç‰‡ä¼šè¢«å¼ºåˆ¶å¤„äºŽå¤ä½çŠ¶æ€<br>Â· åªæ”¯æŒæœ€å¤§ç”µåŽ‹æ˜¯ 4.2V çš„å¯å……ç”µé”‚ç”µæ± ï¼Œä¸æ”¯æŒæœ€å¤§ç”µåŽ‹å°äºŽ 4.2V çš„å¯å……ç”µé”‚ç”µæ± åŠä¸å¯å……ç”µçš„ç”µæ± </td> </tr> </tbody> </tbody> </table> ## å¼•è„šåˆ†å¸ƒ ![m0p_dock_pinmap](./assets/m0p_dock/m0p_dock_pinmap.png) STATE LED æŽ¥åˆ° GPIO21 POW LED æŽ¥åˆ° 3.3Vã€‚æ¿å¡æ­£å¸¸è¿è¡Œæ—¶äº®èµ· ## äº§å“å¯¹æ¯” M0P Dock ESP32 S3 DevKitC MCU å•æ ¸320Mhz RISC V åŒæ ¸240Mhz SRAM 480KB + 4MB 512KB + 2MB(optional) ROM âˆš âˆš SPI Nor Flash 8MB(optional) 8MB(optional) WIFI IEEE 802.11 b/g/n/ax (WiFi6) IEEE 802.11 b/g/n BLE âˆš âˆš I2C/UART/SPI âˆš âˆš Microphone æ¨¡æ‹Ÿéº¦å…‹é£Ž Ã— LCD æ”¯æŒ 3.92 è‹±å¯¸ç”µå®¹è§¦æ‘¸å± Ã— Camera DVP camera Ã— USB USB 2.0 High speed OTGï¼ˆ480Mbpsï¼‰ USB 2.0 Full speed OTGï¼ˆ12Mbpsï¼‰ å›ºä»¶ä¸‹è½½æ–¹å¼ USB USB ## è½¯ä»¶æè¿° <table> <thead> <tr> <th colspan \"2\" > M0P æ¨¡ç»„ </th> </tr> </thead> <tbody> <tr> <td>OS</td> <td> æ”¯æŒFreeRTOS</td> </tr> <tr> <td>å¼€å‘æ–¹å¼</td> <td>Â· åŽŸç”ŸC SDK<br>Â· MaixHAL C æ¨¡å—<br>Â· PikaPython </td> </tr> <tr> <td> SDK </td> <td><a href \"https://github.com/bouffalolab/bouffalo_sdk\"> github </a></td> </tr> <tr> <td>Examples</td> <td><a href \"https://github.com/sipeed/M0P_BL618_examples\"> github </a></td> </tr> </tbody> </table> ## æ¿å¡èµ„æ–™ [æ¿å¡è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P%20Dock/1_datasheet) [æ¿å¡åŽŸç†å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P%20Dock/2_Schematic) [æ¿å¡å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P%20Dock/4_Dimensional_drawing) [æ¿å¡ä½å·å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P%20Dock/3_Bit_number_map) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/Maix Zero/M0P/M0P%20Dock/5_3D_File) [åšæµå®˜æ–¹æ–‡æ¡£](https://dev.bouffalolab.com/home/) [BL618 æ•°æ®æ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL616_DS/zh_CN) (gitee) [BL618 å‚è€ƒæ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL616_RM/zh_CN) (gitee) [Sipeed Examples](https://github.com/sipeed/M0P_BL618_examples)ï¼ˆgithubï¼‰ [Bouffalolab SDK](https://github.com/bouffalolab/bouffalo_sdk) (github) äº¤æµ QQ ç¾¤ï¼š`816177882` ã€‚[ç‚¹æˆ‘åŠ ç¾¤](https://jq.qq.com/?_wv 1027&k 4lroNFnI) è®ºå›ï¼š[bbs.sipeed.com](https://bbs.sipeed.com/) ## æ³¨æ„äº‹é¡¹ <table> <tr> <th>é¡¹ç›®</th> <th>æ³¨æ„äº‹é¡¹</th> </tr> <tr> <td>é™ç”µé˜²æŠ¤</td> <td>Â· è¯·æ³¨æ„é¿å…é™ç”µæ‰“åˆ° PCBA ä¸Šï¼›æŽ¥è§¦ PCBA ä¹‹å‰è¯·æŠŠæ‰‹çš„é™ç”µé‡Šæ”¾æŽ‰ </td> </tr> <tr> <td>å®¹å¿ç”µåŽ‹</td> <td> æ‰€æœ‰ GPIO éƒ½æ˜¯ 3.3V ç”µå¹³ï¼Œè¯·ä¸è¦è®© GPIO çš„å®žé™…å·¥ä½œçš„ç”µåŽ‹è¶…è¿‡é¢å®šå€¼ï¼Œå¦åˆ™ä¼šå¼•èµ· PCBA çš„æ°¸ä¹…æ€§æŸå </td> </tr> <tr> <td>é¿å…çŸ­è·¯</td> <td>è¯·åœ¨ä¸Šç”µè¿‡ç¨‹ä¸­ï¼Œé¿å…ä»»ä½•æ¶²ä½“å’Œé‡‘å±žè§¦ç¢°åˆ° PCBA ä¸Šçš„å…ƒä»¶çš„ç„Šç›˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´çŸ­è·¯ï¼Œçƒ§æ¯ PCBA</td> </tr> <tr> <td>FPC åº§å­</td> <td>åœ¨è¿žæŽ¥ FPC è½¯æŽ’çº¿çš„æ—¶å€™ï¼Œè¯·ç¡®ä¿æŽ’çº¿æ— åç§»åœ°å®Œæ•´åœ°æ’å…¥åˆ°æŽ’çº¿ä¸­</td> </tr> <tr> <td>BOOT æ¨¡å¼é€‰æ‹©</td> <td> åœ¨å¯åŠ¨æ—¶ï¼ŒèŠ¯ç‰‡åˆ¤å®š BOOT å¼•è„šçš„ç”µå¹³ï¼Œé€‰æ‹©ä¸¤ä¸ªå¯åŠ¨é€‰é¡¹ä¹‹ä¸€<br> Â· BOOT ä½Žç”µå¹³ï¼šä»Ž FLASH åŠ è½½å›ºä»¶<br> Â· BOOT é«˜ç”µå¹³ï¼šè¿›å…¥ USB ä¸‹è½½æ¨¡å¼ </td> </tr> </table> ## å……ç”µè¯´æ˜Ž æ¿å¡ä¸Šæ¿è½½äº† TP4057 å……ç”µ ICï¼Œæ¿å¡åº•é¢æœ‰ä¸¤ä¸ªé”‚ç”µæ± çŠ¶æ€æŒ‡ç¤º LEDã€‚ <img src \"./assets/m0p_dock/m0p_dock_outlook_back.png\" alt \"m0p_dock_outlook\" width 45%> FULL LEDï¼šé”‚ç”µæ± å……ç”µ IC çš„ STDBY è„šï¼Œå½“ç”µæ± å……ç”µç»“æŸåŽï¼Œè¯¥ç¯äº®èµ· CHRG LEDï¼šå¤„äºŽå……ç”µçŠ¶æ€æ—¶ï¼Œè¯¥ç¯äº®èµ· ## è”ç³»æ–¹å¼ M0P Dock å¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼ŒæŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œè¯·è”ç³»ä½¿ç”¨é‚®ç®± [support@sipeed.com](support@sipeed.com)"},"/hardware/zh/maixzero/m0s/m0s.html":{"title":"M0S æ¨¡å—","content":" title: M0S æ¨¡å— keywords: M0S, æ¨¡å—, BL616, wifi6 update: date: 2023 01 13 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™æ–‡æ¡£ ## æ¨¡å—æ¦‚è¿° Sipeed M0S æ¨¡å—æ˜¯åŸºäºŽ[åšæµæ™ºèƒ½ç§‘æŠ€](http://www.bouffalolab.com/)çš„ BL616 èŠ¯ç‰‡æ‰€è®¾è®¡çš„ä¸€æ¬¾é€‚ç”¨äºŽè¶…ä½ŽåŠŸè€—åº”ç”¨ IOT æ¨¡å—ï¼Œæ”¯æŒ Wifi6ã€è“ç‰™ 5.2 å’Œ zigbee ç­‰æ— çº¿åè®®ï¼Œé»˜è®¤æœ€é«˜ä¸»é¢‘ 320MHzï¼Œæ¨¡å—æžå°çš„å°è£…ä½“ç§¯å’ŒèŠ¯ç‰‡å¤šç§ä½ŽåŠŸè€—æ¨¡å¼å’Œå¤šç§å”¤é†’æºæ»¡è¶³ä¸åŒçš„ä½ŽåŠŸè€—åœºæ™¯ã€‚ è´­ä¹°é“¾æŽ¥ï¼š[æ·˜å®](https://item.taobao.com/item.htm?id 697403593463) <img src \"./assets/m0s/m0s_module_outlook.png\" alt \"m0s_module_outlook\" width 35%> ## æ¨¡å—ç‰¹ç‚¹ æ— çº¿ä¸‰æ¨¡ä¸€ä½“ï¼š WiFi6 / è“ç‰™ 5.2 / Zigbee é«˜ä¸»é¢‘ï¼šé»˜è®¤æœ€é«˜ 320MHz ä½ŽåŠŸè€—ï¼šWiFi6 ä½ŽåŠŸè€—ç‰¹æ€§ DSP åŠ é€Ÿï¼šæ”¯æŒ RISC V P æ‰©å±•æŒ‡ä»¤é›†ï¼Œå¯åœ¨ TinyMaix æŽ¨ç†æ¡†æž¶ä¸­èŽ·å¾—è¿‘ä¸€å€åŠ é€Ÿ é«˜é€Ÿ USBï¼šæ”¯æŒ USB2.0 HS OTGï¼Œ é«˜è¾¾ 480Mbps ä¸°å¯Œå¤–è®¾æŽ¥å£ï¼šæ”¯æŒ RGB LCDï¼ŒDVP Cameraï¼Œä»¥å¤ªç½‘ RMIIï¼ŒSDIO ç­‰ å°ä½“ç§¯ï¼š10mmx11mm é¢ç§¯ä¸Šé›†æˆäº†é™¶ç“·å¤©çº¿ï¼Œå¹¶å…¨å¼•è„šå¼•å‡º ## æ¨¡å—å‚æ•° <table> <thead> <tr> <th colspan \"2\" > M0S æ¨¡å— </th> </tr> </thead> <tbody> <tr> <td rowspan \"5\" style \"white space:nowrap\">ä¸»æŽ§ BL616 å¤„ç†å™¨</td> </tr> <tr> <td>RISC V CPUï¼šé»˜è®¤ RV32GCP@320MHz </td> </tr> <tr> <td>å†…ç½® 480KB SRAM + 4MB Flash</td> </tr> <tr> <td>æ— çº¿ï¼š<br> æ”¯æŒ Wi Fi6<br> æ”¯æŒ Bluetooth 5.2 Dual mode(BT+BLE)<br> æ”¯æŒ Zigbee </td> </tr> <tr> <td>USB 2.0 HS OTG</td> </tr> <tr> <td rowspan \"2\" style \"white space:nowrap\"> æ¿è½½éƒ¨ä»¶ </td> </tr> <tr> <td>é™¶ç“·å¤©çº¿</td> </tr> </tbody> <tr> <td rowspan \"4\" style \"white space:nowrap\"> å…¶ä»–è¯´æ˜Ž </td> </tr> <tr> <td> å°ºå¯¸ï¼š10mm (W) x 11mm (H) </td> </tr> <tr> <td> å°è£…åº“æ–‡ä»¶ (KiCAD)ï¼š<a href \"https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S/4_Package\">ç‚¹å‡»è·³è½¬</a> </td> </tr> <tr> <td> 3D æ¨¡åž‹æ–‡ä»¶ä¸‹è½½ï¼š<a href \"https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S/3_3D_file\">ç‚¹å‡»è·³è½¬</a> </td> </tr> </tbody> </table> ## å¼•è„šåˆ†å¸ƒ ![m0s_pin_map](./assets/m0s/m0s_pin_map.png) ## äº§å“å¯¹æ¯” åž‹å· M0S æ¨¡å— ESP32 S3 N4 æ¨¡å— : : : : ä¸»æŽ§ BL616(RV32GCP) ESP32 S3 (LX7) é¢‘çŽ‡ 320MHz 240MHz SRAM 480KB 520KB Flash 4MByte 4MByte Wifi WiFi6 WiFi4 è“ç‰™ BT5.2 BT5 USB USB2.0 HS OTG 480Mbps USB2.0 FS OTG 12Mbps IIC/UART/SPI æœ‰ æœ‰ DVP Camera Yes Yes å°ºå¯¸ 10mm x 11mm 18mm x 25.5mm æ¨¡åž‹å¹³å° TinyMaix + MaixHub ## é…å¥—åº•æ¿ <table> <thead> <tr> <th colspan \"2\" > M0S Dock </th> </tr> </thead> <tbody> <tr> <td> æ ¸å¿ƒ x 1 </td> <td> M0S æ¨¡å— </td> </tr> <tr> <td> æŒ‰é”® x 1 </td> <td> æŒ‰ä½æŒ‰é”®åŽç»™æ¿å­é€šç”µæ¥çƒ§å½•æ¿å¡ </td> </tr> <tr> <td> LED x 3 </td> <td> ä¸€ä¸ªç”µæº LEDï¼Œä¸¤ä¸ªç”¨æˆ·è‡ªå®šä¹‰ LED </td> </tr> <tr> <td> TypeC æŽ¥å£ x 1 </td> <td> ç”¨æ¥ä¸‹è½½å›ºä»¶æˆ–å®žçŽ°å…¶ä»– USB åŠŸèƒ½ </td> </tr> <tr> <td> å¤–æŽ¥ IO x 10 </td> <td> å…«ä¸ªå¼•å‡ºåˆ°æŽ’é’ˆ<br> ä¸¤ä¸ªä½äºŽ TypeC æŽ¥å£æ—è¾¹ </td> </tr> <tr> <td> åŽŸç†å›¾ </td> <td> <a href \"https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S_Dock/2_Schematic\"> ç‚¹æˆ‘ </a></td> </tr> </tbody> </table> <img src \"./assets/m0s/m0s_dock_top.png\" width \"45%\"> <img src \"./assets/m0s/m0s_dock_bottom.png\" width \"45%\"> ## è½¯ä»¶æè¿° <table> <thead> <tr> <th colspan \"2\" > M0S æ¨¡å— </th> </tr> </thead> <tbody> <tr> <td>OS</td> <td>Â· å®Œå¤‡æ”¯æŒFreeRTOS </td> </tr> <tr> <td>å¼€å‘æ–¹å¼</td> <td>Â· åŽŸç”ŸC SDK<br>Â· MaixHAL C æ¨¡å—<br>Â· PikaPython </td> </tr> <tr> <td>å›ºä»¶ä¸‹è½½</td> <td>Â· ä¸²å£ä¸‹è½½<br>Â· USB ä¸‹è½½</td> </tr> <tr> <td>AI æŽ¨ç†æ¡†æž¶</td> <td>Â· TinyMaix æŽ¨ç†æ¡†æž¶</td> </tr> <tr> <td>AI æ¨¡åž‹ä¸‹è½½</td> <td>Â· <a href \"https://maixhub.com/\"> MaixHub </td> </tr> <tr> <td>Sipeed å‚è€ƒç¤ºä¾‹</td> <td>Â· https://github.com/sipeed/M0S_BL616_example</td> </tr> </tbody> </table> ## ç›¸å…³èµ„æ–™ [M0S è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S/1_Specification) [M0S åŽŸç†å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S/2_Schematic) [M0S å°è£…åº“](https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S/4_Package) [3D æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S/3_3D_file) [åšæµå®˜æ–¹æ–‡æ¡£](https://dev.bouffalolab.com/home/) [BL616 æ•°æ®æ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL616_DS/zh_CN) (gitee) [BL616 å‚è€ƒæ‰‹å†Œ](https://gitee.com/wonderfullook/bl_docs/tree/main/BL616_RM/zh_CN) (gitee) [M0S Dock è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S_Dock/1_Specification) [M0S Dock åŽŸç†å›¾](https://dl.sipeed.com/shareURL/Maix Zero/M0S/M0S_Dock/2_Schematic) [Sipeed Examples](https://github.com/sipeed/M0s_BL616_example)ï¼ˆgithubï¼‰ [Bouffalolab SDK](https://github.com/bouffalolab/bouffalo_sdk) (github) SDK ä½¿ç”¨æŒ‡å—: https://bl mcu sdk.readthedocs.io/zh_CN/latest/index.html äº¤æµ QQ ç¾¤ï¼š`816177882` ã€‚[ç‚¹æˆ‘åŠ ç¾¤](https://jq.qq.com/?_wv 1027&k CSnLIADN) è®ºå›ï¼š[bbs.sipeed.com](https://bbs.sipeed.com/) ## æ³¨æ„äº‹é¡¹ <table> <tr> <th>é¡¹ç›®</th> <th>æ³¨æ„äº‹é¡¹</th> </tr> <tr> <td>é™ç”µé˜²æŠ¤</td> <td>è¯·é¿å…é™ç”µæ‰“åˆ° PCBA ä¸Šï¼›æŽ¥è§¦ PCBA ä¹‹å‰è¯·æŠŠæ‰‹çš„é™ç”µé‡Šæ”¾æŽ‰</td> </tr> <tr> <td>å®¹å¿ç”µåŽ‹</td> <td>è¯·ä¸è¦è®© GPIO çš„å®žé™…å·¥ä½œçš„ç”µåŽ‹è¶…è¿‡é¢å®šå€¼ï¼Œå¦åˆ™ä¼šå¼•èµ· PCBA çš„æ°¸ä¹…æ€§æŸå </td> </tr> <tr> <td>æ’æ‹”</td> <td>è¯·å®Œå…¨æ–­ç”µåŽæ‰è¿›è¡Œæ’æ‹”æ“ä½œ</td> </tr> <tr> <td>é¿å…çŸ­è·¯</td> <td>è¯·åœ¨ä¸Šç”µè¿‡ç¨‹ä¸­ï¼Œé¿å…ä»»ä½•æ¶²ä½“å’Œé‡‘å±žè§¦ç¢°åˆ° PCBA ä¸Šçš„å…ƒä»¶çš„ç„Šç›˜ï¼Œå¦åˆ™ä¼šå¯¼è‡´è·¯ï¼Œçƒ§æ¯ PCBA</td> </tr> </table> ## è”ç³»æ–¹å¼ M0S æ¨¡å—å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼ŒæŠ€æœ¯æ”¯æŒå’Œå•†ä¸šåˆä½œè¯·è”ç³»ä½¿ç”¨é‚®ç®± [support@sipeed.com](support@sipeed.com)"},"/hardware/zh/maixzero/m0s/start.html":{"title":"M0S Dock","content":" title: M0S Dock keywords: M0S, æ¨¡å—, BL616, wifi6 update: date: 2023 01 15 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™æ–‡æ¡£ æˆ‘ä»¬å¯ä»¥å°† M0S Dock å½“æˆå°åž‹å¼€å‘æ¿ä½¿ç”¨ï¼Œè¿™é‡Œä»¥ç‚¹ç¯æ•™ç¨‹æ¥ç¤ºèŒƒç›¸å…³ SDK çš„ä½¿ç”¨æ–¹æ³•ã€‚ > M0S Dock åº”å½“åœ¨ Linux çŽ¯å¢ƒä¸‹è¿›è¡Œå¼€å‘ï¼Œä¸‹é¢çš„æ“ä½œå‡ä¸ºåœ¨ ubuntu ä¸­å®Œæˆ ## è½¯ä»¶å‡†å¤‡ ### ç¼–è¯‘å›ºä»¶æ‰€éœ€è¦çš„ç³»ç»Ÿè½¯ä»¶ ```bash sudo apt get install cmake git ``` ### çƒ§å½•å›ºä»¶æ‰€éœ€è¦çš„è½¯ä»¶ å‰å¾€ https://dev.bouffalolab.com/download ä¸‹è½½åç§°ä¸º `Bouffalo Lab Dev Cube` çš„æ–‡ä»¶ã€‚è§£åŽ‹åŽå°±å¾—åˆ°äº†ç”¨æ¥çƒ§å½•æ¿å­çš„åº”ç”¨ç¨‹åºã€‚ ![bouffalo_cube](./../../maix/m1s/other/assets/start/bouffalo_cube.png) è§£åŽ‹åŽçš„æ–‡ä»¶å¤¹ä¸­ä¸»è¦å…³æ³¨ `BLDevCube`ã€ `BLDevCube macos` å’Œ `BLDevCube ubuntu` ä¸‰ä¸ªæ–‡ä»¶ï¼Œç”¨äºŽåœ¨ä¸åŒç³»ç»Ÿå¯åŠ¨è¿™ä¸ªå›¾å½¢åŒ–çƒ§å½•å·¥å…·ã€‚ ![application](./../../maix/m1s/other/assets/start/application.png) ## SDK èŽ·å– ``` ```"},"/hardware/zh/longan/index.html":{"title":"Longon å¼€å‘æ¿","content":"# Longon å¼€å‘æ¿ é¾™çœ¼ç³»åˆ—å¼€å‘æ¿æ˜¯sipeedåŸºäºŽå›½äº§mcuèŠ¯ç‰‡æ¥è®¾è®¡çš„æ¿å­ã€‚æ–¹ä¾¿ä¸ŽMCUå¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨å…äºŽè®¾è®¡æ¿å­çš„éº»çƒ¦ã€‚"},"/hardware/zh/longan/One/index.html":{"title":"","content":"æ•¬è¯·æœŸå¾…"},"/hardware/zh/longan/Zero/index.html":{"title":"","content":"æ•¬è¯·æœŸå¾…"},"/hardware/zh/longan/Nano/Longan_nano.html":{"title":"Longan nano ","content":"# Longan nano ## ä»‹ç» Longan Nanoæ˜¯åŸºäºŽå…†æ˜“åˆ›æ–°(GigaDevice)çš„GD32VF103CBT6(RISC Væž¶æž„)èŠ¯ç‰‡è®¾è®¡çš„æžç®€å¼€å‘æ¿ã€‚å¼€å‘æ¿å°†èŠ¯ç‰‡æ‰€æœ‰IOå¼•å‡ºï¼Œè®¾è®¡å°å·§ç²¾è‡´ï¼Œæ¿è½½Type Cã€LCDã€SDå¡ã€JTAGç­‰æŽ¥å£ï¼Œæ–¹ä¾¿å¹¿å¤§å­¦ç”Ÿã€å·¥ç¨‹å¸ˆã€æžå®¢çˆ±å¥½è€…ä»¬æŽ¥è§¦å­¦ä¹ æœ€æ–°ä¸€ä»£çš„ RISC Vå¤„ç†å™¨ã€‚ ![Longan_nano_pin](./../../../assets/Longan/nano/Longan_nano.124.jpg) ## å‚æ•° é¡¹ç›® å‚æ•° CPU åŸºäºŽ RISC V 32 ä½å†…æ ¸çš„ GD32VF103CBT6 å†…æ ¸åŠŸè€— ä»…ä¼ ç»Ÿ Cortex M3 çš„ 1/3 å­˜å‚¨ 128KB Flash, 32KB SRAM å¤–è®¾ 4 x general purpose 16 bit timer, 2 x basic 16 bit timer, 1 x advanced 16 bit timer,<br>Watchdog, RTC, Systick<br>3 x USART, 2 x I2C, 3 x SPI, 2 x I2S, 2 x CAN, 1 x USBFS (OTG), 2 x ADC (10 channel), 2 x DAC æŒ‰é”® 1 ä¸ªå¤ä½æŒ‰é”®å’Œ 1 ä¸ª BOOT æŒ‰é”®ï¼ˆè¿žæŽ¥åˆ° GPIOï¼‰ å±å¹•æŽ¥å£ SPI æŽ¥å£ï¼ˆæ ‡é… 0.96 å¯¸ 160x80 RGB IPS LCDï¼‰ å­˜å‚¨æŽ¥å£ æ¿è½½ TF å¡åº§å­ è°ƒè¯•æŽ¥å£ 2x4 æŽ’é’ˆå¼•å‡º JTAG è°ƒè¯•æŽ¥å£å’Œä¸²å£ æ™¶æŒ¯ 8MHz æ— æºæ™¶æŒ¯ + 32.768KHz RTC æ— æºæ™¶æŒ¯ LED æ¿è½½ 1 ä¸ª RGB LED GPIO æ•°é‡ 2 å¼•å‡º 28 ä¸ª GPIO åˆ°æŽ’é’ˆ ### æ–°ç‰ˆç…§ç‰‡ ![](./../../../assets/Longan/nano/Longan nano_PINOUT.svg) ![](./../../../assets/Longan/nano/longan nano 1.png) ### æ—§ç‰ˆç…§ç‰‡ ![](./../../../assets/Longan/nano/longan_nano_pinout_old.png) ![](./../../../assets/Longan/nano/longan nano old.png) ## ä½¿ç”¨ [Longanä½¿ç”¨](/soft/longan/zh/readme.md) ## äº§å“æŠ€æœ¯æ”¯æŒ Longan Nano å¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨ AIoT ä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡ <support@sipeed.com>ã€‚"},"/hardware/zh/longan/Nano/get_started/pio.html":{"title":"PIO é…ç½®","content":"PIO é…ç½® ## å®‰è£… VS CODE VS CODE æ˜¯ä¸€æ¬¾æ¯”è¾ƒå¸¸ç”¨çš„å¼€å‘å·¥å…·ã€‚å‰å¾€[VScodeå®˜ç½‘](https://code.visualstudio.com/ \"VScodeå®˜ç½‘\")ï¼Œä¸‹è½½å®‰è£…å¯¹åº”æ“ä½œç³»ç»Ÿç‰ˆæœ¬çš„å®‰è£…åŒ…å³å¯ã€‚ ## å®‰è£… PIO æ’ä»¶ æ‰“å¼€ VSCode > ç‚¹å‡»å·¦ä¾§æ‰©å±• > æœç´¢ PlatformIO > ç‚¹å‡»å®‰è£…æ’ä»¶ > ç­‰å¾…å®‰è£…å®Œæˆ > é‡å¯ VSCODE ![](http://blog.sipeed.com/wp content/uploads/2019/04/0d501a8515a735fba54e2f5de908cd1e.png) ## å®‰è£… GD32V å¹³å°å®šä¹‰ PIO ç›®å‰æä¾›**å‘½ä»¤è¡Œ**ä¸Ž**å›¾å½¢ç•Œé¢**ä¸¤ç§æ–¹å¼æ¥å®‰è£…ã€‚ä¸‹é¢å°†åˆ†åˆ«ä»‹ç»ï¼š ï¼ˆPS : æŽ¨èå‘½ä»¤è¡Œï¼Œå› ä¸ºèƒ½çœ‹åˆ°ä¸‹è½½è¿›åº¦æ¡ã€‚ï¼‰ ### å‘½ä»¤è¡Œ ç‚¹å‡»PIOå›¾æ ‡ > ç‚¹å‡»å·¦ä¸‹æ–¹çš„New Terminal > åœ¨ç»ˆç«¯çª—å£ä¸­æ‰§è¡Œä¸‹é¢çš„å®‰è£…æŒ‡ä»¤ * å‘å¸ƒç‰ˆ ï¼ˆç¨³å®šç‰ˆæœ¬ï¼‰ ``` platformio platform install gd32v ``` * å¼€å‘ç‰ˆï¼ˆä¸ŽGithubåŒæ­¥ï¼‰ ``` platformio platform install https://github.com/sipeed/platform gd32v ``` ![](./../assets/pio_install_gd32v.png) æ³¨ï¼šå—å›½å†…ç½‘ç»œçŽ¯å¢ƒå½±å“ï¼Œå®‰è£…è¿‡ç¨‹éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚ ### å›¾å½¢ç•Œé¢ æ‰“å¼€VS CODE > ç‚¹å‡»å·¦ä¾§ PIO å›¾æ ‡ > ç‚¹å‡»å·¦ä¸‹æ–¹çš„ Open é€‰é¡¹ > ç‚¹å‡» Platforms é¡µé¢ > ç‚¹å‡» Advanced Installation æ‰“å¼€æ·»åŠ çª—å£ ![](./../assets/pio_install_add_gd32v_step1.png) åœ¨æ‰“å¼€çš„çª—å£ä¸­è¾“å…¥ä¸‹é¢çš„ç½‘å€ ``` https://github.com/sipeed/platform gd32v.git ``` ç‚¹å‡» Install å³å¯æ·»åŠ å®Œæˆã€‚ ![](./../assets/pio_install_add_gd32v_step2.png) è€å¿ƒç­‰å¾…å³å¯å®‰è£…æˆåŠŸã€‚ ï¼ˆå®‰è£…å¤±è´¥å¤šä¸ºç½‘ç»œåŽŸå› ï¼Œ è¯·æ›´æ¢ç½‘ç»œçŽ¯å¢ƒåŽå†æ¬¡å°è¯•ï¼‰ ![](./../assets/pio_install_add_gd32v_step3.png)"},"/hardware/zh/longan/Nano/get_started/rv-link.html":{"title":"ä½¿ç”¨ RV-LINK","content":"ä½¿ç”¨ RV LINK ## ä»€ä¹ˆæ˜¯ RV LINK **RV LINK** æ˜¯ä¸€ä¸ªåŸºäºŽ RISC V å¼€å‘æ¿çš„ä»¿çœŸå™¨å›ºä»¶ï¼Œé€šè¿‡çƒ§å†™ **RV LINK** å›ºä»¶ï¼Œ å¯ä»¥å°† **Sipeed Longan Nano** å¼€å‘æ¿å˜æˆä¸€ä¸ª `jtag` è°ƒè¯•å™¨ï¼Œç”¨æ¥è°ƒè¯•å¦ä¸€å— Longan æˆ–è€…å…¶ä»–æ”¯æŒ jtag è°ƒè¯•çš„å¼€å‘æ¿ã€‚ RV LINK é¡¹ç›®åœ°å€: [https://gitee.com/zoomdy/RV LINK](https://gitee.com/zoomdy/RV LINK) ## çƒ§å†™ RV LINK å›ºä»¶ ### ä½¿ç”¨ PlatformIO å·¥ç¨‹ä¸€é”®çƒ§å½• * ä¸‹è½½ RV LINK æºç  é¡¹ç›®æºç ä¸‹è½½åœ°å€ï¼š[http://dl.sipeed.com/LONGAN/Nano/Tools/RV LINK pio src v0.1.zip](http://dl.sipeed.com/LONGAN/Nano/Tools/RV LINK pio src v0.1.zip) ä¹Ÿå¯ä»¥ä»ŽRV LINKå®˜æ–¹é¡¹ç›®ä¸‹è½½: [https://gitee.com/zoomdy/RV LINK](https://gitee.com/zoomdy/RV LINK) * ä½¿ç”¨ VSCODE æ‰“å¼€å·¥ç¨‹ç›®å½• å°†ä¸Šé¢ä¸‹è½½çš„æºç è§£åŽ‹åˆ°å•ç‹¬çš„æ–‡ä»¶å¤¹ ç„¶åŽä½¿ç”¨ VSCODE æ‰“å¼€æºç æ–‡ä»¶å¤¹ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![](./../assets/pio_open_rvlink.png) é€šå¸¸ä½¿ç”¨ DFU æ–¹å¼çƒ§å½•å›ºä»¶ï¼Œ**ä¸éœ€è¦**ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚(ä½¿ç”¨ DFU æ–¹å¼ä¸‹è½½è¯·å®‰è£… libusb é©±åŠ¨, å‚è€ƒ[ä½¿ç”¨Zadigå®‰è£…é©±åŠ¨](blink.md/#ä½¿ç”¨zadigå®‰è£…é©±åŠ¨)) å¦‚æžœéœ€è¦æ›´æ”¹çƒ§å½•æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ `platformio.ini` æ–‡ä»¶æ¥ä¿®æ”¹ï¼Œ å…·ä½“é…ç½®æ–¹å¼è¯·å‚è€ƒï¼š[ä¿®æ”¹å·¥ç¨‹é…ç½®æ–‡ä»¶](blink.md/#å·¥ç¨‹é…ç½®æ–‡ä»¶) * ä½¿ç”¨ PIO çƒ§å½•å›ºä»¶ è¿žæŽ¥å¼€å‘æ¿ï¼Œä½¿å¼€å‘æ¿è¿›å…¥çƒ§å½•æ¨¡å¼åŽï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„ç®­å¤´ç¬¦å·å³å¯è¿›è¡Œçƒ§å½•ã€‚ çƒ§å½•æˆåŠŸåŽï¼Œå¯ä»¥çœ‹åˆ°å¼€å‘æ¿ä¸Šçš„ç»¿ç¯é—ªçƒï¼Œå°†å¼€å‘æ¿è¿žæŽ¥åˆ°ç”µè„‘USBå£ä¹‹åŽï¼Œå¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­çœ‹åˆ°å¤šå‡ºäº†ä¸€ä¸ªä¸²å£è®¾å¤‡ã€‚æ­¤æ—¶ Longan æ¿å­å°±æˆåŠŸå˜æˆäº† RV LINK è°ƒè¯•å™¨ã€‚ ### å…¶ä»–çƒ§å½•æ–¹å¼ å‚è€ƒæ–‡æ¡£ï¼š [å°† Longan Nano å¼€å‘æ¿å˜æˆ RISC V ä»¿çœŸå™¨](https://gitee.com/zoomdy/RV LINK/wikis/%E5%B0%86%20Longan%20Nano%20%E5%BC%80%E5%8F%91%E6%9D%BF%E5%8F%98%E6%88%90%20RISC V%20%E4%BB%BF%E7%9C%9F%E5%99%A8) ## ä½¿ç”¨ RV LINK è°ƒè¯• ### è¿žæŽ¥å¼€å‘æ¿ å°†åˆ·å¥½ RV LINK å›ºä»¶çš„å¼€å‘æ¿ä¸Žå¾…è°ƒè¯•å¼€å‘æ¿ jtag è¿žçº¿æŒ‰ä¸‹è¡¨è¿žæŽ¥ RV LINK å¾…è°ƒè¯•å¼€å‘æ¿ : : : : JTDO JTDO JTDI JTDI JTCK JTCK JTMS JTMS 3V3 3V3 GND GND #### WIN7 ç”¨æˆ·å®‰è£… GD ä¸²å£é©±åŠ¨ è§æ­¤é“¾æŽ¥[å®‰è£… USB ä¸²å£é©±åŠ¨](https://gitee.com/zoomdy/RV LINK/wikis/GDB%20%E4%BD%BF%E7%94%A8%20RV LINK%20%E4%BB%BF%E7%9C%9F%E5%99%A8%E8%B0%83%E8%AF%95%20RISC V%20%E7%A8%8B%E5%BA%8F?sort_id 1667650#%E5%AE%89%E8%A3%85 usb %E4%B8%B2%E5%8F%A3%E9%A9%B1%E5%8A%A8) ### åœ¨ PlatformIO IDE ä¸­ä½¿ç”¨ RV LINK RV LINK åœ¨ PlatformIO IDE å¯ä»¥å’Œå…¶ä»–è°ƒè¯•å™¨ä¸€æ ·ï¼Œæ”¯æŒä¸€é”®å¯åŠ¨è°ƒè¯•ã€‚ åªéœ€è¦åœ¨å·¥ç¨‹çš„ `platformio.ini` é…ç½®æ–‡ä»¶ä¸­ï¼ŒæŒ‡å®šè°ƒè¯•å™¨é€‰é¡¹å’Œè°ƒè¯•å™¨ç«¯å£é€‰é¡¹ã€‚ ç¤ºä¾‹ä»£ç  ```ini [env:sipeed longan nano] platform gd32v framework gd32vf103 sdk board sipeed longan nano monitor_speed 115200 upload_protocol rv link ; rv linkä¸‹è½½é€‰é¡¹ debug_tool rv link ; rv linkè°ƒè¯•é€‰é¡¹ debug_port COM2 ; ä½¿ç”¨rv link å¿…å¡«æ­¤é¡¹ è°ƒè¯•å™¨ä¸²å£ ``` ### åœ¨å…¶ä»–å¹³å°ä½¿ç”¨ RV LINK å‚è€ƒ [RV LINK WIKI](https://gitee.com/zoomdy/RV LINK/wikis/)"},"/hardware/zh/longan/Nano/get_started/sipeed-debugger.html":{"title":"ä½¿ç”¨ Sipeed è°ƒè¯•å™¨","content":" title: ä½¿ç”¨ Sipeed è°ƒè¯•å™¨ ## Sipeed rv debugger ## Sipeed rv debugger lite"},"/hardware/zh/longan/Nano/get_started/debug.html":{"title":"Debug è°ƒè¯•","content":"Debug è°ƒè¯• ## è¿žæŽ¥è°ƒè¯•å™¨ å¼€å‘æ¿ è°ƒè¯•å™¨ : : : : JTDO TDO JTDI TDI JTCK TCK JTMS TMS 3V3 3V3 GND GND ## ä¿®æ”¹é…ç½®æ–‡ä»¶ ä¿®æ”¹å·¥ç¨‹é…ç½®æ–‡ä»¶ `platformio.ini`ï¼Œ åœ¨ä¸‹é¢æ·»åŠ  ```ini debug_tool jlink ``` æ ¹æ®å®žé™…è°ƒè¯•å™¨åž‹å·é€‰æ‹©ã€‚ç›®å‰æ”¯æŒçš„è°ƒè¯•å™¨åˆ—è¡¨ * `jlink` * `gd link` * `ft2232` * `sipeed rv debugger` * `altera usb blaster` * `um232h` * `rv link` ## ä¸€é”®è°ƒè¯• åˆ‡æ¢åˆ° VS CODE å·¦ä¾§çš„ `DEBUG` ç•Œé¢ï¼Œ ç‚¹å‡»ç»¿è‰²ç®­å¤´å³å¯è¿›è¡Œè°ƒè¯•ã€‚ ![](./../assets/pio_debug_longan.png)."},"/hardware/zh/longan/Nano/get_started/blink.html":{"title":"Blink é—ªç¯ç¨‹åº","content":" title: Blink é—ªç¯ç¨‹åº ## åˆ›å»º Blink å·¥ç¨‹ * æ‰“å¼€ PIO ä¸»é¡µ é€‰æ‹© `Project Examples` ![](http://blog.sipeed.com/wp content/uploads/2019/04/d977e844490e6ccc4625f701883a29f5.png) * é€‰æ‹© `arduino blink` ç‚¹å‡» `Import` å¯¼å…¥ç¤ºä¾‹ç¨‹åº ï¼ˆåˆæ¬¡å¯¼å…¥éœ€è¦ä¸‹è½½æž¶æž„æ–‡ä»¶åŠå·¥å…·ï¼Œéœ€è¦ç­‰å¾…è¾ƒé•¿æ—¶é—´ï¼‰ ![](http://blog.sipeed.com/wp content/uploads/2019/04/82943a6b74077e6210e2d9421cb5438f.png) * å¯¼å…¥æˆåŠŸåŽå³å¯è§åˆ°ç¤ºä¾‹å·¥ç¨‹ ![](http://blog.sipeed.com/wp content/uploads/2019/04/1262373ca7b0b483e30dac1124adaabf.png) ## å·¥ç¨‹é…ç½®æ–‡ä»¶ * æˆ‘ä»¬é¦–å…ˆéœ€è¦ç¼–è¾‘å·¥ç¨‹é…ç½®æ–‡ä»¶ `platformio.ini` æ ¹æ®è‡ªå·±çš„å¼€å‘æ¿åž‹å·ï¼Œåˆ æŽ‰å…¶ä»–å¼€å‘æ¿çŽ¯å¢ƒã€‚ ![](./../assets/pio_ini_cfg.png) é…ç½®ç¤ºä¾‹ ```ini [env:sipeed longan nano] platform gd32v ;å¹³å°ï¼Œé€‰æ‹©gd32v framework arduino ;å¯é€‰ gd32vf103 sdk æˆ– arduino board sipeed longan nano ; å¼€å‘æ¿ monitor_speed 115200 ; ä¸²å£ç›‘è§†å™¨æ³¢ç‰¹çŽ‡ upload_protocol serial ; ä¸‹è½½å·¥å…· é»˜è®¤ä¸²å£ï¼Œ å¯é€‰ dfuã€jlinkã€gd link ç­‰ debug_tool jlink ; è°ƒè¯•å·¥å…· é»˜è®¤jlink ï¼Œå¯é€‰ sipeed rv debugger ç­‰ ``` PIO å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­å®žçŽ°è®¾ç½®å®å®šä¹‰ï¼Œ æŽ§åˆ¶ç¼–è¯‘æµç¨‹ç­‰è‡ªå®šä¹‰åŠŸèƒ½ï¼Œé«˜çº§ç”¨æ³•è¯·å‚é˜… [PIO å®˜æ–¹æ–‡æ¡£](https://docs.platformio.org/en/latest/projectconf.html). ## ä¸€é”®ç¼–è¯‘ ç‚¹å‡»å·¦ä¸‹è§’çš„ `Build` å³å¯æž„å»ºé¡¹ç›® ![](./../assets/pio_complie.png) ## è¿žæŽ¥å¼€å‘æ¿ ### ä¸²å£ ISP ä¸‹è½½ * å‡†å¤‡ USB è½¬ ä¸²å£ä¸‹è½½å™¨ * è¿žæŽ¥å¼€å‘æ¿ä¸Žä¸‹è½½å™¨ * ä¿®æ”¹ `platformio.ini` æ–‡ä»¶ï¼Œ æ·»åŠ ä¸‹é¢ä¸€è¡Œå†…å®¹ï¼š ```ini upload_protocol serial ``` * å¼€å‘æ¿æŒ‰ä½ `BOOT` é”®ï¼Œå†æŒ‰ `RESET` é”®é‡å¯å¼€å‘æ¿åŽå†æ¾å¼€ `BOOT` é”®ï¼Œè¿›å…¥ä¸‹è½½æ¨¡å¼ã€‚ ### JTAG ä¸‹è½½ * å‡†å¤‡J link æˆ– Sipeed RV è°ƒè¯•å™¨ * è¿žæŽ¥å¼€å‘æ¿ * ä¿®æ”¹ `platformio.ini` æ–‡ä»¶ï¼Œ æ·»åŠ ä¸‹é¢ä¸€è¡Œå†…å®¹ï¼š ```ini upload_protocol jlink ``` æˆ–è€… ```ini upload_protocol sipeed rv debugger ``` ### USB DFU ä¸‹è½½ * **é¦–æ¬¡** ä½¿ç”¨éœ€è¦å®‰è£… libusb é©±åŠ¨ç¨‹åºï¼Œ è¯·å‚è€ƒæ­¤æ­¥éª¤ [ä½¿ç”¨ Zaidig å®‰è£…é©±åŠ¨](###ä½¿ç”¨zadigå®‰è£…é©±åŠ¨). * å‡†å¤‡ USB Type c æ•°æ®çº¿ * ä½¿ç”¨æ•°æ®çº¿è¿žæŽ¥ç”µè„‘ä¸Žå¼€å‘æ¿ * ä¿®æ”¹ `platformio.ini` æ–‡ä»¶ï¼Œ æ·»åŠ ä¸‹é¢ä¸€è¡Œå†…å®¹ï¼š ```ini upload_protocol dfu ``` * å¼€å‘æ¿æŒ‰ä½ `BOOT` é”®ï¼Œå†æŒ‰ `RESET` é”®é‡å¯å¼€å‘æ¿åŽå†æ¾å¼€ `BOOT` é”®ï¼Œè¿›å…¥ DFU æ¨¡å¼ã€‚ ## ä¸€é”®ä¸‹è½½ æŒ‰ç…§ä¸Šé¢æ­¥éª¤é€‰æ‹©å¥½ä¸‹è½½æ–¹å¼åŽï¼Œå³å¯ä½¿ç”¨ PIO å†…ç½®å·¥å…·ä¸€é”®ä¸‹è½½ã€‚ ç‚¹å‡»å·¦ä¸‹è§’çš„ `Upload` å³å¯å‘å¼€å‘æ¿ä¸Šä¼ ç¨‹åºã€‚ ![](./../assets/pio_upload.png) ### ä½¿ç”¨Zadigå®‰è£…é©±åŠ¨ PIO å†…ç½® dfu util ä¸‹è½½å·¥å…·ï¼Œä½¿ç”¨æ­¤å·¥å…·éœ€è¦ä¸ºå¼€å‘æ¿å®‰è£… libusb é©±åŠ¨ã€‚ï¼ˆæ³¨æ„ï¼š ä¸Ž GD å®˜æ–¹é©±åŠ¨ä¸åŒï¼‰ å»ºè®®é€šè¿‡ Zadig å®‰è£… winusb é©±åŠ¨ã€‚[ä¸‹è½½åœ°å€](https://github.com/pbatard/libwdi/releases/download/b721/zadig 2.4.exe) ä¸‹è½½æˆåŠŸåŽæ‰“å¼€ Zadig åœ¨ä¸‹æ‹‰æ ä¸­é€‰æ‹© GD32Vï¼Œ æ›¿æ¢é©±åŠ¨é€‰æ‹© WinUSB, ç‚¹å‡»æ›¿æ¢æŒ‰é’®ï¼Œå³å¯æ›¿æ¢æˆåŠŸã€‚ ![](./../assets/dfu_zadig.png) ### DFU å›¾å½¢ç•Œé¢ä¸‹è½½ ä¸‹è½½DFUå·¥å…·ï¼š<https://dl.sipeed.com/shareURL/LONGAN/Nano/Tools> åœ¨é‡Œé¢æ‰¾åˆ° `GD32_MCU_Dfu_Tool_V3.8.1.5784_1.rar` æ–‡ä»¶å¹¶ä¸‹è½½ è§£åŽ‹å‡ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼š GD32 MCU Dfu Drivers_v1.0.1.2316 GD32 MCU Dfu Tool_v3.8.1.5784 å…ˆè¿›å…¥driveræ–‡ä»¶å¤¹ï¼Œå®‰è£…å¯¹åº”çš„é©±åŠ¨æ–‡ä»¶ï¼Œæ³¨æ„ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œ ![](./../assets/examples/how_to_install_dfu.png) å†å›žåˆ°Toolsç›®å½•ä¸‹è¿è¡Œ GD32 MCU Dfu Tool.exe å°† Longan Nano æ’åˆ°ç”µè„‘ï¼ŒæŒ‰ä½æ¿å­ä¸Š Boot0 é”®çš„æ—¶å€™æŒ‰ä¸‹ reset é”®ã€‚ å°±å¯ä»¥çœ‹åˆ° DFU å·¥å…·ä¸­è¯†åˆ«åˆ°äº† GD32VF èŠ¯ç‰‡ é€‰æ‹©å¯¹åº”çš„å›ºä»¶æ–‡ä»¶ï¼Œå¹¶å‹¾é€‰çƒ§å½•åŽæ ¡éªŒï¼Œç‚¹å‡»OKï¼Œå³å¯è¿›è¡Œçƒ§å½• çƒ§å½•å®Œæˆä¹‹åŽä¸ä¼šè‡ªåŠ¨å¤ä½ï¼Œéœ€è¦è‡ªå·±æ‰‹å·¥æŒ‰ä¸‹å¤ä½æŒ‰é”®(æŒ‰ä¸‹reset)ã€‚ ![](./../assets/examples/how_to_use_dfu.png)"},"/hardware/zh/longan/Nano/examples/printf.html":{"title":"ä¸²å£æ‰“å°","content":"ä¸²å£æ‰“å° å¾ˆå¤šæ—¶å€™ï¼Œä¸²å£æ‰“å°éƒ½æ˜¯ä¸€ä¸ªéžå¸¸æ–¹ä¾¿çš„è°ƒè¯•æ‰‹æ®µï¼Œé€šè¿‡ä¸²å£æ‰“å°çš„ä¿¡æ¯ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®šä½ç¨‹åºé”™è¯¯ä½ç½® æœ¬æ–‡åŸºäºŽ longan nano æ¼”ç¤ºå¦‚ä½•å®žçŽ° printf é€šè¿‡ä¸²å£æ‰“å° æœ¬æ–‡é€‰æ‹©ä¸²å£0ä½œä¸ºä¸²å£æ‰“å°ä¿¡æ¯çš„ç«¯å£ï¼Œå¤–è®¾ä½¿ç”¨å‰ï¼Œè‡ªç„¶éœ€è¦è¿›è¡Œåˆå§‹åŒ– ```c void init_uart0(void) {\t \t/* enable GPIO clock */ rcu_periph_clock_enable(RCU_GPIOA); /* enable USART clock */ rcu_periph_clock_enable(RCU_USART0); /* connect port to USARTx_Tx */ gpio_init(GPIOA, GPIO_MODE_AF_PP, GPIO_OSPEED_50MHZ, GPIO_PIN_9); /* connect port to USARTx_Rx */ gpio_init(GPIOA, GPIO_MODE_IN_FLOATING, GPIO_OSPEED_50MHZ, GPIO_PIN_10); \t/* USART configure */ usart_deinit(USART0); usart_baudrate_set(USART0, 115200U); usart_word_length_set(USART0, USART_WL_8BIT); usart_stop_bit_set(USART0, USART_STB_1BIT); usart_parity_config(USART0, USART_PM_NONE); usart_hardware_flow_rts_config(USART0, USART_RTS_DISABLE); usart_hardware_flow_cts_config(USART0, USART_CTS_DISABLE); usart_receive_config(USART0, USART_RECEIVE_ENABLE); usart_transmit_config(USART0, USART_TRANSMIT_ENABLE); usart_enable(USART0); usart_interrupt_enable(USART0, USART_INT_RBNE); } ``` è¿™é‡Œé¦–å…ˆçš„å¼€å¯äº†ç«¯å£æ—¶é’Ÿå’Œä¸²å£æ—¶é’Ÿï¼Œåœ¨åˆå§‹åŒ–å®Œç®¡è„šåŽï¼Œå°±è¿›è¡Œäº†ä¸²å£çš„åŠŸèƒ½é…ç½® æˆ‘ä»¬ä¸€èˆ¬æ¯”è¾ƒå…³å¿ƒçš„å°±æ˜¯ä¸²å£çš„æ³¢ç‰¹çŽ‡ï¼Œè¿™é‡Œè®¾ç½®æˆäº† 115200 ç„¶åŽæˆ‘ä»¬è¿˜éœ€è¦é‡æ–°å®žçŽ° _put_char ï¼Œå°† printf é‡æ˜ å°„ ```c int _put_char(int ch) { usart_data_transmit(USART0, (uint8_t) ch ); while ( usart_flag_get(USART0, USART_FLAG_TBE) RESET){ } return ch; } ``` è¿™æ ·å°±å¯ä»¥å¿«ä¹çš„ä½¿ç”¨ printf äº†"},"/hardware/zh/longan/Nano/examples/badapple.html":{"title":"Bad Apple æ¼”ç¤ºè§†é¢‘","content":"Bad Apple æ¼”ç¤ºè§†é¢‘ æœ¬æ–‡ç›®çš„æ˜¯ä½¿ç”¨æ¿è½½çš„ 160*80 åˆ†è¾¨çŽ‡çš„ OLED å±å¹•æ’­æ”¾ bad apple è§†é¢‘ ## ä¸»è¦å·¥ä½œä»‹ç» + ç§»æ¤ OLED å±å¹•çš„é©±åŠ¨ + ç§»æ¤ tf å¡é©±åŠ¨å’Œ fatfs æ–‡ä»¶ç³»ç»Ÿ + å°†è§†é¢‘æŒ‰è‡ªå·±éœ€è¦çš„å¸§çŽ‡è½¬æ¢ä¸ºä¸€å¸§å¸§çš„å›¾ç‰‡ç„¶åŽæ‰“åŒ…åˆ° tf å¡ + åœ¨ gd32v ä¸Šè¯»å– tf å¡ä¸­çš„å›¾ç‰‡å¹¶è¿›è¡Œæ˜¾ç¤º ### å±å¹•é©±åŠ¨ ä½¿ç”¨ç¡¬ä»¶ SPI é©±åŠ¨å±å¹•ï¼Œé¦–å…ˆéœ€è¦åˆå§‹åŒ– SPI ```c void spi_config(void) { spi_parameter_struct spi_init_struct; /* deinitilize SPI and the parameters */ OLED_CS_Set(); spi_struct_para_init(&spi_init_struct); /* SPI0 parameter config */ spi_init_struct.trans_mode SPI_TRANSMODE_FULLDUPLEX; spi_init_struct.device_mode SPI_MASTER; spi_init_struct.frame_size SPI_FRAMESIZE_8BIT; spi_init_struct.clock_polarity_phase SPI_CK_PL_HIGH_PH_2EDGE; spi_init_struct.nss SPI_NSS_SOFT; spi_init_struct.prescale SPI_PSC_8; spi_init_struct.endian SPI_ENDIAN_MSB; spi_init(SPI0, &spi_init_struct); \tspi_crc_polynomial_set(SPI0,7); \tspi_enable(SPI0); } ``` åˆå§‹åŒ–å®ŒæˆåŽå°±å¯ä»¥å®žçŽ°æ•°æ®æŒ‡ä»¤çš„å‘é€ ```c void LCD_Writ_Bus(u8 dat) { \tOLED_CS_Clr(); \twhile(RESET spi_i2s_flag_get(SPI0, SPI_FLAG_TBE)); spi_i2s_data_transmit(SPI0, dat); \twhile(RESET spi_i2s_flag_get(SPI0, SPI_FLAG_RBNE)); spi_i2s_data_receive(SPI0); \tOLED_CS_Set(); } void LCD_WR_DATA8(u8 dat) { \tOLED_DC_Set();//å†™æ•°æ® \tLCD_Writ_Bus(dat); } void LCD_WR_DATA(u16 dat) { \tOLED_DC_Set();//å†™æ•°æ® \tLCD_Writ_Bus(dat>>8); \tLCD_Writ_Bus(dat); } void LCD_WR_REG(u8 dat) { \tOLED_DC_Clr();//å†™å‘½ä»¤ \tLCD_Writ_Bus(dat); } ``` `LCD_Writ_Bus` å®Œæˆäº† SPI çš„æ”¶å‘ï¼Œé€šè¿‡æŽ§åˆ¶å‘½ä»¤æ•°æ®çº¿ï¼Œå®Œæˆå‘½ä»¤å’Œæ•°æ®çš„å‘é€ OLED å±å¹•åœ¨ä½¿ç”¨å‰è¿˜éœ€è¦è®¾ç½®å®ƒçš„ä¸€äº›å‚æ•°ï¼Œæ¯”å¦‚å±å¹•å¼€å¯ã€æ•°æ®å¸§çš„æ ¼å¼ç­‰ç­‰ï¼Œè¿™äº›åœ¨å‚æ•°åœ¨å±å¹•åˆå§‹åŒ–çš„æ—¶å€™ï¼Œé€šè¿‡å†™å‘½ä»¤å†å†™æ•°æ®çš„æ–¹å¼å†™å…¥ã€‚æƒ³ä¿®æ”¹è¿™äº›å‚æ•°éœ€è¦ä¾é å±å¹•é…å¥—çš„æ•°æ®æ‰‹å†Œï¼Œä¸è¿‡ä¸€èˆ¬å¯ä»¥å‚æ•°å±å¹•ç”Ÿäº§å•†æä¾›çš„ä¾‹ç¨‹ä¸­çš„å‚æ•°ã€‚ ### tf å¡é©±åŠ¨å’Œ fatfs æ–‡ä»¶ç³»ç»Ÿ tf å¡åœ¨ longan ä¸Šä¹Ÿæ˜¯ä½¿ç”¨ SPI é©±åŠ¨çš„ã€‚ä¸ºäº†æ›´å¿«çš„è®¿é—®é€ŸçŽ‡ï¼Œä¹Ÿæ˜¯ä½¿ç”¨ç¡¬ä»¶ SPI é©±åŠ¨ã€‚ä½¿ç”¨å‰ä¹Ÿéœ€è¦åˆå§‹åŒ–ï¼Œæ–¹å¼å’Œå±å¹•çš„ SPI åˆå§‹åŒ–ç±»ä¼¼ï¼Œå°±ä¸å†ç´¯è¿°ã€‚ fatfs æ˜¯ä¸€ä¸ªä¸“ä¸ºå°åž‹åµŒå…¥å¼è®¾å¤‡è®¾è®¡çš„æ–‡ä»¶ç³»ç»Ÿã€‚fatfs ç¬¦åˆ ANSI C(C89)è§„èŒƒï¼Œå¹¶ä¸”å’Œç£ç›˜ I/O å±‚å®Œå…¨åˆ†ç¦»ã€‚ å…·ä½“çš„ç§»æ¤ä¹Ÿå¾ˆç®€å•ï¼Œç›´æŽ¥å‚ç…§ fatfs æä¾›çš„ stm32 çš„å·¥ç¨‹ç§»æ¤è¿›è¡Œ è¿™é‡Œæä¾›è¯¥å·¥ç¨‹çš„[ä¸‹è½½åœ°å€](http://dl.sipeed.com/LONGAN/Nano/Firmware/badapple_demo_tools/ffsample.7z)ï¼Œå®Œæ•´ç‰ˆå¯ä»¥åŽ» fatfs çš„[å®˜ç½‘ä¸‹è½½](http://elm chan.org/fsw/ff/ffsample.zip) ä¸»è¦çš„å·¥ä½œåœ¨äºŽå®žçŽ° fatfs çš„å‡ ä¸ªåŸºæœ¬å‡½æ•° `disk_initialize` `disk_status` `disk_read` `disk_ioctl` è¿™äº›å‡½æ•°åˆæ˜¯åŸºäºŽ SPI é€šä¿¡çš„ï¼Œè¿˜éœ€è¦ä¿®æ”¹ SPI æŽ¥æ”¶å‘é€çš„å®žçŽ° ```c static BYTE xchg_spi ( \tBYTE dat\t/* Data to send */ ) { \twhile(RESET spi_i2s_flag_get(SPI1, SPI_FLAG_TBE)); spi_i2s_data_transmit(SPI1, dat); \twhile(RESET spi_i2s_flag_get(SPI1, SPI_FLAG_RBNE)); return(spi_i2s_data_receive(SPI1)); /* Return received byte */ } static void rcvr_spi_multi ( \tBYTE *buff,\t\t/* Pointer to data buffer */ \tUINT btr\t\t/* Number of bytes to receive (even number) */ ) { \tdo \t{ \t\t*buff xchg_spi(0xff); \t\tbuff++; \t} while (btr ); } ``` ### è§†é¢‘é¢„è§£ç  mp4 æ ¼å¼çš„è§†é¢‘ï¼Œå•ç‰‡æœºå› ä¸ºæ²¡æœ‰ç¡¬ä»¶çš„åŠ é€Ÿï¼Œæ— æ³•èƒœä»»è§£ç æ’­æ”¾çš„å·¥ä½œï¼Œæ‰€ä»¥åªèƒ½é æ‰‹å·¥é¢„è§£ç ï¼Œç›¸å½“äºŽæŒ‰ç…§ä¸€å®šçš„å¸§çŽ‡å¯¹åŽŸè§†é¢‘è¿›è¡Œæˆªå›¾ è¿™é‡Œéœ€è¦ä½¿ç”¨åˆ° PotPlayer XnViewMP é¦–å…ˆä½¿ç”¨ PotPlayer æ‰“å¼€è§†é¢‘ï¼Œå¿«æ·é”® ctrl+G æ‰“å¼€è¿žç»­æˆªå›¾ æ‰“å¼€åŽå¦‚å›¾ ![](./../assets/examples/potplayer.png) å…¶ä¸­æ ¼å¼ä¸€å®šè¦ BMPï¼Œå°ºå¯¸æŒ‰ç…§å±å¹•çš„å°ºå¯¸è®¾ç½®ï¼Œæ—¶é—´æˆ‘è¿™é‡Œè®¾ç½®çš„æ˜¯ 100ms ä¹Ÿå°±æ˜¯ 1s åå¸§çš„æ ·å­ï¼Œé‡‡é›†æ•°é‡å°±è‡ªå·±è®¡ç®—ä¸€ä¸‹è§†é¢‘æ€»æ—¶é—´å†ä¹˜æ¯ç§’å¸§æ•°ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯ 219s * 10 2190 æœ€åŽå¾—åˆ°çš„å›¾ç‰‡æ˜¯ 32ä½ çš„ BMPï¼Œè½¬æ¢èµ·æ¥ä¸æ–¹ä¾¿ï¼Œå°±ç”¨ XnViewMP è½¬æ¢ä¸º 24ä½ çš„ BMP æ‰“å¼€ XnViewMP ï¼Œé€‰æ‹©è¦è½¬æ¢çš„å›¾ç‰‡ï¼Œå¿«æ·é”® ctrl+U æ‰“å¼€æ‰¹é‡è½¬æ¢ï¼Œåœ¨åŠ¨ä½œä¸­é€‰æ‹© 24ä½ è¿›è¡Œè½¬æ¢ï¼Œå¦‚å›¾ ![](./../assets/examples/XnViewMP.png) ç„¶åŽå°±æ˜¯å°†è¿™äº›å›¾ç‰‡æ‰“åŒ…åˆ° tf å¡ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ï¼Œä¿®æ”¹äº†ç½‘ä¸Šçš„ä¸€ä¸ªå¼€æºé¡¹ç›® [bmp2hex](https://github.com/robertgallup/bmp2hex)ï¼Œé‡æ–°æ•´ç†äº†ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥[ç‚¹å‡»ä¸‹è½½](http://dl.sipeed.com/LONGAN/Nano/Firmware/badapple_demo_tools/tools_bmp2hex.zip) ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼ŒæŠŠä¸‹è½½çš„è¿™ä¸ªåŽ‹ç¼©åŒ…æ”¾åˆ°ä¹‹å‰ç”Ÿæˆçš„å›¾ç‰‡é›†ä¸­ï¼Œè¿›è¡Œè§£åŽ‹ ä½¿ç”¨å·¥å…·å‰éœ€è¦ç¡®ä¿æ‰€æœ‰å›¾ç‰‡çš„åå­—æ˜¯ æ•°å­—.bmp ï¼Œä¸æ˜¯çš„è¯å¯ä»¥å…ˆè¿è¡Œä¸€é rename.py è¿™ä¸ªè„šæœ¬ï¼Œç›´æŽ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ `python rename.py` å³å¯ æ ¹æ®è‡ªå·±å›¾ç‰‡æ€»æ•°ä¿®æ”¹ genhex.py è¿™ä¸ªè„šæœ¬çš„ç¬¬4è¡Œä¸­çš„æ•°å­—ï¼Œæ¯”å¦‚æˆ‘æœ‰ 2190å¼  å›¾ç‰‡ï¼Œè¿™é‡Œçš„æ•°å­—å°±å†™ 2190 ç„¶åŽå°±è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ `python genhex.py`ï¼Œæ—¶é—´å¯èƒ½æ¯”è¾ƒä¹…ï¼Œéœ€è¦è€å¿ƒç­‰å¾… æœ€åŽè¿è¡Œå®Œæ¯•åŽä¼šç”Ÿæˆä¸€ä¸ª bmp.bin æ–‡ä»¶ï¼Œå°†è¿™ä¸ªæ–‡ä»¶æ”¾å…¥åˆ° tf å¡ä¸­å³å¯ ### è¯»å–å›¾ç‰‡ æœ€åŽçš„è¯»å–å›¾ç‰‡å¹¶æ˜¾ç¤ºå…¶å®žå¾ˆç®€å•äº†ï¼Œä¸»è¦æ¶‰åŠåˆ°çš„å°±æ˜¯æ–‡ä»¶æ“ä½œï¼Œå…³äºŽ fatfs çš„ API [å¯ä»¥ç‚¹å‡»è¿™é‡Œé˜…è¯»](http://elm chan.org/fsw/ff/doc/open.html) é¦–å…ˆéœ€è¦å°† tf å¡æŒ‚è½½åˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨åˆ° f_mount è¿™ä¸ªå‡½æ•° ```c fr f_mount(&fs, \"\", 1); ``` æŒ‚è½½ä¸ŠåŽï¼Œå°±æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ç„¶åŽæ‰“å¼€ï¼Œè¿™é‡Œæ¶‰åŠåˆ° f_open ```c fr f_open(&fil, \"bmp.bin\", FA_READ); ``` æ–‡ä»¶æ‰“å¼€åŽï¼Œå°±å¯ä»¥è¯»å–å›¾ç‰‡ä¿¡æ¯å¹¶æ˜¾ç¤ºäº†ï¼Œè¿™é‡Œ 160*80 å°ºå¯¸çš„ 16ä½çœŸå½©å›¾ç‰‡ï¼Œä¸€å¼ æœ‰ 25600 å­—èŠ‚ï¼Œlongan ä¸Šçš„å¤„ç†å™¨æ— æ³•ç›´æŽ¥åˆ›å»ºä¸€ä¸ªè¿™ä¹ˆå¤§çš„æ•°ç»„ï¼Œæ‰€ä»¥åªèƒ½åˆ†ä¸¤æ¬¡è¿›è¡Œè¯»å–ï¼Œæ¯æ¬¡è¯»å–å®Œè¿›è¡Œä¸€æ¬¡åç§»ï¼Œæœ€åŽé€šè¿‡å¾ªçŽ¯è¯»å–æ€»å…±çš„ 2189 å¼ å›¾ç‰‡ï¼Œè¿™é‡Œæ¶‰åŠåˆ° f_read f_lseek ```c for (int i 0; i<2189;i++) { fr f_read(&fil, image, sizeof(image), &br); LCD_ShowPicture(0,0,159,39); offset + 12800; f_lseek(&fil, offset); LEDB_TOG; fr f_read(&fil, image, sizeof(image), &br); LCD_ShowPicture(0,40,159,79); offset + 12800; f_lseek(&fil, offset); LEDB_TOG; } ``` æœ€åŽï¼Œæœ¬å·¥ç¨‹å¯ä»¥åˆ° github ä¸‹è½½ä½“éªŒï¼Œ[ç‚¹å‡»è¿›è¡Œä¼ é€](https://github.com/sipeed/Longan_GD32VF_examples)"},"/hardware/zh/modules/Gamepad.html":{"title":"Sipeed Gamepad","content":"# Sipeed Gamepad ## æ¦‚è¿° ![](./../../assets/spmod/spmod_amigo_hendle/Gamepad141.jpg) é‡‡ç”¨ä¸»æŽ§èŠ¯ç‰‡ï¼š GD32F150G é€šä¿¡æŽ¥å£ï¼šIICï¼ˆ8Påº§å­æˆ–è€…Grove 4P 2.0mmåº§å­ï¼‰ æ¿è½½10ä¸ªæŒ‰é”®ï¼ˆæ¯ä¸ªæŒ‰é”®éƒ½è¿žæŽ¥åˆ°ç‹¬ç«‹çš„GPIOï¼‰ æ¿è½½æŒ‡ç¤ºç¯ ## ç¡¬ä»¶å‚æ•° é¡¹ç›® å‚æ•° MCU GD32F150Gï¼ˆArm Cortex M3ï¼‰ ä¸»é¢‘ 72Mhz å­˜å‚¨ 64KB Flash, 8KB SRAM æŒ‰é”® 10ä¸ªæŒ‰é”®ï¼ˆæ¯ä¸ªæŒ‰é”®éƒ½è¿žæŽ¥åˆ°ç‹¬ç«‹çš„GPIOï¼‰ ä¸‹è½½æŽ¥å£ SWDä¸‹è½½ æ™¶æŒ¯ 24MHzæ— æºæ™¶æŒ¯ LED æ¿è½½1ä¸ªç”µæºæŒ‡ç¤ºç¯å’Œ2ä¸ªLED USBæŽ¥å£ æ¿è½½1ä¸ªUSB TYPE C æ¯åº§ï¼ˆè¿žæŽ¥åˆ°MCUçš„USBï¼‰ ![](./../../assets/spmod/spmod_amigo_hendle/amigo_handle_5.png) ## æ‰‹æŸ„æŽ¥å£ ![](./../../assets/spmod/spmod_amigo_hendle/amigo_handle_3.jpg) ![](./../../assets/spmod/spmod_amigo_hendle/amigo_handle_4.jpg) å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 GND G æ¨¡å—ç”µæºåœ° 2 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 3 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 4 SDA I/O æ¨¡å—I2Cä¸²è¡Œæ•°æ®å¼•è„š 5 3V3 V æ¨¡å—ç”µæºè¾“å…¥æ­£ 6 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 7 NC NC æ‚¬ç©ºå¼•è„šï¼Œæ— åŠŸèƒ½ 8 SCL I æ¨¡å—I2Cä¸²è¡Œæ—¶é’Ÿå¼•è„š é“¾æŽ¥æ–¹å¼ å•æ‰‹æŸ„ï¼š ![](./../../assets/spmod/spmod_amigo_hendle/Gamepad.143.jpg) åŒæ‰‹æŸ„ï¼š ![ç­‰å¾…å®Œå–„](./../../assets/spmod/spmod_amigo_hendle/amigo_handle_6.png) ## è½¯ä»¶æè¿° é¡¹ç›® å‚æ•° å¼€å‘çŽ¯å¢ƒ Maixpy IDEã€ PlatformIO IDE å¼€å‘è¯­è¨€ Cè¯­è¨€ã€ python é€šè®¯åè®® IIC > GD32F150Gæºç å’Œä¾‹ç¨‹ [https://github.com/sipeed/GD32F150 I2C Handle](https://github.com/sipeed/GD32F150 I2C Handle) ### æ‰‹æŸ„æµ‹è¯• å•æ‰‹æ‰‹æŸ„è¾“å…¥æµ‹è¯• ```python from machine import I2C import nes, lcd from sound import CubeAudio import sys, time from fpioa_manager import fm from Maix import FPIOA, GPIO # B A SEL START UP DOWN LEFT RIGHT X Y # 1 2 4 8 16 32 64 128 254 253 i2c I2C(I2C.I2C2, freq 400*1000, sda 27, scl 24) lcd.init(freq 15000000) lcd.register(0x36, 0x20 state 0 import time i 0 while True: dev i2c1.scan() print(dev) dev i2c2.scan() print(dev) time.sleep(0.5) try: #i2c.writeto(0x4A, b'0') tmp (i2c1.readfrom(0x4A, 2)) print('{} {}'.format(int(tmp[0]), int(tmp[1]))) except Exception as e: print(e) ``` åŒæ‰‹æŸ„è¾“å…¥æµ‹è¯• ```python from machine import I2C import nes, lcd from sound import CubeAudio import sys, time from fpioa_manager import fm from Maix import FPIOA, GPIO # B A SEL START UP DOWN LEFT RIGHT X Y # 1 2 4 8 16 32 64 128 254 253 i2c I2C(I2C.I2C2, freq 400*1000, sda 27, scl 24) lcd.init(freq 15000000) lcd.register(0x36, 0x20 state 0 import time i 0 while True: dev i2c1.scan() print(dev) dev i2c2.scan() print(dev) time.sleep(0.5) try: #i2c.writeto(0x4A, b'0') tmp (i2c1.readfrom(0x4A, 2)) print('{} {}'.format(int(tmp[0]), int(tmp[1]))) except Exception as e: print(e) try: #i2c.writeto(0x42, b'0') tmp (i2c2.readfrom(0x42, 2)) print('{} {}'.format(int(tmp[0]), int(tmp[1]))) except Exception as e: print(e) ``` æµ‹è¯•ä»£ç è¾“å‡º ```python 0 252 #æ²¡æœ‰è¾“å‡º 1 252 #æŒ‰ä¸‹ B é”® 2 252 #æŒ‰ä¸‹ A é”® 4 252 #æŒ‰ä¸‹ SEL é”® 8 252 #æŒ‰ä¸‹ START é”® 16 252 #æŒ‰ä¸‹ UP é”® 32 252 #æŒ‰ä¸‹ DOWN é”® 64 252 #æŒ‰ä¸‹ LEFT é”® 128 252 #æŒ‰ä¸‹ RIGHT é”® 0 254 #æŒ‰ä¸‹ X é”® 0 253 #æŒ‰ä¸‹ Y é”® ``` ### æ¸¸æˆæµ‹è¯• [MaixPy NES](/soft/maixpy/zh/api_reference/media/nes.md) ## èµ„æ–™ä¸‹è½½ [Gamepad](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed Gamepad)"},"/hardware/zh/modules/camera_summary.html":{"title":"æ–½å·¥ä¸­","content":" title: æ–½å·¥ä¸­ GC0328 åŒæ‘„åƒå¤´æ¨¡å—(GC0328) OV7740 OV2640 OV2640 M12 åŒæ‘„åƒå¤´æ¨¡å—(OV2640)"},"/hardware/zh/modules/debugger_and_uart.html":{"title":"æ–½å·¥ä¸­","content":" title: æ–½å·¥ä¸­ Sipeed RV Debugger Lite JTAG /ä¸²å£è°ƒè¯• Sipeed RV debugger plus JTAG+UART Sipeed USB JTAG/TTL Sipeed åŒä¸²å£è½¬USBæ¨¡å—"},"/hardware/zh/modules/micarray.html":{"title":"MicArray éº¦å…‹é£Žé˜µåˆ—","content":"# MicArray éº¦å…‹é£Žé˜µåˆ— ## äº§å“ä»‹ç» <img src \"./../../assets/spmod/spmod_micarray/spmod_micarray.png\" width 55%> éº¦å…‹é£Žé˜µåˆ—æ¨¡å—æ˜¯ Sipeed åŸºäºŽ MSM261S4030H0 æ•°å­—éº¦å…‹é£ŽèŠ¯ç‰‡è®¾è®¡çš„ï¼Œæ¨¡å—å£°éŸ³è¯†åˆ«çµæ•åº¦ã€ä¿¡å™ªæ¯”é«˜ï¼Œç”±æ²¿æ¿çš„å…­ä¸ªéº¦å…‹é£Žå’Œä¸€ä¸ªä¸­å¿ƒçš„éº¦å…‹é£Žç»„æˆï¼Œé˜µåˆ—æ¿ä¸Šçš„ 12 é¢— LED å¯ä»¥ç”¨æ¥å¯è§†åŒ–è¯†åˆ«å£°æºæ–¹ä½ï¼ŒåŸºäºŽ `GCC PHAT` ç®—æ³•å®žçŽ°å£°æºå®šä½ã€è¯­éŸ³è¯†åˆ«ã€æ³¢æŸæˆå½¢ç­‰éœ€æ±‚åœºåˆã€‚ >è´­ä¹°é“¾æŽ¥ï¼š > [æ·˜å®](https://item.taobao.com/item.htm?id 591820993474) > [Aliexpress](https://www.aliexpress.com/item/1005002687541143.html) ## ç›¸å…³å‚æ•°èµ„æ–™ ### æ•°æ®æ‰‹å†Œ [ç‚¹æˆ‘ä¸‹è½½ MSM261S4030H0 æ•°æ®æ‰‹å†Œ](https://dl.sipeed.com/fileList/MAIX/HDK/Chip_DS/%E9%BA%A6%E5%85%8B_MSM261S4030H0(%E4%BD%BF%E7%94%A8%E7%9A%84).pdf) [ç‚¹æˆ‘ä¸‹è½½ SK9822 æ•°æ®æ‰‹å†Œ](https://dl.sipeed.com/fileList/MAIX/HDK/Chip_DS/sk9822_micarray_led.PDF) ### ç¡¬ä»¶èµ„æ–™ [ç‚¹æˆ‘å‰å¾€ç¡¬ä»¶èµ„æ–™åˆé›†](https://dl.sipeed.com/shareURL/MAIX/HDK/Sipeed R6+1_MicArray) [ç‚¹æˆ‘ä¸‹è½½äº§å“è§„æ ¼ä¹¦](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed R6+1_MicArray/Specifications/Sipeed%20R6+1%20%E9%BA%A6%E5%85%8B%E9%A3%8E%E9%98%B5%E5%88%97%20%E8%A7%84%E6%A0%BC%E4%B9%A6%20V1.0.pdf) [ç‚¹æˆ‘ä¸‹è½½äº§å“åŽŸç†å›¾](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed R6+1_MicArray/Sipeed R6+1_MicArray_11.16/Sipeed R6+1_MicArray_11.16(Schematic).pdf) [ç‚¹æˆ‘ä¸‹è½½ç‚¹ä½å›¾](https://dl.sipeed.com/fileList/MAIX/HDK/Sipeed R6+1_MicArray/Sipeed R6+1_MicArray_11.16/Sipeed R6+1_MicArray_11.16(Assembly%20drawing).pdf) ### ç›¸å…³å‚æ•° åŠŸèƒ½ç‰¹ç‚¹ å‚æ•° å£°åŽ‹çº§ 140 dB SPL çµæ•åº¦ 26(dB,dBFS @1kHz 1Pa) ä¿¡å™ªæ¯” 57 dB (20kHz bandwidth,A weighted) <br>THD<1% (100dB SPL @1kHz S Nom,Rload>2k ) æ—¶é’Ÿé¢‘çŽ‡ 1.0 4.0Mhz(æ­£å¸¸æ¨¡å¼) <br>150 800khz(ä½ŽåŠŸè€—æ¨¡å¼) MEMS éº¦å…‹é£Ž 7 ä¸ª MSM261S4030H0 ç»„æˆé˜µåˆ— è¿žæŽ¥å™¨ æ”¯æŒ 2*5P 2.54mm ç«¯å­å’Œ 10P 0.5mm FPC è¿žæŽ¥å™¨ ç¯å…‰ 12 ä¸ª SK9822 LED ç»„æˆä¸€ä¸ªçŽ¯å½¢ LED é˜µåˆ— å¤šä¸ª LED é€šè¿‡åŒä¿¡å·çº¿çº§è” / 8 Bitï¼ˆ256 çº§ï¼‰å¯è°ƒé¢œè‰² / 5 Bitï¼ˆ32 çº§ï¼‰äº®åº¦è°ƒèŠ‚ å°ºå¯¸ 78.1*88.8mm ## ä½¿ç”¨æ–¹æ³• åœ¨è¿›è¡Œä¸Šæ‰‹ä½¿ç”¨éº¦å…‹é£Žé˜µåˆ—å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®Œæˆä¸€äº›å‡†å¤‡å·¥ä½œã€‚ ### å‡†å¤‡å·¥ä½œ **çƒ§å½•å›ºä»¶** å‰å¾€ [ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/MAIX/MaixPy/release/master) ä¸‹è½½å›ºä»¶ï¼Œä¸‹è½½ [å›ºä»¶è¯´æ˜Ž](https://wiki.sipeed.com/soft/maixpy/zh/get_started/upgrade_maixpy_firmware.html#%E5%9B%BA%E4%BB%B6%E5%91%BD%E5%90%8D%E8%AF%B4%E6%98%8E) é‡Œé¢çš„é»˜è®¤å›ºä»¶å³å¯ä½¿ç”¨ã€‚ **æŽŒæ¡ K210 ç³»åˆ—å¼€å‘æ¿çš„åŸºç¡€ä½¿ç”¨ï¼ˆä½¿ç”¨å¼€å‘æ¿ä¸ºå‰æï¼‰** å‰å¾€ [K210 ä¸Šæ‰‹ï¼ˆé¿å‘ï¼‰æŒ‡å—](https://wiki.sipeed.com/news/MaixPy/K210_usage.html) å­¦ä¹ ç›¸å…³åŸºç¡€ä½¿ç”¨ï¼Œä¸‹ä¸€æ­¥æ“ä½œå¼€å§‹é»˜è®¤ä¼šè¿è¡Œä»£ç ä¼šä½¿ç”¨å¼€å‘æ¿ã€‚ ### æ¨¡å—å¼•è„šå®šä¹‰ å› éº¦å…‹é£Žé˜µåˆ—éœ€ä¸Žå¼€å‘æ¿è¿›è¡Œæ­é…æ‰èƒ½ä½¿ç”¨ï¼Œè¿žæŽ¥æ–¹å¼æœ‰ä¸¤ç§ï¼ˆ**2.54mm æœé‚¦çº¿åŠ 10P 0.5mm FPC æŽ’çº¿**ï¼‰ å¦‚é€‚é…æ¿å¡ä¸Šæ—  FPC æŽ’çº¿æŽ¥å£éœ€ä½¿ç”¨æœé‚¦çº¿è¿›è¡Œè¿žæŽ¥ï¼Œéœ€ä½¿ç”¨ä¸‹åˆ—å¼•è„šçš„å®šä¹‰ä¿¡æ¯ã€‚ å¼•è„šåºå· å¼•è„šåç§° ç±»åž‹ å¼•è„šè¯´æ˜Ž 1 VIN VCC æ¨¡å—ç”µæºè¾“å…¥æ­£ 2 GND GND æ¨¡å—ç”µæºåœ° 3 MIC_D0 I/O 0 å·éº¦å…‹é£Žå’Œ1å·éº¦å…‹é£Žçš„ IÂ²S æŽ¥å£çš„ä¸²è¡Œæ•°æ®è¾“å‡º 4 MIC_D1 I/O 2 å·éº¦å…‹é£Žå’Œ3å·éº¦å…‹é£Žçš„ IÂ²S æŽ¥å£çš„ä¸²è¡Œæ•°æ®è¾“å‡º 5 MIC_D2 I/O 4 å·éº¦å…‹é£Žå’Œ5å·éº¦å…‹é£Žçš„ IÂ²S æŽ¥å£çš„ä¸²è¡Œæ•°æ®è¾“å‡º 6 MIC_D3 I/O ä¸­å¿ƒéº¦å…‹é£Žçš„ IÂ²S æŽ¥å£çš„ä¸²è¡Œæ•°æ®è¾“å‡º 7 MIC_WS I/O IÂ²S æŽ¥å£çš„ä¸²è¡Œæ•°æ®å­—é€‰æ‹© 8 MIC_CK I/O IÂ²S æŽ¥å£çš„ä¸²è¡Œæ•°æ®æ—¶é’Ÿ 9 LED_CK I/O LED çš„ä¸²è¡Œæ•°æ®æ—¶é’Ÿ 10 LED_DA I/O LED çš„çš„ä¸²è¡Œæ•°æ®è¾“å‡º <img src \"./../../assets/spmod/spmod_micarray/MicArray.png\" width 55%> ### æŽ¥çº¿å‚è€ƒ >æ–‡æ¡£ä»¥æœé‚¦çº¿æŽ¥æ³•ä¸ºç¤ºä¾‹ï¼ŒæŽ¥çº¿å‰å‚ç…§è‡ªå·±æ‰€ç”¨æ¿å¡åŽŸç†å›¾ï¼Œç¡®å®šè‡ªå·±é€‰æ‹©çš„å¼•è„šæ²¡æœ‰è¢«å…¶ä»–å¤–è®¾ä½¿ç”¨ã€‚ >**ï¼ˆæ¯”å¦‚ä¸åº”è¯¥ä¸Ž LCD å¼•è„šæˆ–è€…æ‘„åƒå¤´çš„å¼•è„šç­‰å¤–è®¾å¼•è„šå¤ç”¨ï¼‰** éº¦å…‹é£Žé˜µåˆ— å¼€å‘æ¿ä¸Šçš„å¯¹åº”ç®¡è„š ä»£ç ä¸­æ‰€å¯¹åº”çš„å‚æ•° VIN 3.3v/5v â€”â€” GND GND â€”â€” LED_CK I/O å£ sk9822_clk LED_DA I/O å£ sk9822_dat MIC_D0 I/O å£ i2s_d0 MIC_D1 I/O å£ i2s_d1 MIC_D2 I/O å£ i2s_d2 MIC_D3 I/O å£ i2s_d3 MIC_WS I/O å£ i2s_ws MIC_CK I/O å£ i2s_sclk **æ³¨æ„**ï¼šå› ä¸º K210 çš„ FPIOA çš„ç‰¹æ€§, æ”¯æŒæ¯ä¸ªå¤–è®¾éšæ„æ˜ å°„åˆ°ä»»æ„å¼•è„šï¼›æ‰€ä»¥å°†ä¸Šé¢çš„è¡¨æ ¼ä¸­çš„ `I/O å£` ä¸Žï¼ˆè‡ªè¡Œä½¿ç”¨ï¼‰å¼€å‘æ¿ä¸Šå¸¦æœ‰æ•°å­—æ ‡è¯†çš„å¼•è„šè¿žèµ·æ¥å³å¯ï¼Œç±»ä¼¼äºŽæ ‡æœ‰ GND è¿™ç§ç‰¹æ®Šæ ‡è¯†ï¼ˆå‚è€ƒæ¿å­åŽŸç†å›¾ï¼‰çš„å°±ä¸ç®—æ‰€è°“çš„æ•°å­—æ ‡è¯†å¼•è„šï¼Œè¿žæŽ¥å®ŒåŽå¯ä»¥æŸ¥çœ‹ï¼ˆä¾‹ç¨‹ä»£ç ä¸‹æ–¹ï¼‰å…³äºŽä»£ç ä¸­å¼•è„šçš„è¯´æ˜Žã€‚ ### Micropython ä»£ç  > ä»¥ä¸‹æ˜¯å£°æºå®šä½å®žçŽ°çš„ä»£ç ï¼Œè¿è¡Œå³å¯åœ¨å¼€å‘æ¿ä¸Šä½“éªŒå£°æºå®šä½çš„æ•ˆæžœã€‚ ```python from Maix import MIC_ARRAY as mic import lcd lcd.init() mic.init()#é»˜è®¤é…ç½® #mic.init(i2s_d0 23, i2s_d1 22, i2s_d2 21, i2s_d3 20, i2s_ws 19, i2s_sclk 18, sk9822_dat 24, sk9822_clk 25)#å¯è‡ªå®šä¹‰é…ç½® IO while True: imga mic.get_map() # èŽ·å–å£°éŸ³æºåˆ†å¸ƒå›¾åƒ b mic.get_dir(imga) # è®¡ç®—ã€èŽ·å–å£°æºæ–¹å‘ a mic.set_led(b,(0,0,255))# é…ç½® RGB LED é¢œè‰²å€¼ imgb imga.resize(160,160) imgc imgb.to_rainbow(1) # å°†å›¾åƒè½¬æ¢ä¸ºå½©è™¹å›¾åƒ a lcd.display(imgc) mic.deinit() ``` **æ³¨æ„**ï¼šè¯·è‡ªè¡Œæ ¹æ®è‡ªå·±çš„è¿žæŽ¥çš„å¼•è„šå·ï¼Œå¯¹åº”ç€ä¿®æ”¹ `mic.init(i2s_d0 23, i2s_d1 22, i2s_d2 21, i2s_d3 20, i2s_ws 19, i2s_sclk 18, sk9822_dat 24, sk9822_clk 25)` é‡Œé¢çš„å‚æ•°ï¼ˆ**ç¤ºä¾‹ï¼šå°†éº¦å…‹é£Žé˜µåˆ—ä¸Šçš„ `MIC_D0` ä¸Ž K210 æ¿å­ä¸Šæ ‡å·ä¸º 25 çš„å¼•è„šç›¸è¿žï¼Œé‚£ä¹ˆä»£ç ä¸­çš„ç›¸å…³å‚æ•°éœ€è¦ä¿®æ”¹ä¸º `i2s_d0 25`**ï¼‰å…¶ä»–å¼•è„šåŒç†ä¿®æ”¹ï¼Œå› ç”¨æˆ·è‡ªè¡Œé…ç½®çš„ä¸åŒæ— å›ºå®šæœé‚¦çº¿è¿žæŽ¥è¯´æ˜Žï¼Œä¸ªäººè‡ªè¡Œä¿®æ”¹å¼•è„šå‚æ•°ï¼Œå¹¶ä¸”ä¸è¦å¿˜è®°åˆ æŽ‰ `mic.init(...)` å‰é¢çš„æ³¨é‡Šï¼ˆåˆ æŽ‰`#`å°±è¡Œï¼‰ã€‚ ### C è¯­è¨€ä»£ç  #### SK9822 é©±åŠ¨ä»£ç  ä»…ä¾›å‚è€ƒç”¨ï¼Œæ¥æºï¼š[github](https://github.com/sipeed/MaixPy/blob/master/components/kendryte_sdk/src/sipeed_sk9822.c) ;éœ€è¦åˆ†æžä»£ç çš„è¯å»ºè®®å¤åˆ¶ä»£ç åˆ°ç”µè„‘æœ¬åœ°ç¼–è¾‘å™¨ä¸­æŸ¥çœ‹ã€‚ <details> <summary>sipeed_sk9822.c</summary> <pre class \"language none line numbers language c\"><code class \"language c\">#include \"sipeed_sk9822.h\" #define LED_NUM 12 #define SK9822_DAT_SET() \\ { \\ gpiohs >output_val.bits.b27 1; \\ } #define SK9822_DAT_CLR() \\ { \\ gpiohs >output_val.bits.b27 0; \\ } #define SK9822_CLK_SET() \\ { \\ gpiohs >output_val.bits.b28 1; \\ } #define SK9822_CLK_CLR() \\ { \\ gpiohs >output_val.bits.b28 0; \\ } static void sk9822_init(void) { gpiohs_set_drive_mode(SK9822_DAT_GPIONUM, GPIO_DM_OUTPUT); gpiohs_set_drive_mode(SK9822_CLK_GPIONUM, GPIO_DM_OUTPUT); gpiohs_set_pin(SK9822_DAT_GPIONUM, 0); gpiohs_set_pin(SK9822_CLK_GPIONUM, 0); } void sk9822_send_data(uint32_t data) { for (uint32_t mask 0x80000000; mask > 0; mask >> 1) { SK9822_CLK_CLR(); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); // usleep(1); if (data & mask) { SK9822_DAT_SET(); } else { SK9822_DAT_CLR(); } SK9822_CLK_SET(); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); asm volatile(\"nop\"); // usleep(2); } } //32bit 0 void sk9822_start_frame(void) { sk9822_send_data(0); } //32bit 1 void sk9822_stop_frame(void) { sk9822_send_data(0xffffffff); } //1 1 1 1 gray b g r void sk9822_data_one_led(uint8_t gray, uint8_t r, uint8_t g, uint8_t b) { uint32_t tosend; gray & 0x1f; //for make sure no error data in tosend ((0xe0 gray) << 24) (b << 16) (g << 8) r; sk9822_send_data(tosend); } uint32_t sk9822_gen_data_one_led(uint8_t gray, uint8_t r, uint8_t g, uint8_t b) { uint32_t tosend; gray & 0x1f; //for make sure no error data in tosend ((0xe0 gray) << 24) (b << 16) (g << 8) r; return tosend; } //first color1, then msleep interval, then color2, last msleep interval void sk9822_flash(uint32_t color1, uint32_t color2, uint32_t interval) { uint8_t index; color1 0xe0000000; color2 0xe0000000; sk9822_start_frame(); for (index 0; index < LED_NUM; index++) { sk9822_send_data(color1); } sk9822_stop_frame(); msleep(interval); sk9822_start_frame(); for (index 0; index < LED_NUM; index++) { sk9822_send_data(color2); } sk9822_stop_frame(); msleep(interval); } static void arraymove(uint32_t array[], uint8_t len) { uint8_t index; uint32_t tmp; tmp array[0]; for (index 0; index < len 1; index++) { array[index] array[index + 1]; } array[len 1] tmp; } //å‘¼å¸ //è·‘é©¬ç¯ //æ–¹ä½ void sk9822_horse_race(uint8_t r, uint8_t g, uint8_t b, uint32_t interval, uint8_t times) { uint32_t led_frame[LED_NUM] {0}; uint8_t i, index; for (index 0; index < 12; index++) { led_frame[index] 0xff000000; } for (index 0; index < 6; index++) { // led_frame[index] sk9822_gen_data_one_led((0xe0(index*4)),r 40*index,g 30*index,b 20*index); led_frame[index] sk9822_gen_data_one_led((0xe0 (32 index * 4)), r, g, b); } for (index 0; index < times; index++) { while (1) { sk9822_start_frame(); for (i 0; i < 12; i++) { sk9822_send_data(led_frame[i]); } sk9822_stop_frame(); arraymove(led_frame, LED_NUM); msleep(interval); } } } void sk9822_breath(uint8_t r, uint8_t g, uint8_t b, uint32_t interval) { uint8_t index, cnt, dir; uint32_t color sk9822_gen_data_one_led(0xff, r, g, b); cnt 0; dir 1; while (1) { if (cnt > 30) { dir !dir; cnt 0; } cnt++; color sk9822_gen_data_one_led((0xe0 (dir ? cnt : 31 cnt)), r, g, b); sk9822_start_frame(); for (index 0; index < LED_NUM; index++) { sk9822_send_data(color); } sk9822_stop_frame(); msleep(interval); } } void sipeed_init_mic_array_led(void) { sk9822_init(); //flash 3 times sk9822_flash(0xffeec900, 0xffff0000, 200); sk9822_flash(0xffeec900, 0xff00ff00, 200); sk9822_flash(0xffeec900, 0xff0000ff, 200); } // void sipeed_calc_voice_strength(uint8_t voice_data[]) // { // uint32_t tmp_sum[12] {0}; // uint32_t led_color[12]; // uint8_t i, index, tmp; // for (index 0; index < 12; index++) // { // tmp_sum[index] 0; // for (i 0; i < voice_strength_len[index]; i++) // { // tmp_sum[index] + voice_data[voice_strength[index][i]]; // } // tmp (uint8_t)tmp_sum[index] / voice_strength_len[index]; // led_brightness[index] tmp > 15 ? 15 : tmp; // } // sk9822_start_frame(); // for (index 0; index < 12; index++) // { // led_color[index] (led_brightness[index] / 2) > 1 ? (((0xe0 (led_brightness[index] * 2)) << 24) 0xcd3333) : 0xe0000000; // sk9822_send_data(led_color[index]); // } // sk9822_stop_frame(); // } </code> </pre> </details> #### Micarray ä»£ç  ä»…ä¾›å‚è€ƒç”¨ï¼Œæ¥æºï¼š[github](https://github.com/sipeed/MaixPy/blob/master/components/micropython/port/src/Maix/Maix_mic_array.c)ï¼›éœ€è¦åˆ†æžä»£ç çš„è¯å»ºè®®å¤åˆ¶ä»£ç åˆ°ç”µè„‘æœ¬åœ°ç¼–è¾‘å™¨ä¸­æŸ¥çœ‹ã€‚ ## æ›´å¤šæ‹“å±•ç”¨æ³• >è¿™é‡Œæ”¶é›†äº†ç¤¾åŒºå°ä¼™ä¼´ä»¬è´¡çŒ®çš„å…³äºŽéº¦å…‹é£Žé˜µåˆ—æ›´å¤šçš„æ‹“å±•ç”¨æ³•ï¼Œä¾›å¤§å®¶è¿›è¡Œå‚è€ƒå®žçŽ°ã€‚ ### å¦‚ä½•èŽ·å–æ•°æ®æ ¼å¼ éº¦å…‹é£Žé˜µåˆ—ä¸Ž K210 æ˜¯é€šè¿‡ I2S åè®®è¿›è¡Œé€šä¿¡çš„ï¼Œå¯é€šè¿‡éº¦å…‹é£Žçš„é€šä¿¡åè®®æ‰‹å†ŒæŸ¥è¯¢æŽ¥æ”¶çš„æ•°æ®æ ¼å¼ã€‚ ### å¦‚ä½•èŽ·å–å£°éŸ³çš„å¼ºåº¦åŠè§’åº¦ [ç‚¹ç¯é¼ æ•™ç¨‹](https://bbs.sipeed.com/thread/68) [Github åŽŸæ–‡æ•™ç¨‹](https://github.com/USTHzhanglu/Maixpy/tree/master/code/script/mic) ### å£°æºå®šä½ [K210â€”â€”å£°æºå®šä½ã€å£°éŸ³è¯†åˆ«](https://qichenxi.blog.csdn.net/article/details/126022738?spm 1001.2101.3001.6661.1&utm_medium distribute.pc_relevant_t0.none task blog 2%7Edefault%7ECTRLIST%7ERate 1 126022738 blog 129727127.235%5Ev33%5Epc_relevant_default_base3&depth_1 utm_source distribute.pc_relevant_t0.none task blog 2%7Edefault%7ECTRLIST%7ERate 1 126022738 blog 129727127.235%5Ev33%5Epc_relevant_default_base3&utm_relevant_index 1) [2022 å¹´ç”µèµ› E é¢˜å£°æºå®šä½è·Ÿè¸ªç³»ç»Ÿ](https://blog.csdn.net/qq_53357019/article/details/126982978) ## å¸¸è§é—®é¢˜ ### å‡ºçŽ°æŠ¥é”™ä¿¡æ¯ ![æŠ¥é”™ä¿¡æ¯](./../../assets/spmod/spmod_micarray/spmod_micarray_err.png) æ›´æ¢å…¶ä»–IOç®¡è„šå³å¯"},"/hardware/zh/maixIII/index.html":{"title":"","content":" "},"/hardware/zh/maixIII/ax-pi/dev_prepare.html":{"title":"Maix-III AXera-Pi å¼€å‘æ¿ SDK ä½¿ç”¨ä»‹ç»","content":" title: Maix III AXera Pi å¼€å‘æ¿ SDK ä½¿ç”¨ä»‹ç» > æœ¬æ–‡å‡å®šä½ æ˜¯ä¸€åä¸äº†è§£ linux ç³»ç»Ÿçš„å¼€å‘æ–¹å¼çš„å¼€å‘è€…ï¼Œä½†çŸ¥é“ gcc å’Œ make å‘½ä»¤ä½¿ç”¨çš„ç›¸å…³ä¸“ä¸šå·¥ç¨‹å¸ˆï¼Œå¦‚æžœä½ ä¸äº†è§£ gcc ç¼–è¯‘ç¨‹åºï¼Œå¯ä»¥å…ˆå­¦ä¹ [Linuxä¸­gcc/g++ gdb make/Make çš„åŸºæœ¬ä½¿ç”¨å’Œç†è§£](https://blog.csdn.net/m0_46606290/article/details/123083945) ã€‚ ## å‡†å¤‡å·¥ä½œ æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚åœ¨å¼€å§‹å¼€å‘ä¹‹å‰ï¼Œéœ€è¦å‡†å¤‡å¥½å¼€å‘æ¿ã€å¼€å‘çŽ¯å¢ƒã€å¼€å‘å·¥å…·ç­‰ã€‚ æ ¹æ®å‰é¢çš„ç« èŠ‚ï¼Œä½ æŽŒæ¡äº†å¼€å‘æ¿çš„ çƒ§å½•ç³»ç»Ÿ å’Œ ç™»å½•ç³»ç»Ÿ ç­‰ä¸€ç³»åˆ— Linux åŸºç¡€æ“ä½œï¼Œè¿™å¯ä»¥å¸®åŠ©ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­æŽ’æŸ¥è®¾å¤‡é—®é¢˜æˆ–è°ƒè¯•é©±åŠ¨ä»£ç ã€‚ ä½†æŽ¥ä¸‹æ¥è¦å¼€å‘ç¨‹åºå°±éœ€è¦å‡†å¤‡å¥½å¼€å‘çŽ¯å¢ƒå’Œå¼€å‘å·¥å…·äº†ï¼Œä»¥ä¸‹æ˜¯ç»™ä»Žæ¥æ²¡æŽ¥è§¦è¿‡åµŒå…¥å¼ linux ç³»ç»Ÿå¼€å‘çš„åŒå­¦äº†è§£çš„å†…å®¹ï¼Œå¦‚è½¯ä»¶å·¥ç¨‹çš„åŒå­¦ã€‚ é¦–å…ˆè®¤è¯†ä¸€ä¸‹ä»€ä¹ˆæ˜¯äº¤å‰ç¼–è¯‘ï¼Œé€šå¸¸æ¥è¯´ï¼Œç¼–è¯‘ç¨‹åºæœ‰äº¤å‰ç¼–è¯‘å’Œæœ¬åœ°ç¼–è¯‘ä¸¤ç§æƒ…å†µï¼Œæœ¬åœ°ç¼–è¯‘å°±æ˜¯åœ¨æœ¬æœºä¸Šä½¿ç”¨ gcc è¿›è¡Œç¼–è¯‘è¿è¡Œç¨‹åºï¼ˆä¾‹å¦‚åœ¨ Visual Studio ä¸Šç¼–è¯‘è¿è¡Œ hello world ï¼‰ï¼Œè€Œäº¤å‰ç¼–è¯‘å°±æ˜¯æœ¬æœºæ²¡æœ‰ç¼–è¯‘çŽ¯å¢ƒï¼Œéœ€è¦åœ¨å¦ä¸€å°æœºå™¨ä¸Šå®Œæˆç¼–è¯‘å†é€è¿›æ¥è¿è¡Œï¼ˆä¾‹å¦‚åœ¨ Android Studio ä¸Šç¼–è¯‘ apk é€åˆ°æ‰‹æœºé‡Œå®‰è£…ç¨‹åºè¿è¡Œï¼‰ã€‚ > äº¤å‰ç¼–è¯‘æ˜¯æŒ‡åœ¨ä¸€ç§è®¡ç®—æœºæž¶æž„ä¸Šç¼–è¯‘å‡ºå¦ä¸€ç§è®¡ç®—æœºæž¶æž„çš„å¯æ‰§è¡Œç¨‹åºã€‚äº¤å‰ç¼–è¯‘çš„ç›®çš„æ˜¯ä¸ºäº†åœ¨ä¸€ç§è®¡ç®—æœºæž¶æž„ä¸Šè¿è¡Œå¦ä¸€ç§è®¡ç®—æœºæž¶æž„çš„ç¨‹åºã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨ x86 æž¶æž„çš„è®¡ç®—æœºä¸Šç¼–è¯‘å‡º ARM æž¶æž„çš„å¯æ‰§è¡Œç¨‹åºï¼Œæˆ–è€…åœ¨ ARM æž¶æž„çš„è®¡ç®—æœºä¸Šç¼–è¯‘å‡º x86 æž¶æž„çš„å¯æ‰§è¡Œç¨‹åºã€‚äº¤å‰ç¼–è¯‘çš„ç›®çš„æ˜¯ä¸ºäº†åœ¨ä¸€ç§è®¡ç®—æœºæž¶æž„ä¸Šè¿è¡Œå¦ä¸€ç§è®¡ç®—æœºæž¶æž„çš„ç¨‹åºã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨ x86 æž¶æž„çš„è®¡ç®—æœºä¸Šç¼–è¯‘å‡º ARM æž¶æž„çš„å¯æ‰§è¡Œç¨‹åºï¼Œæˆ–è€…åœ¨ ARM æž¶æž„çš„è®¡ç®—æœºä¸Šç¼–è¯‘å‡º x86 æž¶æž„çš„å¯æ‰§è¡Œç¨‹åºã€‚ ä¸¤è€…çš„åŒºåˆ«åœ¨äºŽç¼–è¯‘ä¸€äº›å¤æ‚å¤§åž‹è½¯ä»¶ï¼Œæœ¬æœºæ€§èƒ½å¤ªå¼±å†…å­˜åˆå°‘ï¼Œå¯¼è‡´ç¼–è¯‘å‡ºæ¥çš„æ—¶é—´å¤ªé•¿ï¼Œæ‰€ä»¥éœ€è¦äº¤å‰ç¼–è¯‘æ¥å®Œæˆï¼Œæ¯”å¦‚ ax sample åœ¨æœ¬æœºå®Œæ•´ç¼–è¯‘éœ€è¦åå‡ åˆ†é’Ÿï¼Œè€Œåœ¨ä¸€å°é«˜æ€§èƒ½çš„æ¡Œé¢è®¡ç®—æœºä¸Šåªéœ€è¦æ•°åç§’å³å¯ã€‚ æ‰€ä»¥ä»Žå¼€å‘çš„è§’åº¦æ¥è¯´ï¼Œæœ¬æœºç¼–è¯‘åªæ˜¯ä¸ºäº†å¿«é€Ÿåº”ç”¨æŸ¥çœ‹æ•ˆæžœï¼ŒçœŸæ­£å¾—å¼€å‘èµ·æ¥è¿˜æ˜¯å¾—äº¤å‰ç¼–è¯‘ï¼Œå°±åƒåŽŸåŽ‚æä¾›çš„ bsp sdk ä¸€æ ·ï¼Œåœ¨è®¡ç®—æœºä¸Šå®Œæˆç¼–è¯‘åŽï¼Œå†é€è¿›æ¿å­ä¸­è¿è¡Œã€‚ ## æ¿å­ä¸Žç”µè„‘çš„æ–‡ä»¶äº’ä¼  åœ¨ç¼–è¯‘ç¨‹åºä¹‹å‰ï¼Œä½ éœ€è¦äº†è§£ä¸€äº›æ‹·è´æ–‡ä»¶åˆ°æ¿å­æˆ–ç”µè„‘çš„æ–¹æ³•ï¼Œå…å¾—äº¤å‰ç¼–è¯‘å®Œç¨‹åºä¸çŸ¥é“æ€Žä¹ˆä¼ æ–‡ä»¶è¿›åŽ»æ¿å­é‡Œè¿è¡Œã€‚ ssh ç›¸å…³çš„è¿œç¨‹å·¥å…·éœ€è¦ï¼Œä½ çŸ¥é“æ¿å­çš„ IP åœ°å€ï¼Œå¯ä»¥ä»Ž ifconfig å¾—çŸ¥ã€‚ serial ç›¸å…³çš„æœ‰çº¿ä¸²å£å·¥å…·ï¼Œéœ€è¦ä½ æŽ¥å¥½çº¿é…ç½®å¥½å‚æ•°è¿žä¸Šæ¿å­ã€‚ å¦‚ä½•ç™»å½•æ¿å­å‡å¯ä»¥ä»Žå‰æ–‡ã€ç³»ç»Ÿä½¿ç”¨æ‰‹å†Œã€‘ä¸­å¾—çŸ¥ã€‚ ### ä½¿ç”¨ ssh è¿œç¨‹ç®¡ç†å·¥å…· åœ¨ windows ä¸Šæœ‰è®¸å¤šè¿œç¨‹ç®¡ç† linux æœåŠ¡å™¨çš„å·¥å…·éƒ½æä¾›äº†æ–‡ä»¶ä¼ è¾“çš„åŠŸèƒ½ï¼Œè¿™é‡ŒåªæŽ¨èå…è´¹ç»¿è‰²å¥½ç”¨çš„ mobaxterm å·¥å…·ã€‚ [åˆ©ç”¨MobaXtermå®žçŽ°linuxå’Œwindowsä¹‹é—´ä¼ è¾“æ–‡ä»¶](https://jingyan.baidu.com/article/9f63fb91e2bc6688400f0e93.html) [ç”¨MobaXterm åœ¨linuxå’Œwindowsä¹‹é—´ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶](https://blog.csdn.net/unforgettable2010/article/details/123930796) > [å¦‚ä½•ä½¿ç”¨ mobaxterm](https://wiki.sipeed.com/hardware/zh/maixII/M2/tools/mobaxterm.html) æƒ³äº†è§£æ›´å¤šå¯ä»¥çœ‹ [æŽ¨è7æ¬¾è¶…çº§å¥½ç”¨çš„ç»ˆç«¯å·¥å…· â€”â€” SSH+FTP](https://zhuanlan.zhihu.com/p/301653835) ï¼Œè€Œå…¶ä»–ç³»ç»Ÿéƒ½æä¾›äº†å¥½ç”¨çš„å‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ”¯æŒ ssh ã€ scp ç­‰å‘½ä»¤ç›´æŽ¥æ‰§è¡Œã€‚ ### ä½¿ç”¨ scp å‘½ä»¤å¤åˆ¶æ–‡ä»¶ å’Œ cp å¤åˆ¶æ–‡ä»¶ç­‰å‘½ä»¤ä¸€æ ·ï¼Œå®ƒå°±æ˜¯ ssh + cp scp è¿™ä¸ªæ„æ€ã€‚ [linuxæ“ä½œç³»ç»Ÿscpå‘½ä»¤ä½¿ç”¨æ–¹æ³•](https://cloud.tencent.com/developer/article/1876623) ### ä½¿ç”¨è¯»å¡å™¨ç‰©ç†æ‹·è´æ–‡ä»¶ ç”±äºŽ linux ç³»ç»Ÿé‡‡ç”¨ ext4 åˆ†åŒºåœ¨ Windows / Mac é»˜è®¤ç³»ç»Ÿä¸Šçœ‹ä¸åˆ°ï¼Œéœ€è¦é¢å¤–å®‰è£…å¢žå¼ºå·¥å…·æ‰èƒ½è¯»å–åˆ°å…·ä½“çš„åˆ†åŒºã€‚ [å¦‚ä½•åœ¨ Windows ä¸‹è®¿é—® ext4 æ ¼å¼çš„ç¡¬ç›˜ï¼Ÿ](https://zhuanlan.zhihu.com/p/448535639) [[macOS] åœ¨ macOS ä¸ŠæŒ‚è½½ Linux çš„ ext/ext3/ext4 æ–‡ä»¶ç³»ç»Ÿ](https://blog.twofei.com/773/) Linux ç³»ç»Ÿå¯ä»¥ç›´æŽ¥çœ‹åˆ°å¡é‡Œçš„åˆ†åŒºå’Œå†…å®¹ï¼Œå®žåœ¨ä¸è¡Œä¹Ÿå¯ä»¥æŠŠè¯»å¡å™¨æŽ¥åˆ°å®‰å“è®¾å¤‡é€šè¿‡ otg è½¬æŽ¥å¤´å®žçŽ°æ–‡ä»¶æ‹·è´ã€‚ ### ä½¿ç”¨æœ‰çº¿ä¸²å£äº’ä¼ æ–‡ä»¶ æŽ¥å¥½ä¸²å£è¿žä¸Šè®¾å¤‡ï¼Œå®‰è£… `apt get install lrzsz` å·¥å…·åŽå‚è€ƒä»¥ä¸‹æ–‡ç« ï¼š ä½¿ç”¨ å‘½ä»¤è¡Œå·¥å…· `minicom D /dev/ttyUSB0 b 115200` å¯ä»¥çœ‹[ubuntuä¸­ä½¿ç”¨ minicom çŽ©è½¬æ–‡ä»¶çš„ä¸Šä¼ ä¸Žä¸‹è½½](https://blog.csdn.net/wanyeye/article/details/42002377)ã€‚ ä½¿ç”¨ mobaxterm å¯ä»¥çœ‹ [MobaXterm ä½¿ç”¨ rz/sz ä¼ é€æ–‡ä»¶](https://blog.csdn.net/qq_28837389/article/details/120073720) å…¶ä»–çš„å¯ä»¥è‡ªè¡Œç™¾åº¦ã€‚ ## æœ¬æœºç¼–è¯‘å¯ç›´æŽ¥è¿è¡Œç¨‹åº è¿™é‡ŒæŠŠ m3axpi æ¿å­å½“ä½œä¸€å°æœ¬åœ°çš„å¾®åž‹ linux æœåŠ¡å™¨çš„è§’è‰²æ¥çœ‹å¾…ï¼Œä½¿ç”¨ vscode remote æˆ– mobaxterm è¿™ç±»è¿œç¨‹å¼€å‘å·¥å…·è¿žæŽ¥åˆ°æ¿å­é‡Œï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå’Œåœ¨ linux æœåŠ¡å™¨ä¸€æ ·çš„æœ¬åœ°å¼€å‘çŽ¯å¢ƒï¼Œå¯ä»¥åœ¨æœ¬åœ°ç¼–è¾‘ä»£ç åŽç›´æŽ¥ç¼–è¯‘è¿è¡Œç¨‹åºã€‚ ### vscode remote vscode remote æ˜¯ vscode çš„ä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥ç›´æŽ¥è¿žæŽ¥åˆ°è¿œç¨‹çš„ linux æœåŠ¡å™¨ï¼Œç„¶åŽåœ¨æœ¬åœ°ç¼–è¾‘ä»£ç ï¼ŒåŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šç¼–è¯‘è¿è¡Œï¼Œè¿™é‡Œä»¥ä¸€å° ubuntu20.04 çš„æ¡Œé¢è®¡ç®—æœºç³»ç»Ÿä¸ºä¾‹ï¼Œåªè¦èƒ½å®‰è£… vscode ç¼–è¾‘å™¨è½¯ä»¶è®¡ç®—æœºéƒ½è¡Œï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ç¤ºæ„å¦‚ä½•è¿žæŽ¥åˆ°æ¿å­é‡Œã€‚ å®‰è£…æ’ä»¶ï¼š ```bash sudo apt install code code install extension ms vscode remote.remote ssh ``` <! [é™„å›¾] > è¿žæŽ¥åˆ°æ¿å­ï¼š ```bash ssh root@192.168.233.1 ``` <! [é™„å›¾] > ä¸æƒ³è¾“å…¥å¯†ç å¯ä»¥ç”¨ sshpass å‘½ä»¤çœç•¥ã€‚ ```bash sshpass p root ssh root@192.168.233.1 ``` æŽ¥ç€å°±å¯ä»¥åœ¨ vscode é‡Œç¼–è¯‘è¿è¡Œ linux ç³»ç»Ÿçš„ç¨‹åºäº†ï¼Œå¹¸è¿çš„æ˜¯åœ¨ debian ç³»ç»Ÿä¸Šå¯ä»¥ç›´æŽ¥é€šè¿‡ apt å¾—åˆ°æœ¬æœºçš„ç¼–è¯‘å·¥å…·é“¾ï¼Œè€Œä¸ç”¨äº¤å‰ç¼–è¯‘å°±å¯ä»¥ç›´æŽ¥ç¼–è¯‘è¿è¡Œç¨‹åºï¼Œè¿™äº›éƒ½å·²ç»æå‰å‡†å¤‡å¥½äº†ï¼Œå¯¹ç”¨æˆ·æ¥è¯´å¯ä»¥èŠ‚çœä¸å°‘æ­å»ºå†…éƒ¨å¼€å‘çŽ¯å¢ƒçš„æ—¶é—´ã€‚ æ‰€ä»¥å¯ä»¥ç›´æŽ¥åœ¨æ¿å­é‡Œç¼–è¯‘è¿è¡Œ libmaix é¡¹ç›®ï¼š ```bash cd /home/libmaix/examples/axpi/ python3 project.py build fbon ./dist/start_app.sh ``` > æŒ‰ ctrl + c ä¸­æ–­åœæ­¢ç¨‹åºç›´åˆ°é€€å‡ºã€‚ <! é™„å›¾ï¼š > ### mobaxterm åœ¨ Windows ä¸Šå¯ä»¥ç”¨ mobaxterm è¿™æ ·çš„å·¥å…·è¿žæŽ¥åˆ°æ¿å­è¿›è¡Œ linux æœåŠ¡å™¨ç®¡ç†ï¼Œä½†ç¼–è¯‘è¿˜æ˜¯éœ€è¦åœ¨ linux ç³»ç»Ÿä¸Šè¿›è¡Œã€‚ ![mobaxterm_ssh](./../assets/ssh.jpg) ## äº¤å‰ç¼–è¯‘ä¸Šä¼ ç¨‹åºå†è¿è¡Œ åœ¨è¿™ä¹‹å‰éœ€è¦æœ‰æœ¬åœ°ç¼–è¯‘çš„è®¤çŸ¥ï¼Œç„¶åŽå‘çŽ°æœ¬åœ°å†…å­˜å’Œæ€§èƒ½ä¸èƒ½æ»¡è¶³è‡ªèº«å¼€å‘éœ€æ±‚çš„æ—¶å€™ï¼Œå°±è¦å‡†å¤‡äº¤å‰ç¼–è¯‘ç¨‹åºäº†ï¼Œæ­¤æ—¶ç¨‹åºæ˜¯åœ¨å¦ä¸€å°æ›´å¼ºçš„ x86 linux ç³»ç»Ÿä¸Šå®Œæˆçš„ï¼Œå¹¶ä¸”ç¼–è¯‘å‡ºæ¥çš„ç¨‹åºéœ€è¦æ‹·è´åˆ°æ¿å­é‡Œè¿è¡Œã€‚ > **[20221010 çŽ°æä¾›ä¸€ç§å€ŸåŠ© docker qemu arm è™šæ‹Ÿæœºæ¥å®žçŽ°åœ¨ x86 æœºå™¨ä¸Šå®žçŽ°æœ¬åœ°ç¼–è¯‘ arm ç¨‹åºçš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•æ—¢æé«˜äº†ç¼–è¯‘æ•ˆçŽ‡åˆä¸ç”¨é…çŽ¯å¢ƒçš„æ–¹æ³•å€¼å¾—ä¸€è¯•ï¼](https://www.cnblogs.com/juwan/p/16769237.html)** é¦–å…ˆå¾—æœ‰ä¸€å° linux ç³»ç»Ÿï¼Œå¦‚ ubuntu20.04 è¿™æ ·çš„æ¡Œé¢è®¡ç®—æœºï¼ŒæŽ¥ç€å’Œä¸Šé¢ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™å°è®¡ç®—æœºä¸Šå®‰è£… vscode remote æˆ– idea clion è¿™ç±»å¼€å‘å·¥å…·ç›´æŽ¥è¿žæŽ¥åˆ°æ¿å­é‡Œï¼Œè¿™å¯ä»¥æ–¹ä¾¿ä½ ç¼–è¾‘ä»£ç æˆ–ä¼ è¾“æ–‡ä»¶ã€‚ æƒ³è¦åœ¨ x86 çš„æœºå™¨ä¸Šç¼–è¯‘å‡º arm æž¶æž„çš„ç¨‹åºï¼Œæƒ³è¦å…ˆé…ç½®ä¸“ç”¨çš„äº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼Œä¾‹å¦‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ arm linux gnueabihf è¿™ä¸ªå·¥å…·é“¾ï¼Œè¿™ä¸ªç¼–è¯‘é“¾å¯ä»¥ç›´æŽ¥é€šè¿‡ apt å®‰è£…ã€‚ `sudo apt install gcc arm linux gnueabihf` å®‰è£…å®ŒæˆåŽï¼Œå¯ä»¥åœ¨ /usr/bin ç›®å½•ä¸‹æ‰¾åˆ° `arm linux gnueabihf gcc` è¿™ä¸ªäº¤å‰ç¼–è¯‘å·¥å…·ï¼Œè¿™ä¸ªå·¥å…·å¯ä»¥ç”¨æ¥ç¼–è¯‘ linux ç³»ç»Ÿçš„ç¨‹åºã€‚ ```bash juwan@juwan n85 dls:~$ /usr/bin/arm linux gnueabihf gcc v Using built in specs. COLLECT_GCC arm linux gnueabihf gcc COLLECT_LTO_WRAPPER /usr/lib/gcc cross/arm linux gnueabihf/9/lto wrapper Target: arm linux gnueabihf Configured with: ../src/configure v with pkgversion 'Ubuntu 9.4.0 1ubuntu1~20.04.1' with bugurl file:///usr/share/doc/gcc 9/README.Bugs enable languages c,ada,c++,go,d,fortran,objc,obj c++,gm2 prefix /usr with gcc major version only program suffix 9 enable shared enable linker build id libexecdir /usr/lib without included gettext enable threads posix libdir /usr/lib enable nls with sysroot / enable clocale gnu enable libstdcxx debug enable libstdcxx time yes with default libstdcxx abi new enable gnu unique object disable libitm disable libquadmath disable libquadmath support enable plugin enable default pie with system zlib without target system zlib enable libpth m2 enable multiarch enable multilib disable sjlj exceptions with arch armv7 a with fpu vfpv3 d16 with float hard with mode thumb disable werror enable multilib enable checking release build x86_64 linux gnu host x86_64 linux gnu target arm linux gnueabihf program prefix arm linux gnueabihf includedir /usr/arm linux gnueabihf/include Thread model: posix gcc version 9.4.0 (Ubuntu 9.4.0 1ubuntu1~20.04.1) ``` æœ¬åœ°ä¸Žäº¤å‰ç¼–è¯‘å”¯ä¸€ä¸åŒçš„åœ°æ–¹å°±æ˜¯éœ€è¦æŠŠå°†ç¼–è¯‘å‡ºæ¥çš„ç¨‹åºï¼Œä¸Šä¼ åˆ°æ¿å­è¿è¡Œï¼Œè€Œä¸èƒ½ç›´æŽ¥è¿è¡Œç¨‹åºã€‚ ä»¥ libmaix è¿™ä¸ªé¡¹ç›®ä¸ºä¾‹ï¼šåœ¨ x86 çš„æœºå™¨ä¸Šç¼–è¯‘æ—¶éœ€è¦ä¿®æ”¹æœ¬æœºçš„äº¤å‰ç¼–è¯‘é“¾ï¼Œå¦‚ï¼špython3 project.py board axpi toolchain /usr/bin toolchain prefix arm linux gnueabihf config ä¹‹ä¸­çš„ç¼–è¯‘é“¾å¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè¿™é‡Œéœ€è¦æ ¹æ®ä½ çš„å®žé™…æƒ…å†µè¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚æœ¬æœºçŽ¯å¢ƒä¸‹å¯èƒ½æœ‰å¤šä¸ªç¼–è¯‘é“¾ï¼Œä½†ä¸€èˆ¬æ¥è¯´æ˜¯ä¸éœ€è¦ä¿®æ”¹çš„ã€‚ é™¤äº†ä¿®æ”¹äº¤å‰ç¼–è¯‘é“¾ï¼Œå¦‚æžœå‡ºçŽ°ç¼–è¯‘å¤±è´¥ï¼Œè¿˜éœ€è¦ä¿®æ”¹ç¼–è¯‘é…ç½®ä¸­æ‰€éœ€è¦çš„ä¾èµ–æ–‡ä»¶æˆ–å¤´æ–‡ä»¶çš„è·¯å¾„ï¼š ``` list(APPEND ADD_INCLUDE \"lib/arch/axpi/joint\" \"lib/arch/axpi/opt/include\" \"lib/arch/axpi/opt/include/opencv4\" ) \"/lib/aarch64 linux gnu/libm.so\" \"/lib/aarch64 linux gnu/libpthread.so\" \"/lib/aarch64 linux gnu/libopencv_videoio.so\" \"/lib/aarch64 linux gnu/libopencv_highgui.so\" \"/lib/aarch64 linux gnu/libopencv_imgcodecs.so\" \"/lib/aarch64 linux gnu/libopencv_imgproc.so\" \"/lib/aarch64 linux gnu/libopencv_core.so\" \"/lib/aarch64 linux gnu/libopencv_freetype.so\" ``` å½“æ¢äº†ç¼–è¯‘é“¾åŽä¹Ÿè¦ä¿®æ”¹åˆ°å…¶ä»–è·¯å¾„ä¸‹çš„é“¾æŽ¥åº“ï¼š ``` list(APPEND ADD_INCLUDE \"lib/arch/axpi/joint\" \"/opt/include\" \"/usr//local/include/opencv4\" ) \"/lib/arm linux gnueabihf/libm.so\" \"/lib/arm linux gnueabihf/libpthread.so\" \"/lib/arm linux gnueabihf/libopencv_videoio.so\" \"/lib/arm linux gnueabihf/libopencv_highgui.so\" \"/lib/arm linux gnueabihf/libopencv_imgcodecs.so\" \"/lib/arm linux gnueabihf/libopencv_imgproc.so\" \"/lib/arm linux gnueabihf/libopencv_core.so\" \"/lib/arm linux gnueabihf/libopencv_freetype.so\" ``` ç®€è€Œè¨€ä¹‹ï¼Œæ›´æ¢äº†æ¡Œé¢ç³»ç»Ÿå’Œç¼–è¯‘é“¾ï¼Œé‚£æºç ä¸­å¯¹åº”çš„ä¸€äº›ä¾èµ–æ–‡ä»¶è‚¯å®šä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼Œè¿™éœ€è¦çœ‹æ‰€ç”¨çš„ sdk æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œé€šå¸¸æ¥è¯´åªéœ€è¦æ¢äº¤å‰ç¼–è¯‘é“¾å’Œä¿®æ”¹é“¾æŽ¥ç›®å½•å³å¯ã€‚ ä¸Šæ–‡ä»‹ç»äº†å¦‚ä½•åœ¨ linux ç³»ç»Ÿä¸Šç¼–è¯‘è¿è¡Œ libmaix é¡¹ç›®ï¼Œä»¥åŠå¦‚ä½•åœ¨ linux ç³»ç»Ÿä¸Šäº¤å‰ç¼–è¯‘ libmaix é¡¹ç›®ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼Œåªè¦æŽŒæ¡äº†å¦‚ä½•ç®¡ç†å¼€å‘çŽ¯å¢ƒå’Œå¦‚ä½•ç¼–è¯‘è¿è¡Œ linux çš„ç¨‹åºï¼ŒæŽ¥ä¸‹æ¥å°±å¯ä»¥åŸºäºŽæˆ‘ä»¬æä¾›çš„ sdk å¼€å‘å±žäºŽè‡ªå·±çš„é¡¹ç›®äº†ã€‚ åœ¨è¿™é‡Œã€Œå¤§ä½¬é¼ ã€æŽ¨èè‡ªå·±çš„å¼€å‘æµç¨‹å’Œæ–¹æ³•ï¼Œæœ€å¼€å§‹å°±æ˜¯å…ˆåœ¨æ¿å­ä¸Šæœ¬åœ°ç¼–è¯‘æµ‹è¯•çŽ°æœ‰çš„ä»£ç å’ŒåŠŸèƒ½ï¼Œç„¶åŽæ ¹æ® [[maixpy3 axpi] ç¼–è¾‘å‘å¸ƒ debian é•œåƒä¸Žåœ¨ PC ä¸Šäº¤å‰ç¼–è¯‘ç¨‹åº ](https://www.cnblogs.com/juwan/p/16769237.html) æ¥å®‰è£… docker arm è™šæ‹Ÿæœºã€‚ æŽ¥ç€ï¼Œå°†ä¹‹å‰çƒ§å½•åˆ°æ¿å­é‡Œçš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼ˆ.imgï¼‰é€šè¿‡ losetup + mount + chroot æŒ‚è½½ï¼ˆ.imgï¼‰å‡ºæ¥ï¼Œè¿™æ—¶å€™ä½ å°±ä¼šå¾—åˆ°å’Œæ¿å­ä¸€æ ·çš„ arm è™šæ‹ŸæœºçŽ¯å¢ƒï¼Œå°±å¯ä»¥ç›´æŽ¥æœ¬åœ°ç¼–è¯‘å•¦ï¼ä¸è¿‡ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦å­¦ä¹  docker çš„å®‰è£…å–”ï¼ŒåŒ…æ‹¬åŽé¢çš„æ¨¡åž‹å¼€å‘ä¹Ÿä¸Šä¼šç”¨åˆ° docker çš„ã€‚ > å¦‚æžœä½ ä¸å«Œéº»çƒ¦çš„è¯ï¼Œå¯ä»¥é€‰æ‹©é…ç½®äº¤å‰ç¼–è¯‘é“¾ã€æ¿å­ä¾èµ–çš„å¤´æ–‡ä»¶ã€ç¬¬ä¸‰æ–¹é“¾æŽ¥åº“åŽæ‰èƒ½è¿›è¡Œç¨‹åºçš„ç¼–è¯‘ï¼Œä½†è¿™ä¸ª docker arm è™šæ‹Ÿæœºçš„æ–¹æ³•æ˜¯æœ€çœäº‹çš„ï¼Œç”šè‡³è¿˜å¯ä»¥é€šè¿‡è¯»å¡å™¨ï¼ˆæˆ–ç½‘ç»œï¼‰æŒ‚è½½æ¿å­é‡Œçš„æ ¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œç¼–è¯‘ã€‚ * [ä»€ä¹ˆæ˜¯äº¤å‰ç¼–è¯‘ï¼Ÿ](https://cn.bing.com/search?q %E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%EF%BC%9F) * [è¶…è¯¦ç»†è§£ç­”vscodeå¦‚ä½•è¿œç¨‹è¿žæŽ¥Linuxä»¥åŠå¯èƒ½ä¼šå‡ºçŽ°çš„ä¸€äº›é—®é¢˜](https://blog.csdn.net/cxn15335120506/article/details/123238233) * [vscode remote](https://code.visualstudio.com/docs/remote/remote overview) * [ssh scp æ˜¯ä»€ä¹ˆï¼Ÿ](https://cn.bing.com/search?q ssh+scp+%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F) * [libmaix](https://github.com/sipeed/libmaix) * [mobaxterm](https://mobaxterm.mobatek.net) * [arm linux gnueabihf gcc](https://packages.ubuntu.com/focal/gcc arm linux gnueabihf) ## èŽ·å– SDK æºç  å‰æ–‡ä»‹ç»äº†åŸºç¡€çš„å¼€å‘çŽ¯å¢ƒæ­å»ºå’Œä½¿ç”¨æ–¹æ³•ï¼Œä½ åº”è¯¥äº†è§£ä»€ä¹ˆæ˜¯æœ¬åœ°ç¼–è¯‘å’Œäº¤å‰ç¼–è¯‘ï¼Œä¸‹é¢å¼€å§‹ä»‹ç»å¦‚ä½•ä½¿ç”¨è¿™äº› sdk æºç å¼€å‘ç¨‹åºã€‚ [libmaix](https://github.com/sipeed/libmaix) ç”± sipeed æä¾›åœ¨ linux å¹³å°ç»Ÿä¸€çš„åµŒå…¥å¼å¼€å‘çŽ¯å¢ƒï¼Œä¸»è¦æœ‰æ‘„åƒå¤´ã€å±å¹•ã€è§†è§‰ã€å›¾åƒå¤„ç†ã€NPU pipiline ç›¸å…³çš„å®žæœºéƒ¨ç½²ä¾‹ç¨‹ï¼Œé€‚åˆåˆšå…¥é—¨åµŒå…¥å¼ linux å¼€å‘çš„åŒå­¦ä½¿ç”¨ã€‚ [ax sample](https://github.com/AXERA TECH/ax samples) ç”±çˆ±èŠ¯æä¾› AI æ¨¡åž‹çš„å¼€å‘ä¸Žè¯„ä¼°éªŒè¯ï¼Œæä¾›ç»™æœ‰ç»éªŒçš„ AI å¼€å‘è€…ä½¿ç”¨ï¼Œä¸æ¶‰åŠä»»ä½•ç¡¬ä»¶å¤–è®¾æœ‰å…³çš„å†…å®¹ã€‚ [axpi_bsp_sdk](https://github.com/sipeed/axpi_bsp_sdk) èŠ¯ç‰‡å•†ç”¨æ—¶æ‰€ç”¨çš„ bsp å¼€å‘åŒ…ï¼Œè¿™é‡Œä¸»è¦æä¾›çš„æ˜¯èŠ¯ç‰‡çš„åŽŸå§‹å¼€å‘èµ„æ–™ï¼Œå¦‚ uboot ã€ linux ã€ msp ã€msp ç­‰å·¥ç¨‹ä»£ç ï¼Œè¿™ä¸ªéƒ¨åˆ†æ˜¯é€æ­¥å¼€æºçš„ï¼Œä½ å¯ä»¥ä»Žè¿™é‡Œå¾—åˆ°å•†ä¸šè¯„ä¼°ç”¨çš„ä»£ç ï¼Œä¾‹å¦‚ ipcdemo è¿™æ ·çš„ç¨‹åºï¼Œä½†è¿™äº›ä»£ç ä¼šå¾ˆå¤æ‚ä¸”é«˜è€¦åˆï¼Œé€‚åˆæœ‰ç»éªŒçš„åŒè¡Œå‡ºäºŽå•†ä¸šè½åœ°çš„ç›®çš„ä½¿ç”¨ã€‚ [ax pipeline](https://github.com/AXERA TECH/ax pipeline) åŸºäºŽ axpi_bsp_sdk åˆ¶ä½œçš„ AI éƒ¨ç½²é«˜æ€§èƒ½ä»“åº“ï¼Œåœ¨è¿™é‡Œä¸»è¦ç”¨äºŽè¯¥é¡¹ç›®åŸºäºŽ AXera Pi å±•ç¤º ISPã€å›¾åƒå¤„ç†ã€NPUã€ç¼–ç ã€æ˜¾ç¤º ç­‰åŠŸèƒ½æ¨¡å—è½¯ä»¶è°ƒç”¨æ–¹æ³•ï¼Œæ–¹ä¾¿ç¤¾åŒºå¼€å‘è€…è¿›è¡Œå¿«é€Ÿè¯„ä¼°å’ŒäºŒæ¬¡å¼€å‘è‡ªå·±çš„å¤šåª’ä½“åº”ç”¨ã€‚ ### libmaix è¿™æ˜¯ä¸€ä¸ªé€‚ç”¨äºŽ sipeed æ‰€ç”¨ linux èŠ¯ç‰‡å¼€å‘çš„ C/C++ åŸºç¡€å¼€å‘æ¡†æž¶ï¼Œä½¿ç”¨ cmake æž„å»ºï¼Œæä¾›äº†è®¸å¤šå¼€ç®±å‚è€ƒçš„æ¡ˆä¾‹ï¼Œè¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹åº“ä»£ç çš„é“¾æŽ¥ï¼Œå¦‚ opencv openmv è¿™äº›è§†è§‰åº“çš„é“¾æŽ¥ã€‚ SDK æºç åœ¨ [libmaix](https://github.com/sipeed/libmaix)ï¼Œ éœ€è¦ä½¿ç”¨ git å‘½ä»¤ä¸‹è½½ï¼š ```bash git clone https://github.com/sipeed/libmaix.git recursive ``` >! æ³¨æ„è¿™é‡Œ` recursive` å‚æ•°æ˜¯å¿…é¡»çš„ï¼Œç”¨æ¥ä¸‹è½½ä»“åº“é‡Œé¢çš„å­æ¨¡å—ï¼Œå¦‚æžœæ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œä»£ç ä¼šä¸å®Œæ•´ï¼Œå¯¼è‡´ç¼–è¯‘å‡ºé”™ã€‚ > ä¸­å›½å›½å†…å¯èƒ½ä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥å¤šå–æ¶ˆé‡è¯•å‡ æ¬¡ï¼Œå¯èƒ½ä¼šé‡åˆ°é€Ÿåº¦å¿«çš„èŠ‚ç‚¹ï¼Œå½“ç„¶æœ€å¥½è¿˜æ˜¯é€šè¿‡è®¾ç½®ä»£ç†æ¥åŠ é€Ÿä¸‹è½½ã€‚ å¦å¤–ï¼Œ AI æ¨¡åž‹åŠä¾‹ç¨‹åœ¨ [MaixHub æ¨¡åž‹åº“](https://maixhub.com/model/zoo) å¯ä»¥æ‰¾åˆ°ï¼Œ ä»¥åŠ [AXERA TECH/ax samples](https://github.com/AXERA TECH/ax samples) ä»“åº“ã€‚ ## ç¼–è¯‘ SDK æºç  å›žé¡¾ä¸€ä¸‹å‰æ–‡çš„å†…å®¹ï¼Œç¼–è¯‘æœ‰ä¸¤ç§æ–¹å¼ï¼š * ç›´æŽ¥åœ¨å¼€å‘æ¿ä¸Šç¼–è¯‘ï¼šç¼–è¯‘é€Ÿåº¦è¾ƒæ…¢ï¼Œä½†æ˜¯ä¸éœ€è¦é¢å¤–çš„çŽ¯å¢ƒé…ç½®ã€‚ * åœ¨ PC ä¸Šç¼–è¯‘ï¼Œç„¶åŽæ‹·è´å¯æ‰§è¡Œæ–‡ä»¶åˆ°å¼€å‘æ¿ï¼Œä¹Ÿå°±æ˜¯äº¤å‰ç¼–è¯‘ï¼š ç¼–è¯‘é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯éœ€è¦é¢å¤–çš„çŽ¯å¢ƒé…ç½®ã€‚ ### [libmaix](https://github.com/sipeed/libmaix) > /home/ ç›®å½•å·²é¢„ç½®ï¼Œå¯ä»¥ git pull è”ç½‘æ‹‰å–æ›´æ–°ã€‚ å¯¹äºŽ `libmaix`ï¼Œ æŒ‰ç…§å…¶`README.md` æ–‡ä»¶æè¿°çš„æ–¹æ³•ç¼–è¯‘å³å¯ï¼Œ ä¸è¿‡éœ€è¦åœ¨`menuconfig`å‘½ä»¤ä¸­é€‰æ‹© `AXera Pi` ä½œä¸ºç¼–è¯‘ç›®æ ‡ã€‚ è¿™é‡Œç®€è¦ä»‹ç»ä¸€ä¸‹ç¼–è¯‘è¿‡ç¨‹ï¼ˆlibmaix ç›®å‰è¿˜æœªç¨³å®šï¼Œæœªæ¥å¯èƒ½ä¼šæœ‰å¤§çš„æ›´æ–°ï¼‰ï¼Œå®žé™…ä»¥[libmaix ä»“åº“](https://github.com/sipeed/libmaix)ä»£ç å’Œè¯´æ˜Žä¸ºå‡†ã€‚ * å…ˆå®‰è£…ä¾èµ– ``` apt install build essential cmake python3 sshpass git ``` > sshpass ä¹Ÿå¯ä»¥ä¸å®‰è£…ï¼Œ build essential, cmake, git, python3 å¿…é¡»å®‰è£… * å…‹éš†ä»“åº“åˆ°æœ¬åœ°æˆ–è€…å¼€å‘æ¿ ``` git clone https://github.com/sipeed/libmaix recursive ``` >! æ³¨æ„ ` recursive` å‚æ•°æ˜¯å¿…é¡»çš„ï¼Œç”¨ä»¥å…‹éš†å­æ¨¡å—ï¼Œå¦åˆ™ä¼šç¼ºä»£ç ã€‚ è¿™é‡Œä»¥åœ¨å¼€å‘æ¿ä¸Šç¼–è¯‘ä¸ºä¾‹ï¼š ```bash cd /home/libmaix # git clone https://github.com/sipeed/libmaix recursive cd examples/axpi python3 project.py distclean # python3 project.py menuconfig # å¯ä»¥é…ç½®ç›¸å…³å‚æ•° python3 project.py build # å¦‚æžœå¢žåŠ æ–‡ä»¶äº†ï¼Œéœ€è¦ python3 project.py rebuild å‘½ä»¤ ./dist/start_app.sh # è¿è¡Œç¤ºä¾‹ç¨‹åº ``` ### [ax samples](https://github.com/AXERA TECH/ax samples) > /home/ ç›®å½•å·²é¢„ç½®ï¼Œå¯ä»¥ git pull è”ç½‘æ‹‰å–æ›´æ–°ã€‚ [ax samples](https://github.com/AXERA TECH/ax samples) æ˜¯çˆ±èŠ¯å®˜æ–¹æä¾›çš„ä¾‹ç¨‹ï¼ŒåŒ…å«äº†ä¸€äº› AI æ¨¡åž‹å’Œè¿è¡Œä»£ç ï¼Œç¼–è¯‘å®Œèƒ½ç›´æŽ¥åœ¨å¼€å‘æ¿ä¸Šè¿è¡Œï¼Œåªä¸è¿‡è¾“å…¥æ˜¯å›¾ç‰‡ï¼Œä¸æ˜¯æ‘„åƒå¤´ã€‚ è¿›å…¥å¼€å‘æ¿ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š ```bash cd /home/ax samples # git clone https://github.com/AXERA TECH/ax samples.git mkdir build cd build cmake .. make install ``` ç„¶åŽå°±èƒ½åœ¨`ax samples/build/install/bin/`ç›®å½•ä¸‹æ‰¾åˆ°ç¼–è¯‘å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ ### [axpi_bsp_sdk](https://github.com/sipeed/axpi_bsp_sdk) å›žåˆ°èŠ¯ç‰‡åŽŸåŽ‚å¼€å‘çš„çŽ¯å¢ƒï¼Œè¿™éœ€è¦æœ‰ç»éªŒçš„åµŒå…¥å¼ Linux å¼€å‘è€…æ¥æ“ä½œï¼Œç›´æŽ¥çœ‹ readme è¿›è¡Œæ“ä½œï¼Œæ–‡æ¡£åœ¨ docs ç›®å½•ä¸‹ã€‚ #### What is this? this is a ax620 linux bsp sdk form AX620_R1.22.2801_Sipeed. currently it is application layer open source. ```bash juwan@juwan n85 dls:~/GIT_AX620_SDK_V0.31.0_P23/sipeed/axpi_bsp_sdk$ tree L 1 . â”œâ”€â”€ app â”œâ”€â”€ build â”œâ”€â”€ msp â”œâ”€â”€ readme.md â”œâ”€â”€ rootfs â””â”€â”€ third party 5 directories, 1 file ``` #### ready arm gcc ```bash git clone https://github.com/sipeed/axpi_bsp_sdk.git cd axpi_bsp_sdk wget http://releases.linaro.org/components/toolchain/binaries/latest 7/arm linux gnueabihf/gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf.tar.xz sudo tar xvf gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf.tar.xz C /opt/ ``` #### how to compile bsp msp sample ```bash cd msp/sample/ export PATH \"/opt/gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf/bin/:$PATH\" && make p AX620_demo all install ``` third party libs ```bash cd third party export PATH \"/opt/gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf/bin/:$PATH\" && make p AX620_demo all install ``` bsp app ipcdemo ```bash cd app/ export PATH \"/opt/gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf/bin/:$PATH\" && make p AX620_demo all install ``` bsp msp component lib, such as `cd app/msp/component/common && make xxxx`. ``` juwan@juwan n85 dls:~/GIT_AX620_SDK_V0.31.0_P23/sipeed/axpi_bsp_sdk/msp/component$ tree L 1 . â”œâ”€â”€ axsyslog â”œâ”€â”€ common â””â”€â”€ thermal 4 directories, 0 files ``` #### run your program on pc ``` sshpass p root scp ./vo_fb/sample_vo_fb root@192.168.233.1:/opt/bin/sample_vo_fb ``` on board ``` chmod 777 /opt/bin/sample_vo_fb /opt/bin/sample_vo_fb v dsi0@480x854@60 m 0 & fbv /home/examples/480x360.jpg killall sample_vo_fb ``` ## ç»„åˆ SDK å’Œ AI æ¨¡åž‹ä¾‹ç¨‹ æ¯”å¦‚æˆ‘ä»¬è¦è·‘ä¸€ä¸ªè§†è§‰ AI æ¨¡åž‹ï¼Œéœ€è¦ç”¨åˆ°æ‘„åƒå¤´ï¼Œå±å¹•ï¼Œè¿˜æœ‰ AI æ¨¡åž‹ï¼Œä½ éœ€è¦å€ŸåŠ©ä»¥ä¸‹ä»“åº“ä»£ç å®Œæˆè¿™ä¸ªç›®æ ‡ã€‚ ### å€ŸåŠ© libmaix å®žçŽ°ï¼ˆå¼€å‘éš¾åº¦æœ€å°ï¼Œé€‚åˆéªŒè¯ï¼‰ åŸºäºŽ libmaix çš„ axpi é¡¹ç›®è¿›è¡Œå¼€æºå¿«é€ŸéªŒè¯æ•ˆæžœï¼Œä»£ç ç®€å•æ˜“æ‡‚ï¼ŒåŸºäºŽåœ¨çº¿æœåŠ¡å®Œæˆæ¨¡åž‹éƒ¨ç½²ï¼Œåªç”¨äºŽæ–°æ‰‹ä¸Šè·¯ï¼Œä¸Ž ax sample çš„æ¨¡åž‹ä¸€èµ·è¢«æ”¯æŒã€‚ [axpi](https://github.com/sipeed/libmaix/tree/release/examples/axpi) [axpi_classification_cam](https://github.com/sipeed/libmaix/tree/release/examples/axpi_classification_cam) [axpi_yolov5_cam](https://github.com/sipeed/libmaix/tree/release/examples/axpi_yolov5_cam) > 20221113 ç›®å‰ä»“åº“åªä¿è¯ç”¨æˆ·åˆæ¬¡ä¸Šæ‰‹æ—¶èƒ½å¤Ÿä¸æŠ¥é”™çš„å®‰å…¨è°ƒç”¨ AI æ¨¡åž‹ï¼Œä¸ä»£è¡¨èŠ¯ç‰‡çš„æœ€å¥½æ•ˆæžœã€‚ ### å€ŸåŠ© ax pipeline å®žçŽ°ï¼ˆå¼€å‘éš¾åº¦é€‚ä¸­ï¼Œé€‚åˆä¼˜åŒ–ï¼‰ åˆ°äº†è¿™é‡Œè¦æœ‰åŸºæœ¬çš„èŠ¯ç‰‡ bsp sdk å¼€å‘çš„åŸºç¡€ï¼ˆaxpi_bsp_sdkï¼‰ï¼Œè¿™éƒ¨åˆ†ä¼šç•¥æ˜¾ä¸“ä¸šä¸€äº›ï¼Œè¿™ä¸ªä»“åº“ç›®å‰è¿½æ±‚æœ€é«˜æ€§èƒ½çš„æ•ˆæžœã€‚ [å‡†å¤‡ç¼–è¯‘çŽ¯å¢ƒ](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/compile.md) [å¦‚ä½•æ›´æ¢è‡ªå·±è®­ç»ƒçš„ yolov5 æ¨¡åž‹ï¼Ÿ](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/how_to_deploy_custom_yolov5_model.md) [å¦‚ä½•éƒ¨ç½²è‡ªå·±çš„å…¶ä»–æ¨¡åž‹](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/how_to_deploy_custom_model.md) ### å€ŸåŠ© ipcdemo å®žçŽ°ï¼ˆå¼€å‘éš¾åº¦æœ€å¤§ï¼Œé€‚åˆè½åœ°ï¼‰ åŸºäºŽ axpi_bsp_sdk çš„ ipcdemo å•†ç”¨è§†é¢‘æŽ¨æµåº”ç”¨ï¼Œç”±äºŽæºç è¿‡äºŽå¤æ‚ï¼Œéœ€è¦æœ‰ä¸Šè¿°åŸºç¡€æ‰èƒ½ä»‹å…¥ã€‚ [axpi_bsp_sdk/app/IPCDemo](https://github.com/sipeed/axpi_bsp_sdk/tree/main/app/IPCDemo)"},"/hardware/zh/maixIII/ax-pi/basic_usage.html":{"title":"Maix-III AXera-Pi ç³»ç»ŸåŸºç¡€ä½¿ç”¨","content":" title: Maix III AXera Pi ç³»ç»ŸåŸºç¡€ä½¿ç”¨ åŸºäºŽä¸Šæ–‡çš„ä¸Šæ‰‹æŒ‡å¼•åŽï¼Œæœ¬æ–‡ä»‹ç»ä½¿ç”¨ Maix III AXera Pi å¼€å‘æ¿çš„ Linux debian11 ç³»ç»ŸåŸºç¡€ä½¿ç”¨æ–¹æ³•ã€‚ ## ç³»ç»Ÿç™»å½• ### ç™»å½•å·¥å…· è¿™é‡Œä»‹ç»ç›¸å…³ä½¿ç”¨çš„ç»ˆç«¯ç™»å½•å·¥å…·ï¼Œåˆ†åˆ«æ˜¯ï¼š`MobaXterm`ã€`electerm`ã€`vscode remote`ã€‚ **MobaXterm ä»‹ç»** MobaXterm æ˜¯åœ¨ Windows ä¸‹ä½¿ç”¨çš„å…¨èƒ½ç»ˆç«¯ç®¡ç†è½¯ä»¶ï¼Œè€Œ Linux ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ ssh è¿œç¨‹è¢«æ“ä½œï¼Œä½¿ç”¨ MobaXterm è¿›è¡Œ ssh ç™»é™†æ¿å­ç›´æŽ¥ç¼–è¾‘æ¿å†…çš„ä»£ç æˆ–æ‰§è¡Œå‘½ä»¤ï¼Œä¹Ÿèƒ½æ–¹ä¾¿çš„æ‹–æ‹½æ–‡ä»¶ä¸Šä¼ æˆ–ä¸‹è½½åˆ°ç”µè„‘é‡Œï¼Œç±»ä¼¼çš„å·¥å…·è¿˜æœ‰ vscode remote è¿œç¨‹ç™»å½• linux æœåŠ¡å™¨ã€‚ ![mobaxterm_ssh](./../assets/ssh.jpg) ä¸‹è½½é“¾æŽ¥ï¼š[ç‚¹å‡»è·³è½¬](https://mobaxterm.mobatek.net/download.html) åˆ†åˆ«ä»˜è´¹ä¸Žå…è´¹åŒç‰ˆæœ¬ï¼Œä¸‹è½½å…è´¹ç‰ˆæœ¬å³å¯ã€‚ ä½¿ç”¨æ•™ç¨‹ï¼š[å¦‚ä½•ä½¿ç”¨ MobaXterm](https://wiki.sipeed.com/hardware/zh/maixII/M2/tools/mobaxterm.html?highlight ssh) **electerm ä»‹ç»ï¼ˆæŽ¨èï¼‰** electerm æ˜¯ä¸€ä¸ªåŸºäºŽ `electron/ssh2/node pty/xterm/antd/useProxy` ç­‰å¼€æºç»„ä»¶å¼€å‘ï¼Œæ”¯æŒè·¨å¹³å°çš„ `Terminal/SSH/SFTP` å®¢æˆ·ç«¯å·¥å…·ï¼ŒåŒæ—¶æ”¯æŒ `Linuxã€MacOSã€Windows` ç­‰å¤šç§æ“ä½œç³»ç»Ÿï¼Œå®ƒæ—¢å¯ä»¥ä½œä¸ºç»ˆç«¯å·¥å…·æ¥ä½¿ç”¨ï¼Œè¿˜èƒ½ä¼ è¾“æ–‡ä»¶å¹¶è‡ªå¸¦ä¸­æ–‡ç•Œé¢ï¼Œæ›´åŠ æ»¡è¶³ç”¨æˆ·æ—¥å¸¸å¯¹ç»ˆç«¯çš„éœ€æ±‚ã€‚ ![electerm](./../assets/electerm.jpg) ä¸‹è½½é“¾æŽ¥ï¼š[ç‚¹å‡»è·³è½¬](https://electerm.html5beta.com/) æ ¹æ®æ“ä½œç³»ç»Ÿæ¥ä¸‹è½½ç›¸å¯¹åº”çš„ç‰ˆæœ¬å³å¯ã€‚ **vscode remote ä»‹ç»** vscode remote æ˜¯ vscode çš„ä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥ç›´æŽ¥è¿žæŽ¥åˆ°è¿œç¨‹çš„ linux æœåŠ¡å™¨ï¼Œç„¶åŽåœ¨æœ¬åœ°ç¼–è¾‘ä»£ç ï¼ŒåŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šç¼–è¯‘è¿è¡Œï¼Œè¿™é‡Œä»¥ä¸€å° Windows 10 çš„æ¡Œé¢è®¡ç®—æœºç³»ç»Ÿä¸ºä¾‹ï¼Œåªè¦èƒ½å®‰è£… vscode ç¼–è¾‘å™¨è½¯ä»¶è®¡ç®—æœºéƒ½è¡Œã€‚ ![vscode](./../assets/vscode.jpg) ä¸‹è½½è¿žæŽ¥ï¼š[ç‚¹å‡»è·³è½¬](https://code.visualstudio.com/) è¿žæŽ¥æ•™ç¨‹ï¼š[å¦‚ä½•ä½¿ç”¨ vscode remote è¿žæŽ¥æ¿å­](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/dev_prepare.html?highlight ssh#vscode remote) ### ç™»å½•æ–¹å¼ Maix III AXera Pi å¼€å‘æ¿çš„ Linux debian11 ç³»ç»Ÿé»˜è®¤ä½¿ç”¨ root ç”¨æˆ·ç™»å½•ã€‚ ç”¨æˆ·åä¸º `root`ï¼Œå¯†ç ä¸º `root`ï¼Œç›®å‰æ¿å­æŽ¥å…¥ç”µè„‘ç«¯ä¸Šç”µå¯åŠ¨åŽæ”¯æŒä»¥ä¸‹ç™»å½• Linux ç³»ç»Ÿæ–¹å¼ã€‚ #### æœ‰çº¿ ä¸²å£ serial ç™»é™† > ä½¿ç”¨ä¸²å£ serial ç™»é™†å‰éœ€å®‰è£… tty è½¬ USB ä¸²å£é©±åŠ¨ **Linux**ï¼šç³»ç»Ÿæœ¬èº«è‡ªå¸¦æ— éœ€å†è£…é©±åŠ¨ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å³å¯çœ‹åˆ°è®¾å¤‡å·ã€‚ **Windows**ï¼šç›´æŽ¥[ç‚¹å‡»ä¸‹è½½ CH340 é©±åŠ¨](https://api.dl.sipeed.com/fileList/MAIX/tools/ch340_ch341_driver/CH341SER.EXE)å®‰è£…ï¼Œå®‰è£…åŽå¯åœ¨`è®¾å¤‡ç®¡ç†å™¨`æŸ¥çœ‹ä¸²å£è®¾å¤‡ã€‚ .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ CH340 é©±åŠ¨å®‰è£… å…ˆæ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹æ˜¯å¦æœ‰ **CH340** é©±åŠ¨ï¼Œå¦‚æ— é©±åŠ¨çš„è¯è¯·ç‚¹å‡»ä¸Šæ–¹é“¾æŽ¥è¿›è¡Œä¸‹è½½ã€‚ ![usb serial](./../assets/usb serial.jpg) ä¸‹è½½å®ŒæˆåŽï¼Œå³é”®ç‚¹å‡»æ–‡ä»¶ï¼Œé€‰æ‹©**ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ(A)**å³ä¼šè‡ªåŠ¨å®‰è£…ã€‚ ![install serial](../assets/install serial.jpg) å®‰è£…å®Œæˆï¼Œå¯åœ¨è®¾å¤‡ç®¡ç†å™¨ç«¯å£å¤„æŸ¥çœ‹è®¾å¤‡ã€‚ >[æœ‰äº›åŒå­¦ä¼šé‡åˆ° Ubuntu22.04 CH340ç³»åˆ—ä¸²å£é©±åŠ¨ï¼ˆæ²¡æœ‰ttyUSBï¼‰é—®é¢˜ï¼Œç‚¹æ­¤æŸ¥çœ‹è§£å†³æ–¹æ¡ˆã€‚](https://blog.csdn.net/qq_27865227/article/details/125538516) .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ USB UART æŽ¥å£ç¤ºæ„å›¾ ![uart](./../assets/uart.jpg) ä½¿ç”¨ usb 3.0 çº¿è¿žæŽ¥æ¿å­ä¸Šçš„ USB UART æŽ¥å…¥ç”µè„‘ç«¯ï¼Œä½¿ç”¨å‰è¯·å®‰è£…ä¸Šæ–‡çš„é©±åŠ¨ï¼Œå†ä½¿ç”¨ MobaXterm å³å¯è¿žæŽ¥ï¼Œé»˜è®¤ä¸²å£é…ç½®ä¸º 115200ã€8N1ï¼ˆæ³¢ç‰¹çŽ‡115200ï¼Œ8ä½æ•°æ®ï¼Œæ— å¥‡å¶æ ¡éªŒï¼Œ1ä½åœæ­¢ä½ï¼‰ã€‚ **serial ç™»é™†æ•™ç¨‹**ï¼š[ç‚¹å‡»æŸ¥çœ‹](https://wiki.sipeed.com/hardware/zh/maixII/M2/tools/mobaxterm.html?highlight ssh#%E8%BF%9E%E6%8E%A5 %E4%B8%B2%E5%8F%A3%28Serial%29) æˆåŠŸè¿žæŽ¥åŽä¼šæ‰“å°å¤§é‡è°ƒè¯•ä¿¡æ¯ï¼Œä¼šå¼¹å‡ºç™»é™†è´¦å·ä¿¡æ¯ï¼Œè¾“å…¥ç”¨æˆ·ååŠå¯†ç å³å¯ç™»é™†ã€‚ ![serial](./../assets/serial.jpg) > ä¸²å£é€šå¸¸åªæä¾›ç»™ä¸“ä¸šçš„é©±åŠ¨å¼€å‘å·¥ç¨‹å¸ˆè°ƒè¯•ç”¨ï¼Œä¼šæ‰“å°å¤§é‡çš„è°ƒè¯•ä¿¡æ¯ï¼Œå¦‚æ„Ÿåˆ°ä¸é€‚è¯·ä½¿ç”¨ **ssh** ç™»é™†ã€‚ #### åŸºäºŽ ip + ssh ç™»å½• > ç™»å½•å‰éœ€å®‰è£… **rndis usb** ç½‘å¡é©±åŠ¨ ä¸€èˆ¬æƒ…å†µä¸‹ rndis usb ç½‘å¡é©±åŠ¨åœ¨ Linux ä¸‹å¯ä¸ç”¨å®‰è£…ï¼Œåœ¨ Windows ä¸‹éœ€è¦æŒ‰ä¸‹å›¾æ‰‹åŠ¨å®‰è£…ç³»ç»Ÿè‡ªå¸¦é©±åŠ¨ï¼Œè€Œ macos éœ€è¦ç¼–è¯‘å®‰è£…é©±åŠ¨ï¼ˆhorndisï¼‰ï¼ŒWindows è¿˜éœ€è¦é…ç½®ä¸€ä¸‹ç½‘ç»œä¼˜å…ˆçº§ï¼Œå‹¾é€‰å¾®è½¯ rndis é©±åŠ¨åŽè®¾ç½®ç½‘ç»œè·ƒç‚¹æ•°è°ƒæ•´ä¼˜å…ˆçº§ã€‚ **Windows é…ç½®ç½‘ç»œä¼˜å…ˆçº§**ï¼š[è®¾ç½®ç½‘ç»œè·ƒç‚¹æ•°è°ƒæ•´ä¼˜å…ˆçº§](https://jingyan.baidu.com/article/358570f6bc5cfdce4724fca2.html) è¿™é‡Œä¸¾ä¾‹å¦‚ä½•åœ¨ Win10 å®‰è£…ç³»ç»Ÿè‡ªå¸¦çš„ rndis é©±åŠ¨ï¼Œåœ¨ Linux ä¸Šå…é©±åŠ¨è‡ªåŠ¨è¯†åˆ« rndis é©±åŠ¨ï¼ŒMacOS å®‰è£…å¯ä»¥å‚è€ƒè¿™ç¯‡ [ã€AXPIã€‘å¦‚ä½•åœ¨ M1/M2 Macä¸Šä½¿ç”¨ Rndis](https://zhuanlan.zhihu.com/p/593627641) ã€‚ .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ Win10 é©±åŠ¨å®‰è£…è¿‡ç¨‹ æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æ‰¾åˆ°å…¶ä»–è®¾å¤‡ï¼Œé€‰ä¸­ rndis é€‰æ‹©æ›´æ–°é©±åŠ¨ç¨‹åºï¼Œåœ¨å¦‚ä½•æœç´¢è®¾å¤‡è½¯ä»¶çª—å£ä¸­ï¼Œé€‰æ‹©**æµè§ˆè®¡ç®—æœºæŸ¥æ‰¾é©±åŠ¨ç¨‹åºè½¯ä»¶ï¼ˆRï¼‰**ã€‚ ![rndis_1](./../assets/rndis_1.jpg) å†é€‰æ‹©**ä»Žè®¡ç®—æœºçš„è®¾å¤‡é©±åŠ¨ç¨‹åºåˆ—è¡¨ä¸­é€‰æ‹©ï¼ˆLï¼‰**åœ¨ç¡¬ä»¶è®¾å¤‡åˆ—è¡¨ä¸­å¾€ä¸‹æ‹‰ï¼Œæ‰¾åˆ°**ç½‘ç»œé€‚é…å™¨**ï¼Œé€‰ä¸­**ä¸‹ä¸€æ­¥**ã€‚ ![rndis_2](./../assets/rndis_2.jpg) åœ¨åŽ‚å•†åˆ—è¡¨ä¸­é€‰æ‹© **Microsoft**ï¼Œå³ä¾§åˆ—è¡¨ä¸­é€‰æ‹© **USB RNDIS Adapter**ã€‚ ![rndis_3](./../assets/rndis_3.jpg) ç‚¹å‡»ä¸‹ä¸€æ­¥ç­‰å¾…å®‰è£…å³å¯ã€‚ .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ USB OTG æŽ¥å£ç¤ºæ„å›¾ ![otg](./../assets/otg.jpg) ç³»ç»Ÿé»˜è®¤å¼€å¯äº† usb rndis è™šæ‹Ÿä»¥å¤ªç½‘ï¼Œç”¨æˆ·å¯é€šè¿‡æ¿è½½ USB OTG å£è¿žæŽ¥ usb0 ç½‘å¡çš„ IP `192.168.233.1` è¿›è¡Œ ssh ç™»å½•æ“ä½œã€‚ä½¿ç”¨ ssh ç™»å½•å‰éœ€è¦å…ˆç™»é™†æ¿å­é€šè¿‡ `ifconfig a` å‘½ä»¤å¾—åˆ°æ¿å­ IP åŽå†ä½¿ç”¨ IP è¿›è¡Œ ssh ç™»å½•ä¸Š Linux ç³»ç»Ÿï¼Œä¸‹å›¾çš„ IP åœ°å€ï¼ˆé™¤ `127.0.0.1` å¤–ï¼‰éƒ½èƒ½ç™»é™†æ¿å­ã€‚ ![ifconfig](./../assets/ifconfig.jpg) **ssh è¿žæŽ¥æ•™ç¨‹**ï¼š[ç‚¹å‡»è·³è½¬](https://wiki.sipeed.com/hardware/zh/maixII/M2/tools/mobaxterm.html?highlight ssh#%E8%BF%9E%E6%8E%A5 SSH) æŒ‰æ•™ç¨‹ç¤ºä¾‹æ–°å»º ssh ä¼šè¯ï¼ŒåŒå‡»ä¼šè¯åŽä¼šæœ‰æé†’è¾“å…¥è´¦å·åŠå¯†ç ï¼Œè¾“å…¥åŽæŒ‰å›žè½¦å³å¯è¿žæŽ¥ã€‚ ![ssh](./../assets/ssh.jpg) ### ç™»å½•åŽ ç™»å½•åŽï¼Œå¯ä»¥ä½¿ç”¨ `ls` å‘½ä»¤æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä½¿ç”¨ `cd` å‘½ä»¤åˆ‡æ¢ç›®å½•ï¼Œä½¿ç”¨ `pwd` å‘½ä»¤æŸ¥çœ‹å½“å‰ç›®å½•ã€‚ ## ç½‘ç»œé…ç½® ### ç½‘ç»œæ“ä½œåŸºç¡€ **ä½¿ç”¨ ping baidu.com æµ‹è¯•ç½‘ç»œ** ![baidu](./../assets/baidu.jpg) **ä½¿ç”¨ ifconfig a æŸ¥çœ‹æ‰€æœ‰ç½‘å¡æƒ…å†µ** Maix III AXera Pi å¼€å‘æ¿çš„ Linux ç³»ç»Ÿé»˜è®¤ä½¿ç”¨ DHCP åè®®èŽ·å– IP åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ `ifconfig a` æŸ¥çœ‹å½“å‰ç½‘ç»œé…ç½®ï¼Œæ¿å­æ ¹æ®ä¸‹è¿°ä¼šé…ç½®å››ç§ç½‘å¡ç±»åž‹ã€‚ ```bash root@AXERA:~# cat /etc/network/interfaces # interfaces(5) file used by ifup(8) and ifdown(8) # Include files from /etc/network/interfaces.d: source /etc/network/interfaces.d/* auto lo iface lo inet loopback # auto eth0 allow hotplug eth0 iface eth0 inet dhcp # auto usb0 allow hotplug usb0 iface usb0 inet static address 192.168.233.1 netmask 255.255.255.0 # allow hotplug wlan0 # wpa ssid \"dalaoshu\" # wpa psk \"junhuanchen\" auto wlan0 iface wlan0 inet manual wpa conf /boot/wpa_supplicant.conf iface wlan0 inet dhcp ``` å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œ `ifconfig a` æŸ¥çœ‹æ‰€æœ‰ç½‘å¡ä¿¡æ¯ã€‚ ```bash root@AXERA:~# ifconfig a eth0: flags 4163<UP,BROADCAST,RUNNING,MULTICAST> mtu 1500 inet 192.168.0.77 netmask 255.255.255.0 broadcast 192.168.0.255 ether 1e:09:dc:e9:1c:29 txqueuelen 1000 (Ethernet) RX packets 301 bytes 41433 (40.4 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 31 bytes 2970 (2.9 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 device interrupt 56 lo: flags 73<UP,LOOPBACK,RUNNING> mtu 65536 inet 127.0.0.1 netmask 255.0.0.0 loop txqueuelen 1000 (Local Loopback) RX packets 16 bytes 1064 (1.0 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 16 bytes 1064 (1.0 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 usb0: flags 4163<UP,BROADCAST,RUNNING,MULTICAST> mtu 1500 inet 192.168.233.1 netmask 255.255.255.0 broadcast 192.168.233.255 ether 02:da:9b:e4:a8:7f txqueuelen 1000 (Ethernet) RX packets 121 bytes 15220 (14.8 KiB) RX errors 0 dropped 15 overruns 0 frame 0 TX packets 35 bytes 7258 (7.0 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 wlan0: flags 4163<UP,BROADCAST,RUNNING,MULTICAST> mtu 1500 inet 192.168.0.112 netmask 255.255.255.0 broadcast 192.168.0.255 ether 0c:cf:89:32:c5:c0 txqueuelen 1000 (Ethernet) RX packets 950 bytes 154305 (150.6 KiB) RX errors 0 dropped 950 overruns 0 frame 0 TX packets 5 bytes 1398 (1.3 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 ``` **ä½¿ç”¨ dhclient è§¦å‘ DHCP èŽ·å– ip** >è¿™é‡Œä»¥æœ‰çº¿ç½‘å¡ï¼ˆeth0ï¼‰ä¸ºä¾‹ï¼Œdecliient è¿˜æ”¯æŒæ— çº¿ WIFIï¼ˆwlan0ï¼‰. ä½¿ç”¨ä¸Šæ–¹ `ifconfig a` å‘½ä»¤åŽï¼Œå¦‚æžœ eth0 çš„åœ°å€èŽ·å–å¤±è´¥å¯ä½¿ç”¨ `dhclient eth0` è§¦å‘ DHCP èŽ·å– IPã€‚ ```bash root@AXERA:~# dhclient eth0 & [1]+ Done dhclient eth0 root@AXERA:~# ifconfig eth0 wlan0: flags 4163<UP,BROADCAST,RUNNING,MULTICAST> mtu 1500 inet 192.168.0.136 netmask 255.255.255.0 broadcast 192.168.0.255 ether 0c:cf:89:32:c5:dc txqueuelen 1000 (Ethernet) RX packets 1284 bytes 157505 (153.8 KiB) RX errors 0 dropped 1274 overruns 0 frame 0 TX packets 205 bytes 20798 (20.3 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 ``` ### USB RNDISï¼ˆusb0ï¼‰é…ç½®æ–¹æ³• å¯ä½¿ç”¨é™æ€ IP åœ°å€ `192.168.233.1` è¿™é‡Œå·²é…ç½®å¥½ dhcp æœåŠ¡äº†ï¼Œä»Žè€Œé¿å…ç”¨æˆ·éœ€æ‰‹åŠ¨è®¾ç½® IP åœ°å€çš„æ“ä½œã€‚ > ä½¿ç”¨ usb0 å‰éœ€è¦å®‰è£… rndis é©±åŠ¨ï¼Œå¯ç‚¹å‡»[é©±åŠ¨å®‰è£…è¿‡ç¨‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E5%9F%BA%E4%BA%8E ip %2B ssh %E7%99%BB%E5%BD%95)å‰å¾€å®‰è£…ã€‚ åœ¨ Windows ç³»ç»Ÿä¸‹å¦‚æžœé‡åˆ°å¤šä¸ªç½‘å¡æ—¶ï¼Œå‘çŽ° USB ç½‘å¡ä¼˜äºŽå±€åŸŸç½‘å¯¼è‡´å†…ç½‘ç½‘ç«™è®¿é—®å¾ˆæ…¢ç”šè‡³å¤±è´¥ï¼Œæ­¤æ—¶å°±éœ€è¦é€šè¿‡ Win10 è®¾ç½®è·ƒç‚¹æ•°æ¥è°ƒæ•´ç½‘ç»œä¼˜å…ˆçº§çš„è¿žæŽ¥é¡ºåºï¼ŒåŽ»ä¿®æ”¹ä¼˜å…ˆçº§æ”¹å–„è®¿é—®æ…¢çš„çŠ¶æ€ï¼Œæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šä½Žï¼ˆæ¯”å¦‚è®¾ç½® 1000ï¼‰ï¼Œä»Žè€ŒæŠŠ USB ç½‘å¡ä¼˜å…ˆçº§è°ƒè‡³æœ€ä½Žï¼Œå¯ç‚¹å‡»å‰å¾€[é…ç½®ç½‘ç»œä¼˜å…ˆçº§](https://jingyan.baidu.com/article/358570f6bc5cfdce4724fca2.html). **æŸ¥çœ‹ usb0 ç½‘å¡æ˜¯å¦å­˜åœ¨** å¯é€šè¿‡ `ifconfig usb0` å‘½ä»¤æŸ¥çœ‹ usb0 ç½‘å¡æˆ–å°è¯• `ping 192.168.233.1` æ˜¯å¦èƒ½é€šã€‚ ```bash root@AXERA:~# ifconfig usb0 usb0: flags 4099<UP,BROADCAST,MULTICAST> mtu 1500 inet 192.168.233.1 netmask 255.255.255.0 broadcast 192.168.233.255 ether 16:37:cd:c6:f2:ae txqueuelen 1000 (Ethernet) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 ``` **åœ¨ ping é€šåŽ 192.168.233.1 å³å¯é€šè¿‡ usb çº¿ç™»é™†åˆ°æ¿å­** USB ç½‘å¡ä¼šè‡ªåŠ¨ DHCP é…ç½®ï¼Œç›´æŽ¥è¿žæŽ¥ 192.168.233.1 å³å¯ï¼Œè¿žæŽ¥æ–¹å¼å¯å‚è€ƒç¤ºæ„å›¾ã€‚ ![ssh usb](./../assets/ssh usb.jpg) ### æœ‰çº¿ä»¥å¤ªç½‘ï¼ˆeth0ï¼‰é…ç½®æ–¹æ³• **æŸ¥çœ‹ eth0 ç½‘å¡æ˜¯å¦å­˜åœ¨** å¯ä½¿ç”¨ `dhclient eth0 &` æ‰‹åŠ¨å¯åŠ¨ DHCP å®¢æˆ·ç«¯èŽ·å– IP åœ°å€ï¼Œå¾—åˆ° ip åŽä½¿ç”¨ `ifconfig eth0` å‘½ä»¤æŸ¥çœ‹å½“å‰ç½‘ç»œé…ç½®ã€‚é»˜è®¤æ”¯æŒåƒå…†ç½‘ç»œï¼Œåªéœ€è¦å¼€æœºå‰å°†ç½‘çº¿æ’ä¸ŠåŽ»ï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å°±ä¼šè‡ªåŠ¨é…ç½®å¹¶è”ç½‘ï¼Œå¯ä»¥é€šè¿‡ `apt update` æµ‹è¯•è½¯ä»¶æºæ›´æ–°ã€‚ ```bash root@AXERA:~# ifconfig eth0: flags 4163<UP,BROADCAST,RUNNING,MULTICAST> mtu 1500 inet 192.168.0.77 netmask 255.255.255.0 broadcast 192.168.0.255 ether 1e:09:dc:e9:1c:29 txqueuelen 1000 (Ethernet) RX packets 301 bytes 41433 (40.4 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 31 bytes 2970 (2.9 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 device interrupt 56 ``` **å…³äºŽ eth0 åœ°å€ç›¸åŒçš„é—®é¢˜** æ‰§è¡Œä¸‹è¿°ä»£ç å°±ä¼šä»Ž `/proc/ax_proc/uid` è¯»å– chip_id å†™åˆ° `/etc/network/interfaces` çš„ eth0 é…ç½®é‡Œï¼Œè¯¥å‘½ä»¤å¤šæ¬¡æ‰§è¡Œä¸å—å½±å“ã€‚ ``` python3 c \"import os, binascii; os.system('sed i \\'/iface eth0 inet dhcp/ahwaddress ether {}\\' /etc/network/interfaces'.format(binascii.hexlify(bytes.fromhex(open('/proc/ax_proc/uid').read().split('0x')[1][: 5]),':').decode('iso8859 1'))) if os.system('grep \\'hwaddress ether\\' /etc/network/interfaces q') ! 0 else exit();\" ``` **ä¸€äº›é—®é¢˜æŽ’é™¤æ–¹æ³•ï¼Œå¦‚æ²¡æœ‰ ip å¦‚ä½•é…ç½®** ç™»å½•åŽæ— æ³•èŽ·å–ä»¥å¤ªç½‘åœ°å€çš„è¯ï¼Œå¯ç”¨ä¸Šæ–‡å‘½ä»¤å¯åŠ¨ DHCP å®¢æˆ·ç«¯èŽ·å– IP åœ°å€ã€‚ æˆ–è€…æ˜¯ä½¿ç”¨ `ifdown eth0` å…³é—­ç½‘å¡åŽå†ä½¿ç”¨ `ifup eth0 force` å¯åŠ¨æ‰‹åŠ¨é…ç½® IPã€‚ .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹é…ç½®ç¤ºä¾‹ ![eth0 config](./../assets/eth0 config.jpg) ### æ— çº¿ WIFI ï¼ˆwlan0ï¼‰é…ç½®æ–¹æ³• >**20230103** åŽé•œåƒæ›´æ–°ä»¥åŠä¸åŒç¡¬ä»¶ï¼ˆrtl8189fsï¼‰WiFi æ¨¡ç»„ï¼Œç›¸å…³çš„ `WiFi` é…ç½®å…¨éƒ¨é‡‡ç”¨ `nmtui` å›¾å½¢åŒ–æˆ–å‘½ä»¤è¡Œè¿›è¡Œè”ç½‘ã€‚ç›¸å…³çš„ç¡¬ä»¶ç‰ˆæœ¬åŒºåˆ†æˆ–å‡ºçŽ° `wlan0` ä¸æ˜¾ç¤ºçš„æƒ…å†µéƒ½è¯·ç§»æ­¥[ Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html)æŸ¥çœ‹ã€‚ **æŸ¥çœ‹ WIFI ç½‘å¡æ˜¯å¦å­˜åœ¨** **wlan0**ï¼šæ— çº¿ç½‘å¡ï¼Œä½¿ç”¨ DHCP åè®®èŽ·å– IP åœ°å€ï¼Œå¯ä½¿ç”¨å‘½ä»¤ `ifconfig wlan0` æŸ¥çœ‹å½“å‰ç½‘ç»œé…ç½®ã€‚ #### ä½¿ç”¨å‘½ä»¤è¡Œè”ç½‘ >æ³¨æ„ï¼šæ–°é•œåƒï¼ˆ**20230103**ï¼‰å·²æå‰é…ç½®å¥½ `nmtui connect` ç›´æŽ¥å¯ä»¥æ ¹æ®ä¸‹æ–‡è¿›è¡Œè”ç½‘ã€‚ >æ—§é•œåƒä½¿ç”¨å‰éœ€å…ˆé…ç½® `nmtui connect` æ‰å¯ä½¿ç”¨ï¼Œå¯ç‚¹å‡»å‰å¾€[ å¯åŠ¨ nmtui connect å›¾å½¢åŒ–è”ç½‘ ](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#é…ç½® nmtui connect ä½¿ç”¨å›¾å½¢åŒ–è”ç½‘)æŸ¥çœ‹ã€‚ ä»¥ä¸‹è”ç½‘å‘½ä»¤è¡Œå·²æå‰æ”¾ç½®åœ¨å¼€æœºè„šæœ¬ `/boot/rc.local` é‡Œï¼Œç”¨æˆ·å¯å‚è€ƒç¤ºä¾‹ä¿®æ”¹å‘½ä»¤è¡Œçš„ `è´¦æˆ· & å¯†ç ` å¹¶åœ¨ç»ˆç«¯è¿è¡Œè”ç½‘å³å¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¿å­˜è¿žæŽ¥è¿‡çš„ WiFi è´¦æˆ·ä»¥åŠå¯†ç ã€‚ ```bash nmcli device wifi connect Sipeed_Guest password qwert123 # ç¤ºä¾‹ nmcli device wifi connect AXera Pi password 11111111 # æ”¹åŠ¨ WiFi è´¦æˆ·ä»¥åŠ pssword å¯†ç  ``` .. details::ç‚¹å‡»æŸ¥çœ‹ä¿®æ”¹ç¤ºä¾‹å›¾ ![nmtui_adb](./../assets/nmtui_adb.png) #### ä½¿ç”¨ nmtui connect å›¾å½¢åŒ–è”ç½‘ ç»ˆç«¯è¾“å…¥ `nmtui connect` æ‰“å¼€å¯è§†åŒ–è”ç½‘é¡µé¢ã€‚é¡µé¢ä¼šæ˜¾ç¤ºæ‰«æåˆ°çš„ WiFi ä¿¡æ¯ï¼Œä½¿ç”¨é”®ç›˜çš„ **ä¸Šä¸‹å·¦å³** é”®é€‰æ‹©è¦è¿žæŽ¥çš„ WiFi æŒ‰ä¸‹ **å›žè½¦** é”®ï¼Œé¡µé¢æç¤ºè¾“å…¥ WiFi å¯†ç ï¼Œè¾“å®ŒåŽé€‰æ‹© `OK` å¹¶æŒ‰ **å›žè½¦** é”®åˆ™ä¼šå¼¹å‡ºé¡µé¢ï¼Œé€‰æ‹© `Quit` æŒ‰ **å›žè½¦** é”®é€€å‡ºï¼Œé¡µé¢ä¼šæ˜¾ç¤º * æ ‡å˜åŠ¨ä»£è¡¨è”ç½‘å®Œæˆã€‚ <html> <img src \"./../assets/nmtui_one.png\" width 45%> <img src \"./../assets/nmtui_two.png\" width 45%> </html> #### nmtui connect å›¾å½¢åŒ–è”ç½‘è¯¦è§£ ç³»ç»Ÿå·²é¢„ç½® NetworkManager åœ¨ `nano /etc/NetworkManager/NetworkManager.conf` é‡Œçš„ `managed false` ä¿®æ”¹æˆ `managed true` å’Œæ³¨é‡ŠæŽ‰ `/etc/network/interfaces` é‡Œçš„æœ‰å…³äºŽ `wlan0` çš„é…ç½®ï¼ˆå¯ä»¥æ‰“å¼€ `allow hotplug wlan0` ï¼‰åŽã€Œæ‹”çº¿æ–­ç”µé‡å¯ã€å³å¯ä½¿ç”¨ `nmtui connect` è¿›è¡Œè”ç½‘ï¼Œä½†åŽŸæ¥çš„ `wpa_supplicant.conf` é‡Œçš„é…ç½®ä¼šå¤±æ•ˆã€‚ ``` root@AXERA:~# cat /etc/network/interfaces # interfaces(5) file used by ifup(8) and ifdown(8) # Include files from /etc/network/interfaces.d: source /etc/network/interfaces.d/* auto lo iface lo inet loopback # auto eth0 allow hotplug eth0 iface eth0 inet dhcp # auto usb0 allow hotplug usb0 iface usb0 inet static address 192.168.233.1 netmask 255.255.255.0 allow hotplug wlan0 # wpa ssid \"2.4G\" # wpa psk \"1qaz2wsx\" # auto wlan0 # iface wlan0 inet manual # wpa conf /boot/wpa_supplicant.conf # iface wlan0 inet dhcp ``` > [é…ç½® NetworkManager å‚è€ƒ](https://support.huaweicloud.com/bestpractice ims/ims_bp_0026.html#section1) & [linuxç³»ç»Ÿä¸­ä½¿ç”¨nmtuiå‘½ä»¤é…ç½®ç½‘ç»œå‚æ•°ï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰](https://www.cnblogs.com/liujiaxin2018/p/13910144.html) è¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨ `nmcli pretty device wifi list` è¿›è¡Œ Wi Fi çš„æ‰«æäº†ã€‚ ``` root@AXERA:~# nmcli pretty device wifi list Wi Fi scan list (wlan0) IN USE BSSID SSID MODE CHAN RATE SIGNAL> > CC:81:DA:5B:10:98 2.4G Infra 7 270 Mbit/s 92 > 22:59:57:DD:90:63 ç”°éœ‡å¤©å•Šå¤©éœ‡ç”° Infra 1 270 Mbit/s 65 > C4:70:AB:3B:5A:EF 201 Infra 1 130 Mbit/s 65 > 6A:70:AB:3B:5A:EC Infra 1 130 Mbit/s 65 > 48:A0:F8:22:BB:2D ChinaNet KQXN Infra 3 130 Mbit/s 65 > 10:C1:72:2F:AD:FC ChinaNet kWCT Infra 11 130 Mbit/s 64 > B0:DF:C1:76:C5:21 Infra 2 195 Mbit/s 62 > 66:9A:08:0C:57:D4 aWiFi 204 Infra 3 270 Mbit/s 62 > 1C:60:DE:96:19:16 26JK Infra 6 270 Mbit/s 60 > 1C:60:DE:78:D8:D2 EDwinLam. Infra 1 270 Mbit/s 59 > 64:64:4A:28:14:3F Xiaomi_143E Infra 2 130 Mbit/s 59 > 08:40:F3:27:63:70 å¤§çŽ‹ Infra 5 270 Mbit/s 59 > 14:A3:2F:62:80:F4 HUAWEI 211 Infra 6 270 Mbit/s 59 > E4:0E:EE:DA:96:A4 w168 Infra 6 270 Mbit/s 59 > 66:9A:08:0C:2D:34 aWiFi 305 Infra 6 270 Mbit/s 59 > 00:E0:4C:2B:2F:F3 UUåŠ é€Ÿç›’ 2FF2 Infra 11 270 Mbit/s 59 > 74:50:4E:8D:51:69 Infra 5 270 Mbit/s 57 > 76:50:4E:1D:51:69 207 Infra 5 130 Mbit/s 57 > lines 1 23 ``` #### å¦‚ä½•æ‰“å¼€ WIFI AP çƒ­ç‚¹æ¨¡å¼ï¼ˆéœ€æ›¿æ¢ rtl8189fs wifi æ¨¡ç»„ï¼‰ åŸºäºŽ nmtui è”ç½‘æˆåŠŸåŽæ”¹ç”¨ nmcli å‘½ä»¤ã€‚ `nmcli device wifi hotspot ifname wlan0 con name MyHostspot ssid MyHostspotSSID password 12345678` å³å¯åˆ›å»º MyHostspotSSID çš„ ap çƒ­ç‚¹ã€‚ ![nmcli_ssid](./../assets/nmcli_ssid.png) > ç›®å‰ rtl8723bs WIFI èƒ½æ‰“å¼€ï¼Œä½†è¿žä¸Šä¼šé‡å¯æ¿å­ï¼Œç½‘å¡é©±åŠ¨é—®é¢˜æš‚æ—¶ä¸ä¿®ï¼Œæ›´æ¢æˆ rtl8189fs å³å¯æ­£å¸¸ä½¿ç”¨ã€‚ #### å¦‚ä½•ä¿®æ”¹è¿žæŽ¥çš„ WIFI è´¦å·å¯†ç ï¼ˆå·²è¿‡æ—¶ï¼‰ é»˜è®¤ WIFI è´¦å·å¯†ç é…ç½®å­˜æ”¾åœ¨ `/boot/wpa_supplicant.conf` é‡Œï¼Œæµ‹è¯•è¿‡å¹¶æ”¯æŒ Android æ‰‹æœºå¼€æ”¾çš„ WPA PSK2 çƒ­ç‚¹ï¼Œé…ç½®ä¿®æ”¹åŽä¼šåœ¨é‡å¯åŽç”Ÿæ•ˆï¼ˆ**å»ºè®®ç”¨ nmtui connect è¿›è¡Œé…ç½®è¿žæŽ¥**)ã€‚ ```bash root@AXERA:~# cat /boot/wpa_supplicant.conf ctrl_interface DIR /var/run/wpa_supplicant GROUP netdev update_config 1 network { ssid \"Sipeed_Guest\" key_mgmt WPA PSK psk \"qwert123\" } ``` #### å¦‚ä½•æ‰«æ WIFI çƒ­ç‚¹ï¼ˆå·²è¿‡æ—¶ï¼‰ è¿™éœ€è¦äº†è§£ iwconfig å’Œ iwlist å‘½ä»¤åŽ»ç®¡ç† WIFI ç½‘å¡ï¼Œä¾‹å¦‚ WIFI æ‰«ææ–¹æ³• `iwlist wlan0 scanning`ï¼Œç”±äºŽ iwconfig åªæ”¯æŒæ— å¯†ç å’Œ WEP è®¤è¯çš„çƒ­ç‚¹ï¼Œæ‰€ä»¥çŽ°å·²ä¸ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œä»…ä¾›ç®€å•çš„æŸ¥è¯¢çƒ­ç‚¹æˆ–æµ‹è¯• WIFI çš„å¥½ä¸Žåã€‚ ``` root@AXERA:~# iwlist wlan0 scanning wlan0 Scan completed : Cell 01 Address: 58:41:20:05:07:96 ESSID:\"Sipeed_Guest\" Protocol:IEEE 802.11bgn Mode:Master Frequency:2.412 GHz (Channel 1) Encryption key:on Bit Rates:300 Mb/s Extra:wpa_ie dd160050f20101000050f20401000050f20401000050f202 IE: WPA Version 1 Group Cipher : CCMP Pairwise Ciphers (1) : CCMP Authentication Suites (1) : PSK Extra:rsn_ie 30140100000fac040100000fac040100000fac020000 IE: IEEE 802.11i/WPA2 Version 1 Group Cipher : CCMP Pairwise Ciphers (1) : CCMP Authentication Suites (1) : PSK Quality 100/100 Signal level 100/100 Extra:fm 0003 Cell 02 Address: 0C:3A:FA:0E:81:7F ESSID:\"\" Protocol:IEEE 802.11bgn Mode:Master Frequency:2.412 GHz (Channel 1) Encryption key:off Bit Rates:144 Mb/s Quality 100/100 Signal level 88/100 Extra:fm 0001 Cell 03 Address: 64:64:4A:88:7F:06 ESSID:\"Reachintelligent\" Protocol:IEEE 802.11bgn Mode:Master Frequency:2.412 GHz (Channel 1) Encryption key:on Bit Rates:144 Mb/s Extra:rsn_ie 30140100000fac040100000fac040100000fac020c00 IE: IEEE 802.11i/WPA2 Version 1 Group Cipher : CCMP Pairwise Ciphers (1) : CCMP Authentication Suites (1) : PSK IE: Unknown: DD7B0050F204104A0001101044000102103B00010310470010876543219ABCDEF0123464644A887F04102100067869616F6D69102300045241373210240004303030321042000531323334351054000800060050F20400011011000C5869616F4D69526F75746572100800020000103C0001031049000600372A000120 Quality 100/100 Signal level 100/100 Extra:fm 0003 ``` > ç›®å‰æ‰€æœ‰çš„ç½‘ç»œé…ç½®éƒ½ä¼šåœ¨é‡å¯åŽè‡ªåŠ¨ç”Ÿæ•ˆï¼Œå¦‚æžœæƒ³è¦è‡ªå·±æ‰‹å·¥æŽ§åˆ¶ç½‘å¡çš„å¼€å…³ï¼Œè¯·äº†è§£ä¸€ä¸‹ ifup æˆ– ifdown å‘½ä»¤çš„ç”¨æ³•ï¼Œç±»ä¼¼ ifup eth0 å¯åŠ¨ eth0 ç½‘å¡ï¼Œifdown eth0 force å¼ºåˆ¶å…³é—­ eth0 ç½‘å¡ç­‰ã€‚ ## ç³»ç»Ÿé…ç½® ### ç³»ç»Ÿæ—¶é—´ Maix III AXera Pi å¼€å‘æ¿çš„ Linux ç³»ç»Ÿé»˜è®¤ä½¿ç”¨ NTP åè®®èŽ·å–ç³»ç»Ÿæ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨ `date` å‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ—¶é—´ã€‚ > å¦‚æžœè”ç½‘äº†ä¼šè‡ªåŠ¨ä½¿ç”¨ `ntp debian` åŒæ­¥æ—¶é—´ï¼Œæ²¡æœ‰åŒæ­¥åˆ™è¯´æ˜Žæ²¡æœ‰ç½‘ç»œï¼Œæ²¡æœ‰åŒæ­¥ `apt update` æ›´æ–°è½¯ä»¶ä¹Ÿä¼šå¤±è´¥ã€‚ ### å®‰è£…è½¯ä»¶ Maix III AXera Pi å¼€å‘æ¿çš„ Linux ç³»ç»Ÿå¯ä»¥é€šè¿‡ `apt` æ›´æ–°è½¯ä»¶ã€‚ æ¯”å¦‚å®‰è£… gcc gdb ffmpeg ç­‰å¸¸ç”¨ Linux è½¯ä»¶ï¼Œåªéœ€è¦ä½¿ç”¨ä¸‹è¿°å‘½ä»¤å³å¯ï¼Œå…¶ä»–è½¯ä»¶å®‰è£…ä¹ŸåŒç†ã€‚ ```bash sudo apt update sudo apt install gcc gdb ffmpeg ``` .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ç¤ºä¾‹å›¾ ![apt](./../assets/apt.jpg) > ç”±äºŽ Linux ç³»ç»Ÿç›´æŽ¥æ–­ç”µå¯èƒ½ä¼šå¯¼è‡´æ–‡ä»¶ç³»ç»ŸæŸåï¼Œå¦‚æžœå¯ä»¥çš„è¯å»ºè®®æŒ‰ä¸‹è¿°å‘½ä»¤åŽ»è¿›è¡Œå¼€å…³æœºï¼Œå¯ä»¥é¿å…ä¸€äº›ç”±äºŽç›´æŽ¥æ–­ç”µç³»ç»ŸæŸåå¯¼è‡´çš„å¥‡æ€ªé—®é¢˜å‡ºçŽ°ã€‚ ### é‡å¯ç³»ç»Ÿ Maix III AXera Pi å¼€å‘æ¿çš„ Linux ç³»ç»Ÿå¯ä»¥é€šè¿‡ `reboot` å‘½ä»¤é‡å¯ï¼Œé‡å¯å‘½ä»¤å¦‚ä¸‹ï¼š ```bash reboot ``` ### å…³é—­ç³»ç»Ÿ Maix III AXera Pi å¼€å‘æ¿çš„ Linux ç³»ç»Ÿå¯ä»¥é€šè¿‡ `poweroff` å‘½ä»¤å…³é—­ï¼Œå…³é—­å‘½ä»¤å¦‚ä¸‹ï¼š ```bash poweroff ``` ### ç£ç›˜æ‰©å®¹ åŸºäºŽä¸€äº›ç”¨æˆ·å¯èƒ½æœ‰æ‰©å®¹åˆ†åŒºçš„éœ€æ±‚ï¼Œå› æ­¤åœ¨è¿™é‡Œæ·»åŠ åœ¨ AXera Pi ä¸Šç»™æ¿å­æ‰©å®¹æˆ–è€…æ˜¯å»ºç«‹æ–°åˆ†åŒºçš„å†…å®¹ã€‚ æ“ä½œæ–¹æ³• é¦–å…ˆéœ€è¦çƒ§å½•å®Œä¸Šæ–¹çš„ debian11 çš„é•œåƒç³»ç»ŸåŽï¼Œå†ä½¿ç”¨ AXera Pi ç™»é™†ä¸Š Linux ç³»ç»Ÿæ¥è¿›è¡Œç£ç›˜æ‰©å®¹åˆ†åŒºã€‚ >[ç‚¹å‡»æŸ¥çœ‹ AXera Pi ç™»é™†æ–¹å¼](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95) æˆåŠŸç™»é™†åˆ° AXera Pi ä¸ŠåŽï¼Œç”¨æˆ·å¯ä»¥å…ˆä½¿ç”¨ `lsblk` å‘½ä»¤æ¥æŸ¥çœ‹è®¾å¤‡å½“å‰çš„å­˜å‚¨æƒ…å†µã€‚æŽ¥ç€ä½¿ç”¨ `cfdisk /dev/mmcblk2` æ¥è¿›è¡Œç£ç›˜åˆ†åŒºæ‰©å®¹çš„æ“ä½œã€‚ï¼ˆ`mmcblk2` æ˜¯æˆ‘ä»¬è¿›è¡Œæ“ä½œçš„åŒºåŸŸåç§°ä¹Ÿç§°è®¾å¤‡åï¼‰ .. details::ç‚¹å‡»æŸ¥çœ‹é…ç½®ç¤ºæ„å›¾ ![cfdisk](./../assets/cfdisk mmcblk2.jpg) è¿è¡Œå‘½ä»¤åŽç»ˆç«¯ä¼šå¼¹å‡ºä¸‹å›¾æ“ä½œç•Œé¢ï¼Œç”± `Free space` å¯è§å­˜å‚¨ç©ºé—´è¿˜ä½™ `4.3G`ï¼Œç”¨æˆ·å¯ä½¿ç”¨é”®ç›˜ä¸Šçš„æ–¹å‘é”®ç§»åŠ¨é€‰æ‹©æˆ‘ä»¬è¦æ‰©å®¹çš„åˆ†åŒº `/dev/mmcblk2p2` ã€‚ .. details::ç‚¹å‡»æŸ¥çœ‹é…ç½®ç¤ºæ„å›¾ ![rizese mmcblk2](./../assets/rizese mmcblk2.png) é€‰æ‹©ä¸Šå›¾çš„ `Resize` æŒ‰ä¸‹**å›žè½¦é”®**å¯¹å½“å‰åˆ†åŒºè¿›è¡Œç¼©å®¹æˆ–æ‰©å®¹ï¼Œç•Œé¢ä¼šè·³å‡ºæç¤ºç”¨æˆ·ä¿®æ”¹æ–°çš„åˆ†åŒºå¤§å°ã€‚ .. details::ç‚¹å‡»æŸ¥çœ‹é…ç½®ç¤ºæ„å›¾ ![new resize](./../assets/new resize.png) ä¿®æ”¹åŽæ•²**å›žè½¦é”®**ç¡®å®šï¼Œç»ˆç«¯ç•Œé¢ä¼šå›žåˆ°åŽŸé¡µé¢ã€‚è¿™æ—¶æˆ‘ä»¬å·²ç»å®Œæˆå¯¹åˆ†åŒºæ‰©å®¹çš„ä¿®æ”¹äº†ï¼Œè¿˜éœ€è¦æŠŠæ”¹åŠ¨çš„éƒ¨åˆ†å†™å…¥ç£ç›˜ã€‚åœ¨é¡µé¢é€‰æ‹© `Write` å¹¶æ•²**å›žè½¦é”®**åŽè¾“å…¥ `yes` ç¡®å®šå°†æ”¹åŠ¨åˆ†åŒºè¡¨å†™å…¥ç£ç›˜ä¸­ï¼Œå†æ•²**å›žè½¦é”®**å³å¯ã€‚ .. details::ç‚¹å‡»æŸ¥çœ‹é…ç½®ç¤ºæ„å›¾ ![write disk](./../assets/write disk.png) æ“ä½œåŽä¼šè¿”å›žåŽŸç•Œé¢ï¼Œé€‰æ‹© `Quit` é€€å‡ºå³å¯ã€‚ .. details::ç‚¹å‡»æŸ¥çœ‹é…ç½®ç¤ºæ„å›¾ ![quit](./../assets/quit.jpg) æŽ¥ä¸‹æ¥ä½¿ç”¨å‘½ä»¤è¡Œ `df h` æŸ¥è¯¢ç£ç›˜ä½¿ç”¨ç©ºé—´çš„æƒ…å†µï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºç”¨æˆ·æ²¡æ”¹åŠ¨ä¹‹å‰çš„ä½¿ç”¨æƒ…å†µï¼Œéœ€è¦æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤ `resize2fs /dev/mmcblk2p2` æ¥è°ƒæ•´æ–‡ä»¶ç³»ç»Ÿçš„å¤§å°å®žçŽ°å¯¹ `mmcblk2` åˆ†åŒºçš„æ‰©å®¹ï¼Œå†ä½¿ç”¨ `df h` æŸ¥è¯¢å°±å¯ä»¥çœ‹åˆ°ç£ç›˜æ”¹åŠ¨åŽçš„æƒ…å†µã€‚ .. details::ç‚¹å‡»æŸ¥çœ‹é…ç½®ç¤ºæ„å›¾ ![df mmcblk2](./../assets/df mmcblk2.jpg) > **æ³¨æ„**ï¼šå¦‚æžœè°ƒæ•´å®Œæ–‡ä»¶ç³»ç»Ÿçš„å¤§å°åŽä½¿ç”¨ `df h` æŸ¥è¯¢ç£ç›˜ä¿¡æ¯ä¾æ—§æ˜¯æ”¹åŠ¨å‰çš„ä¿¡æ¯ï¼Œå¯ä½¿ç”¨ `reboot` é‡å¯è®¾å¤‡åŽåœ¨æŸ¥è¯¢ã€‚ ### å¼€æœºå¯åŠ¨è„šæœ¬ ç³»ç»Ÿå·²ç»å†…ç½®å¥½ `/boot/rc.local` çš„å¼€æœºå¯åŠ¨è„šæœ¬ï¼Œç”¨æˆ·å¯å‚ç…§ä»¥ä¸‹ç¤ºä¾‹è¿›è¡Œä¿®æ”¹ã€‚ å¼€æœºå¯åŠ¨è„šæœ¬æ˜¯åœ¨ / æ ¹ç›®å½•ä¸‹è¿è¡Œçš„ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æžœæƒ³è¦å¼€æœºå¯åŠ¨ `/home/run.sh` è„šæœ¬ã€‚ 1. ç”¨ç»å¯¹è·¯å¾„æŒ‚åŽå°è¿è¡Œç¨‹åº `/home/run.sh & ` æ‰å¯ä»¥ç¡®ä¿å¼€æœºåŽè¿›å…¥ shell å‘½ä»¤ç»ˆç«¯ã€‚ 2. ã€æŽ¨èã€‘ç”¨ç›¸å¯¹è·¯å¾„æŒ‚åŽå°è¿è¡Œç¨‹åº `cd /home && ./run.sh &` æ³¨æ„æ­¤æ—¶ pwd å’Œç»å¯¹è·¯å¾„æ˜¯ä¸ä¸€æ ·ã€‚ è¯·å…ˆéªŒè¯å¥½å¯ä»¥åœ¨ / æ ¹ç›®å½•ä¸‹å¯åŠ¨åŽå†æ”¾å…¥ä»¥ä¸‹çš„å¼€æœºè„šæœ¬ä¸­ï¼Œä¸ä¼šå°±æŠ„ä»¥ä¸‹è„šæœ¬çš„ä¾‹å­ã€‚ ```bash root@AXERA:~# cat /boot/rc.local #!/bin/sh # this file is called by /etc/rc.local at boot. # systemctl stop usb gadget@g0 # mkdir p /mnt/udisk && mount /dev/sda1 /mnt/udisk # python3 /mnt/udisk/alltest.py # this control lcd backlight(50 ~ 1000) echo 0 > /sys/class/pwm/pwmchip0/export echo 1000 > /sys/class/pwm/pwmchip0/pwm0/period echo 500 > /sys/class/pwm/pwmchip0/pwm0/duty_cycle echo 1 > /sys/class/pwm/pwmchip0/pwm0/enable # wifi connect ssid Sipeed_Guest pasw qwert123 nmcli device wifi connect Sipeed_Guest password qwert123 if [ f \"/root/boot\" ]; then cd /root/ && chmod 777 * && ./boot & elif [ d \"/root/app\" ]; then cd /root/app && chmod 777 * if [ f \"./main\" ]; then ./main & elif [ f \"./main.bin\" ]; then ./main.bin & elif [ f \"./main.py\" ]; then python3 ./main.py & fi else aplay /home/res/boot.wav >/dev/null 2>&1 & /opt/bin/sample_vo_fb v dsi0@480x854@60 m 0 >/dev/null 2>&1 & sleep 0.8 && /home/fbv 1.0b/fbv /home/res/2_480x854.jpeg && killall sample_vo_fb & python3 c \"import os, binascii; os.system('sed i \\'/iface eth0 inet dhcp/ahwaddress ether {}\\' /etc/network/interfaces'.format(binascii.hexlify(bytes.fromhex(open('/proc/ax_proc/uid').read().split('0x')[1][: 5]),':').decode('iso8859 1'))) if os.system('grep \\'hwaddress ether\\' /etc/network/interfaces q') ! 0 else exit();\" & fi exit 0 ``` .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ç¤ºä¾‹å›¾ ![start](./../assets/start.jpg) ä¸‹é¢æ˜¯å¯åŠ¨æ—¥å¿—ï¼ˆæˆªå–ï¼‰ï¼š ![m3axpi_debian_boot_log_screenshot](./../../../en/maixiii/ax pi/assets/flash_system/m3axpi_debian_boot_log_screenshot.png) 1. è™½ç„¶ä¸Šé¢æ˜¾ç¤º `DRAM: 1 GiB`ï¼Œä½†æ˜¯åœ¨ç³»ç»Ÿä¸­å¼„å¯ä»¥æŸ¥åˆ°å®žé™…çš„å­˜å‚¨æ˜¯ `2 GiB`. 2. å› ç‰©æ–™æ›´æ¢å±å¹•çŽ°æœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼Œéœ€åŒºåˆ«ç‰ˆæœ¬ä»¥åŠä½¿ç”¨å±å¹•æ—¶å‡ºçŽ°é”¯é½¿ç­‰ç”»é¢è¯·ç§»æ­¥åˆ°[ Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜(FAQ) ](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html#Qï¼šç¡¬ä»¶ç‰©æ–™æ›´æ”¹è¯´æ˜Žã€æ²¡æœ‰ wlan0 ã€å±å¹•çƒ§å±ã€æ‘„åƒå¤´å€’è¿‡æ¥æ€Žä¹ˆè§£å†³ï¼Ÿ)æŸ¥è¯¢ã€‚ ### æ›´æ–°å†…æ ¸ä¸Žé©±åŠ¨ åœ¨ SD å¡çš„ç¬¬ä¸€åˆ†åŒºä¼šæŒ‚è½½åˆ°ç³»ç»Ÿæ ¹ç›®å½•ä¸‹çš„ /boot ç³»ç»Ÿå¯åŠ¨ç›¸å…³çš„æ–‡ä»¶ï¼Œæ›¿æ¢å®ƒåŽé‡å¯ï¼ˆrebootï¼‰å³å¯å®Œæˆæ›´æ–°ã€‚ boot.bin èŠ¯ç‰‡ spl åˆå§‹åŒ–ç¨‹åº uboot.bin uboot å¯åŠ¨å¼•å¯¼ç¨‹åº kernel.img linux å†…æ ¸ dtb.img linux è®¾å¤‡æ ‘ ä¾‹å¦‚ï¼š æ›´æ–°è®¾å¤‡æ ‘å¯ä»¥ç”¨ `cp /boot/dtb.img.lcd20221025 /boot/dtb.img` æ›´æ–°å†…æ ¸é©±åŠ¨å¯ä»¥ç”¨ `cp /boot/kernel.img.rtl8723bs /boot/kernel.img` æœ€åŽ reboot å³å¯ç”Ÿæ•ˆã€‚ ## å¦‚ä½•ä¼ è¾“æ–‡ä»¶ > å¦‚æžœåœ¨ä½¿ç”¨ AXera Pi é€”ä¸­å‡ºçŽ°ä»Žè®¾å¤‡åˆ°ç”µè„‘ç«¯æ–‡ä»¶äº’ä¼ çš„éœ€æ±‚ï¼Œå¯æ ¹æ®ä»¥ä¸‹çš„æ–¹å¼è¿›è¡Œä¼ è¾“ï¼š ### ä½¿ç”¨è¯»å¡å™¨ç‰©ç†æ‹·è´æ–‡ä»¶ **ç‰©ç†ä¼ è¾“**ï¼šç”±äºŽ Linux ç³»ç»Ÿé‡‡ç”¨ `ext4` åˆ†åŒºåœ¨ Windows / Mac é»˜è®¤ç³»ç»Ÿä¸‹æ— æ³•è¿›è¡ŒæŸ¥çœ‹ï¼Œç”¨æˆ·éœ€é¢å¤–å®‰è£…å¢žå¼ºå·¥å…·æ‰èƒ½è¯»å–åˆ°å…·ä½“çš„åˆ†åŒºã€‚è€Œ Linux ç³»ç»Ÿå¯ç›´æŽ¥çœ‹åˆ°å¡é‡Œçš„åˆ†åŒºå’Œå†…å®¹ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æŠŠè¯»å¡å™¨æŽ¥åˆ°å®‰å“è®¾å¤‡é€šè¿‡ **OTG** è½¬æŽ¥å¤´å®žçŽ°æ–‡ä»¶æ‹·è´ã€‚ [å¦‚ä½•åœ¨ Windows ä¸‹è®¿é—® ext4 æ ¼å¼çš„ç¡¬ç›˜ï¼Ÿ](https://zhuanlan.zhihu.com/p/448535639) [[macOS] åœ¨ macOS ä¸ŠæŒ‚è½½ Linux çš„ ext/ext3/ext4 æ–‡ä»¶ç³»ç»Ÿ](https://blog.twofei.com/773/) ### æ¿å­ä¸Žç”µè„‘çš„æ–‡ä»¶äº’ä¼  > åŸºäºŽè®©ç”¨æˆ·çš„ä½¿ç”¨æ›´åŠ å¿«é€Ÿä¾¿æ·ï¼Œè¿˜å¯ä»¥é€‰æ‹©ç›´æŽ¥åœ¨æ¿å­ä¸Šä¸Žç”µè„‘ç«¯é€šè¿‡å·¥å…·å®žçŽ°æ–‡ä»¶äº’ä¼ ã€‚ **ä½¿ç”¨ SSH è¿œç¨‹ç®¡ç†å·¥å…·è¿›è¡Œæ–‡ä»¶ä¼ è¾“ï¼š** ä½¿ç”¨å‰éœ€è¦ä½¿ç”¨ `ifconfig` æŸ¥è¯¢æ¿å­çš„ IP åœ°å€åšç™»å½•å¤‡ç”¨ï¼Œå¯ç‚¹å‡»å‰å¾€[ç³»ç»Ÿç™»å½•](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E5%9F%BA%E4%BA%8E ip %2B ssh %E7%99%BB%E5%BD%95)æŸ¥çœ‹ã€‚åœ¨ Windows ä¸Šæœ‰ä¼—å¤šè¿œç¨‹ç®¡ç† Linux æœåŠ¡å™¨çš„å·¥å…·éƒ½æä¾›äº†æ–‡ä»¶ä¼ è¾“çš„åŠŸèƒ½ï¼Œè¿™é‡ŒæŽ¨èå…è´¹ç»¿è‰²çš„ **Mobaxterm** å·¥å…·ã€‚ [å¦‚ä½•ä½¿ç”¨ MobaXterm](https://wiki.sipeed.com/hardware/zh/maixII/M2/tools/mobaxterm.html) [åˆ©ç”¨ MobaXterm å®žçŽ° Linux å’Œ Windows ä¹‹é—´ä¼ è¾“æ–‡ä»¶](https://jingyan.baidu.com/article/9f63fb91e2bc6688400f0e93.html) [ç”¨ MobaXterm åœ¨ Linux å’Œ Windows ä¹‹é—´ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶](https://blog.csdn.net/unforgettable2010/article/details/123930796) > å¦‚æžœæƒ³äº†è§£æ›´å¤šçš„å·¥å…·å¯ç‚¹å‡»[ã€æŽ¨è7æ¬¾è¶…çº§å¥½ç”¨çš„ç»ˆç«¯å·¥å…· â€”â€” SSH+FTPã€‘](https://zhuanlan.zhihu.com/p/301653835)æŸ¥çœ‹ï¼Œè€Œå…¶ä»–ç³»ç»Ÿéƒ½æä¾›äº†å¥½ç”¨çš„å‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ”¯æŒ SSH ã€scp ç­‰å‘½ä»¤ç›´æŽ¥æ‰§è¡Œã€‚ **ä½¿ç”¨ scp å‘½ä»¤å¤åˆ¶æ–‡ä»¶ï¼š** å’Œ cp å¤åˆ¶æ–‡ä»¶ç­‰å‘½ä»¤ä¸€æ ·ï¼Œå®ƒå°±æ˜¯ `ssh + cp scp` è¿™ä¸ªæ„æ€ã€‚ [Linux æ“ä½œç³»ç»Ÿ scp å‘½ä»¤ä½¿ç”¨æ–¹æ³•](https://cloud.tencent.com/developer/article/1876623) **ä½¿ç”¨æœ‰çº¿ä¸²å£äº’ä¼ æ–‡ä»¶ï¼š** ä½¿ç”¨å‰æ ¹æ®ä¸²å£ serial ç™»å½•æŽ¥çº¿é…ç½®å‚æ•°è¿žä¸Šæ¿å­ï¼Œå®‰è£… `apt get install lrzsz` å·¥å…·åŽå¯å‚è€ƒä»¥ä¸‹æ–‡ç« ã€‚ [æœ‰çº¿ä¸²å£ serial ç™»å½•](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E6%9C%89%E7%BA%BF %E4%B8%B2%E5%8F%A3 serial %E7%99%BB%E9%99%86) ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…· `minicom D /dev/ttyUSB0 b 115200` å¯ä»¥æŸ¥çœ‹[ Ubuntu ä¸­ä½¿ç”¨ minicom çŽ©è½¬æ–‡ä»¶çš„ä¸Šä¼ ä¸Žä¸‹è½½](https://blog.csdn.net/wanyeye/article/details/42002377)ã€‚ ä½¿ç”¨ MobaXterm å¯ä»¥ç‚¹å‡» [MobaXterm ä½¿ç”¨ rz/sz ä¼ é€æ–‡ä»¶](https://blog.csdn.net/qq_28837389/article/details/120073720)æŸ¥çœ‹ã€‚ ## éªŒè¯ç³»ç»Ÿå¤–è®¾ ### ç³»ç»Ÿé¢„ç½®çš„èµ„æº Maix III AXera Pi å¼€å‘æ¿çš„ Linux ç³»ç»Ÿé¢„ç½®äº†ä¸€äº›èµ„æºï¼Œå¯ä»¥é€šè¿‡ `ls /opt` å‘½ä»¤æ¥æŸ¥çœ‹ã€‚ ```bash root@AXERA:~# ls /opt bin include lib scripts share ``` è¿˜æœ‰ä¸€äº›åœ¨ `home` ç›®å½•ä¸‹ï¼š ```bash root@AXERA:~# tree L 1 /home â”œâ”€â”€ ax samples # npu ai sdk â”œâ”€â”€ examples # ä¸€äº›å¼€ç®±ç¤ºä¾‹ â”œâ”€â”€ fbv 1.0b # fbv å›¾ç‰‡æŸ¥çœ‹å™¨ â”œâ”€â”€ images # ä¸€äº›æµ‹è¯•å›¾ç‰‡ â”œâ”€â”€ libmaix # simple pipeline sdk â”œâ”€â”€ models # å†…ç½®çš„ AI æ¨¡åž‹ â”œâ”€â”€ res # ä¸€äº›å›¾åƒå­—ä½“èµ„æº â”œâ”€â”€ systemd usb gadget # é…ç½® usb æœåŠ¡ â”œâ”€â”€ usb uvc gadget # é…ç½® uvc æœåŠ¡ â””â”€â”€ ustreamer # mjpeg å›¾ä¼  ``` æ¿å­å·²ç»é¢„ç½®äº† `gcc g++ gdb libopencv ffmpeg` ç­‰å·¥å…·ï¼Œå¯ç›´æŽ¥åœ¨æ¿ä¸Šç¼–è¯‘è¿è¡Œç¨‹åºã€‚ å¯å‚è€ƒä¸‹æ–¹ä½¿ç”¨æ–¹æ³•ï¼š ```bash cd /home/libmaix/examples/axpi/ python3 project.py build fbon ./dist/start_app.sh ``` .. details::ç‚¹å‡»æŸ¥çœ‹ç¤ºä¾‹æ•ˆæžœ ä½¿ç”¨å‘½ä»¤è¡ŒåŽä¼šæ‰“å°å¤§é‡æ•°æ®ä¿¡æ¯å¹¶å¯åŠ¨æ‘„åƒå¤´åŠå±å¹•ã€‚ ![libmaix](./../assets/libmaix.jpg) è€Œ axsample å·²ç»é¢„ç¼–è¯‘å¥½äº†ï¼Œç›¸å…³ joint æ¨¡åž‹å·²å†…ç½®åœ¨ `/home/models/` ä¸‹ä¾¿äºŽç”¨æˆ·æŸ¥è¯¢ã€‚ ```bash /home/ax samples/build/install/bin/ax_yolov5s m /home/models/yolov5s.joint i /home/images/cat.jpg r 10 fbon fbv yolov5s_out.jpg ``` .. details::ç‚¹å‡»æŸ¥çœ‹æ•ˆæžœ è¾“å…¥ä¸Šæ–¹å‘½ä»¤åŽå±å¹•ä¼šæ˜¾ç¤º yolovs_out.jpg å›¾åƒ ![cat](./../assets/cat.jpg) å¯ä»¥åœ¨è”ç½‘åŽç›´æŽ¥ `git pull` æ›´æ–°ä»“åº“çš„æäº¤è®°å½•ï¼Œå¦‚æžœä¸èƒ½è®¿é—® github çš„è¯å°±è®¾ç½®ä¸€ä¸‹ `git remote` ä»Ž gitee æ‹‰å–ä»£ç å§ã€‚ > **æ³¨æ„**ï¼šä½¿ç”¨ xxxx menuconfig æŠ¥é”™è¯·ç§»æ­¥[Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html) ### æŽ’é’ˆå¼•è„šå›¾ ![layout_axpi](./../assets/layout_axpi_1.png) ### RTC ä½¿ç”¨ `ls /sys/class/rtc` æŸ¥è¯¢ä¼šå‡ºçŽ° /dev/rtc0 å’Œ /dev/rtc1ï¼Œåˆ†åˆ«æ˜¯å¤–éƒ¨ç”µæ± ä»¥åŠèŠ¯ç‰‡å†…éƒ¨çš„ rtc æ—¶é’Ÿã€‚ **æŸ¥çœ‹æ—¶é—´** ```bash cat /sys/class/rtc/rtc0/time && cat /sys/class/rtc/rtc0/date cat /sys/class/rtc/rtc1/time && cat /sys/class/rtc/rtc1/date ``` ```bash root@AXERA:~# cat /sys/class/rtc/rtc0/time && cat /sys/class/rtc/rtc0/date 08:13:30 2022 08 19 ``` **è®¾ç½®æ—¶é—´** ä½¿ç”¨ `hwclock w f /dev/rtc0` æˆ– `hwclock w f /dev/rtc1` å†™å…¥ã€‚ åªæœ‰è¿™ä¸ªæ–¹æ³•å¯ä»¥å†™è¿›åŽ»ï¼Œç¡®è®¤ RTC æ˜¯å¦å†™å…¥æˆåŠŸï¼Œåªéœ€è¦æ–­ç”µåŽé‡å¯çš„æ—¶é—´ä¸ä¸º 1970 å°±è¡Œã€‚ ### CPU & RAM é»˜è®¤ 800MHz å¯ä»¥è°ƒåˆ° 1ghz. ```bash root@AXERA:~# ax_lookat 0x01900000 s 33 0x1900000:00000033 root@AXERA:~# ax_clk AX620A: DDR: 3733 MHz CPU: 800 MHz BUS of VPU: 624 MHz BUS of NPU: 624 MHz BUS of ISP: 624 MHz BUS of CPU: 624 MHz NPU OTHER: 800 MHz NPU GLB: 24 MHz NPU FAB: 800 MHz NPU CORE1: 800 MHz NPU CORE0: 800 MHz ISP: 533 MHz MM: 594 MHz VPU: 624 MHz root@AXERA:~# ax_lookat 0x01900000 s 35 0x1900000:00000035 root@AXERA:~# ax_clk AX620A: DDR: 3733 MHz CPU: 1000 MHz BUS of VPU: 624 MHz BUS of NPU: 624 MHz BUS of ISP: 624 MHz BUS of CPU: 624 MHz NPU OTHER: 800 MHz NPU GLB: 24 MHz NPU FAB: 800 MHz NPU CORE1: 800 MHz NPU CORE0: 800 MHz ISP: 533 MHz MM: 594 MHz VPU: 624 MHz root@AXERA:~# ``` ç›®å‰ç¡¬ä»¶å†…å­˜è™½ç„¶æ˜¯ 2g ä½†åœ¨ç³»ç»Ÿä¸Šåªèƒ½çœ‹åˆ° 745M ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œè¿™æ˜¯ç›®å‰çš„åˆ†é…å†…å­˜è¿‡äºŽä¿å®ˆå¯¼è‡´çš„ï¼ŒåŽç»­æ›´æ–°å†…æ ¸è°ƒæ•´ä¸€ä¸‹ NPU å’Œ CMM çš„å†…å­˜åˆ†é…çš„ã€‚**(æ³¨ï¼šå†…æ ¸å·²æ›´æ–°ï¼Œç”¨æˆ·ç©ºé—´æ¢å¤ 1.22G)** ### VIDEO ï¼ˆè¿™æ˜¯å‡ºåŽ‚æµ‹è¯•ç¡¬ä»¶ç”¨çš„æµ‹è¯•ç¨‹åºï¼Œè¯·ä¸è¦ä½¿ç”¨å®ƒï¼ï¼å› ä¸ºå®ƒç”»é¢æ˜¾ç¤ºæ˜¯ä¸æ­£å¸¸çš„ï¼ï¼ï¼ï¼‰ >**æ³¨æ„**ï¼šVIDEO çš„ä»¥ä¸‹å‘½ä»¤åªç”¨äºŽæµ‹è¯•æ‘„åƒå¤´ç¡¬ä»¶æ˜¯å¦æœ‰æˆåƒèƒ½ç”¨çš„ä½œç”¨ï¼Œæ­£å¸¸æ•ˆæžœè§’åº¦è¯·ç‚¹å‡»åº”ç”¨ä¼ é€é—¨æŸ¥çœ‹ï¼ï¼ >å†…ç½®å¼€ç®±åº”ç”¨ä¼ é€é—¨ï¼š[ç‚¹å‡»å‰å¾€](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E5%86%85%E7%BD%AE%E5%BC%80%E7%AE%B1%E5%BA%94%E7%94%A8) ç›®å‰ç³»ç»Ÿçš„æ‘„åƒå¤´é©±åŠ¨ä¸ç»è¿‡ v4l2 é©±åŠ¨æ¡†æž¶ï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡ä»£ç é…ç½®çš„æ–¹å¼è¿›è¡Œå¯ç”¨ï¼Œç›¸å…³æ‘„åƒå¤´é©±åŠ¨éƒ½æ˜¯åœ¨åº”ç”¨å±‚ä¸Šå®Œæˆçš„ï¼Œ gc4653 ï¼ˆåŸºç¡€ç‰ˆï¼‰ï¼ˆä½¿ç”¨ c 2) os04a10ï¼ˆå¤œè§†ç‰ˆï¼‰ï¼ˆä½¿ç”¨ c 0) ```bash sample_vin_vo c 2 e 1 s 0 v dsi0@480x854@60 ``` .. details::è¿è¡Œä¸Šæ–¹å‘½ä»¤åŽå¯çœ‹åˆ°ç”»é¢ï¼ˆç¤ºä¾‹æ•ˆæžœï¼‰ ![video](./../assets/video.jpg) >é»˜è®¤ä½¿ç”¨çš„æ˜¯ gc4653 ï¼Œä½¿ç”¨ os04a10 è¯·ç§»æ­¥[Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜(FAQ)](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html)æŸ¥è¯¢ã€‚ ### DISPLAY > å› ç‰©æ–™æ›´æ¢å±å¹•çŽ°æœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼Œéœ€åŒºåˆ«ç‰ˆæœ¬ä»¥åŠä½¿ç”¨å±å¹•æ—¶å‡ºçŽ°é”¯é½¿ç­‰ç”»é¢è¯·ç§»æ­¥åˆ°[ Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜(FAQ) ](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html#Qï¼šç¡¬ä»¶ç‰©æ–™æ›´æ”¹è¯´æ˜Žã€æ²¡æœ‰ wlan0 ã€å±å¹•çƒ§å±ã€æ‘„åƒå¤´å€’è¿‡æ¥æ€Žä¹ˆè§£å†³ï¼Ÿ)æŸ¥è¯¢ã€‚ ç›®å‰æƒ³è¦ä½¿ç”¨ libdrm éœ€è¦æ­é…ä»£ç ä½¿ç”¨ï¼Œè¯·å‚è€ƒ sdk çš„æºç å®žçŽ°ï¼Œå› ä¸ºç›®å‰ç³»ç»Ÿè¿˜æœªç§»æ¤å¥½ gpu é©±åŠ¨æ‰€ä»¥æ— æ³•ä½¿ç”¨ modetest è¿›è¡Œæµ‹è¯•ï¼Œä½†å¯ä»¥å‚è€ƒä¸‹é¢è¿›è¡Œæµ‹è¯•ã€‚ æµ‹è¯•å±å¹•æ˜¯å¦èƒ½ç”¨, å¯ä»¥ç›´æŽ¥è¿è¡Œå‘½ä»¤ `sample_vo v dsi0@480x854@60 m 0` å‘½ä»¤å±å¹•ä¼šæ˜¾ç¤ºå‡ºå½©è‰²æ¡çº¹ã€‚ä½†ä½¿ç”¨å‰åŠ¡å¿…è°ƒç”¨ `fboff` å…³é—­ fb è®¾å¤‡ã€‚ ç›®å‰ç³»ç»Ÿé»˜è®¤ä½¿ç”¨çš„æ˜¯æœ€ç®€å•çš„ framebuffer æ˜¾ç¤ºé©±åŠ¨ï¼ˆ/dev/fb0ï¼‰ï¼Œåœ¨ç³»ç»Ÿé‡Œå†…ç½®äº† `fbon / fboff / fbv xxx.jpg` ä¸‰ä¸ªå‘½ä»¤è´Ÿè´£ç®¡ç† fb è®¾å¤‡çš„å¯ç”¨å’Œæ˜¾ç¤ºã€‚ #### æ˜¾ç¤ºä¸€å¼ å›¾ç‰‡ ```bash fbon fbv /home/res/logo.png fboff ``` ![fbv_logo](./../assets/fbv_logo.jpg) #### æ’­æ”¾è§†é¢‘ æ’­æ”¾è§†é¢‘å¯ä»¥ä½¿ç”¨ ffmpeg çš„å‘½ä»¤ï¼Œä½†è¯·æ³¨æ„ ffmpeg æ’­æ”¾è§†é¢‘å‰éœ€è¦å°†è§†é¢‘é¡ºæ—¶é’ˆæ—‹è½¬ 90Â°ï¼Œå°† RGB è§†é¢‘å˜æˆ BGR æ ¼å¼ä»¥åŠåˆ†è¾¨çŽ‡ resize æ”¹æˆ 480*854ã€‚å¦‚æžœå‡ºçŽ°è§†é¢‘æ’­æ”¾é€Ÿåº¦å¤ªå¿«çš„çŽ°è±¡å°±éœ€è¦ä½¿ç”¨ `ffmpeg i /home/kun_1_output.mp4 vf \"setpts 2*PTS\" test3.mp4` é‡æ–°ç”Ÿæˆä¸€ä¸ªæ…¢é€Ÿçš„è§†é¢‘æ–‡ä»¶ï¼Œå†æ¬¡æ’­æ”¾å³å¯ã€‚ ```bash fbon ffmpeg i /home/test3.mp4 pix_fmt rgba f fbdev /dev/fb0 fboff ``` åœ¨ python ä¸­å¯ä»¥ä½¿ç”¨ `os.system()` å°†ä¸Šé¢çš„å‘½ä»¤åŒ…è£¹èµ·æ¥ï¼Œç›´æŽ¥åœ¨ä»£ç é‡Œé¢è¿è¡Œã€‚ ```python import os os.system(\"fbon\") os.system(\"fbv /home/res/logo.png\") os.system(\"fboff\") os.system(\"fbon\") os.system(\"ffmpeg i /home/test3.mp4 pix_fmt rgba f fbdev /dev/fb0\") os.system(\"fboff\") ``` ### NPU æµ‹è¯• NPU çš„ç¤ºä¾‹ç¨‹åºåœ¨ `/home/ax samples/build/install` ç›®å½•ä¸‹ï¼Œå·²ç»é¢„ç¼–è¯‘å¥½äº†ï¼Œç›´æŽ¥å°±å¯ä»¥è°ƒç”¨å¹¶æ˜¾ç¤ºè¿è¡Œç»“æžœã€‚ ```bash fbon /home/ax samples/build/install/bin/ax_yolov5s m /home/models/yolov5s.joint i /home/images/cat.jpg r 10 fbv yolov5s_out.jpg ``` .. details::ç‚¹å‡»æŸ¥çœ‹æ•ˆæžœ ![cat](./../assets/cat.jpg) ### AUDIO å’Œæ¡Œé¢ç³»ç»Ÿä¿æŒä¸€è‡´ï¼Œç›´æŽ¥å¯ç”¨ alsa utils è¿›è¡Œæµ‹è¯•ã€‚ **æµ‹è¯•è„šæœ¬**ï¼š`speaker test t sine f 440 c1` **å½•åˆ¶éŸ³é¢‘**ï¼š`arecord test.wav c 2 f cd d 2` **æ’­æ”¾éŸ³é¢‘**ï¼š`aplay test.wav` å½•éŸ³å›žæ”¾çš„ `python3` ä»£ç å¦‚ä¸‹ï¼š ```python import pyaudio try: chunk 1024 # Each chunk will consist of 1024 samples sample_format pyaudio.paInt16 # 16 bits per sample channels 2 # Number of audio channels fs 44100 # Record at 44100 samples per second time_in_seconds 30 p pyaudio.PyAudio() stream p.open(format sample_format, channels channels, rate fs, frames_per_buffer chunk, input True, output True) # Store data in chunks for 3 seconds for i in range(0, int(fs / chunk * time_in_seconds)): data stream.read(chunk) stream.write(data) finally: # Stop and close the Stream and PyAudio stream.stop_stream() stream.close() p.terminate() ``` å¯ä»¥åœ¨ alsamixer é…ç½®ä½ çš„è®¾å¤‡ï¼Œå¦‚æžœä¸äº†è§£çš„è¯å»ºè®®ä¸è¦ä¿®æ”¹ã€‚ ![alsamixer](./../assets/alsamixer.jpg) ### USB >**æ³¨æ„**ï¼šç”±äºŽèŠ¯ç‰‡åªæœ‰ä¸€ä¸ªå®Œæ•´åŠŸèƒ½çš„ usb2.0ï¼ŒåŒä¸€æ—¶åˆ»ä¸‹åªæœ‰ä¸€ä¸ªä½¿ç”¨æ–¹å‘å¦‚ OTG ä»Žæœºæˆ– HOST ä¸»æœºã€‚ #### å¦‚ä½•é…ç½® USB OTG è™šæ‹Ÿç½‘å¡ RNDIS usb0 æœ‰çº¿ ssh ç™»å½• é»˜è®¤å°±ä¼šå¯åŠ¨é…ç½® `systemctl enable usb gadget@g0`ï¼Œå¯åŠ¨ç”¨ `systemctl start usb gadget@g0`ï¼Œåœæ­¢å¼€æœºå¯åŠ¨ç”¨ `systemctl disable usb gadget@g0`ï¼Œåœæ­¢æœåŠ¡ç”¨`systemctl stop usb gadget@g0`ã€‚ æ­¤æ—¶ä½¿ç”¨å‘½ä»¤ `sshpass p root ssh root@192.168.233.1` å³å¯è¿žæŽ¥ï¼Œè´¦å·åŠå¯†ç éƒ½æ˜¯ root ã€‚ ![ssh usb](./../assets/ssh usb.jpg) #### å¦‚ä½•é…ç½® USB OTG è™šæ‹Ÿä¸²å£ /dev/ttyGS0 å¹¶è½¬å‘ç™»å½•æŽ¥å£ åœæ­¢ usb gadget@g0 åŽä½¿ç”¨ `systemctl start usb gadget@g1` å³å¯çœ‹åˆ°ï¼Œç„¶åŽä½¿ç”¨ `systemctl start getty@ttyGS0` å³å¯è½¬å‘ä¸²å£ç»ˆç«¯åˆ° usb çš„è™šæ‹Ÿä¸²å£ä¸Šã€‚ ![usb_tty](./../assets/usb_tty.jpg) #### å¦‚ä½•ä½¿ç”¨ USB HOST è¯»å–ä¸€ä¸ª 256M çš„ SD å¡ å…ˆå…³äº† otg çš„ rndis åŽå† lsusb å°±å¯ä»¥çœ‹åˆ°äº†ã€‚ >æˆ‘ä»¬åœ¨ debian ç³»ç»Ÿä¸Šé…ç½®äº† usb gadget@g1 å’Œ usb gadget@g0 ä¸¤ä¸ªæœåŠ¡ã€‚ ```bash root@AXERA:~# systemctl stop usb gadget@g0 root@AXERA:~# lsusb Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub Bus 001 Device 002: ID 067b:2731 Prolific Technology, Inc. USB SD Card Reader Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub root@AXERA:~# fdisk l Disk /dev/mmcblk2: 58.94 GiB, 63281561600 bytes, 123596800 sectors Units: sectors of 1 * 512 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: dos Disk identifier: 0x32eb5429 Device Boot Start End Sectors Size Id Type /dev/mmcblk2p1 * 2048 264191 262144 128M c W95 FAT32 (LBA) /dev/mmcblk2p2 264192 123596799 123332608 58.8G 83 Linux Disk /dev/sda: 240 MiB, 251658240 bytes, 491520 sectors Disk model: SD Card Reader Units: sectors of 1 * 512 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: dos Disk identifier: 0x0607cfd2 Device Boot Start End Sectors Size Id Type /dev/sda1 * 240 490239 490000 239.3M e W95 FAT16 (LBA) root@AXERA:~# mkdir /mnt/sdcard && mount /dev/sda1 /mnt/sdcard ``` ä¸€æ­¥åˆ°ä½æŒ‚è½½ U ç›˜ç¬¬ä¸€åˆ†åŒºçš„å‘½ä»¤ `systemctl stop usb gadget@g0 && lsusb && mkdir p /mnt/udisk && mount /dev/sda1 /mnt/udisk` #### å¦‚ä½•é…ç½® USB OTG è™šæ‹Ÿä¸€ä¸ª USB æ‘„åƒå¤´ **usb uvc gadget**ï¼š[usb uvc gadget](https://github.com/junhuanchen/usb uvc gadget) **æ›´å¤šè¯¦æƒ…è¯·ç§»æ­¥å†…ç½®åº”ç”¨æŸ¥çœ‹**ï¼š[åº”ç”¨ä¼ é€é—¨](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#UVC %E8%99%9A%E6%8B%9F USB %E6%91%84%E5%83%8F%E5%A4%B4) #### å¦‚ä½•é…ç½® USB HOST è¯»å–ä¸€ä¸ª USB æ‘„åƒå¤´ >é€‚é… usb æ‘„åƒå¤´å‰æˆ‘ä»¬éœ€è¦ç»™æ¿å­æŽ¥ä¸Šä»¥å¤ªç½‘ `eth0`ï¼Œä½¿ç”¨ `ifconfig` æŸ¥è¯¢ä»¥å¤ªç½‘çš„ `IP` æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ã€‚ >å¦‚æžœèŽ·å–ä¸åˆ°ä»¥å¤ªç½‘çš„ `IP` åœ°å€ï¼Œè¯·ç§»æ­¥å³ä¾§è¿›è¡Œé‡æ–°å¯åŠ¨/é…ç½®[ç‚¹å‡»å‰å¾€ç›¸å…³](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E6%9C%89%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%EF%BC%88eth0%EF%BC%89%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95)ã€‚ **Ustreamer**ï¼š[ç‚¹å‡»æŸ¥çœ‹ç›¸å…³ä»“åº“](https://github.com/pikvm/ustreamer) è¿è¡Œä¸‹æ–¹çš„å‘½ä»¤è¡Œï¼Œç»ˆç«¯ä¼šå¼¹å‡ºè°ƒè¯•ä¿¡æ¯æ— æ˜Žæ˜¾æŠ¥é”™åŽï¼Œæ‰“å¼€ä»»æ„æµè§ˆå™¨è¾“å…¥æˆ‘ä»¬åˆšèŽ·å–çš„ä»¥å¤ªç½‘ `IP` åœ°å€ï¼Œè¿›å…¥ `ustreamer` ä½¿ç”¨ä½“éªŒæ‹ç…§åŠå½•åƒåŠŸèƒ½ã€‚ ```bash /home/ustreamer/ustreamer device /dev/video0 host 0.0.0.0 port 80 ``` ![ustreamer_adb](./../assets/ustreamer_adb.png) `snapshot` ä¸ºæ‹ç…§åŠŸèƒ½ï¼Œ`stream` ä¸ºè§†é¢‘åŠŸèƒ½ã€‚ ![ustreamer](./../assets/ustreamer.png) .. details::ç‚¹å‡»æŸ¥çœ‹æ•ˆæžœå›¾ ![ustreamer_snapshot](./../assets/ustreamer_snapshot.jpg) **ä½¿ç”¨ Opencv è¯»å– USB æ‘„åƒå¤´** å¯åœ¨ç»ˆç«¯è¿›å…¥ `python3` æ¨¡å¼è¿è¡Œä»¥ä¸‹ä»£ç å³å¯ä½¿ç”¨ USB æ‘„åƒå¤´è¿›è¡Œæ‹ç…§ã€‚ ```python import os import cv2 video cv2.VideoCapture(0) for i in range(30): ret, frame video.read() if ret: cv2.imwrite(\"/tmp/capture.jpg\", frame) os.system(\"fbon && fbv /tmp/capture.jpg\") ``` .. details::ç‚¹å‡»æŸ¥çœ‹ç»ˆç«¯è¿è¡Œå›¾ä»¥åŠæ•ˆæžœå›¾ ![opencv](./../assets/opencv.jpg) ![opencv_cream](./../assets/opencv_cream.jpg) >è¿è¡Œå‡ºçŽ°æŠ¥é”™è¯·ç§»æ­¥[Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜(FAQ)](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html)è¿›è¡ŒæŸ¥è¯¢ã€‚ ### GPIO #### è¿›å…¥ä¼‘çœ æ¨¡å¼ï¼šé€šè¿‡æŒ‰ awake é”®å”¤é†’ ä½¿ç”¨ä¸‹æ–‡å‘½ä»¤å¯è¿›å…¥ä¼‘çœ æ¨¡å¼ï¼Œä½†éœ€æ³¨æ„ï¼ˆéƒ¨åˆ†å›  WiFi æ¨¡å—æ—§ `RTL8723bs` ç‰ˆæœ¬ï¼‰çš„é—®é¢˜ä¼šå¯¼è‡´å‘½ä»¤æŠ¥é”™ï¼ˆå¯è¿›è¡Œå¤šæ¬¡å°è¯•ï¼‰è¿›å…¥ä¼‘çœ åŽç»ˆç«¯ä¼šæŽ‰çº¿ï¼Œé€šè¿‡ `awake` é”®å¯é‡æ–°å”¤é†’ã€‚ ``` echo mem > /sys/power/state ``` #### è¯»å– KEY æŒ‰é”®è¾“å…¥ï¼šGPIO2 21 ```bash echo 85 > /sys/class/gpio/export echo in > /sys/class/gpio/gpio85/direction cat /sys/class/gpio/gpio85/value ``` #### ç‚¹äº® LED ç¯ GPIO2 A4 A5 68 69 ```bash echo 68 > /sys/class/gpio/export echo out > /sys/class/gpio/gpio68/direction echo 1 > /sys/class/gpio/gpio68/value sleep 1 echo 0 > /sys/class/gpio/gpio68/value sleep 1 echo 1 > /sys/class/gpio/gpio68/value ``` > è®¡ç®—è§„åˆ™ GPIO2 A4 32 * 2 + 4 68 å¯¹äºŽçˆ±èŠ¯çš„èŠ¯ç‰‡ï¼ŒGPIO0 å’Œ GPIO2 å¯¹åº” A å’Œ C ï¼Œæ­¤å¤„ A4 å¹¶ä¸ä»£è¡¨ GPIO2 åªæ˜¯åºå·ã€‚ ä¹Ÿå°±æ˜¯ GPIO2 A4 åœ¨æ ‡å‡†è®¾å¤‡ä¸­çš„å®šä¹‰ä¸º GPIO C(2) 4(A4) åŒç† GPIOA0 å¯¹åº” GPIO0A4ã€‚ ä»¥åŽä¸»æµä¼šç»Ÿä¸€åˆ° PA0 æˆ– PC4 è¿™ç±»å®šä¹‰ï¼Œæ–¹ä¾¿ä¸åŒèŠ¯ç‰‡å…±åŒå®šä¹‰ã€‚ ä½¿ç”¨ Python æŽ§åˆ¶æŽ’é’ˆä¸Šçš„ GPIO æ–¹æ³•ä¸¾ä¾‹ï¼Œå¯è§æŽ’é’ˆä¸Šçš„ BOT_GPIO_0 7 å¯¹åº” GPIO2_A16_m GPIO2_A23_m å–”ã€‚ ![io_pin_map](./../assets/io_pin_map.png) å¯è§æŽ’é’ˆçš„ PA0 3 ä¸Žä¸Šå›¾çš„å…³ç³»ã€‚ ![gpio_axpi](./../assets/gpio_axpi.png) å…ˆåœ¨ python3 ä¸­åŠ è½½ç®€æ˜“å°è£… gpio ç±»ï¼Œä½¿ç”¨çš„æ˜¯ linux çš„ libgpiod çš„ python ç‰ˆæœ¬ã€‚ ```python try: from gpiod import chip, line, line_request config None # rpi is default value A 0 def gpio(gpio_line 0, gpio_bank \"a\", gpio_chip 0, line_mode line_request.DIRECTION_OUTPUT): global config if config ! None and gpio_line in config: gpio_bank, gpio_chip config[gpio_line] l, c [32 * (ord(gpio_bank.lower()[0]) ord('a')) + gpio_line, chip(\"gpiochip%d\" % gpio_chip)] tmp c.get_line(l) cfg line_request() # led.active_state line.ACTIVE_LOW cfg.request_type line_mode # line.DIRECTION_INPUT tmp.request(cfg) tmp.source \"GPIO chip %s bank %s line %d\" % (gpio_chip, gpio_bank, gpio_line) return tmp def load(cfg None): global config config cfg except ModuleNotFoundError as e: pass ``` GPIO è¾“å…¥æµ‹è¯•ï¼š ```python led0 gpio(16, gpio_chip 2, line_mode line_request.DIRECTION_INPUT) led1 gpio(17, gpio_chip 2, line_mode line_request.DIRECTION_INPUT) led2 gpio(18, gpio_chip 2, line_mode line_request.DIRECTION_INPUT) led3 gpio(19, gpio_chip 2, line_mode line_request.DIRECTION_INPUT) def test(): import time print(led0.get_value()) print(led1.get_value()) print(led2.get_value()) print(led3.get_value()) time.sleep(1) print(time.asctime()) while True: test() ``` GPIO è¾“å‡ºæµ‹è¯•ï¼š ```python led0 gpio(16, gpio_chip 2, line_mode line_request.DIRECTION_OUTPUT) led1 gpio(17, gpio_chip 2, line_mode line_request.DIRECTION_OUTPUT) led2 gpio(18, gpio_chip 2, line_mode line_request.DIRECTION_OUTPUT) led3 gpio(19, gpio_chip 2, line_mode line_request.DIRECTION_OUTPUT) def test(): import time time.sleep(1) led0.set_value(1) led1.set_value(1) led2.set_value(1) led3.set_value(1) time.sleep(1) led0.set_value(0) led1.set_value(0) led2.set_value(0) led3.set_value(0) print(time.asctime()) while True: test() ``` [å¯å‚è€ƒçš„ gpio.h/gpio.c ä»£ç ](https://www.cnblogs.com/juwan/p/16917802.html#linux spiv) ### UART > å…³é—­ ttyS0 äº¤äº’åœ¨å¼€æœºåŽç”¨ `systemctl stop serial getty@ttyS0.service` ä¸²å£å°±ä¸ä¼šå†å‡ºçŽ°äº¤äº’äº†ï¼Œä½†å½»åº•ç¦ç”¨é‡åˆ°ç‚¹é—®é¢˜ï¼Œé‡å¯åŽä¼šæ¢å¤ï¼Œå¾…ç ”ç©¶ã€‚ ç³»ç»Ÿè¾“å‡ºé»˜è®¤æ˜¯ **ttyS0** ï¼ŒæŽ’é’ˆä¸Šçš„æ˜¯ **ttyS1** ï¼Œè€Œè™šæ‹Ÿä¸²å£æ˜¯ **ttyGS0**ã€‚ ![uart_tty](./../assets/uart_tty.jpg) å¯ç”¨ `python3 pyserial` åº“æ¥æµ‹è¯•åŠŸèƒ½çš„å¥½ä¸Žåï¼Œä½†æ˜¯éœ€è¦æ³¨æ„æŽ’é’ˆä¸å°å¯èƒ½ä¸å‡†ç¡®ã€‚ å¦‚æžœå‡ºçŽ°ä¸²å£çš„ tx å’Œ rx æ²¡æœ‰æ•°æ®çš„è¯å¯ä»¥åæŽ¥ä¸€ä¸‹ï¼Œä»¥åŠç¡®ä¿æ˜¯å…±åœ°çš„ã€‚ ```python import serial ser serial.Serial('/dev/ttyS1', 115200, timeout 1) ser.write(b'hello world\\n') ser.close() ``` [å¯å‚è€ƒçš„ uart.h/uart.c ä»£ç ](https://www.cnblogs.com/juwan/p/16917802.html#linux uart ttysx) ### PWM ä»¥é…ç½®ä¸€ä¸ª pwm0 ä¿®æ”¹å±å¹•èƒŒå…‰ä¸ºä¾‹ï¼Œéœ€æ›´æ–°åˆ° **20221201** åŽçš„é•œåƒã€‚ **ä¾‹**ï¼š`echo 204 > /sys/class/pwm/pwmchip0/pwm0/duty_cycle` è¿è¡ŒåŽå±å¹•äº®åº¦åªæœ‰ååˆ†ä¹‹ä¸€. ```bash echo 0 > /sys/class/pwm/pwmchip0/export echo 4167 > /sys/class/pwm/pwmchip0/pwm0/period echo 204 > /sys/class/pwm/pwmchip0/pwm0/duty_cycle echo 2084 > /sys/class/pwm/pwmchip0/pwm0/duty_cycle echo 1 > /sys/class/pwm/pwmchip0/pwm0/enable ``` PWM ä½¿ç”¨å‚è€ƒï¼š[ç‚¹å‡»æŸ¥çœ‹](https://wiki.sipeed.com/soft/maixpy3/zh/usage/hardware/PWM.html#%E5%BC%80%E5%A7%8B) ### I2C > m3axpi çš„æŽ’é’ˆä¸Šçš„ I2C æ˜¯ /dev/i2c 7 å¯¹åº” `i2cdetect y r 7` å–”ï¼Œ 0 1 2 æ˜¯æ‘„åƒå¤´çš„ï¼Œ 8 æ˜¯ç³»ç»Ÿçš„ usb rtc çš„ï¼Œ 9 åšé¢„ç•™ã€‚ ä½¿ç”¨ i2c tools å·¥å…·åŒ…ï¼Œå¯ä½¿ç”¨ i2cdetect y 0 æ¥æŸ¥çœ‹ i2c æ€»çº¿ä¸Šçš„è®¾å¤‡ã€‚ å¦‚æžœå‡ºçŽ° i2c è®¾å¤‡æ‰«ä¸åˆ°çš„æƒ…å†µéœ€è¦æŽ¥ä¸€ä¸‹ä¸Šæ‹‰ç”µé˜»ã€‚ ```bash root@AXERA:~# i2cdetect y r 0 0 1 2 3 4 5 6 7 8 9 a b c d e f 00: 10: 20: 21 30: 36 40: 50: 60: 70: root@AXERA:~# ``` è¿™é‡Œ **0x21** å’Œ **0x36** å°±ä»£è¡¨çš„æ¿å­åœ¨ cam0 è¿™ä¸ªæŽ’çº¿ä¸Šçš„ /dev/i2c 0 è®¾å¤‡å­˜åœ¨æŸä¸ªæ‘„åƒå¤´çš„ i2c è®¾å¤‡ï¼Œè€Œè¯»å†™å¯ç”¨ i2cget å’Œ i2cset å‘½ä»¤ï¼Œä¸Žå…¶ä»–èŠ¯ç‰‡çš†ä¸ºåŒç†ã€‚ ### SPI å¯å‚è€ƒå³è¾¹åŒç†äº‹ä¾‹ï¼š[ä¸º AW V831 é…ç½® spidev æ¨¡å—ï¼Œä½¿ç”¨ py spidev è¿›è¡Œç”¨æˆ·å±‚çš„ SPI é€šä¿¡ã€‚](https://www.cnblogs.com/juwan/p/14341406.html) ``` root@AXERA:~# ./spidev_test D /dev/spidev1.0 v spi mode: 0x0 bits per word: 8 max speed: 500000 Hz (500 KHz) TX FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D ......@....ï¿½..................ï¿½. RX FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D ......@....ï¿½..................ï¿½. root@AXERA:~# ./spidev_test D /dev/spidev1.0 v spi mode: 0x0 bits per word: 8 max speed: 500000 Hz (500 KHz) TX FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D ......@....ï¿½..................ï¿½. RX FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF ................................ root@AXERA:~# ./spidev_test D /dev/spidev1.0 v spi mode: 0x0 bits per word: 8 max speed: 500000 Hz (500 KHz) TX FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D ......@....ï¿½..................ï¿½. RX FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF ................................ ``` ### CHIP ID èŽ·å–èŠ¯ç‰‡å”¯ä¸€çš„ id ç ã€‚ ``` cat /proc/ax_proc/uid ``` ### ADCï¼ˆæš‚æœªæ”¯æŒï¼‰ .. details::ç‚¹å‡»æŸ¥çœ‹ ç¡¬ä»¶ä¸Šæ”¯æŒï¼Œä½†è½¯ä»¶ä¸Šç›®å‰è¿˜æ²¡å†™è°ƒè¯•å·¥å…·é…åˆã€‚ å¯å‚è€ƒå¤–å›´å¼€å‘æ‰‹å†Œï¼Œè¿™éœ€è¦ä¸“ç”¨çš„ä»£ç æŽ§åˆ¶ï¼Œç›®å‰è¿˜æ²¡æœ‰å…¨éƒ¨è¡¥å……å®Œã€‚ 1. è®¾ç½® THM å¯„å­˜å™¨ 2. ä¸­é—´éœ€è¦ delay ä¸€æ®µæ—¶é—´ï¼Œå¦åˆ™è¯»å–å‡ºæ¥çš„å€¼ï¼Œå¯èƒ½ä¸å¯¹. 3. 0x2000028 å¯„å­˜å™¨è¯»å–å‡ºæ¥çš„å€¼ DATA 4. DAT å’Œ voltage çš„å¯¹åº”å…³ç³»ï¼Œvoltage DATA / 1024 * VREF(1.8V) 5. å¦‚æžœè¯»å– chan1/2/3/4ï¼Œéœ€è¦è¯»å– 0x200002cï¼Œ0x2000030ï¼Œ0x2000034ï¼Œ0x2000038 ä½¿èƒ½ ADC é€šé“ devmem 0x2000020 32 0x1000 //chan0 devmem 0x2000020 32 0x800 //chan1 devmem 0x2000020 32 0x400 //chan2 devmem 0x2000020 32 0x200 //chan3 devmem 0x2000020 32 0x100 //chan4 devmem 0x200002c devmem 0x2000030 devmem 0x2000034 devmem 0x2000038 ### å‡ºåŽ‚æµ‹è¯•è„šæœ¬ .. details::ç‚¹å‡»å¯æŸ¥çœ‹äº§å“å‡ºåŽ‚æµ‹è¯•æ—¶ç”¨çš„ Python æµ‹è¯•è„šæœ¬ ```python test_flag False try: from gpiod import chip, line, line_request config None # rpi is default value A 0 def gpio(gpio_line 0, gpio_bank \"a\", gpio_chip 0, line_mode line_request.DIRECTION_OUTPUT): global config if config ! None and gpio_line in config: gpio_bank, gpio_chip config[gpio_line] l, c [32 * (ord(gpio_bank.lower()[0]) ord('a')) + gpio_line, chip(\"gpiochip%d\" % gpio_chip)] tmp c.get_line(l) cfg line_request() # led.active_state line.ACTIVE_LOW cfg.request_type line_mode # line.DIRECTION_INPUT tmp.request(cfg) tmp.source \"GPIO chip %s bank %s line %d\" % (gpio_chip, gpio_bank, gpio_line) return tmp def load(cfg None): global config config cfg except ModuleNotFoundError as e: pass key gpio(21, gpio_chip 2, line_mode line_request.DIRECTION_INPUT) led0 gpio(4, gpio_chip 2, line_mode line_request.DIRECTION_OUTPUT) led1 gpio(5, gpio_chip 2, line_mode line_request.DIRECTION_OUTPUT) import time import ifcfg import os def check_ifconfig(): result [] for name, interface in ifcfg.interfaces().items(): if name in ['eth0', 'wlan0'] and interface['inet']: result.append(name) return result try: if (0 key.get_value()): os.system(\"export LD_LIBRARY_PATH /opt/lib:LD_LIBRARY_PATH && /opt/bin/sample_vin_vo c 2 e 1 s 0 v dsi0@480x854@60 &\") led1.set_value(1) while True: led0.set_value(1) time.sleep(0.2) led0.set_value(0) time.sleep(0.2) tmp check_ifconfig() if len(tmp) > 1: led0.set_value(0) led1.set_value(0) test_flag True break while (0 key.get_value()): time.sleep(0.2) os.system(\"aplay /home/res/boot.wav\") led0.set_value(1) led1.set_value(1) import pyaudio chunk 1024 # Each chunk will consist of 1024 samples sample_format pyaudio.paInt16 # 16 bits per sample channels 2 # Number of audio channels fs 44100 # Record at 44100 samples per second p pyaudio.PyAudio() stream p.open(format sample_format, channels channels, rate fs, frames_per_buffer chunk, input True, output True) while (1 key.get_value()): data stream.read(chunk, exception_on_overflow False) stream.write(data) while (0 key.get_value()): time.sleep(0.2) os.system('killall sample_vin_vo') os.system('killall sample_vin_vo') # Stop and close the Stream and PyAudio stream.stop_stream() stream.close() p.terminate() except Exception as e: print(e) finally: if test_flag: led0.set_value(0) led1.set_value(0) ''' import pyaudio try: chunk 1024 # Each chunk will consist of 1024 samples sample_format pyaudio.paInt16 # 16 bits per sample channels 2 # Number of audio channels fs 44100 # Record at 44100 samples per second time_in_seconds 300 p pyaudio.PyAudio() stream p.open(format sample_format, channels channels, rate fs, frames_per_buffer chunk, input True, output True) for i in range(0, int(fs / chunk * time_in_seconds)): data stream.read(chunk) stream.write(data) finally: # Stop and close the Stream and PyAudio stream.stop_stream() stream.close() p.terminate() ''' ``` ## å†…ç½®å¼€ç®±åº”ç”¨ ### IPCDemo è¿™æ˜¯ä¸€ä¸ªå…¸åž‹çš„ IPC æ¼”ç¤ºç¨‹åºï¼Œå¯¹åº”çš„åŠŸèƒ½æ¨¡å—æœ‰ï¼š ISPï¼šè´Ÿè´£ä»Ž Sensor èŽ·å–å›¾åƒ RAW æ•°æ®å¹¶è½¬ä¸º YUVï¼Œæœ€ç»ˆåˆ† 3 è·¯é€šé“è¾“å‡ºä»¥ä¸Šä¿¡æ¯ã€‚ IVPSï¼šå›¾åƒè§†é¢‘å¤„ç†æ¨¡å—ã€‚å®žçŽ°å¯¹è§†é¢‘å›¾å½¢è¿›è¡Œä¸€åˆ†å¤šã€Resizeã€Cropã€æ—‹è½¬ç­‰åŠŸèƒ½ã€‚ VENC / JENCï¼šè§†é¢‘/JPEG ç¼–ç è¾“å‡ºã€‚ Detectï¼šæ”¯æŒäººè„¸æˆ–ç»“æž„åŒ–æ£€æµ‹ã€‚ Web æ˜¾ç¤ºï¼šå®žçŽ° H264 æµçš„ Web ä¼ è¾“å’Œæä¾› Web æ–¹å¼æŸ¥çœ‹å®žæ—¶è§†é¢‘ã€‚ RTSP æŽ¨æµï¼šå®žçŽ° H264 æµçš„ RTSP å°è£…ä»¥åŠä¼ è¾“ã€‚ å½•åƒ TF å¡å­˜å‚¨ï¼šå°è£… H264 æµä¸º MP4 æ ¼å¼æ–‡ä»¶å¹¶ä¿å­˜è‡³ TF å¡æˆ–è€… FLASH ç©ºé—´ã€‚ <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 260625114&bvid BV1me411T7g8&cid 837160730&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" style \"max width:640px; max height:480px;\"> </iframe> </p> <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 688159412&bvid BV1p24y1d7Te&cid 837167669&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" style \"max width:640px; max height:480px;\"> </iframe> </p> #### ä½¿ç”¨æ–¹æ³• >**æ³¨æ„**ï¼šå¯åŠ¨å‘½ä»¤é»˜è®¤çš„é•œå¤´åž‹å·ä¸º **gc4653** ï¼Œå› ä¸åŒçš„æ‘„åƒå¤´é…ç½®æ–‡ä»¶ä¸ä¸€è‡´ï¼Œä½¿ç”¨åˆ«çš„åž‹å·æ—¶éœ€ç‚¹å‡»å³ä¾§[æ›´æ¢æ‘„åƒå¤´](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html#Q%EF%BC%9A%E5%A6%82%E4%BD%95%E6%9B%B4%E6%8D%A2 os04a10 %E6%91%84%E5%83%8F%E5%A4%B4%EF%BC%9F)è¿›è¡Œä¿®æ”¹ã€‚ åœ¨ç»ˆç«¯è¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯å¯åŠ¨ç½‘é¡µï¼ŒæœåŠ¡é»˜è®¤ç»‘å®šåˆ° 0.0.0.0 åœ°å€ï¼Œç›´æŽ¥åœ¨æµè§ˆå™¨è¾“å…¥ usb0 çš„ IP å³å¯è®¿é—®ï¼Œä½¿ç”¨æ¿å­ä¸Šå…¶ä»– IP ä¹Ÿå¯ä»¥è®¿é—®é¡µé¢ï¼ˆä¾‹å¦‚ï¼š`192.168.233.1:8080`ï¼‰. ```bash /opt/bin/IPCDemo/run.sh /opt/bin/IPCDemo/config/gc4653_config.json ``` .. details::ç‚¹å‡»æŸ¥çœ‹ è¾“å…¥å¯åŠ¨å‘½ä»¤åŽï¼Œç»ˆç«¯ä¼šæ‰“å°å¤§é‡è°ƒè¯•ä¿¡æ¯ã€‚ ![ipc](./../assets/ipc.jpg) è®¿é—®é¡µé¢åŽä¼šå¼¹å‡ºç™»å½•é¡µé¢ï¼Œç‚¹å‡»ç™»å½•åŽé¡µé¢ä¼šå¼¹å‡ºä¸‹å›¾ç”»é¢ã€‚ ![ipc admin](./../assets/ipc admin.jpg) #### å¦‚ä½•æŠ“æ‹ï¼Ÿå¦‚ä½•å½•åˆ¶ï¼Ÿ æµè§ˆå™¨æŠ“æ‹å½•åˆ¶ï¼ˆwebï¼‰ **æŠ“æ‹å›¾åƒ** ç½‘é¡µç»è¿‡ä¸Šæ–‡çš„å¯åŠ¨åŽæ˜¾ç¤ºç”»é¢ï¼Œå³ä¸‹è§’æœ‰æŠ“æ‹å’Œå½•åˆ¶çš„åŠŸèƒ½å›¾æ ‡ã€‚ ç”¨æˆ·å¯ç‚¹å‡»æ‘„åƒå¤´å›¾æ ‡è¿›è¡ŒæŠ“æ‹å–œæ¬¢çš„åœºæ™¯ï¼ŒæŠ“æ‹çš„ç…§ç‰‡ä¼šåœ¨é¡µé¢è‡ªåŠ¨å¼¹å‡ºè¿›è¡Œä¸‹è½½æ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹å­˜å‚¨ã€‚ ![ipc web](./../assets/ipc web.jpg) **å½•åˆ¶è§†é¢‘** ç‚¹å‡»å³ä¸‹è§’çš„å½•åˆ¶å›¾æ ‡ï¼Œå³å¯è¿›å…¥æœ¬åœ°å½•åˆ¶è§†é¢‘ï¼ˆmp4ï¼‰æ¨¡å¼ï¼Œå†æ¬¡ç‚¹å‡»å›¾æ ‡å³å½•åˆ¶å®Œæˆç»“æŸã€‚ ![ipc mp4](./../assets/ipc mp4.jpg) ç”¨æˆ·å¯åœ¨é…ç½®é¡µé¢çš„`å½•åƒå›žæ”¾`é€‰é¡¹é¢„è§ˆè§†é¢‘è¿›è¡Œä¸‹è½½åˆ°æœ¬åœ°æˆ–åˆ é™¤çš„æ“ä½œã€‚ ![ipc config](./../assets/ipc config.jpg) >**æ³¨æ„**ï¼š >ç‰ˆæœ¬ä¸º **20221017** çš„é•œåƒåŽé»˜è®¤æ‰“å¼€äº†å½•åˆ¶ä¿å­˜åˆ°`/opt/mp4`çš„ç›®å½•ä¸‹ã€‚ >è§†é¢‘å½•åˆ¶è¦å‚¨å­˜åˆ°æ–‡ä»¶ç³»ç»ŸåŽæ‰èƒ½æ‰“å¼€ï¼ŒæŸç§æ„ä¹‰ä¸Šç”¨æˆ·ä¹Ÿå¯ä»¥æŒ‚è½½ç½‘ç»œè·¯å¾„æ¥å½“ç›‘æŽ§å½•åƒä½¿ç”¨ã€‚ #### äººè„¸æ£€æµ‹ >IPCDemo é™¤äº†ä¸Šæ–‡çš„åŸºç¡€åŠŸèƒ½è¿˜æœ‰è¿›é˜¶çš„ AI åŠŸèƒ½åº”ç”¨ï¼Œä¾‹å¦‚**ï¼šäººè„¸æ£€æµ‹ã€è½¦ç‰Œè¯†åˆ«**ã€‚ ä½¿ç”¨å‰å…ˆè¿›è¡Œç›¸æœºç»“æž„åŒ–é…ç½®å†è¿›è¡Œäººè„¸æ£€æµ‹ï¼Œå…·ä½“é…ç½®å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ã€‚ .. details::ç‚¹å‡»æŸ¥çœ‹é…ç½®æµç¨‹ æŽ¥å…¥é¡µé¢åŽé€‰æ‹©**é…ç½®**åœ¨**æ™ºèƒ½é…ç½®**é‡Œå†è¿›è¡Œ**ç»“æž„åŒ–é…ç½®**ï¼Œç”¨æˆ·å¯æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œå‹¾é€‰å³å¯ã€‚ ![ipc video](./../assets/ipc video.jpg) é…ç½®å®ŒæˆåŽå›žåˆ°é¢„è§ˆé¡µé¢å³å¯è¿›è¡Œäººè„¸åŠäººå½¢è¯†åˆ«ï¼ŒIPC ä¼šè‡ªåŠ¨æ¡†å‡ºè¯†åˆ«äººè„¸å¹¶ä¸”æˆªå–äººè„¸çš„å›¾ç‰‡ï¼Œå¯åœ¨é¢„è§ˆé¡µé¢ä¸‹æ–¹ç‚¹å‡»æˆªå–å›¾æ ·æ”¾å¤§æŸ¥çœ‹é™„å¸¦ä¿¡æ¯ã€‚ å·¦ä¾§ï¼šäººè„¸æ£€æµ‹ å³ä¾§ï¼šäººå½¢æ£€æµ‹ <html> <img src \"./../assets/ipc model.jpg\" width 45%> <img src \"./../assets/ipc person.jpg\" width 45%> </html> #### è½¦ç‰Œè¯†åˆ« ä½¿ç”¨å‰å…ˆè¿›è¡Œ**ç»“æž„åŒ–é…ç½®**å‹¾é€‰è½¦ç‰Œæ‰€éœ€çš„æ£€æµ‹ç”»æ¡†å³å¯ã€‚ .. details::ç‚¹å‡»æŸ¥çœ‹ IPC é…ç½®æµç¨‹ æŽ¥å…¥é¡µé¢åŽé€‰æ‹©**é…ç½®**åœ¨**æ™ºèƒ½é…ç½®**é‡Œå†è¿›è¡Œ**ç»“æž„åŒ–é…ç½®**ï¼Œç”¨æˆ·å¯æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œå‹¾é€‰å³å¯ã€‚ ![ipc video](./../assets/ipc video.jpg) è®¾ç½®å®Œæˆå³å¯å›žåˆ°é¢„è§ˆé¡µé¢è¿›è¡Œè½¦ç‰Œè¯†åˆ«ï¼ŒIPC ä¼šè‡ªåŠ¨æ¡†å‡ºè¯†åˆ«åˆ°å¾—è½¦ç‰ŒåŠè¯»å–è½¦ç‰Œæ•°å­—ä¿¡æ¯ï¼Œç”¨æˆ·åœ¨é¡µé¢ä¸‹æ–¹ç‚¹å‡»å›¾ç‰‡å¯æŸ¥çœ‹æˆªå–åˆ°çš„è½¦ç‰Œå›¾ç‰‡åŠä¿¡æ¯ã€‚ ![ipc car](./../assets/ipc car.jpg) <! <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 773227207&bvid BV1B14y1Y7A4&cid 837154353&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" style \"max width:640px; max height:480px;\"> </iframe> </p> > ### RTSP æŽ¨æµ >**RTSP**ï¼šä¹Ÿç§°å®žæ—¶æµä¼ è¾“åè®®ï¼Œè¯¥åè®®å®šä¹‰äº†ä¸€å¯¹å¤šåº”ç”¨ç¨‹åºå¦‚ä½•æœ‰æ•ˆåœ°é€šè¿‡ IP ç½‘ç»œä¼ é€å¤šåª’ä½“æ•°æ®ã€‚ ä½¿ç”¨ RTSP ä¼ é€æ•°æ®å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè®¤è¯†å·¥å…· `VLC Media Player`ã€‚ **VLC Media Player**ï¼š[ç‚¹å‡»ä¸‹è½½](https://www.videolan.org/vlc/) .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ VLC Media Player ä»‹ç» VLC Media Playerï¼ˆVLC å¤šåª’ä½“æ’­æ”¾å™¨ï¼‰ï¼Œæ˜¯ä¸€æ¬¾å¯æ’­æ”¾å¤§å¤šæ•°æ ¼å¼ï¼Œè€Œæ— éœ€å®‰è£…ç¼–è§£ç å™¨åŒ…çš„åª’ä½“æ’­æ”¾å™¨ï¼Œä»¥åŠæ”¯æŒå¤šå¹³å°ä½¿ç”¨ã€æ”¯æŒ DVD å½±éŸ³å…‰ç›˜ï¼ŒVCD å½±éŸ³å…‰ç›˜åŠå„ç±»æµå¼åè®®ã€‚ ![vl yolov5s](./../assets/vlc yolov5s.jpg) è¿è¡Œä¸‹æ–‡å‘½ä»¤åŽç»ˆç«¯ä¼šå¼¹å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œæ‰“å¼€ `VLC Media Player` è¿›è¡Œé…ç½®ç½‘ç»œä¸²æµåŽå³å¯çœ‹åˆ°ç”»é¢æ•ˆæžœã€‚ ```bash /home/examples/vin_ivps_joint_venc_rtsp_vo_onvif_mp4v2/run.sh ``` .. details::ç‚¹å‡»æŸ¥çœ‹ç»ˆç«¯è¿è¡Œå›¾ ![vlr run](./../assets/vlc run.jpg) .. details::ç‚¹æ­¤å±•å¼€æŸ¥çœ‹ VLC Media Player é…ç½®æ­¥éª¤ æ‰“å¼€åŽåœ¨ä¸Šæ–¹é€‰æ‹©**åª’ä½“**åŽé€‰æ‹©**æ‰“å¼€ç½‘ç»œä¸²æµ**è¿›åˆ°é…ç½®ç”»é¢ã€‚ ![vlc](./../assets/vlc.jpg) åœ¨ç½‘ç»œé¡µé¢è¾“å…¥**ç½‘ç»œ URL ï¼š`rtsp://192.168.233.1:8554/axstream0`**ï¼Œ å‹¾é€‰ä¸‹æ–¹æ›´å¤šé€‰é¡¹è¿›è¡Œè°ƒæ•´ç¼“å­˜åŽç‚¹å‡»ä¸‹æ–¹æ’­æ”¾å³å¯ã€‚ ![vlc urt](./../assets/vlc urt.jpg) åŒå±æ•ˆæžœå¦‚ä¸‹ï¼š <html> <img src \"./../assets/rtsp display.jpg\" width 48%> <img src \"./../assets/rtsp axpi.jpg\" width 48%> </html> <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 731837313&bvid BV1XD4y1r7eP&cid 866903759&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> </p> >**æ³¨æ„**ï¼šé»˜è®¤æ‘„åƒå¤´ä¸º gc4653 åž‹å·ä¸åŒè¯·ç§»æ­¥[Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜(FAQ)](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html)æ›´æ¢å‚æ•°ã€‚ #### ffplay RTSP æ‹‰æµå·¥å…·é™¤äº† `VCL` è¿˜å¯ä»¥ç›´æŽ¥ä½¿ç”¨ `ffplay`ã€‚ **ffplay** :[ç‚¹å‡»ä¸‹è½½](https://dl.sipeed.com/shareURL/MaixIII/AXera/09_Software_tool) ```bash sudo apt install ffmpeg ffplay rtsp://192.168.233.1:8554/axstream0 fflags nobuffer ``` ### ONVIF ODM æ‹‰æµ >ç‰ˆæœ¬ä¸º **20221111** åŽçš„é•œåƒç³»ç»Ÿå†…ç½®äº†æŒ‰é”®å½•åƒ mp4 å’Œæ”¯æŒæ›´æ¢ yolov5s äººè„¸/ç‰©ä½“æ£€æµ‹æ¨¡åž‹ä»¥åŠå¯¹è½¯ä»¶ ODMï¼ˆONVIFï¼‰è¿›è¡Œæ”¯æŒã€‚ åœ¨è¿›è¡Œä½“éªŒä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è®¤è¯†å³å°†ä½¿ç”¨çš„è½¯ä»¶ï¼š`ONVIF Device Manager` **ONVIF Device Manager**ï¼š[ç‚¹å‡»ä¸‹è½½](https://sourceforge.net/projects/onvifdm/) .. details::ç‚¹å‡»æŸ¥çœ‹ ONVIF ODM è½¯ä»¶ä»‹ç» ONVIF åè®®ä½œä¸ºå…¨çƒæ€§çš„ç½‘ç»œè§†é¢‘ç›‘æŽ§å¼€æ”¾æŽ¥å£æ ‡å‡†ï¼ŒæŽ¨è¿›äº†ç½‘ç»œè§†é¢‘åœ¨å®‰é˜²å¸‚åœºçš„åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯ä¿ƒè¿›äº†é«˜æ¸…ç½‘ç»œæ‘„åƒå¤´çš„æ™®åŠå’Œè¿ç”¨ã€‚ è¶Šæ¥è¶Šå¤šçš„å‰ç«¯ IPC åŽ‚å®¶å’ŒåŽç«¯ NVR åŠå­˜å‚¨æä¾›å•†åŠ å…¥è¿›æ¥ã€‚è€Œ ONVIF Device Manager æ˜¯ ONVIF å®˜æ–¹åŸºäºŽåè®®æä¾›çš„å…è´¹ç¬¬ä¸‰æ–¹çš„ ONVIF åè®®æµ‹è¯•å·¥å…·ï¼Œä¸Žä¸Šæ–‡çš„ VLC ç›¸æ¯”æ€§èƒ½ä¸åŒï¼Œä½† ODM çš„å†…å®¹å½¢å¼æ›´åŠ å¤šæ ·ä¸°å¯Œã€‚ ![odm](./../assets/odm.jpg) è¿è¡Œä¸‹æ–‡å‘½ä»¤ï¼Œè®¾å¤‡å±å¹•ä¼šè·³å‡º yolov5s æ¨¡åž‹è¿è¡Œç”»é¢ï¼ŒæŽ¥ç€æˆ‘ä»¬æ¥é…ç½® `ODM` å®žçŽ° PC ç«¯æ˜¾ç¤ºã€‚ ```bash /home/examples/vin_ivps_joint_venc_rtsp_vo_onvif_mp4v2/run.sh ``` .. details::ç‚¹å‡»è®¾å¤‡è¿è¡Œæ•ˆæžœå›¾ ![odm mipi](./../assets/odm mipi.jpg) æ‰“å¼€ä¸‹è½½å¥½çš„ `ODM` è½¯ä»¶ç‚¹å‡»å·¦ä¾§ç™½æ¡†çš„ `Refresh` æŒ‰é”®æ‰«æè®¾å¤‡ï¼Œæ‰«ææˆåŠŸä¼šæ˜¾ç¤º `IP Camera` æ–¹æ¡†ç‚¹å‡»åŽé€‰æ‹©ä¸‹æ–¹çš„ `Live video` å³å¯åœ¨ PC ç«¯çœ‹åˆ°ç”»é¢ã€‚ ![odm config](./../assets/odm config.jpg) è¿˜å¯é€šè¿‡ä¸‹æ–¹å‘½ä»¤åŽ»æŸ¥çœ‹æ–‡ä»¶é…ç½®ï¼š ```bash cd /home/examples/vin_ivps_joint_venc_rtsp_vo_onvif_mp4v2/ ls l ``` >**æ³¨æ„**ï¼šODM å—ç½‘ç»œå½±å“è¾ƒå¤§ï¼Œå¦‚æžœæœ‰å¡é¡¿çŽ°è±¡æŠŠç½‘ç»œæ›´æ¢æˆä»¥å¤ªç½‘å³å¯ã€‚ >é»˜è®¤æ‘„åƒå¤´ä¸º gc4653 å¦‚åž‹å·ä¸åŒè¯·ç§»æ­¥[Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜(FAQ)](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html)æ›´æ¢å‚æ•°ã€‚ **æ›´æ¢æ¨¡åž‹** >**20221116** åŽæ›´æ–°çš„é•œåƒå·²åœ¨ `run.sh` å†…ç½®äº†ä¸åŒæ‘„åƒå¤´å‚æ•°çš„æºç ã€‚ >**20221111** é•œåƒå†…ç½® yolov5s çš„äººè„¸/ç‰©ä½“æ£€æµ‹æ¨¡åž‹ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ”¹è¿è¡Œè„šæœ¬å†…å®¹æ›´æ¢æ¨¡åž‹ã€‚ ``` bash nano /home/examples/vin_ivps_joint_venc_rtsp_vo_onvif_mp4v2/run.sh ``` .. details::ç‚¹å‡»æŸ¥çœ‹ä¿®æ”¹æ“ä½œç¤ºä¾‹ è¿è¡ŒåŽä¼šæ˜¾ç¤º `run.sh` çš„ç¼–è¾‘é¡µé¢ï¼Œå¯¹å½“å‰å¯åŠ¨çš„æ¨¡åž‹è¿›è¡Œæ³¨é‡Šæˆ–è°ƒç”¨å…¶ä»–æ¨¡åž‹å³å¯ï¼Œ æŒ‰ **ctrl+X** é”®åŽä¼šæç¤ºæ˜¯å¦ä¿å­˜ä¿®æ”¹å†…å®¹ã€‚ ![model save](./../assets/model save.jpg) æ ¹æ®æç¤ºæŒ‰ä¸‹ **Y** é”®ä¿å­˜ï¼Œç•Œé¢ä¼šæ˜¾ç¤ºä¿®æ”¹å†…å®¹å†™å…¥çš„æ–‡ä»¶åæŒ‰**å›žè½¦**é”®ç¡®å®šï¼Œ å†æ¬¡è¿è¡Œ `run.sh` è„šæœ¬å³å¯çœ‹åˆ°æ¨¡åž‹æ›´æ¢æˆåŠŸã€‚ ![model file](./../assets/model file.jpg) é™¤äº†ç›´æŽ¥åœ¨æ¿ç«¯ä¿®æ”¹ `run.sh` è„šæœ¬ï¼Œè¿˜å¯ä»¥é€šè¿‡ `MdbaXterm` è½¯ä»¶ä½¿ç”¨ ssh ç™»å½•æŸ¥çœ‹ `/home/examples/vin_ivps_joint_venc_rtsp_vo_onvif_mp4v2/` ç›®å½•ä¸‹çš„`run.sh` ç›´æŽ¥è¿›è¡Œä¿®æ”¹ä¿å­˜ã€‚ **æŒ‰é”®å½•åˆ¶ MP4** è¿è¡Œ `run.sh` æœŸé—´å¯æŒ‰ä¸‹æ¿è½½çš„æŒ‰é”® `user` è¿›è¡Œå½•åˆ¶è§†é¢‘ï¼ŒæŒ‰ä¸‹åŽ **LED0** ä¼šäº®èµ·ä»£è¡¨å¼€å§‹å½•åˆ¶ MP4ï¼Œ .. details::ç‚¹å‡»æŸ¥çœ‹æŒ‰é”®ç¤ºæ„å›¾ ![odm mp4](./../assets/odm mp4.jpg) ç»ˆç«¯ç•Œé¢ä¼šæ˜¾ç¤ºä¸‹å›¾ `delete file`ï¼Œå†æ¬¡æŒ‰ä¸‹æŒ‰é”®æ¿å¡ä¼šåœæ­¢å½•åˆ¶è€Œ LED0 ä¼šç­æŽ‰ï¼Œ ![odm adb](./../assets/odm adb.png) å½•åˆ¶å®Œæˆçš„ MP4 æ–‡ä»¶å¯åœ¨ **`home/examples/`** ç›®å½•ä¸‹æŸ¥çœ‹ã€‚ ![mp4 file](./../assets/mp4 file.png) ### PP Humanseg äººä½“åˆ†å‰² >ç‰ˆæœ¬ä¸º **20221116** åŽçš„ç³»ç»Ÿé•œåƒå†…ç½®äº† `pp_human` äººä½“åˆ†å‰²åº”ç”¨ï¼Œå¹¶ä¸”å†…ç½®äº†ä¸åŒæ‘„åƒå¤´çš„å‚æ•°å‘½ä»¤åœ¨ç›®å½•ä¸‹çš„å¯åŠ¨è„šæœ¬ `run.sh` é‡Œï¼Œç”¨æˆ·ä½¿ç”¨åªéœ€è¦ä¿®æ”¹æ³¨é‡Šç›¸åº”å‘½ä»¤è¡Œå³å¯ä½¿ç”¨ã€‚ è¿è¡Œä¸‹æ–¹çš„å‘½ä»¤åŽç»ˆç«¯ä¼šè¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œè®¾å¤‡å±å¹•ä¼šæ˜¾ç¤ºè¿è¡Œç”»é¢ã€‚ ```bash /home/examples/vin_ivps_joint_vo_pp_human_seg/run.sh ``` <! ![pp_human](./../assets/pp_human.jpg) > <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 902571856&bvid BV1iP4y1y75t&cid 889419118&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> </p> ä½¿ç”¨ä¸‹æ–¹å‘½ä»¤è¿›å…¥å›¾å½¢åŒ–é¡µé¢ï¼Œå¯¹ `run.sh` é‡Œä¸åŒæ‘„åƒå¤´å‚æ•°çš„æºç è¿›è¡Œè°ƒç”¨æˆ–æ³¨é‡Šã€‚ ```bash nano /home/examples/vin_ivps_joint_vo_pp_human_seg/run.sh ``` .. details::ç‚¹å‡»æŸ¥çœ‹å›¾å½¢åŒ–é¡µé¢ ä¿®æ”¹åŽæŒ‰ **ctrl+x** é€€å‡ºé”®ä¼šæç¤ºæ˜¯å¦ä¿å­˜é¡µé¢ï¼ŒåŽç»­æŒ‰ç»ˆç«¯æç¤ºæ“ä½œå³å¯ã€‚ ![pp_human_adb](./../assets/pp_humana_adb.png) ### UVC è™šæ‹Ÿ USB æ‘„åƒå¤´ **usb uvc gadget**ï¼š[ç‚¹å‡»æŸ¥çœ‹ç›¸å…³ä»“åº“](https://github.com/junhuanchen/usb uvc gadget) >ç‰ˆæœ¬ä¸º **20221123** çš„é•œåƒç³»ç»Ÿå†…ç½®äº† uvc vo åº”ç”¨ï¼Œå¹¶ä¸”è¿˜å¯ä»¥åœ¨æ‰‹æœºç«¯è½¯ä»¶ä½¿ç”¨ã€‚ >ç›®å‰åº”ç”¨è¿˜å¤„äºŽä¸ç¨³å®šçš„çŠ¶æ€ï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨ç¨‹åºä¼šæ”¹å˜ usb otg rndis è½¬æˆ usb otg uvc æ¨¡å¼å¯¼è‡´è®¾å¤‡é‡å¯ï¼Œé‡å¯å†è¿è¡Œå³å¯ï¼Œç”»é¢ç»¿å±æ˜¯å¯åŠ¨è„šæœ¬é‡Œæ‘„åƒå¤´é…ç½®ä¸å¯¹ã€‚ ä½¿ç”¨å‰å‡†å¤‡ä¸¤æ¡ USB type_c çš„æ•°æ®çº¿ä»¥åŠä¸€æ¡åŒ type_c å£çš„æ•°æ®çº¿ã€‚ æŠŠè®¾å¤‡çš„ **UART** åŠ **OTG** å£ç”¨ `USB type c` çº¿å…¨éƒ¨æŽ¥å…¥ `PC` ç«¯ï¼Œå†è¿è¡Œä¸‹æ–¹å‘½ä»¤ç»ˆç«¯ä¼šå¼¹å‡ºæ— æŠ¥é”™è°ƒè¯•ä¿¡æ¯ã€‚ ```bash /home/examples/vin_ivps_joint_venc_uvc_vo/run.sh ``` .. details::ç‚¹å‡»æŸ¥çœ‹ç»ˆç«¯ç¤ºä¾‹å›¾ ![uvc_adb](./../assets/uvc_adb.png) æ‰“å¼€ `PC` ç«¯è‡ªå¸¦ç›¸æœºåº”ç”¨å³å¯åœ¨è®¾å¤‡å±å¹•ä»¥åŠ `PC` ç«¯è§‚å¯Ÿåˆ°æ¨¡åž‹æ£€æµ‹ç”»é¢ã€‚ ![uvc_vo](./../assets/uvc_vo.jpg) å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„å‘½ä»¤è¡Œæ›´æ¢å°¾ç¼€ `start` å¼€å¯ã€`stop` åœæ­¢ã€`restore` é‡å¯æ¥å¯¹ `uvc` ç¨‹åºè¿›è¡Œæ“ä½œã€‚ ```bash /home/usb uvc gadget/uvc gadget.sh #start/stop/restore ``` **æ‰‹æœºç«¯è™šæ‹Ÿæ‘„åƒå¤´** UVC ä¹Ÿèƒ½åœ¨å®‰å“æ‰‹æœºç«¯çš„ `app` ä¸Šå½“è™šæ‹Ÿæ‘„åƒå¤´ä½¿ç”¨ï¼Œä½¿ç”¨å‰åœ¨è½¯ä»¶å•†åº—ä¸‹è½½å¥½ **USB æ‘„åƒå¤´ä¸“ä¸šç‰ˆ** è½¯ä»¶ã€‚ .. details::USB æ‘„åƒå¤´ä¸“ä¸šç‰ˆè½¯ä»¶ä»‹ç» USB æ‘„åƒå¤´æ˜¯ä¸€æ¬¾æ”¯æŒ USB æ‘„åƒå¤´ã€é€‚é…é‡‡é›†å¡ç­‰è®¾å¤‡é€šè¿‡ OTG è¿žæŽ¥æ‰‹æœºå¹¶é©±åŠ¨è®¾å¤‡å±•ç¤ºç”»é¢ã€‚ ![uvc_usb](./../assets/uvc_usb.jpg) æŠŠåŒå¤´ `type c` çº¿çš„åˆ†åˆ«æŽ¥ä¸Šæ‰‹æœºç«¯ä»¥åŠè®¾å¤‡çš„ OTG å£ï¼Œè¿è¡Œä¸Šæ–¹å‘½ä»¤åŽä¼šè‡ªåŠ¨è¿žæŽ¥ã€‚ ![uvc_phone](./../assets/uvc_phone.jpg) >**æ³¨æ„**ï¼šå¦‚æžœéœ€è¦å®Œå…¨è„±ç¦»ç”µè„‘ç«¯ç”¨æ‰‹æœºç«¯ä¾›ç”µçš„è¯ï¼Œéœ€è¦æŠŠ uvc ç¨‹åºå†™å…¥å¼€æœºè„šæœ¬å³å¯ã€‚ ### Python API ç¼–ç¨‹ é™¤äº†åœ¨æ¿ç«¯ä¸Šä½¿ç”¨å‘½ä»¤è¡ŒåŽ»ç›´æŽ¥è¿è¡Œç¨‹åºï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Python æ¥ç¼–ç¨‹ç›´æŽ¥è¿è¡Œè°ƒç”¨ AI æ¨¡åž‹å’Œå„ç§åº“ã€‚ **ä¼ é€é—¨**ï¼š[è¯•è¯• Python ç¼–ç¨‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/python_api.html) <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 518756219&bvid BV1Ug411n7DC&cid 923425798&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> </p> ### å§¿æ€å…³é”®ç‚¹æ£€æµ‹ï¼ˆäººä½“/æ‰‹åŠ¿/åŠ¨ç‰©ï¼‰ >é•œåƒå·²å†…ç½®äº† `äººä½“\\æ‰‹åŠ¿\\åŠ¨ç‰©` ç­‰æ¨¡åž‹åŠè°ƒç”¨å‘½ä»¤è¡Œåœ¨ `/home/run.sh` ç›®å½•ä¸‹ï¼Œç”¨æˆ·å¯ç›´æŽ¥ä¿®æ”¹è¿›è¡Œè°ƒç”¨ã€‚ #### AX POSE PPL äººä½“å§¿æ€å…³é”®ç‚¹ **ç»ˆç«¯ä½¿ç”¨å‘½ä»¤è¡Œè°ƒç”¨æ¨¡åž‹** ç”¨æˆ·å…ˆä¿®æ”¹å†…ç½®åœ¨ `/home/run.sh` çš„å¯åŠ¨è„šæœ¬ï¼Œå†è¿è¡Œ `run.sh` è„šæœ¬å‘½ä»¤è°ƒç”¨æ¨¡åž‹ã€‚ **å¦‚ä½•ä¿®æ”¹ `run.sh` è„šæœ¬ï¼Œä»¥äººä½“å…³é”®ç‚¹ `ax_poes` ä¸ºä¾‹ã€‚** ![ax_poes_sh](./../assets/ax_poes_sh.jpg) ä½¿ç”¨ä¸‹æ–‡å‘½ä»¤è¿›å…¥åŽæ‰¾åˆ°è‡ªå·±éœ€è¦è°ƒç”¨çš„æ¨¡åž‹åŠå‘½ä»¤ï¼Œä½¿ç”¨æ–¹å‘é”®ç§»åŠ¨å–æ¶ˆæ³¨é‡Šæ›´æ¢ ` c 2` ä¸åŒæ‘„åƒå¤´å‚æ•°ï¼Œç„¶åŽæŒ‰ `ctrl+x` é”®é€€å‡ºä¼šæç¤ºä¿å­˜ï¼ŒæŒ‰æç¤ºæ“ä½œå³ä¿®æ”¹å®Œæˆã€‚ ```bash nano /home/run.sh ``` **ä¿®æ”¹åŽåœ¨ç»ˆç«¯è¾“å…¥ `/home/run.sh` å‘½ä»¤è¿è¡Œç¨‹åºï¼Œå³å¯ä½“éªŒäººä½“å…³é”®ç‚¹ã€‚** <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 647932316&bvid BV1Pe4y1W7n6&cid 901750338&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> </p> **å‰å¾€[è¯•è¯• Python ç¼–ç¨‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/python_api.html#%E4%BD%BF%E7%94%A8 Python %E8%B0%83%E7%94%A8 ax poes ppl %E6%A8%A1%E5%9E%8B)æŸ¥çœ‹å¦‚ä½•ä½¿ç”¨ `Python` è°ƒç”¨æ¨¡åž‹ç¤ºä¾‹ã€‚** **å¦‚ä½•è°ƒç”¨è¿è¡Œ `run.sh` é‡Œçš„æ›´å¤šé¢„ç½®æ¨¡åž‹ã€‚** æˆ‘ä»¬åœ¨ `run.sh` é‡Œé¢„ç½®äº†è°ƒç”¨å¤šç§æ¨¡åž‹çš„å‘½ä»¤è¡Œä»¥åŠç›¸åº”çš„æ‘„åƒå¤´å‚æ•°ã€‚ å…·ä½“ä½¿ç”¨å¯å‚è€ƒä¸Šæ–‡ `nano /home/run.sh` è¿›å…¥å¯è§†åŒ–ç¼–è¾‘é¡µé¢ä¿®æ”¹ï¼Œè¿è¡Œå¯åŠ¨è„šæœ¬å³å¯ä½¿ç”¨ã€‚ ```bash sample_vin_ivps_joint_vo sample_vin_ivps_joint_venc_rtsp_vo ``` ```bash yolov5_seg.json yolov7.json yolox.json yolov5s_face.json pp_human_seg.json ax_pose.json hrnet_animal_pose.json hand_pose.json ``` #### HandPose æ‰‹åŠ¿å§¿æ€å…³é”®ç‚¹ å¦‚ä¸Šæ–‡çš„ `äººä½“å§¿æ€å…³é”®ç‚¹` ä¿®æ”¹ä¸ºç¤ºä¾‹ï¼Œç›´æŽ¥åœ¨ `run.sh` è„šæœ¬è¿›è¡Œä¿®æ”¹ï¼ˆå›¾æ ‡æ³¨ä¸ºéœ€å–æ¶ˆæ³¨é‡Šçš„å‘½ä»¤ï¼‰å¹¶è¿è¡Œ `run.sh` å³å¯ä½“éªŒæ¨¡åž‹ï¼Œè¿è¡Œæ•ˆæžœå¯çœ‹æœ€ä¸‹æ–‡çš„è§†é¢‘ã€‚ ![hand_run](./../assets/hand_run.jpg) #### HRNet_animal åŠ¨ç‰©å§¿æ€å…³é”®ç‚¹ å¦‚ä¸Šæ–‡çš„ `äººä½“å§¿æ€å…³é”®ç‚¹` ä¿®æ”¹ä¸ºç¤ºä¾‹ï¼Œç›´æŽ¥åœ¨ `run.sh` è„šæœ¬è¿›è¡Œä¿®æ”¹ï¼ˆå›¾æ ‡æ³¨ä¸ºéœ€å–æ¶ˆæ³¨é‡Šçš„å‘½ä»¤ï¼‰å¹¶è¿è¡Œ `run.sh` å³å¯ä½“éªŒæ¨¡åž‹ï¼Œè¿è¡Œæ•ˆæžœå¯çœ‹æœ€ä¸‹æ–‡çš„è§†é¢‘ã€‚ ![animal](./../assets/animal.jpg) <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 903331499&bvid BV1DP4y197hF&cid 909711786&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> </p> ### LVGL7 UI > åœ¨ **20221125** åŽæ›´æ–°çš„é•œåƒç³»ç»Ÿé‡Œï¼Œæˆ‘ä»¬å†…ç½®äº† lvgl7 UI åº”ç”¨ã€‚ **è¿è¡Œåº”ç”¨å‰è¯·å…ˆå‡†å¤‡ææ–™ï¼š**USB type c çº¿/USB type c è½¬æ¢å¤´/æ— çº¿é¼ æ ‡ã€‚ ä½¿ç”¨ USB type c æ•°æ®çº¿ä¸¤ç«¯åˆ†åˆ«æŽ¥å…¥è®¾å¤‡çš„ **UART** å£ä¸Žç”µè„‘ç«¯ **USB** å£ï¼Œå†ä½¿ç”¨è½¬æ¢å¤´çš„ **USB** ç«¯æŽ¥å…¥é¼ æ ‡çš„ USB æŽ¥æ”¶å™¨ï¼Œå¦ä¸€ç«¯æŽ¥å…¥è®¾å¤‡ **OTG** å£ã€‚ è¿è¡Œä¸‹æ–¹å‘½ä»¤åŽç»ˆç«¯ä¼šå¼¹å‡ºæ— æŠ¥é”™çš„å¯åŠ¨ä¿¡æ¯åŽï¼Œå±å¹•ä¼šæ˜¾ç¤ºç”»é¢ç”¨æˆ·å³å¯ä½“éªŒ lvgl åº”ç”¨äº†ã€‚ ``` cd /home ./bin/sample_vin_ivps_joint_vo_lvgl c 0 ``` .. details::ç‚¹å‡»æŸ¥çœ‹ç»ˆç«¯ç¤ºä¾‹å›¾ ![lvgi_adb](./../assets/lvgl_adb.png) <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 690497396&bvid BV1n24y1C7DN&cid 901748014&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> </p> **å¦‚ä½•è°ƒç”¨è¿è¡Œ `/home/bin` ç›®å½•ä¸‹æ›´å¤šå†…ç½®åº”ç”¨** ä»¥ä¸‹åº”ç”¨æ˜¯å†…ç½®åœ¨ `home/bin` ç›®å½•ä¸‹çš„ï¼Œç”¨æˆ·å¯ä½¿ç”¨ `ls /home/bin` æŸ¥è¯¢å¹¶å‚è€ƒç¤ºä¾‹è°ƒç”¨å…¶ä½™åº”ç”¨ã€‚ ```bash root@AXERA:~# ls /home/bin sample_h264_ivps_joint_vo sample_v4l2_user_ivps_joint_vo sample_vin_ivps_joint_vo sample_vin_joint sample_rtsp_ivps_joint sample_vin_ivps_joint_venc_rtsp sample_vin_ivps_joint_vo_h265 sample_rtsp_ivps_joint_rtsp_vo sample_vin_ivps_joint_venc_rtsp_vo sample_vin_ivps_joint_vo_lvgl ``` ä¾‹ï¼šè°ƒç”¨ `sample_vin_ivps_joint_vo_h265` è¿è¡Œå‘½ä»¤å¦‚ä¸‹æ–¹ç¤ºä¾‹ï¼Œ` c 2` ä¸ºæ‘„åƒå¤´å‚æ•°ã€‚ ```bash /home/bin/sample_vin_ivps_joint_vo_h265 c 2 ``` .. details::ç‚¹å‡»æŸ¥çœ‹ç»ˆç«¯ç¤ºä¾‹å›¾ ![sample](./../assets/sample.jpg) ### è½¦ç‰Œè¯†åˆ«ï¼ˆå¯è¾“å‡ºæ•ˆæžœï¼‰ ç³»ç»Ÿé•œåƒæ˜¯æ²¡æœ‰å†…ç½®ä»»ä½•å…³äºŽè½¦ç‰Œè¯†åˆ«çš„è°ƒç”¨å‘½ä»¤çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ `/home/run.sh` å†…å†™å…¥æˆ–æ”¹åŠ¨æ¨¡åž‹åç§°ï¼Œå†è¿è¡Œè½¦ç‰Œè¯†åˆ«çš„åº”ç”¨ã€‚ **åœ¨ `/home/run.sh` å†…å†™å…¥ç›¸å…³è°ƒç”¨å‘½ä»¤** ç”¨æˆ·å…ˆä½¿ç”¨ `nano /home/run.sh` è¿›å…¥ç¼–è¾‘é¡µé¢ï¼Œå†å¤åˆ¶ä¸‹æ–‡å‘½ä»¤åœ¨ `run.sh` å†…ç²˜è´´å¹¶é€€å‡ºä¿å­˜ï¼Œç„¶åŽç¼–è¾‘é¡µé¢å…³é—­åŽè¿è¡Œ `/home/run.sh` ä½“éªŒè½¦ç‰Œè¯†åˆ«åº”ç”¨ã€‚ ``` ./bin/sample_vin_ivps_joint_vo p ./config/license_plate_recognition.json c 2 ``` ![car](./../assets/car.jpg) **åœ¨ `/home/run.sh` å†…ä¿®æ”¹å…¶ä»–å‘½ä»¤çš„æ¨¡åž‹åç§°** ä¾æ—§æ˜¯å…ˆç”¨ `nano /home/run.sh` è¿›å…¥ç¼–è¾‘é¡µé¢ï¼Œç„¶åŽå°±æ˜¯å°†åŽŸæœ‰çš„è°ƒç”¨çš„æ¨¡åž‹åç§°æ¢æˆè½¦ç‰Œè¯†åˆ«çš„åç§°ï¼ˆä¿®æ”¹å®Œé€€å‡ºå¹¶ä¿å­˜ï¼‰æœ€åŽè¿è¡Œ `/home/run.sh` ä½“éªŒè½¦ç‰Œè¯†åˆ«åº”ç”¨ã€‚ ``` license_plate_recognition.json ``` <iframe src \"//player.bilibili.com/player.html?aid 401504443&bvid BV1wd4y1f7g1&cid 1141368672&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ### sherpa ncnn ä¸­è‹±æ–‡è¯­éŸ³è¯†åˆ« >ç‰ˆæœ¬ä¸º `20230214` åŽçš„é•œåƒå†…ç½®äº† sherpa ncnn ä¸­è‹±æ–‡è¯­éŸ³è¯†åˆ«åº”ç”¨ï¼Œ`20230223` æ¨¡åž‹è¿›è¡Œäº†å‡çº§æ•ˆæžœæ›´åŠ çµæ•ï¼Œç”¨æˆ·å¯æ‰‹åŠ¨å‡çº§å³å¯ã€‚å¦‚å‡ºçŽ°è¿è¡ŒåŽæ— ååº”è¯·å…ˆæµ‹è¯• [`AUDIO`](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#AUDIO) åŸºæœ¬çš„å½•éŸ³å›žæ”¾æ˜¯å¦å¯ç”¨ã€‚ å…ˆè¿è¡Œå‘½ä»¤å…ˆè¿›å…¥åˆ° `/home/sherpa ncnn m3axpi` çš„ç›®å½•ä¸‹ï¼Œå†è¿è¡Œä¸­è‹±æ–‡çš„å¯åŠ¨å‘½ä»¤ä½“éªŒè¯­éŸ³è¯†åˆ«åº”ç”¨ã€‚ ```bash cd /home/sherpa ncnn m3axpi ``` ä¸­æ–‡è¯­éŸ³è¯†åˆ« ```bash ./sherpa ncnn alsa \\ ./sherpa ncnn streaming zipformer zh 14M 2023 02 23/tokens.txt \\ ./sherpa ncnn streaming zipformer zh 14M 2023 02 23/encoder_jit_trace pnnx.ncnn.param \\ ./sherpa ncnn streaming zipformer zh 14M 2023 02 23/encoder_jit_trace pnnx.ncnn.bin \\ ./sherpa ncnn streaming zipformer zh 14M 2023 02 23/decoder_jit_trace pnnx.ncnn.param \\ ./sherpa ncnn streaming zipformer zh 14M 2023 02 23/decoder_jit_trace pnnx.ncnn.bin \\ ./sherpa ncnn streaming zipformer zh 14M 2023 02 23/joiner_jit_trace pnnx.ncnn.param \\ ./sherpa ncnn streaming zipformer zh 14M 2023 02 23/joiner_jit_trace pnnx.ncnn.bin \\ \"hw:0,0\" \\ 4 \\ greedy_search ``` è‹±æ–‡è¯­éŸ³è¯†åˆ« ```bash ./sherpa ncnn alsa \\ ./sherpa ncnn conv emformer transducer small 2023 01 09/tokens.txt \\ ./sherpa ncnn conv emformer transducer small 2023 01 09/encoder_jit_trace pnnx.ncnn.int8.param \\ ./sherpa ncnn conv emformer transducer small 2023 01 09/encoder_jit_trace pnnx.ncnn.int8.bin \\ ./sherpa ncnn conv emformer transducer small 2023 01 09/decoder_jit_trace pnnx.ncnn.param \\ ./sherpa ncnn conv emformer transducer small 2023 01 09/decoder_jit_trace pnnx.ncnn.bin \\ ./sherpa ncnn conv emformer transducer small 2023 01 09/joiner_jit_trace pnnx.ncnn.int8.param \\ ./sherpa ncnn conv emformer transducer small 2023 01 09/joiner_jit_trace pnnx.ncnn.int8.bin \\ \"hw:0,0\" \\ 2 \\ greedy_search ``` è¿è¡Œå‘½ä»¤åŽå¯å¯¹ç€ AXera Pi æ¿å¡**ï¼ˆéº¦å…‹é£Žé è¿‘å¡æ§½åŒºåŸŸï¼‰**è¯´è¯æˆ–æ’­æ”¾å£°éŸ³ï¼Œæ¿å¡ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶æŠŠç»“æžœæ‰“å°åˆ°ç»ˆç«¯ï¼Œå¦‚ä¸‹å›¾ä½¿ç”¨ä¸­æ–‡è¿è¡Œæ•ˆæžœç¤ºä¾‹ã€‚ ![sherpa](./../assets/sherpa.png) **å¦‚ä½•å‡çº§è¯­éŸ³è¯†åˆ«æ¨¡åž‹** > é•œåƒç‰ˆæœ¬æ—¥æœŸä¸º `20230313` çš„å·²å†…ç½®å¥½å‡çº§ç‰ˆçš„ä¸­æ–‡è¯­éŸ³è¯†åˆ«æ¨¡åž‹ï¼Œç”¨æˆ·ä¸éœ€è¦è‡ªè¡Œä¸‹è½½æ¨¡åž‹åŒ…æ›´æ–°ã€‚ ä½¿ç”¨ `git bash` ç”¨ä¸‹æ–‡å‘½ä»¤è¡ŒæŠŠæ›´æ–°çš„æ¨¡åž‹åŒ…ä¸‹è½½åˆ°æœ¬åœ°å¤‡ç”¨ã€‚ ```bash git lfs install git clone https://huggingface.co/marcoyang/sherpa ncnn streaming zipformer zh 14M 2023 02 23 ``` ![bash_sherpa](./../assets/bash_sherpa.png) æ›´æ–°åŒ…æ‹·è´å®ŒæˆåŽéœ€æ”¾ç½®åˆ° AXera Pi æ¿å¡ä¸Šçš„ `/home/sherpa ncnn m3axpi` ç›¸å¯¹åº”ç›®å½•ä¸‹ï¼Œå…·ä½“çš„æ–‡ä»¶ä¼ è¾“æ–¹æ³•å¯å‚è€ƒ[ã€æ–‡ä»¶ä¼ è¾“ã€‘](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6)è¿›è¡Œæ¿å¡ä¸Žç”µè„‘äº’ä¼ ã€‚ ## å•†ä¸šåº”ç”¨æ–¹æ¡ˆ ### SENSOR æ”¯æŒåŒæ‘„æ–¹æ¡ˆ > ï¼ˆ20230529 GC4653 è½¯ä»¶ä¸Šè¿˜ä¸è¡Œï¼Œå›¾ä¸­æµ‹è¯•å¯ç”¨çš„æ˜¯ os04a10ï¼‰ > ï¼ˆ20230412 æš‚æ—¶åºŸå¼ƒï¼Œç›®å‰ GC4653 åŒæ‘„åœ¨è½¯ä»¶ä¸Šè°ƒä¸å‡ºæ¥ï¼ŒæŠ˜è¡·æ–¹æ¡ˆå¯ä»¥ç”¨ USB æ‘„åƒå¤´è¿‡åº¦ï¼ŒåªéªŒè¯è¿‡ OS04A10 åŒæ‘„ï¼‰ ç›®å‰ AXera Pi æ¿å¡ç‰©ç†ä¸Šç†è®ºæ”¯æŒ GC4653 åŠ OS04A10 å®žçŽ°åŒæ‘„æ–¹æ¡ˆï¼Œè€Œ GC4653 è½¯ä»¶ä¸Šè¿˜ä¸è¡Œï¼Œå›¾ä¸­æµ‹è¯•å¯ç”¨çš„æ˜¯ OS04A10. OS04A10 åœ¨ç¡¬ä»¶ä¸Šä¸æ”¯æŒä½¿ç”¨åŒæ‘„ 2 * 4laneï¼Œè½¯ä»¶ä¸Šæ”¯æŒä½†ç¡¬ä»¶ä¸æ”¯æŒï¼Œå±žäºŽè®¾è®¡æ„å¤–ã€‚ ![os04a10](./../assets/os04a10.jpg) ä½¿ç”¨åŒæ‘„æ–¹æ¡ˆéœ€æ›¿æ¢ç›¸å…³çš„è®¾å¤‡æ ‘æ–‡ä»¶ï¼Œæ­¤å¤„è®¾å¤‡æ ‘åªæ˜¯é…ç½® I2C è®¾å¤‡ä¸Žæ‘„åƒå¤´åž‹å·æ— å…³ã€‚ è¯¦æƒ…èµ„æ–™å¯å‚è€ƒï¼š[èµ„æ–™åŒ…ã€‚](https://dl.sipeed.com/shareURL/MaixIII/AXera/11_patch/dual_gc4653_patch) ```bash juwan@juwan n85 dls:~/Downloads/m3axpi_dual_gc4653_notes$ tree . . â”œâ”€â”€ 0001 support dual gc4653 camera.patch // ç»™è½¯ä»¶ sample_vin çš„ç¤ºä¾‹è¡¥ä¸ï¼Œç”¨äºŽè¯´æ˜Žå¦‚ä½•åœ¨åº”ç”¨å±‚æ·»åŠ åŒæ‘„æ”¯æŒã€‚ â”œâ”€â”€ dtb.img.lcd20221025.dual.gc4653 // éœ€è¦æ›´æ–°è®¾å¤‡æ ‘ï¼Œä¸»è¦åŽŸå› æ˜¯ç¬¬äºŒä¸ªæ‘„åƒå¤´çš„ i2c è®¾å¤‡ç»“ç‚¹ä¸å¯¹éœ€è¦å¯ç”¨å’Œä¿®æ”¹ï¼Œæ³¨ emmc æ–¹æ¡ˆæ²¡æœ‰è¿™ä¸ªé—®é¢˜ â”œâ”€â”€ res.jpg // ç”¨äºŽç»™ç¡¬ä»¶æŽ¥çº¿æŽ’æŸ¥ æŽ¥çº¿æ˜¯å¦æ­£å¸¸ï¼Œæ­£å¸¸çš„æƒ…å†µæ˜¯æ€Žæ ·çš„ï¼Œé…åˆ sample_vin_ c_3 æµ‹è¯•ç¡®è®¤ã€‚ â”œâ”€â”€ run.png // æŽ¥çº¿å›¾ åŒä¸Š â””â”€â”€ sample_vin_ c_3 // æµ‹è¯•ç¨‹åº åŒä¸Š 0 directories, 5 files ``` åŸºäºŽæ­¤ï¼Œå°±å¯ä»¥å®žçŽ°åŒæ‘„æ”¯æŒäº†ï¼ ### EMMC é‡äº§ç›¸å…³æ–¹æ¡ˆ ç›®å‰å·²ç»æ”¯æŒ M3AXPI EMMC é‡äº§çš„ç›¸å…³æ–¹æ¡ˆå®žçŽ°ã€‚ **ç›¸å…³èµ„æ–™ä¾‹ç¨‹**ï¼š[[m3axpi]å…³äºŽçˆ±èŠ¯ ax620a æ–¹æ¡ˆå¦‚ä½•é‡‡ç”¨ EMMC å•†ä¸šåŒ–é‡äº§æˆå“è¿™ä»¶äº‹](https://www.cnblogs.com/juwan/p/17266132.html) ![emmc](./../assets/emmc.jpg)"},"/hardware/zh/maixIII/ax-pi/sdk_usage.html":{"title":"Maix-III ç³»åˆ— AXera-Pi å¼€å‘æ¿ SDK ä½¿ç”¨ä»‹ç»","content":" title: Maix III ç³»åˆ— AXera Pi å¼€å‘æ¿ SDK ä½¿ç”¨ä»‹ç» ## èŽ·å– SDK æºç  ä¸Šä¸€ç¯‡ä»‹ç»äº†åŸºç¡€çš„å¼€å‘çŽ¯å¢ƒæ­å»ºå’Œä½¿ç”¨æ–¹æ³•ï¼Œä½ åº”è¯¥äº†è§£ä»€ä¹ˆæ˜¯æœ¬åœ°ç¼–è¯‘å’Œäº¤å‰ç¼–è¯‘ï¼Œè¿™ä¸€ç¯‡ä»‹ç»å¦‚ä½•ä½¿ç”¨è¿™äº› sdk æºç å¼€å‘ç¨‹åºã€‚ [libmaix](https://github.com/sipeed/libmaix) ç”± sipeed æä¾›åœ¨ linux å¹³å°ç»Ÿä¸€çš„åµŒå…¥å¼å¼€å‘çŽ¯å¢ƒï¼Œä¸»è¦æœ‰æ‘„åƒå¤´ã€å±å¹•ã€è§†è§‰ã€å›¾åƒå¤„ç†ã€NPU pipiline ç›¸å…³çš„å®žæœºéƒ¨ç½²ä¾‹ç¨‹ï¼Œé€‚åˆåˆšå…¥é—¨åµŒå…¥å¼ linux å¼€å‘çš„åŒå­¦ä½¿ç”¨ã€‚ [ax sample](https://github.com/AXERA TECH/ax samples) ç”±çˆ±èŠ¯æä¾› AI æ¨¡åž‹çš„å¼€å‘ä¸Žè¯„ä¼°éªŒè¯ï¼Œæä¾›ç»™æœ‰ç»éªŒçš„ AI å¼€å‘è€…ä½¿ç”¨ï¼Œä¸æ¶‰åŠä»»ä½•ç¡¬ä»¶å¤–è®¾æœ‰å…³çš„å†…å®¹ã€‚ [axpi_bsp_sdk](https://github.com/sipeed/axpi_bsp_sdk) èŠ¯ç‰‡å•†ç”¨æ—¶æ‰€ç”¨çš„ bsp å¼€å‘åŒ…ï¼Œè¿™é‡Œä¸»è¦æä¾›çš„æ˜¯èŠ¯ç‰‡çš„åŽŸå§‹å¼€å‘èµ„æ–™ï¼Œå¦‚ uboot ã€ linux ã€ msp ã€msp ç­‰å·¥ç¨‹ä»£ç ï¼Œè¿™ä¸ªéƒ¨åˆ†æ˜¯é€æ­¥å¼€æºçš„ï¼Œä½ å¯ä»¥ä»Žè¿™é‡Œå¾—åˆ°å•†ä¸šè¯„ä¼°ç”¨çš„ä»£ç ï¼Œä¾‹å¦‚ ipcdemo è¿™æ ·çš„ç¨‹åºï¼Œä½†è¿™äº›ä»£ç ä¼šå¾ˆå¤æ‚ä¸”é«˜è€¦åˆï¼Œé€‚åˆæœ‰ç»éªŒçš„åŒè¡Œå‡ºäºŽå•†ä¸šè½åœ°çš„ç›®çš„ä½¿ç”¨ã€‚ [ax pipeline](https://github.com/AXERA TECH/ax pipeline) åŸºäºŽ axpi_bsp_sdk åˆ¶ä½œçš„ AI éƒ¨ç½²é«˜æ€§èƒ½ä»“åº“ï¼Œåœ¨è¿™é‡Œä¸»è¦ç”¨äºŽè¯¥é¡¹ç›®åŸºäºŽ AXera Pi å±•ç¤º ISPã€å›¾åƒå¤„ç†ã€NPUã€ç¼–ç ã€æ˜¾ç¤º ç­‰åŠŸèƒ½æ¨¡å—è½¯ä»¶è°ƒç”¨æ–¹æ³•ï¼Œæ–¹ä¾¿ç¤¾åŒºå¼€å‘è€…è¿›è¡Œå¿«é€Ÿè¯„ä¼°å’ŒäºŒæ¬¡å¼€å‘è‡ªå·±çš„å¤šåª’ä½“åº”ç”¨ã€‚ ### libmaix è¿™æ˜¯ä¸€ä¸ªé€‚ç”¨äºŽ sipeed æ‰€ç”¨ linux èŠ¯ç‰‡å¼€å‘çš„ C/C++ åŸºç¡€å¼€å‘æ¡†æž¶ï¼Œä½¿ç”¨ cmake æž„å»ºï¼Œæä¾›äº†è®¸å¤šå¼€ç®±å‚è€ƒçš„æ¡ˆä¾‹ï¼Œè¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹åº“ä»£ç çš„é“¾æŽ¥ï¼Œå¦‚ opencv openmv è¿™äº›è§†è§‰åº“çš„é“¾æŽ¥ã€‚ SDK æºç åœ¨ [libmaix](https://github.com/sipeed/libmaix)ï¼Œ éœ€è¦ä½¿ç”¨ git å‘½ä»¤ä¸‹è½½ï¼š ```bash git clone https://github.com/sipeed/libmaix.git recursive ``` >! æ³¨æ„è¿™é‡Œ` recursive` å‚æ•°æ˜¯å¿…é¡»çš„ï¼Œç”¨æ¥ä¸‹è½½ä»“åº“é‡Œé¢çš„å­æ¨¡å—ï¼Œå¦‚æžœæ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œä»£ç ä¼šä¸å®Œæ•´ï¼Œå¯¼è‡´ç¼–è¯‘å‡ºé”™ > ä¸­å›½å›½å†…å¯èƒ½ä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥å¤šå–æ¶ˆé‡è¯•å‡ æ¬¡ï¼Œå¯èƒ½ä¼šé‡åˆ°é€Ÿåº¦å¿«çš„èŠ‚ç‚¹ï¼Œå½“ç„¶æœ€å¥½è¿˜æ˜¯é€šè¿‡è®¾ç½®ä»£ç†æ¥åŠ é€Ÿä¸‹è½½ã€‚ å¦å¤–ï¼Œ AI æ¨¡åž‹åŠä¾‹ç¨‹åœ¨ [MaixHub æ¨¡åž‹åº“](https://maixhub.com/model/zoo) å¯ä»¥æ‰¾åˆ°ï¼Œ ä»¥åŠ [AXERA TECH/ax samples](https://github.com/AXERA TECH/ax samples) ä»“åº“ã€‚ ## ç¼–è¯‘ SDK æºç  å›žé¡¾ä¸€ä¸‹å‰æ–‡çš„å†…å®¹ï¼Œç¼–è¯‘æœ‰ä¸¤ç§æ–¹å¼ï¼š * ç›´æŽ¥åœ¨å¼€å‘æ¿ä¸Šç¼–è¯‘ï¼šç¼–è¯‘é€Ÿåº¦è¾ƒæ…¢ï¼Œä½†æ˜¯ä¸éœ€è¦é¢å¤–çš„çŽ¯å¢ƒé…ç½®ã€‚ * åœ¨ PC ä¸Šç¼–è¯‘ï¼Œç„¶åŽæ‹·è´å¯æ‰§è¡Œæ–‡ä»¶åˆ°å¼€å‘æ¿ï¼Œä¹Ÿå°±æ˜¯äº¤å‰ç¼–è¯‘ï¼š ç¼–è¯‘é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯éœ€è¦é¢å¤–çš„çŽ¯å¢ƒé…ç½®ã€‚ ### [libmaix](https://github.com/sipeed/libmaix) > /home/ ç›®å½•å·²é¢„ç½®ï¼Œå¯ä»¥ git pull è”ç½‘æ‹‰å–æ›´æ–°ã€‚ å¯¹äºŽ `libmaix`ï¼Œ æŒ‰ç…§å…¶`README.md` æ–‡ä»¶æè¿°çš„æ–¹æ³•ç¼–è¯‘å³å¯ï¼Œ ä¸è¿‡éœ€è¦åœ¨`menuconfig`å‘½ä»¤ä¸­é€‰æ‹© `AXera Pi` ä½œä¸ºç¼–è¯‘ç›®æ ‡ã€‚ è¿™é‡Œç®€è¦ä»‹ç»ä¸€ä¸‹ç¼–è¯‘è¿‡ç¨‹ï¼ˆlibmaix ç›®å‰è¿˜æœªç¨³å®šï¼Œæœªæ¥å¯èƒ½ä¼šæœ‰å¤§çš„æ›´æ–°ï¼‰ï¼Œå®žé™…ä»¥[libmaix ä»“åº“](https://github.com/sipeed/libmaix)ä»£ç å’Œè¯´æ˜Žä¸ºå‡†ã€‚ * å…ˆå®‰è£…ä¾èµ– ``` apt install build essential cmake python3 sshpass git ``` > sshpass ä¹Ÿå¯ä»¥ä¸å®‰è£…ï¼Œ build essential, cmake, git, python3 å¿…é¡»å®‰è£… * å…‹éš†ä»“åº“åˆ°æœ¬åœ°æˆ–è€…å¼€å‘æ¿ ``` git clone https://github.com/sipeed/libmaix recursive ``` >! æ³¨æ„ ` recursive` å‚æ•°æ˜¯å¿…é¡»çš„ï¼Œç”¨ä»¥å…‹éš†å­æ¨¡å—ï¼Œå¦åˆ™ä¼šç¼ºä»£ç  è¿™é‡Œä»¥åœ¨å¼€å‘æ¿ä¸Šç¼–è¯‘ä¸ºä¾‹ï¼š ```bash cd /home/libmaix # git clone https://github.com/sipeed/libmaix recursive cd examples/axpi python3 project.py distclean # python3 project.py menuconfig # å¯ä»¥é…ç½®ç›¸å…³å‚æ•° python3 project.py build # å¦‚æžœå¢žåŠ æ–‡ä»¶äº†ï¼Œéœ€è¦ python3 project.py rebuild å‘½ä»¤ ./dist/start_app.sh # è¿è¡Œç¤ºä¾‹ç¨‹åº ``` ### [ax samples](https://github.com/AXERA TECH/ax samples) > /home/ ç›®å½•å·²é¢„ç½®ï¼Œå¯ä»¥ git pull è”ç½‘æ‹‰å–æ›´æ–°ã€‚ [ax samples](https://github.com/AXERA TECH/ax samples) æ˜¯çˆ±èŠ¯å®˜æ–¹æä¾›çš„ä¾‹ç¨‹ï¼ŒåŒ…å«äº†ä¸€äº› AI æ¨¡åž‹å’Œè¿è¡Œä»£ç ï¼Œç¼–è¯‘å®Œèƒ½ç›´æŽ¥åœ¨å¼€å‘æ¿ä¸Šè¿è¡Œï¼Œåªä¸è¿‡è¾“å…¥æ˜¯å›¾ç‰‡ï¼Œä¸æ˜¯æ‘„åƒå¤´ã€‚ è¿›å…¥å¼€å‘æ¿ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š ```bash cd /home/ax samples # git clone https://github.com/AXERA TECH/ax samples.git mkdir build cd build cmake .. make install ``` ç„¶åŽå°±èƒ½åœ¨`ax samples/build/install/bin/`ç›®å½•ä¸‹æ‰¾åˆ°ç¼–è¯‘å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ ### [axpi_bsp_sdk](https://github.com/sipeed/axpi_bsp_sdk) å›žåˆ°èŠ¯ç‰‡åŽŸåŽ‚å¼€å‘çš„çŽ¯å¢ƒï¼Œè¿™éœ€è¦æœ‰ç»éªŒçš„åµŒå…¥å¼ Linux å¼€å‘è€…æ¥æ“ä½œï¼Œç›´æŽ¥çœ‹ readme è¿›è¡Œæ“ä½œï¼Œæ–‡æ¡£åœ¨ docs ç›®å½•ä¸‹ã€‚ #### What is this? this is a ax620 linux bsp sdk form AX620_R1.22.2801_Sipeed. currently it is application layer open source. ```bash juwan@juwan n85 dls:~/GIT_AX620_SDK_V0.31.0_P23/sipeed/axpi_bsp_sdk$ tree L 1 . â”œâ”€â”€ app â”œâ”€â”€ build â”œâ”€â”€ msp â”œâ”€â”€ readme.md â”œâ”€â”€ rootfs â””â”€â”€ third party 5 directories, 1 file ``` #### ready arm gcc ```bash git clone https://github.com/sipeed/axpi_bsp_sdk.git cd axpi_bsp_sdk wget http://releases.linaro.org/components/toolchain/binaries/latest 7/arm linux gnueabihf/gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf.tar.xz sudo tar xvf gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf.tar.xz C /opt/ ``` #### how to compile bsp msp sample ```bash cd msp/sample/ export PATH \"/opt/gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf/bin/:$PATH\" && make p AX620_demo all install ``` third party libs ```bash cd third party export PATH \"/opt/gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf/bin/:$PATH\" && make p AX620_demo all install ``` bsp app ipcdemo ```bash cd app/ export PATH \"/opt/gcc linaro 7.5.0 2019.12 x86_64_arm linux gnueabihf/bin/:$PATH\" && make p AX620_demo all install ``` bsp msp component lib, such as `cd app/msp/component/common && make xxxx`. ``` juwan@juwan n85 dls:~/GIT_AX620_SDK_V0.31.0_P23/sipeed/axpi_bsp_sdk/msp/component$ tree L 1 . â”œâ”€â”€ axsyslog â”œâ”€â”€ common â””â”€â”€ thermal 4 directories, 0 files ``` #### run your program on pc ``` sshpass p root scp ./vo_fb/sample_vo_fb root@192.168.233.1:/opt/bin/sample_vo_fb ``` on board ``` chmod 777 /opt/bin/sample_vo_fb /opt/bin/sample_vo_fb v dsi0@480x854@60 m 0 & fbv /home/examples/480x360.jpg killall sample_vo_fb ``` ## ç»„åˆ SDK å’Œ AI æ¨¡åž‹ä¾‹ç¨‹ æ¯”å¦‚æˆ‘ä»¬è¦è·‘ä¸€ä¸ªè§†è§‰ AI æ¨¡åž‹ï¼Œéœ€è¦ç”¨åˆ°æ‘„åƒå¤´ï¼Œå±å¹•ï¼Œè¿˜æœ‰ AI æ¨¡åž‹ï¼Œä½ éœ€è¦å€ŸåŠ©ä»¥ä¸‹ä»“åº“ä»£ç å®Œæˆè¿™ä¸ªç›®æ ‡ã€‚ ### å€ŸåŠ© libmaix å®žçŽ°ï¼ˆå¼€å‘éš¾åº¦æœ€å°ï¼Œé€‚åˆéªŒè¯ï¼‰ åŸºäºŽ libmaix çš„ axpi é¡¹ç›®è¿›è¡Œå¼€æºå¿«é€ŸéªŒè¯æ•ˆæžœï¼Œä»£ç ç®€å•æ˜“æ‡‚ï¼ŒåŸºäºŽåœ¨çº¿æœåŠ¡å®Œæˆæ¨¡åž‹éƒ¨ç½²ï¼Œåªç”¨äºŽæ–°æ‰‹ä¸Šè·¯ï¼Œä¸Ž ax sample çš„æ¨¡åž‹ä¸€èµ·è¢«æ”¯æŒã€‚ [axpi](https://github.com/sipeed/libmaix/tree/release/examples/axpi) [axpi_classification_cam](https://github.com/sipeed/libmaix/tree/release/examples/axpi_classification_cam) [axpi_yolov5_cam](https://github.com/sipeed/libmaix/tree/release/examples/axpi_yolov5_cam) > 20221113 ç›®å‰ä»“åº“åªä¿è¯ç”¨æˆ·åˆæ¬¡ä¸Šæ‰‹æ—¶èƒ½å¤Ÿä¸æŠ¥é”™çš„å®‰å…¨è°ƒç”¨ AI æ¨¡åž‹ï¼Œä¸ä»£è¡¨èŠ¯ç‰‡çš„æœ€å¥½æ•ˆæžœã€‚ ### å€ŸåŠ© ax pipeline å®žçŽ°ï¼ˆå¼€å‘éš¾åº¦é€‚ä¸­ï¼Œé€‚åˆä¼˜åŒ–ï¼‰ åˆ°äº†è¿™é‡Œè¦æœ‰åŸºæœ¬çš„èŠ¯ç‰‡ bsp sdk å¼€å‘çš„åŸºç¡€ï¼ˆaxpi_bsp_sdkï¼‰ï¼Œè¿™éƒ¨åˆ†ä¼šç•¥æ˜¾ä¸“ä¸šä¸€äº›ï¼Œè¿™ä¸ªä»“åº“ç›®å‰è¿½æ±‚æœ€é«˜æ€§èƒ½çš„æ•ˆæžœã€‚ [å‡†å¤‡ç¼–è¯‘çŽ¯å¢ƒ](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/compile.md) [å¦‚ä½•æ›´æ¢è‡ªå·±è®­ç»ƒçš„ yolov5 æ¨¡åž‹ï¼Ÿ](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/how_to_deploy_custom_yolov5_model.md) [å¦‚ä½•éƒ¨ç½²è‡ªå·±çš„å…¶ä»–æ¨¡åž‹](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/how_to_deploy_custom_model.md) ### å€ŸåŠ© ipcdemo å®žçŽ°ï¼ˆå¼€å‘éš¾åº¦æœ€å¤§ï¼Œé€‚åˆè½åœ°ï¼‰ åŸºäºŽ axpi_bsp_sdk çš„ ipcdemo å•†ç”¨è§†é¢‘æŽ¨æµåº”ç”¨ï¼Œç”±äºŽæºç è¿‡äºŽå¤æ‚ï¼Œéœ€è¦æœ‰ä¸Šè¿°åŸºç¡€æ‰èƒ½ä»‹å…¥ã€‚ [axpi_bsp_sdk/app/IPCDemo](https://github.com/sipeed/axpi_bsp_sdk/tree/main/app/IPCDemo)"},"/hardware/zh/maixIII/ax-pi/faq_axpi.html":{"title":"Maix-III ç³»åˆ— AXera-Pi å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰","content":" title: Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰ ## Qï¼šä¾›ç”µä¸è¶³æ€Žä¹ˆåŠžï¼Ÿ Aï¼šå¯ä»¥æŠŠä¸¤æ ¹ usb å£æŽ¥ä¸Šæ¥ä¾›ç”µï¼Œæ¿å­è‡³å°‘è¦ USB3.0 1A çš„ç”µæµæ‰èƒ½å¯åŠ¨å–”ï¼ï¼ˆæ‹‰é»‘ USB2.0 500maï¼‰ ## Qï¼šè¢«äº§å“ç”µäº†æ€Žä¹ˆåŠžï¼Ÿ Aï¼šæœ€è¿‘å†¬å¤©é™ç”µæ¥äº†ï¼Œäº§å“è¦æ³¨æ„æŽ¥åœ°å–”ã€‚ ## Qï¼šå¦‚ä½•æ›´æ¢ os04a10 æ‘„åƒå¤´ï¼Ÿ Aï¼š**ä¸€æ”¹å‚æ•°ï¼ŒäºŒæ”¹ä»£ç ï¼Œä»¥ä¸‹è¿°æ”¹åŠ¨ä¸ºä¾‹**ï¼š ç±»ä¼¼ sample_vin_vo è¿™ç±»å‘½ä»¤æ”¹ ` c 0` å°±å¯ä»¥å¯ç”¨ os04a10 æ‘„åƒå¤´ï¼Œå¯¹åº” ` c 2` å°±æ˜¯é»˜è®¤æä¾›çš„ gc4653 æ‘„åƒå¤´ã€‚ å¦‚æžœæ˜¯ç±»ä¼¼ [IPCDemo](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#IPCDemo) çš„è¯æ›´æ”¹ç›¸å¯¹åº”åŽç¼€ gc4653 ä¸º `gc4653_config.json`ã€os04a10 ä¸º `os04a10_config.json`ã€‚ ![ipc_demo_json](./../../../en/maixIII/ax pi/assets/flash_system/ipc_demo_json.jpg) åƒ[RSTP](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#rtsp) è¿™ç§è„šæœ¬è¿è¡Œçš„ç¤ºä¾‹ï¼Œå¯ä»¥é€šè¿‡ç¼–è¾‘é‡Œé¢çš„æ‘„åƒå¤´æ³¨é‡Šæ¥æ”¹å˜æ‘„åƒå¤´é…ç½®ã€‚ ![rtsp_stream_shell](./../../../en/maixIII/ax pi/assets/flash_system/rtsp_stream_shell.jpg) å¯ä»¥ç¼–è¾‘ C ä»£ç é‡Œè®¾ç½®é»˜è®¤æ‘„åƒå¤´çš„ä»£ç  `COMMON_SYS_CASE_E eSysCase SYS_CASE_SINGLE_GC4653;` æ¥åˆ‡æ¢æ‘„åƒå¤´ï¼Œè¯¦ç»†å¯çœ‹[components/libmaix/lib/arch/axpi/libmaix_cam/libmaix_cam.cpp#L93](https://github.com/sipeed/libmaix/blob/release/components/libmaix/lib/arch/axpi/libmaix_cam/libmaix_cam.cpp#L93) <div> <img src \"./../../../en/maixIII/ax pi/assets/qa/qa_switcg_os04a10_1.jpg\" alt \"qa_switcg_os04a10_1\" width \"45%\"> <img src \"./../../../en/maixIII/ax pi/assets/qa/qa_switcg_os04a10_2.jpg\" alt \"qa_switcg_os04a10_2\" width \"45%\"> </div> ## Qï¼šè¿è¡Œæ‘„åƒå¤´æœ‰å…³ç¨‹åºæ—¶æŠ¥é”™ i2c_read: Failed to read reg: Remote I/O error.!ï¼Ÿ Aï¼šæ‘„åƒå¤´æŽ¥çº¿æ˜¯å¦æ­£ç¡®ã€æ£€æŸ¥æ‘„åƒå¤´é…ç½®æ˜¯å¦ä¸Žåž‹å·ç›¸åŒ¹é…ã€å‚æ•°æ˜¯å¦ä¿®æ”¹ã€å¯åŠ¨å‘½ä»¤è¡Œè¾“å…¥æ˜¯å¦å‡ºé”™ã€ä»¥åŠæ‘„åƒå¤´æ˜¯å¦å¯åŠ¨ï¼›å¦‚æžœä»¥ä¸Šéƒ½æ˜¯æ­£ç¡®çš„è¯ï¼Œæ‘„åƒå¤´ä¾æ—§æŠ¥é”™å°±æ˜¯ç¡¬ä»¶é—®é¢˜äº†ã€‚ ## Qï¼šå¦‚ä½•æ›´æ¢å…¶ä»–å±å¹•ï¼Ÿ Aï¼šç›®å‰é»˜è®¤åªæä¾› 5 å¯¸å±å¹•ï¼Œæ”¯æŒå…¶ä»–å±å¹•éœ€è¦è‡ªè¡Œä¿®æ”¹é©±åŠ¨ä»£ç å’Œè®¾å¤‡æ ‘ï¼Œä»¥åŠå¯¹åº”çš„åº”ç”¨å±‚æ˜¾ç¤ºä»£ç ã€‚ ## Qï¼šè¿è¡Œ xxxx menuconfig æ—¶é‡åˆ°æŠ¥é”™ locale.Error: unsupported locale setting !? Aï¼šå¯ä»¥ä½¿ç”¨ `sudo localedef i en_US f UTF 8 en_US.UTF 8` æ¢å¤ä¸€ä¸‹é…ç½®å³å¯ã€‚ ## Qï¼šè¿è¡Œ IPC ODM å‘½ä»¤æ—¶æŠ¥é”™ VCEncInit:ERROR codecFormat NOT support by HW !? Aï¼šè¯•ç€æŒ‰å¤ä½é”®æˆ–è€…æ˜¯æ’æ‹”é‡å¯è®¾å¤‡å³å¯ã€‚ ## Qï¼šè¿è¡Œç¨‹åºåŽå±å¹•æ˜¾ç¤ºèŠ±å±ï¼Ÿ ![faq_display](./../assets/faq_display.jpg) Aï¼šæŸ¥çœ‹æ‘„åƒå¤´åž‹å·å‚æ•°æ˜¯å¦é…ç½®æ­£ç¡®ã€‚ ## Qï¼šè¿è¡Œå‘½ä»¤åŽæŠ¥é”™ï¼šBus Errorï¼ï¼Ÿ ![faq_bus](./../assets/faq_bus.jpg) Aï¼šè¿™ç§æƒ…å†µæ˜¯ SD å¡è´¨é‡é—®é¢˜å¯¼è‡´æŽ‰å¡ï¼Œä¹Ÿå°±æ˜¯é•œåƒå¡é‡Œé¢çš„ç¨‹åºå´©æŽ‰äº†æ— æ³•è¯»å–åˆ°ã€‚ æ›´æ¢è´¨é‡å¥½ä¸€ç‚¹çš„ SD å¡æˆ–å®˜æ–¹è´­ä¹°é•œåƒå¡ï¼Œå¯å‚ç…§ `SD` å¡æµ‹è¯•é€‰è´­åˆé€‚çš„å¡[ç‚¹å‡»å‰å¾€æŸ¥çœ‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/flash_system.html#%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9 SD %E5%8D%A1%EF%BC%9F)ã€‚ ## Qï¼šä½¿ç”¨ `ifconfig a` æŸ¥çœ‹åŽæ²¡æœ‰ eth0 ip åœ°å€ï¼Ÿ Aï¼šæ²¡æœ‰è”ç½‘çš„è¯ä¼šç›´æŽ¥çœ‹ä¸åˆ° ip åœ°å€ï¼ŒæŸ¥çœ‹ä¸‹ç½‘çº¿æ˜¯å¦æœ‰æŽ¥å…¥ã€æ˜¯å¦æŽ¥ç¨³äº†ã€‚ æˆ–ä½¿ç”¨ `dhclient eth0` æ‰‹åŠ¨å¯åŠ¨æˆ–å‚è€ƒæ–‡æ¡£[ä¼ é€é—¨](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E6%9C%89%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%EF%BC%88eth0%EF%BC%89%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95)é‡æ–°é…ç½® ip èŽ·å–åœ°å€ã€‚ ## Qï¼šè¿è¡Œ uvc å‘½ä»¤åŽä¸€ç›´æŠ¥é”™è¯»å–ä¸åˆ°è®¾å¤‡ï¼Ÿ Aï¼šè¿™ç§æƒ…å†µä¸€èˆ¬ä¼šå°‘æ•°å‡ºçŽ°åœ¨ Windows çŽ¯å¢ƒä¸Šï¼ŒæŸ¥çœ‹è®¾å¤‡ç®¡ç†å™¨æ˜¯ä¸æ˜¯æœ‰ä»€ä¹ˆæ˜¾ç¤ºå¼‚å¸¸é©±åŠ¨ï¼Œå¸è½½åŽå³å¯ä½¿ç”¨ã€‚ ## Qï¼šè¿è¡Œ uvc å‘½ä»¤åŽå‡ºçŽ°å¡ä½çŽ°è±¡ï¼Ÿ Aï¼šé‡å¯å³å¯ ## Qï¼šä½¿ç”¨ ssh ç™»é™†åŽæ–­å¼€æŠ¥é”™ï¼špacket_write_wait: Connection to 10.xxx.xxx.xxx port 22: Broken pipeï¼ A: è¿è¡Œä¸€ä¸‹`python3 c \"import os, binascii; os.system('sed i \\'/iface eth0 inet dhcp/ahwaddress ether {}\\' /etc/network/interfaces'.format(binascii.hexlify(bytes.fromhex(open('/proc/ax_proc/uid').read().split('0x')[1][: 5]),':').decode('iso8859 1'))) if os.system('grep \\'hwaddress ether\\' /etc/network/interfaces q') ! 0 else exit();\"` åŽé‡å¯å³å¯ã€‚ ## Qï¼šç¡¬ä»¶ç‰©æ–™æ›´æ”¹è¯´æ˜Žã€æ²¡æœ‰ wlan0 ã€å±å¹•çƒ§å±ã€æ‘„åƒå¤´å€’è¿‡æ¥æ€Žä¹ˆè§£å†³ï¼Ÿ {#version} > **æ–°æ—§ç‰ˆåº•æ¿åŒºåˆ«** > 1. åœ¨æ–°åº•æ¿ä¸Šæˆ‘ä»¬æ ‡æ³¨äº†è®¾å¤‡å·ï¼š`v3768`ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥æ ¹æ®ç‰ˆæœ¬å·æ¥ç¡®è®¤ç‰ˆæœ¬çš„ä¸åŒã€‚ 2. åº•æ¿æ‘„åƒå¤´ FPC è¿žæŽ¥åº§æ›´æ¢ï¼Œä¸»è¦å°±æ˜¯å›ºå®šæ–¹å‘æ”¹å˜ï¼Œä½†æ˜¯æŽ¥çº¿æ–¹å‘æœªå˜ã€‚ 3. WiFi æ¨¡å—æ›´æ¢ï¼š`æ—§ RTL8723BS` > `æ–° RTL8189FTV`ã€‚ **å¦‚æžœé‡åˆ° wlan0 ä¸æ˜¾ç¤ºçš„è¯è¯·å‚è€ƒä»¥ä¸‹è§£å†³æ–¹æ³•ï¼š** 1. æ ¹æ®ä¸‹å›¾ç¡®å®š WiFi æ¨¡å—çš„ç‰ˆæœ¬æ¥æ›¿æ¢ `/boot` ç›®å½•ä¸‹çš„ç›¸å¯¹åº”çš„é©±åŠ¨ï¼Œæ›´æ–°å†…æ ¸é©±åŠ¨å¯ä»¥ç”¨ `cp /boot/kernel.img.rtl8723bs /boot/kernel.img` æ›´æ–°åŽè¯·é‡å¯æ¿å¡ã€‚ 2. å¯èƒ½æ˜¯è¿è¾“å¯¼è‡´æ ¸å¿ƒæ¿ä¸Žåº•æ¿è¡”æŽ¥æ¾äº†ï¼Œé‡æ–°æ’æ‹”è£…ç´§æ ¸å¿ƒæ¿å³å¯ã€‚ 3. å°è¯•ä»¥ä¸Šæ–¹æ³•åŽä»ä¸æ˜¾ç¤º wlan0 çš„è¯ï¼Œé‡æ–°çƒ§å½•é•œåƒï¼ˆæœªçŸ¥ç³»ç»Ÿé—®é¢˜ã€æžå°‘è§ï¼‰ã€‚ ![faq_borad](./../assets/faq_board.jpg) > **æ–°æ—§ç‰ˆæ‘„åƒå¤´åŒºåˆ«** æ–°ç‰ˆæ‘„åƒå¤´çº¿åºæ–¹å‘å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯ç‚¹å‡»[æŽ¥çº¿ç¤ºä¾‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/flash_system.html#%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E5%A4%96%E8%AE%BE%E5%92%8C%E9%85%8D%E4%BB%B6%EF%BC%9F)å‚è€ƒå¹¶è¿›è¡ŒæŽ¥çº¿é˜²æ­¢æŽ¥åå¯¼è‡´çƒ§åæŽ’çº¿æˆ–æ¿å¡ã€‚ ![faq_sensor](./../assets/faq_sensor.jpg) **å¦‚å‡ºçŽ°æ‘„åƒå¤´ã€å±å¹•ç”»é¢åäº†å€’è¿‡æ¥äº†å¯å‚è€ƒä»¥ä¸‹è§£å†³æ–¹æ³•ï¼š** `V3751` ç‰ˆæœ¬çš„æ‘„åƒå¤´æ‰¹æ¬¡å¯¼è‡´çš„é—®é¢˜ï¼Œç‰©ç†æ—‹è½¬å³å¯è§£å†³ã€‚ ![faq_video_a](./../assets/faq_video_a.jpg) æœ‰è£…é…äºšå…‹åŠ›å¤–å£³çš„ AXera Pi å¯å‚è€ƒä»¥ä¸‹å›¾ä¾‹æ—‹è½¬å®‰è£…ï¼š <html> <img src \"./../assets/faq_video_b.jpg\" width 48%> <img src \"./../assets/faq_video_c.jpg\" width 48%> </html> > **æ–°æ—§ç‰ˆå±å¹•åŒºåˆ«** æ–°æ—§æ¿çš„å±å¹•æ‰€ä½¿ç”¨çš„è®¾å¤‡æ ‘ï¼ˆé©±åŠ¨ï¼‰ä¸åŒã€‚ ![faq_newdisplay](./../assets/fqa_newdisplay.jpg) **å±å¹•ä¸Šç”µåŽå‡ºçŽ°æ®‹å½±ã€é”¯é½¿ã€çƒ§å±æˆ–ä¸‹å›¾ç”»é¢è¯·å‚è€ƒä»¥ä¸‹è§£å†³æ–¹æ³•ï¼š** <html> <img src \"./../assets/faq_sawtooth.jpg\" width 48%> <img src \"./../assets/faq_dth.jpg\" width 48%> </html> æ–°æ—§ç‰ˆçš„å±å¹•è®¾å¤‡æ ‘ä¸åŒï¼Œæ ¹æ®ä¸Šå›¾æ—¥æœŸåŒºåˆ†å¹¶æ›¿æ¢ `/boot` ç›®å½•ä¸‹å¯¹åº”çš„ `dtb` è®¾å¤‡æ ‘é©±åŠ¨å³å¯ï¼Œè¯·åŠæ—¶æ›´æ¢å¦åˆ™ä¼šå¯¼è‡´çƒ§å±ï¼Œä½¿ç”¨ `cp /boot/dtb.img.lcd20220830 /boot/dtb.img` è¿›è¡Œè®¾å¤‡æ ‘æ›¿æ¢åŽé‡å¯ã€‚ ## Qï¼šè¿è¡Œ opencv ç›¸å…³åŽæŠ¥é”™ï¼šcan't open camera by index. Aï¼šæŸ¥è¯¢ä¸€ä¸‹æ‘„åƒå¤´è®¾å¤‡å·æ˜¯å¦ä¸Žä»£ç å†…è°ƒç”¨è®¾å¤‡å·çš„ä¸€è‡´ã€‚ ## Qï¼šçƒ§å½•åŽå¯åŠ¨å¤±è´¥æ˜¾ç¤º XERA UBOOT > Aï¼šè¿›å…¥ uboot æ¨¡å¼äº†è¾“å…¥ boot åŽå³å¯å¯åŠ¨ã€‚ ![faq_boot](./../assets/faq_boot.jpg) ## Qï¼šèŠ¯ç‰‡ä¸ºä»€ä¹ˆæ˜¾ç¤º 1G å†…å­˜ä»¥åŠç”¨æˆ·ä¸ºä»€ä¹ˆåªèƒ½ç”¨ 1.3g å†…å­˜ ![faq_mem](./../assets/faq_mem.png) ç¬¬ä¸€ä¸ªæ˜¯ uboot æ˜¾ç¤º bug æˆ‘ä»¬è´´çš„éƒ½æ˜¯ 2GB å†…å­˜. ç¬¬äºŒä¸ªæ˜¯ ç³»ç»Ÿä¸Šæ˜¾ç¤ºçš„å†…å­˜ä¸ºä»€ä¹ˆä¸æ˜¯åˆšå¥½ 2GBï¼Œè¿™é‡Œæ ¹æ®åŽŸåŽ‚èŠ¯ç‰‡æ–¹æ¡ˆå¯çŸ¥å®˜æ–¹è®¾è®¡çš„ 1G å†…å­˜åˆ†é…æ–¹æ¡ˆä¸º 256M + 768M CMM. ![faq_ddr](./../assets/faq_ddr.png) ![faq_uboot](./../assets/faq_dram.png) è€Œæˆ‘ä»¬è´´çš„æ˜¯ 2GB å†…å­˜é‡‡ç”¨çš„æ˜¯ 512M CMM çš„å†…å­˜æ–¹æ¡ˆï¼Œå…¶ä½™çš„å†…å­˜ 2048M 512M 1536M ä¸ºç”¨æˆ·ç©ºé—´å†…å­˜ï¼Œå†é™¤åŽ» 256M kernel å†…å­˜åŽå‰©ä¸‹ 1536M 256M çº¦ç­‰äºŽ 1.3G ä¾›ç”¨æˆ·ä½¿ç”¨ ä»€ä¹ˆæ˜¯ CMM å†…å­˜ï¼Œç®€å•ç†è§£å°±æ˜¯ä¸€æ®µç‹¬ç«‹äºŽ linux ç³»ç»Ÿä¹‹å¤–çš„å¤§æ®µçº¿æ€§ç‰©ç†å†…å­˜ï¼Œä¸€èˆ¬æ˜¯åˆ†ç»™ NPU ISP GPU ç”¨çš„çº¿æ€§ç‰©ç†ç©ºé—´ï¼Œè¿™æ„å‘³ç€åŠ è½½æ¨¡åž‹ä¸éœ€è¦æ¶ˆè€— 1.22G ç”¨æˆ·ç©ºé—´å†…å­˜ï¼Œæ¶ˆè€—çš„æ˜¯ CMM å†…å­˜ï¼Œå¦‚æŽ¨ç†ã€ç¼–ç ã€ISPå¤„ç†éƒ½ä¸ä¼šåƒç”¨æˆ·ç©ºé—´å†…å­˜ã€‚ çŽ°åœ¨å¸¦ NPU ISP GPU çš„èŠ¯ç‰‡éƒ½ä¼šæœ‰ç±»ä¼¼çš„è®¾è®¡æˆ–æ¦‚å¿µï¼Œå¯ä»¥ä»ŽèŠ¯ç‰‡æ‰‹å†Œæˆ–é©±åŠ¨ä»£ç ä¸­å¾—çŸ¥ã€‚ å¦‚çˆ±èŠ¯çš„ `/soc/scripts/auto_load_all_drv.sh` å­˜æ”¾æœ‰ `insmod /soc/ko/ax_cmm.ko cmmpool anonymous,0,0x60000000,512M` è¿™ä¸ªå­—æ®µã€‚ ![cmm_memory_size_script](./../../../en/maixIII/ax pi/assets/qa/cmm_memory_size_script.png) ä»¥åŠç³»ç»Ÿå¯åŠ¨é…ç½®ï¼š `/* bootargs for SD */#define BOOTAGRS_SD \"mem 1536M initcall_debug 0 loglevel 0 ax_boot_delay 0 vmalloc 768M console ttyS0,115200n8 earlyprintk dw_uart, init /sbin/init noinitrd root /dev/mmcblk2p2 rw rootdelay 3 rootfstype ext4\"` ![bootargs_command](./../../../en/maixIII/ax pi/assets/qa/bootargs_command.png)"},"/hardware/zh/maixIII/ax-pi/axpi.html":{"title":"MAIX-III AXera-Pi æ˜¯ä»€ä¹ˆï¼Ÿ","content":" title: MAIX III AXera Pi æ˜¯ä»€ä¹ˆï¼Ÿ keywords: MAIX III, AXera Pi, Maix3, Sipeed, ax620a, axera, sipeed, AI, model, maixhub > å¦‚æžœä½ æƒ³åˆ†äº«è¿™æ¬¾ AI å¼€å‘æ¿ç»™å…¶ä»–åŒå­¦äº†è§£ï¼Œè¯·ä½¿ç”¨å”¯ä¸€çš„ä¼ é€é—¨ã€Œ[ wiki.sipeed.com/m3axpi ](http://wiki.sipeed.com/m3axpi) ã€ã€‚ ![maixiii_axpi](./../../../../../static/home/maixiii_axpi.jpg) > [>>> æƒ³è¦è´­ä¹°è¯·ç‚¹æ­¤ç›´è¾¾æ·˜å®å•†å“é“¾æŽ¥ <<<](https://item.taobao.com/item.htm?id 682169792430) 2021 å¹´çš„æ—¶å€™ï¼Œå›½å†…å„å¤§èŠ¯ç‰‡åŽŸåŽ‚çº·çº·äº®å‡ºäº†è‡ªå·±çš„ Linux è¾¹ç¼˜ AI èŠ¯ç‰‡ã€‚ ä½†åœ¨ AI å¼€å‘æ¿çš„å¸‚åœºä¸­ï¼Œå‰æœ‰æ ‘èŽ“æ´¾ï¼ˆRaspberry Piï¼‰ï¼ŒåŽæœ‰è‹±ä¼Ÿè¾¾ï¼ˆJetson Nanoï¼‰ç­‰å›½å¤–è€ç‰Œé€‰æ‰‹å¼ºåŠ›å›´å‰¿å›½å†… Linux AI å¼€å‘æ¿ï¼Œåœ¨è¿™ä¹‹å‰å›½äº§çš„åŒç±»äº§å“æ— è®ºæ˜¯ä»·æ ¼è¿˜æ˜¯ä½“éªŒï¼Œéƒ½è¢«æ‰“çš„ä¸¢ç›”å¼ƒç”²ã€‚ å¦‚ä»Šåœ¨åƒå…ƒå†…çš„é€‰æ‰‹æœ‰æ™¶æ™¨ A311D ã€åœ°å¹³çº¿ X3 ã€ç‘žèŠ¯å¾® RV1126ã€å ªæ™º K510ã€å…¨å¿— V85X ã€æ™¶è§† CR182x ç­‰ç­‰å›½äº§èŠ¯ç‰‡ï¼Œçœ‹ä¸ŠåŽ»æ„Ÿè§‰æœ‰å¾ˆå¤šé€‰æ‹©ï¼Ÿ ä½†æ˜¯ï¼Œå®ƒä»¬è¦ä¹ˆèµ„æ–™å¤ªå°‘ï¼ˆèµ„æ–™å°é—­ï¼‰ã€èƒ½æ•ˆæ¯”ä½Žã€ä»·æ ¼å¤ªè´µã€ç”Ÿæ€è´«ç˜ ã€å¼€å‘å›°éš¾ã€è§†è§‰æ•ˆæžœå¤ªå·®å­˜åœ¨å„ç§å„æ ·çš„é—®é¢˜ã€‚ çœŸçš„å¾ˆéš¾æœ‰ä¸€æ¬¾è¾¹ç¼˜ AI æ¿å­å¯ä»¥æ»¡è¶³å¼€å‘è€…çš„è¦æ±‚ï¼ï¼ï¼ ä½†çŽ°åœ¨ï¼è¿™äº›é—®é¢˜å¯èƒ½ä¸å†æ˜¯é—®é¢˜äº†ï¼ æ˜¯æ—¶å€™è¯·å‡ºæˆ‘ä»¬æ–°ä¸€è½®çš„å‚èµ›é€‰æ‰‹äº†ï¼ ç»ƒä¹ æ—¶é•¿ä¸¤å¹´åŠï¼ˆä¸æ˜¯ï¼‰ï¼Œä¸€é¢— 3.6TOPs@INT8 å¤§ç®—åŠ›ä½ŽåŠŸè€—è¶…å¼ºå¤œæ™¯çš„èŠ¯ç‰‡æ€»ç®—æ˜¯æ¥åˆ°äº† MAIX III Linux AI ç³»åˆ—ï¼ <p align \"center\"> <img src \"https://axera tech.com/upload/8f/091a2540e7cdc5c7f62df022f80220.jpg\" alt \"img\" style \"zoom: 50%;\" /> </p> æ²¡é”™ï¼Œå®ƒå°±æ˜¯æ¥è‡ªã€Œ[çˆ±èŠ¯å…ƒæ™º](https://axera tech.com/)ã€çš„ [AX620A](https://axera tech.com/product/T7297367876123493768)ï¼Œè¿™æ˜¯ä¸€æ¬¾é«˜ç®—åŠ›ï¼Œé«˜èƒ½æ•ˆæ¯”ï¼Œä½ŽåŠŸè€—çš„ AI SoC èŠ¯ç‰‡ï¼ŒèŠ¯ç‰‡é›†æˆäº†å››æ ¸ Cortex A7 @ 1Ghz CPUï¼Œå¸¦æœ‰æµ®ç‚¹è¿ç®—å•å…ƒï¼Œæ”¯æŒ NEONï¼Œæ‹¥æœ‰ 3.6TOPs@INT8 çš„é«˜ç®—åŠ› NPUï¼Œæ”¯æŒ 4K@30fps çš„ ISPï¼Œä»¥åŠæ”¯æŒ H.264ã€H.265 ç¼–ç çš„ VPUï¼ŒAX620A è¿˜æ”¯æŒ 32bit LPDDR4xï¼Œæ”¯æŒ EMMC v5.1 / SPI Flashï¼Œæœ€å¤šæ”¯æŒ 6 è·¯ MIPI è¾“å…¥ï¼ŒåŒæ—¶æœ€å¤šæ”¯æŒ 4 è·¯å·¥ä½œï¼Œæ”¯æŒå¤šè·¯å­ç æµï¼Œæ”¯æŒ 1 è·¯åƒå…† Ethernetï¼Œæ”¯æŒ 1 è·¯ USB2.0ï¼Œæ”¯æŒ 2 è·¯ MIPI DSI/CSI è¾“å‡ºã€‚æ‹¥æœ‰å¤§ç®—åŠ›å’Œä¼˜å¼‚ç”»è´¨å¤„ç†èƒ½åŠ›çš„ AX620A å¯ä»¥å®žçŽ°æ›´å¤šçš„ AI åŠŸèƒ½ï¼Œå¸¦æ¥æœ€ä¼˜çš„ AI ä½“éªŒï¼ï¼ˆæ¥è‡ªå®˜æ–¹ï¼‰ ## äº§å“ä»‹ç» å®ƒå…¶å®žæ—©åœ¨ä¹æœˆåˆå°±å‚å±•äº† 2022 å¹´ä¸–ç•Œäººå·¥æ™ºèƒ½å¤§ä¼šäº†ï½žï¼ˆå½“æ—¶å®ƒé•¿è¿™æ ·ï¼‰ <p align \"center\"> <img src \"./../assets/waic axpi.jpg\" style \"zoom: 70%;\" /> </p> æœ€åŽæ€»ç®—æ˜¯åœ¨ 20221001 çš„æ—¶å€™æŽ¨å‡ºäº†è¿™æ¬¾æ­è½½ AX620A çš„å¼€å‘æ¿ï¼Œæ­£å¼åä¸ºï¼š**MAIX III AXera Pi**ï¼Œåœ¨ä»¥ä¸‹å†…å®¹ä¸­ç®€ç§° **m3axpi** å–”ï¼ <p align \"center\"> <video src \"../assets/axpi_boom.mp4\" width \"100%\" controls \"controls\" autoplay \"autoplay\" x5 playsinline \"\" \t\tplaysinline \t\twebkit playsinline \"true\" \t\tposter \"../assets/maix iii small.jpg\" \t\tpreload \"auto\" > </video> </p> é‚£ä¹ˆï¼Œå®ƒéƒ½å¸¦æ¥äº†å“ªäº›å†…å®¹å‘¢ï¼Ÿ èµ„æ–™å¤ªå°‘ï¼Ÿæ–‡æ¡£æ•™ä½ ä»Žå¼€ç®±åˆ°å¼€å‘ï¼Œä»ŽåµŒå…¥å¼ Linux å¼€å‘åˆ° AI æ¨¡åž‹å¼€å‘æŒ‡å—ä¸€åº”ä¿±å…¨ï¼ èƒ½æ•ˆæ¯”å·®ï¼Ÿå››æ ¸ A7 é ä¸€æ¡ USB3.0 å°±å¯ä»¥å¸¦èµ·æ¥ï¼å’Œä½ çš„å¤–æŽ¥ç”µæºã€æ•£çƒ­å™¨è¯´æ‹œæ‹œå§ï¼ï¼ å¼€å‘å›°éš¾ï¼Ÿæ”¯æŒ debian11 ç³»ç»Ÿå†…ç½® SDK ç›´æŽ¥æ¿ä¸Šç¼–è¯‘ï¼ç™½å«–åœ¨çº¿ AI æ¨¡åž‹è®­ç»ƒç›´åˆ°éƒ¨ç½²ï¼ï¼ï¼ æ²¡æœ‰ç”Ÿæ€ï¼Ÿ SIPEED æ‹¥æœ‰å…³äºŽ LINUXã€RISCVã€AIOTã€FPGAã€MCU ç­‰åµŒå…¥å¼é¢†åŸŸçš„å†…å®¹ï¼ï¼ï¼ï¼ æ‘„åƒæ•ˆæžœå¤ªå·®ï¼ŸèŠ¯ç‰‡ä¸»æ‰“ AI ISP å¤œè§†å¢žå¼ºï¼ç”±åŽŸåŽ‚äº²æ‰‹ä¸ºä½ è°ƒè¯•ç™½å¤©åˆ°å¤œé—´çš„è¶…å¼ºå½±åƒï¼ï¼ï¼ï¼ï¼ ä»·æ ¼å¤ªè´µï¼Ÿä»Žæ ¸å¿ƒ+åº•æ¿+å±å¹•+æ‘„åƒå¤´+å¡+å¤–å£³æ”¯æž¶å…¨å¥—æ€»å…±äººæ°‘å¸ **579** ï¼ï¼ˆå’†å“®ï¼ï¼ï¼ï¼ï¼ï¼ï¼‰ è¯´è¿™ä¹ˆå¤šæ²¡ç”¨çš„ï¼Œè¿˜æ˜¯èµ¶ç´§æŠŠä¸œè¥¿æŽå‡ºæ¥ï¼Œè®©å¤§å®¶çž§çž§éƒ½æœ‰äº›ä»€ä¹ˆå§ï¼ ## å¾®å…‰å½±åƒæ•ˆæžœ ### å¤œæ™¯å¢žå¼ºæ•ˆæžœ <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 561523949&bvid BV1Ee4y1v7iF&cid 860676576&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" style \"max width:640px; max height:480px;\"> </iframe> </p> ### å±•ä¼šæš—å®¤çŽ°åœº <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 430541632&bvid BV1iG41137tx&cid 831645988&page 1&t 83.6\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" style \"max width:640px; max height:480px;\"> </iframe> </p> ### AI åº”ç”¨å®žæ‹ <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 773227207&bvid BV1B14y1Y7A4&cid 837154353&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" style \"max width:640px; max height:480px;\"> </iframe> </p> ## å¤šå…ƒ AI ç”Ÿæ€ ### å¤§ç®—åŠ›è¶…å¤šç®—å­ï¼ [ç‚¹æ­¤ >>> ã€ŒæŸ¥çœ‹ AX620A ç®—å­æ”¯æŒåˆ—è¡¨ã€ <<< å–”ï¼](https://pulsar docs.readthedocs.io/zh_CN/latest/appendix/op_support_list.html) ä¸‹è¡¨ç»Ÿè®¡ä¸€ä¸‹ç›®å‰ï¼ˆ20221012ï¼‰åƒå…ƒå†…åœ¨å”®çš„ AI ä¸»æ¿ï¼ˆä»…å•ä¸»æ¿ï¼Œå…¨å¥—å¤ªè´µï¼‰çš„ NPU ç®—åŠ›æ€§èƒ½ä»Žé«˜åˆ°ä½Žçš„æŽ’è¡Œï¼ˆå•†å“ä»·æ ¼ä¼šå—å¸‚åœºæ³¢åŠ¨å½±å“ï¼Œè‹¥å‘çŽ°è¡¨æ ¼æ•°æ®è¿‡äºŽç¦»è°±è¯·æŒ‡æ­£ï¼‰ã€‚ èŠ¯ç‰‡ äº§å“ ä»·æ ¼ CPU RAM NPU æ™¶æ™¨ A311D Khadas VIM3 Â¥850.00 å››æ ¸ ARM Cortex A73@2.2GHz <br> åŒæ ¸ ARM Cortex A53@1.8GHz 2GB 5TOPs åœ°å¹³çº¿ X3 æ—­æ—¥æ´¾ Â¥499.00 å››æ ¸ ARM Cortex A53@1.2GHz 2GB 5TOPs çˆ±èŠ¯å…ƒæ™º AX620A MAIX III AXera Pi Â¥399.00 å››æ ¸ ARM Cortex A7@1.0GHz 2GB 3.6TOPs å ªæ™º K510 K510 CRB KIT Lite Â¥699.00 åŒæ ¸ RISCV 64 ä½ 800Mhz 512MB 3TOPs ç‘žèŠ¯å¾® RV1126 EASY EAI Nano Â¥328.00 å››æ ¸ ARM Cortex A7@1.5GHz 1GB 2TOPs å…¨å¿— V85X å…¨å¿— V853 å•ä¸»æ¿ Â¥973.00 å•æ ¸ ARM Cortex A7@1.2GHz 512MB 1TOPs ### å¤§é‡çŽ°æˆçš„æ¨¡åž‹ï¼ æ²¡æœ‰æ‹¿åˆ°æ¿å­ä¹‹å‰ï¼Œä½ å¯ä»¥åˆ° [MaixHub æ¨¡åž‹åº“](https://maixhub.com/model/zoo) æ‰¾åˆ°ä½ éœ€è¦çš„æ¨¡åž‹ï¼Œå¯ä»¥åœ¨è¿‡æ»¤é€‰é¡¹ä¸­é€‰æ‹© `AX Pi` æ¥æŸ¥æ‰¾èƒ½åœ¨ `AXera Pi` ä¸Šè¿è¡Œçš„æ¨¡åž‹ã€‚ ![models](./../assets/models.jpg) è¿˜å¯ä»¥åœ¨ [AXERA TECH/ax samples](https://github.com/AXERA TECH/ax samples) ä»“åº“ä¹Ÿå¯ä»¥æ‰¾åˆ°æ¨¡åž‹ï¼Œæ¿å­ç³»ç»Ÿé‡Œä¹Ÿé¢„ç½®äº†æ¨¡åž‹èµ„æºï¼ŒåŽç»­æ¨¡åž‹æ›´æ–°ä¼šåœ¨è¿™é‡Œ[ã€Œax modelsã€](https://github.com/AXERA TECH/ax models)ï¼Œè€Œ [ AX Samples å°†ä¸æ–­æ›´æ–°æœ€æµè¡Œçš„ã€å®žç”¨çš„ã€æœ‰è¶£çš„ç¤ºä¾‹ä»£ç ](https://github.com/AXERA TECH/ax samples/tree/main/examples#examples)ï¼Œç›®å‰æœ‰å¦‚ä¸‹æ¨¡åž‹æ”¯æŒåˆ—è¡¨ï¼š ç‰©ä½“åˆ†ç±» MobileNetv1 [MobileNetv2](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#MobileNetv2) MobileOne s0 ResNet18 ResNet50 Others...... ç‰©ä½“æ£€æµ‹ [PP YOLOv3](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#yolov3paddle) YOLOv3 YOLOv3 Tiny YOLOv4 YOLOv4 Tiny YOLOv4 Tiny 3l [YOLOv5s](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#YOLOv5s) [YOLOv5 Lite](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#YOLOv5 Lite)([original model](https://github.com/ppogg/YOLOv5 Lite)) [YOLOv7 Tiny](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#YOLOv7 Tiny) [YOLOv8s](https://github.com/AXERA TECH/ax samples/tree/main/examples#YOLOv8s) [YOLOX S](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#YOLOX S) YOLO Fastest XL NanoDet äººåž‹æ£€æµ‹ YOLO Fastest Body äººè„¸æ£€æµ‹ [scrfd](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#Scrfd) [YOLOv5 Face](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#YOLOv5 Face)([original model](https://github.com/deepcam cn/yolov5 face)) äººè„¸åˆ†å‰² Face_Parsing éšœç¢ç‰©æ£€æµ‹ (æ‰«åœ°æœºåœºæ™¯) Robot Obstacle Detect æ— äººæœºè§†è§’ç‰©ä½“æ£€æµ‹ [YOLOv5s_visdrone](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#YOLOv5s_visdrone) 3Då•ç›®è½¦è¾†æ£€æµ‹ [Monodlex](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#Monodlex) äººä½“å…³é”®ç‚¹ [HRNet](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#HRNet) [AX POSE PPL](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#AX POSE PPL) [HandPose](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#HandPose) äººä½“åˆ†å‰² [PP HumanSeg](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#PP HumanSeg) è¯­ä¹‰åˆ†å‰² [PP Seg](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#MobileSeg) ä¼ ç»Ÿ CV æ“ä½œ CropResize Pipeline ç¤ºä¾‹ NV12 > CropResize > NN(Classification) æƒ³è¦åœ¨æ¿å­ä¸Šè¿è¡Œæ¨¡åž‹è¯·çœ‹[ã€Œéƒ¨ç½²æ¨¡åž‹åˆ° Maix III AXera Pi å¼€å‘æ¿ã€](/ai/zh/deploy/ax pi.html) <p align \"center\"> <img src \"./../assets/ai_guide.jpg\" style \"zoom: 75%;\" /> </p> ### åœ¨çº¿è®­ç»ƒæ¨¡åž‹å§ï¼ å¦‚ä»Š [æ–°ç‰ˆ MaixHub æ­£å¼ä¸Šçº¿å•¦ï¼](https://wiki.sipeed.com/news/maixhub/new_maixhub.html)ä¸‹ä¸º maixhub åœ¨çº¿è®­ç»ƒæ¨¡åž‹æµç¨‹ç¤ºæ„ã€‚ <p align \"center\"> <img src \"./../assets/test_maixhub.jpg\" style \"zoom: 100%;\" /> </p> > m3axpi ä¸æ”¯æŒä¸Šä¸€ä»£ m2dock çš„æ‰«ç éƒ¨ç½²ï¼Œåªèƒ½é€‰æ‹©æœ¬åœ°ä¸Šä¼ æ–‡ä»¶éƒ¨ç½²ã€‚ <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 597374704&bvid BV1eB4y1Q74i&cid 741940038&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" style \"max width:640px; max height:480px;\"> </iframe> </p> ### åˆ†äº«æœ‰è¶£çš„æ¨¡åž‹ï¼ åœ¨ä½ éƒ¨ç½²æˆåŠŸåŽä¼šæœ‰ä¸€ä»½æ¨¡åž‹æ–‡ä»¶ï¼Œä»¥åŠèƒ½è¿è¡Œæ¨¡åž‹çš„ä»£ç æˆ–ç¨‹åºï¼Œä½ å¯ä»¥å°†è¿™äº›æ–‡ä»¶åˆ†äº«åˆ° [MaixHub æ¨¡åž‹åº“](https://maixhub.com/model/zoo) ï¼Œå¤§å®¶ä¸€èµ·äº¤æµå­¦ä¹ æˆé•¿ï¼ï¼ˆè¯·å¼€å§‹ä½ çš„è¡¨æ¼”å§ï¼‰ <p align \"center\"> <img src \"./../assets/share_model.jpg\" style \"zoom: 75%;\" > </p> <p align \"center\"> <img src \"./../assets/test_yolov5s.jpg\" style \"zoom: 100%;\" > </p> ## æ´»è·ƒ ã® ç¤¾åŒºèµ„æº äº§å“ç›¸å…³çš„ä¸“æ å†…å®¹æœ‰ï¼ˆå®˜æ–¹ç»´æŠ¤ï¼‰ï¼š [MAIX III AXera Pi ç³»åˆ—æ–‡ç« ï¼ˆ1ï¼‰ï¼šæ–°ä¸€ä»£ 3.6T è§†è§‰ AI æ¿å¡é¢ä¸–](https://aijishu.com/a/1060000000374898) [MAIX III AXera Pi ç³»åˆ—æ–‡ç« ï¼ˆ2ï¼‰ï¼šä¸°å¯Œå¤šé‡‡çš„ AI åº”ç”¨](https://aijishu.com/a/1060000000374900) [MAIX III AXera Pi ç³»åˆ—æ–‡ç« ï¼ˆ3ï¼‰ï¼šDebian ç³»ç»Ÿ & å¼€ç®±æ¡ˆä¾‹](https://aijishu.com/a/1060000000374902) [MAIX III AXera Pi ç³»åˆ—æ–‡ç« ï¼šå¼€ç®±ä¹‹ç¡¬ä»¶åˆä½“éªŒ](https://aijishu.com/a/1060000000378968) [MAIX III AXera Pi ç³»åˆ—æ–‡ç« ï¼šä¸Šæ‰‹ä¹‹ä¸æ»‘çŽ©è½¬ AI æ¿å¡ã€ä¸€ã€‘](https://aijishu.com/a/1060000000380513) [MAIX III AXera Pi ç³»åˆ—æ–‡ç« ï¼šä¸Šæ‰‹ä¹‹ä¸æ»‘çŽ©è½¬ AI æ¿å¡ã€äºŒã€‘](https://aijishu.com/a/1060000000383970) [YOLOv8 ç›®æ ‡æ£€æµ‹ï¼šè®­ç»ƒè‡ªå®šä¹‰æ•°æ®é›†å¹¶éƒ¨ç½²åˆ°çˆ±èŠ¯æ´¾ï¼ˆä¸€ï¼‰](https://aijishu.com/a/1060000000395215) [YOLOv8 ç›®æ ‡æ£€æµ‹ï¼šè®­ç»ƒè‡ªå®šä¹‰æ•°æ®é›†å¹¶éƒ¨ç½²åˆ°çˆ±èŠ¯æ´¾ï¼ˆäºŒï¼‰](https://aijishu.com/a/1060000000395812) [MMPoseï¼šåœ¨çˆ±èŠ¯æ´¾ä¸ŠçŽ©è½¬ä½ çš„å…³é”®ç‚¹æ£€æµ‹](https://aijishu.com/a/1060000000396746) [MOTï¼šå¦‚ä½•åœ¨çˆ±èŠ¯æ´¾ä¸Šå®žçŽ°å¤šç›®æ ‡è·Ÿè¸ªçš„ç¥žå¥‡æ•ˆæžœï¼](https://aijishu.com/a/1060000000399566) [MMPoesï¼ˆè¡ç”Ÿç« ï¼‰ï¼šå¦‚ä½•åœ¨çˆ±èŠ¯æ´¾ä¸Šå®žçŽ°è·Œå€’æ£€æµ‹å¹¶é¢„è­¦](https://aijishu.com/a/1060000000401084) [OCRï¼šå¦‚ä½•åˆ©ç”¨çˆ±èŠ¯æ´¾å®žçŽ°å›¾åƒæ–‡å­—è¯†åˆ«](https://aijishu.com/a/1060000000403913) ä»¥ä¸‹æ˜¯ç”±ç¤¾åŒºå¼€å‘è€…è´¡çŒ®çš„å†…å®¹ï¼Œæ¬¢è¿Žä½ ä¹Ÿæ¥è´¡çŒ®å–”ï¼ï¼ï¼ï¼ˆç›´æŽ¥ä¸¢ç¾¤é‡Œéƒ½å¯ä»¥å–”ï¼ï¼‰ [çˆ±èŠ¯æ´¾ AIå¾®å…‰å…¨å½©å¤œè§† å¼€ç®±ä½“éªŒ](https://zhuanlan.zhihu.com/p/571233089) [çˆ±èŠ¯ AX620A NPU åˆä½“éªŒ](https://neucrack.com/p/440) [MMYOLO æ£€æµ‹ç®—æ³•éƒ¨ç½²åœ¨ AX620A è®°å½•](https://zhuanlan.zhihu.com/p/614698969?utm_campaign &utm_medium social&utm_oi 815507548294770688&utm_psn 1620047438693208065&utm_source qq) [éƒ¨ç½²ä½ çš„yolov8æ¥è¯†åˆ«æ ç²¾ï¼ˆbushiï¼‰](https://www.yuque.com/prophetmu/chenmumu/pd3sdkb8z4vvvgai) [[m3axpi] YOLOv5 è®­ç»ƒåˆ°éƒ¨ç½²å…¨æµç¨‹ï¼ˆæœ€æ–°ï¼‰](https://github.com/Abandon ht/m3axpi_model/blob/main/yolov5/README_zh CN.md) [[m3axpi] YOLOv8 è®­ç»ƒåˆ°éƒ¨ç½²å…¨æµç¨‹ï¼ˆæœ€æ–°ï¼‰](https://github.com/Abandon ht/m3axpi_model/blob/main/yolov8/README_zh CN.md) [çˆ±èŠ¯å…ƒæ™ºAX620Aéƒ¨ç½²yolov5 6.0æ¨¡åž‹å®žå½•ï¼ˆå·²è¿‡æ—¶ï¼‰](https://zhuanlan.zhihu.com/p/569083585) [ubuntu22.04æ­å»ºAX620Aå®˜æ–¹ä¾‹ç¨‹å¼€å‘çŽ¯å¢ƒ](https://blog.csdn.net/flamebox/article/details/127103964) [AX620Aè¿è¡Œyolov5sè‡ªè®­ç»ƒæ¨¡åž‹å…¨è¿‡ç¨‹è®°å½•ï¼ˆwindowsï¼‰](https://blog.csdn.net/flamebox/article/details/127249243) [MAIX III AXera Piçˆ±èŠ¯æ´¾ä»Žé›¶å…¥é—¨å¼€å‘ã€1ã€‘å¼€ç®±è¯•çŽ©](https://www.bilibili.com/video/BV1LP4y1274d/?spm_id_from 333.999.0.0) [MAIX III AXera Piçˆ±èŠ¯æ´¾ä»Žé›¶å…¥é—¨å¼€å‘ã€2ã€‘å¼€å‘éƒ¨ç½²](https://www.bilibili.com/video/BV1Ne4y117U9/?spm_id_from 333.999.0.0) [MAIX III AXera Piçˆ±èŠ¯æ´¾ä»Žé›¶å…¥é—¨å¼€å‘ã€3ã€‘æ¨¡åž‹è½¬æ¢åŠéƒ¨ç½²](https://www.bilibili.com/video/BV1jg411z7C8/?spm_id_from 333.999.0.0) [MAIX III AXera Piçˆ±èŠ¯æ´¾ä»Žé›¶å…¥é—¨å¼€å‘ã€4ã€‘è§†é¢‘æŽ¨ç†åŠæŽ¨æµ](https://www.bilibili.com/video/BV14D4y147Ed/?spm_id_from 333.999.0.0) [å°æ‰‹æ™ºè”è€å¾ â€”â€” AI è¾¹ç¼˜è®¡ç®—å¹³å° çˆ±èŠ¯å…ƒæ™º AX620A çˆ±èŠ¯æ´¾å¼€ç®±](https://blog.csdn.net/weixin_43978579/article/details/127966677) [HonestQiao â€”â€” çŸ½é€Ÿ MAIX III AXera Pi å¼€ç®±](https://bbs.elecfans.com/m/jishu_2314161_1_1.html) [ä¸€æ¬¾å›½äº§ã€Œ3.6TOPS@INT8ã€è§†è§‰ AI å¼€å‘æ¿](https://mp.weixin.qq.com/s/3bxFxO0Q0UmpzSM3_K794g) [å›½äº§AIå¼€å‘æ¿æµ‹è¯„ MAIX III AXera Pi ä¸Šæ‰‹ YOLOv5s å®žæ—¶ç›®æ ‡æ£€æµ‹](https://mp.weixin.qq.com/s/lqxL DmhBa K9gu3uEyebQ) [ã€AXPIã€‘å¦‚ä½•åœ¨ M1/M2 Macä¸Šä½¿ç”¨ Rndis](https://zhuanlan.zhihu.com/p/593627641) äº§å“ç›¸å…³çš„æ–°é—»å†…å®¹æœ‰ï¼š [AI ISP çš„é»Žæ˜Žâ€”â€”å¤§è¯æˆåƒ](https://axera tech.com/tech/T7297054127901756535) [2022ä¸–ç•Œäººå·¥æ™ºèƒ½å¤§ä¼šå¯åŠ¨:çˆ±èŠ¯å…ƒæ™ºå‘å¸ƒAI ISPâ€œçˆ±èŠ¯æ™ºçœ¸Â®â€_ä¸­åŽç½‘](https://tech.china.com/article/20220901/092022_1134965.html) [çˆ±èŠ¯å…ƒæ™ºAX620Aä¸Žç™¾åº¦é£žæ¡¨å®Œæˆ I çº§å…¼å®¹æ€§æµ‹è¯• å¼€æºç”Ÿæ€å»ºè®¾æ›´è¿›ä¸€æ­¥](https://mp.weixin.qq.com/s/k6G1pE 31VXlrBA3F6_Liw) [AI è§†è§‰æ–°åŠ¿åŠ›Ã—å¾®å…‰å…¨å½©â€œé»‘â€ç§‘æŠ€](https://mp.weixin.qq.com/s/JIvVprWlQPvE7bTxozAG_Q) [çˆ±èŠ¯æ´¾â„¢AXera Piâ„¢äº®ç›¸ICCAD çˆ±èŠ¯å…ƒæ™ºå¼€æºç”Ÿæ€å»ºè®¾åŠ é€Ÿ](https://mp.weixin.qq.com/s/_nZLfEjxOb4QLpGWgaLVWQ) [æ–°ä¸€ä»£ Kaldi åµŒå…¥å¼ç«¯å®žæ—¶è¯­éŸ³è¯†åˆ«](https://mp.weixin.qq.com/s/r4nGu04o1sjdFZt_vYbUAA) > æˆªæ­¢æ›´æ–°æ—¶é—´ï¼š20221205 <p align \"center\"> <img src \"./../assets/demo_one.jpg\" style \"zoom: 100%;\"> <img src \"./../assets/demo_two.jpg\" style \"zoom: 100%;\"> </p> ## ä¸°å¯Œ ã® Linux å†…å®¹ ### è¶…é«˜æ€§ä»·æ¯”ä¸Žèƒ½æ•ˆæ¯” åˆ«æžé‚£äº›è™šçš„ã€‚æ¥ç‚¹å®žé™…ç‚¹çš„ï¼Œä»¥ä¸‹æ˜¯ç›®å‰ï¼ˆ20221014ï¼‰å¸‚åœºä¸Šé”€é‡æŽ’è¡Œçš„å…¸åž‹ AI å¼€å‘äº§å“ï¼Œ**å•†å“ä»·æ ¼ä¼šéšæ—¶å˜åŠ¨ï¼Œæœ‰ç–‘é—®å¯æŸ¥è¯¢æˆ–æŒ‡å‡ºå¹¶çº æ­£**ã€‚ï¼ˆå·²é™¤åŽ»ä½Žæˆæœ¬ 38 æ¿æ‘„åƒå¤´å’ŒèŠ¯ç‰‡åŽŸåŽ‚è¶…æ˜‚è´µå¼€å‘æ¿ï¼‰ AI å¼€å‘æ¿ å…¨å®¶æ¡¶å¥—é¤çš„ä¸»è¦å†…å®¹ å¤§è‡´ä»·æ ¼ï¼ˆ20221013ï¼‰ è‹±ä¼Ÿè¾¾JETSON NANOå¼€å‘æ¿ 4GB ä¸»æ¿ã€é“åˆé‡‘å¤–å£³ï¼ˆå¸¦é£Žæ‰‡ï¼‰ã€5V4A ç”µæºã€åŒé¢‘æ— çº¿ç½‘å¡ã€64G Uç›˜ã€IMX279 æ‘„åƒå¤´ã€HDMI çº¿ + ç½‘çº¿ã€7 å¯¸è§¦æ‘¸å±+æ”¯æž¶ã€ Â¥2129.00 Raspberry Pi æ ‘èŽ“æ´¾4B 4GB ä¸»æ¿ã€ä¸ƒå¯¸è§¦æ‘¸å±+æ”¯æž¶ã€64G Uç›˜ã€æ•£çƒ­ç‰‡ã€HDMI çº¿ + ç½‘çº¿ã€5V3A ç”µæºã€äºšå…‹åŠ›å¤–å£³ï¼ˆå¸¦é£Žæ‰‡ï¼‰ã€500w USB æ‘„åƒå¤´ã€å…¥é—¨æŒ‡å¯¼æ‰‹å†Œ Â¥1439.00 Khadas vim3ç‰©è”ç½‘a311dï¼ˆç›®å‰çº¿ä¸Šé”€é‡ä¸é«˜ï¼Œä½†å¾ˆå…¸åž‹ï¼‰ VIM3ï¼ˆ4GB+32Gï¼‰å¼€å‘æ¿ã€å¤–å£³ã€æ•£çƒ­å™¨ã€é£Žæ‰‡ã€30W ç”µæºã€HDMI çº¿ Â¥1399.00 è¿…ä¸ºRK3568å¼€å‘æ¿ç‘žèŠ¯å¾® å•†ä¸šçº§2G+16Gã€7å¯¸MIPIå±ã€OV5695æ‘„åƒå¤´ã€ï¼ˆæ²¡æœ‰é…ç”µæºï¼‰ Â¥1380.00 EASY EAI Nano AIå¼€å‘æ¿ ç‘žèŠ¯å¾®RV1126 1GB å•ä¸»æ¿ã€200wåŒç›®æ‘„åƒå¤´ï¼ˆgc2xxxï¼‰ã€5å¯¸ipså±ã€å¤©çº¿ã€å–‡å­ã€é“œæŸ±ã€2Aç”µæº Â¥799.00 äºšåšæ™ºèƒ½ æ—­æ—¥X3æ´¾å¼€å‘æ¿ 2GB ä¸»æ¿ã€å¤æœˆå±…è¯¾ç¨‹ã€WIFI å¤©çº¿ã€é“åˆé‡‘å¤–å£³ã€gc4663 æ‘„åƒå¤´ã€32G Uç›˜ã€5V3A å¼€å…³ç”µæºã€HDMI çº¿ Â¥769.00 Sipeed M3AXPI Linux AI å¾®å…‰å¤œè§† çˆ±èŠ¯æ´¾ 2GB å•ä¸»æ¿ã€400w gc4653 æ‘„åƒå¤´ã€5å¯¸ipså±ã€å¤–å£³ã€æ•°æ®çº¿ã€32G TF å¡ã€åœ¨çº¿æ¨¡åž‹è®­ç»ƒæœåŠ¡ã€æ´»åŠ›å››å°„çš„å¼€æºç¤¾åŒº Â¥579.00 æƒ³æƒ³æŸäº›äº§å“ä¸ºä»€ä¹ˆå–è¿™ä¹ˆè´µï¼Œé”€é‡è¿˜è¿™ä¹ˆå¥½ï¼Ÿå‡­ä»€ä¹ˆï¼Ÿ è¿™äº›äº§å“é™¤äº†æœ¬èº«çš„è´¨é‡è¦è¿‡ç¡¬ï¼ŒåŠŸèƒ½è¦å¤Ÿå¼ºï¼Œè¿˜è¦å‡­å€Ÿè‡ªèº«çš„ç¤¾åŒºç”Ÿæ€ã€è½¯ä»¶æ”¯æŒã€ä¸°å¯Œèµ„æ–™ã€å¼€æºä»£ç ã€ç”¨æˆ·å£ç¢‘ç­‰ç­‰ç‰¹è‰²ï¼Œæ¥æ”¯æ’‘äº§å“é«˜æ€§ä»·æ¯”çš„å½¢è±¡ã€‚ > ç¬”è€…åœ¨è¿™é‡Œè®¤ä¸ºæ‰€è°“çš„æ€§ä»·æ¯”ä¸æ˜¯ä¸€æ˜§åœ°è¿½æ±‚äº§å“çš„æœ€ä½Žä»·ï¼Œè€Œæ˜¯åœ¨åŒç±»äº§å“å¸‚åœºçš„ä¸»æµä»·æ ¼åŒºé—´å†…ï¼Œé€‰å‡ºç¤¾åŒºç”¨æˆ·ç¾¤ä½“å¯ä»¥æŽ¥å—çš„ä»·æ ¼ï¼Œç„¶åŽåœ¨è¿™ä¸ªå®šä½é‡ŒåŽ»å°½åŠ›åšå‡ºæ•ˆæžœæœ€å¥½çš„äº§å“ã€‚ ä»Žè¿™äº›å…¸åž‹çš„äº§å“ä¸­å¯ä»¥çœ‹å‡º m3axpi å¥—é¤æ˜¯æ²¡æœ‰é…ã€Œæ•£çƒ­ç‰‡å’Œé£Žæ‰‡è¿˜æœ‰å¤–æŽ¥ç”µæºã€çš„ï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„å¦ä¸€ä¸ªç‰¹è‰²ã€Œé«˜èƒ½æ•ˆæ¯”ã€ã€‚ æ˜¯çš„ï¼Œè¿™ä¸ªäº§å“ä¸éœ€è¦æ•£çƒ­å™¨/é£Žæ‰‡ï¼Œä¹Ÿä¸éœ€è¦å¤–æŽ¥ 2A ç”µæºå°±å¯ä»¥å¯åŠ¨ç³»ç»Ÿï¼Œæ›´ä¸éœ€è¦æ‰¾ hdmi çº¿å’Œæ˜¾ç¤ºå™¨ã€‚ æ¥ä¸€ä¸ªå®žé™…æµ‹é‡çš„æ¸©åº¦å’ŒåŠŸè€—ï¼Œæ³¨æ„è¦ä½¿ç”¨ USB3.0 çš„å£æ¥ä¾›ç”µå–”ã€‚ <p align \"center\"> <img src \"./../assets/temp_test_axpi.jpg\" style \"zoom: 100%;\" /> </p> > ä»Žå®žæµ‹ç»“æžœä¸Šæ¥çœ‹ï¼Œè¿™ä¸ªåŠŸè€—å’Œæ¸©åº¦æŽ§åˆ¶å¾—æŒºå¥½ï¼Œç”¨ USB3.0 5V@1A æ‰¿è½½äº†åº•æ¿ã€æ ¸å¿ƒæ¿ã€WIFIã€ä»¥å¤ªç½‘ã€æ‘„åƒå¤´ã€5å¯¸å±çš„å·¥ä½œã€‚ ### åŸºäºŽ debian ç³»ç»Ÿå¼€å‘ æä¾› debian11 Linux ç³»ç»Ÿï¼Œæ”¯æŒ SD å¡å¯åŠ¨ DD çƒ§å½•ç³»ç»Ÿï¼Œæ–¹ä¾¿ç”¨æˆ·å¼€ç®±ä¸Šæ‰‹ï¼ŒåŒæ—¶æ”¯æŒ Python API ç¼–ç¨‹å¼€å‘ AI åº”ç”¨ã€‚ 1. çƒ§å½•æ–¹æ³•ï¼š[WIKI AXera Pi çƒ§å½•ç³»ç»Ÿ](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/flash_system.html#%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F) 2. ä¸Šæ‰‹æŒ‡å—ï¼š[WIKI AXera Pi ä¸Šæ‰‹å¿…çœ‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/flash_system.html) 2. Python ç¼–ç¨‹ï¼š[ax_pipeline_api ](https://github.com/junhuanchen/ax_pipeline_api) ï¼ˆç”±ç¤¾åŒºå¤§ä½¬é¼ è´¡çŒ®ï¼‰ 3. å¼€å‘ç¬”è®°ï¼š[[maixpy3 axpi] å…³äºŽçˆ±èŠ¯ ax620a ç§»æ¤ debian11 ç³»ç»Ÿè¿™ä»¶äº‹](https://www.cnblogs.com/juwan/p/16751348.html) 4. å¼€å‘ç¬”è®°ï¼š[[maixpy3 axpi] ç¼–è¾‘å‘å¸ƒ debian é•œåƒä¸Žåœ¨ PC ä¸Šäº¤å‰ç¼–è¯‘ç¨‹åº ](https://www.cnblogs.com/juwan/p/16769237.html) ### å¼€æ”¾ BSP SDK æºç  æä¾›å„ç±»å¼€å‘æºç ï¼Œæä¾› API å¼€å‘æ–‡æ¡£ï¼ŒSDK å¼€å‘æ–¹æ³•ç­‰è¯´æ˜Žï¼Œç»†èŠ‚å¯ä»¥ä»Ž[å‡†å¤‡ C/C++ ç¼–ç¨‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/dev_prepare.html#%E8%8E%B7%E5%8F%96 SDK %E6%BA%90%E7%A0%81) å¾—çŸ¥ã€‚ #### [ax sample](https://github.com/AXERA TECH/ax samples) ç”±çˆ±èŠ¯æä¾›å…¸åž‹ AI æ¨¡åž‹çš„å¼€å‘ä¸Žè¯„ä¼°éªŒè¯ï¼Œæä¾›ç»™æœ‰ç»éªŒçš„ AI å¼€å‘è€…ä½¿ç”¨æˆ–åªæƒ³è¹­æ¨¡åž‹çš„åŒå­¦ï¼Œä¸æ¶‰åŠä»»ä½•ç¡¬ä»¶å¤–è®¾æœ‰å…³çš„å†…å®¹ã€‚ 1. [ç¤ºä¾‹é¡¹ç›® examples](https://github.com/AXERA TECH/ax samples/tree/main/examples) 2. [ç‰©ä½“æ£€æµ‹ PP YOLOv3](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#yolov3paddle) 3. [äººä½“åˆ†å‰² PP HumanSeg](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#MobileSeg) 4. [è¯­ä¹‰åˆ†å‰² PP Seg](https://github.com/AXERA TECH/ax samples/blob/main/examples/ax620/README.md#PP HumanSeg) #### [libmaix](https://github.com/sipeed/libmaix) ç”± SIPEED æä¾›åœ¨åµŒå…¥å¼å¹³å°ç»Ÿä¸€çš„åµŒå…¥å¼å¼€å‘çŽ¯å¢ƒï¼Œä¸»è¦æœ‰æ‘„åƒå¤´ã€å±å¹•ã€è§†è§‰ã€å›¾åƒå¤„ç†ã€éƒ¨ç½² Pipeline ç›¸å…³çš„å®žæœºä¾‹ç¨‹ï¼Œé€‚åˆåˆšå…¥é—¨åµŒå…¥å¼ linux å¼€å‘çš„åŒå­¦ä½¿ç”¨ã€‚ 1. [æµ‹è¯•ä¸€ä¸‹å±å¹•æ˜¾ç¤º](https://github.com/sipeed/libmaix/tree/release/examples/display) 2. [æŠŠæ‘„åƒå¤´æ˜¾ç¤ºåˆ°å±å¹•](https://github.com/sipeed/libmaix/tree/release/examples/axpi) 3. [æ‘„åƒå¤´+yolov5 æ¨¡åž‹+å±å¹•](https://github.com/sipeed/libmaix/tree/release/examples/axpi_yolov5_cam) #### [axpi_bsp_sdk](https://github.com/sipeed/axpi_bsp_sdk) èŠ¯ç‰‡å•†ç”¨æ—¶æ‰€ç”¨çš„ bsp å¼€å‘åŒ…ï¼Œè¿™é‡Œä¸»è¦æä¾›çš„æ˜¯èŠ¯ç‰‡çš„åŽŸå§‹å¼€å‘èµ„æ–™ï¼Œå¦‚ ubootã€linuxã€msp ã€sampleã€rtspã€ipcdemo ç­‰å·¥ç¨‹ä»£ç ï¼Œè¿™ä¸ªéƒ¨åˆ†æ˜¯é€æ­¥å¼€æºçš„ï¼Œä½ å¯ä»¥ä»Žè¿™é‡Œå¾—åˆ°å•†ä¸šè¯„ä¼°ç”¨çš„ä»£ç ï¼Œä¾‹å¦‚ ipcdemo è¿™æ ·çš„ç¨‹åºï¼Œä½†è¿™äº›ä»£ç ä¼šå¾ˆå¤æ‚ä¸”é«˜è€¦åˆï¼Œé€‚åˆæœ‰ç»éªŒçš„åŒè¡Œå‡ºäºŽå•†ä¸šè½åœ°çš„ç›®çš„ä½¿ç”¨ã€‚ 1. å¼€å‘æ–‡æ¡£ [docs](https://github.com/sipeed/axpi_bsp_sdk/tree/main/msp/sample/vo_fb) 2. æ¡†æž¶åº”ç”¨ [ipcdmeo](https://github.com/sipeed/axpi_bsp_sdk/tree/main/app/IPCDemo) 3. å¤–è®¾éªŒè¯ [sample](https://github.com/sipeed/axpi_bsp_sdk/tree/main/msp/sample) #### [ax pipeline](https://github.com/AXERA TECH/ax pipeline) AX Pipeline ç”±çˆ±èŠ¯ä¸»å¯¼å¼€å‘ã€‚è¯¥é¡¹ç›®åŸºäºŽ AXera Pi å±•ç¤º ISPã€å›¾åƒå¤„ç†ã€NPUã€ç¼–ç ã€æ˜¾ç¤º ç­‰åŠŸèƒ½æ¨¡å—è½¯ä»¶è°ƒç”¨æ–¹æ³•ï¼Œæ–¹ä¾¿ç¤¾åŒºå¼€å‘è€…è¿›è¡Œå¿«é€Ÿè¯„ä¼°å’ŒäºŒæ¬¡å¼€å‘è‡ªå·±çš„å¤šåª’ä½“åº”ç”¨ã€‚ 1. [å¿«é€Ÿç¼–è¯‘](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/compile.md) åŸºäºŽ cmake å®žçŽ°ç®€å•çš„è·¨å¹³å°ç¼–è¯‘ã€‚ 2. [å¦‚ä½•æ›´æ¢è‡ªå·±è®­ç»ƒçš„ yolov5 æ¨¡åž‹](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/how_to_deploy_custom_yolov5_model.md) 3. [å¦‚ä½•éƒ¨ç½²è‡ªå·±çš„å…¶ä»–æ¨¡åž‹](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/how_to_deploy_custom_model.md) 4. [å¦‚ä½•è°ƒæ•´å›¾åƒæ–¹å‘](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/how_to_adjust_image_orientation.md) 5. [ModelZoo](https://github.com/AXERA TECH/ax pipeline/blob/main/docs/modelzoo.md) ä¸€äº›æ”¯æŒæˆ–å°†æ”¯æŒçš„æ¨¡åž‹å’Œä¸€äº›æ¨¡åž‹çš„è¯´æ˜Žã€‚ ## é€‰æ‹© M3AXPI çš„ç†ç”± >ä¸ºä»€ä¹ˆè¦é€‰æ‹© M3AXPI å‘¢ï¼Ÿç”±è¿™ä¸ªè§†é¢‘æ¥å›žç­”ä½ çš„æ‰€æœ‰ç–‘é—®å§ï¼ è§†é¢‘ç®€è¿°äº† M3AXPI æ¯”èµ· M2DOCK çš„ä¼˜åŠ¿ï¼Œè¿˜æœ‰è¶…å¤šå®žé™…ä½¿ç”¨æ•ˆæžœæ¡ˆä¾‹ä»¥åŠå½©è›‹ï¼ <iframe src \"//player.bilibili.com/player.html?aid 992194128&bvid BV1px4y1w75T&cid 1018084963&page 1&t 372\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> ## ç›¸å…³ç¡¬ä»¶å‚æ•° <p align \"center\"> <img src \"./../assets/waiguan1.jpg\" style \"zoom: 51%;\" /> <img src \"./../assets/maix iii small.jpg\" style \"zoom: 80%;\" /> <img src \"./../assets/waiguan2.jpg\" style \"zoom: 45%;\" /> </p> ### ç¡¬ä»¶æ ‡æ³¨å›¾ <p align \"center\"> <img src \"./../assets/layout_axpi_2.png\" alt \"layout_axpi_2\" width \"45%\"> <img src \"./../assets/layout_axpi_1.png\" alt \"layout_axpi_1\" width \"45%\"> </p> ### æ ¸å¿ƒæ¿å‚æ•° é¡¹ç›® å‚æ•° CPU å››æ ¸ Cortex A7, æ”¯æŒ NEON å’Œ FPU NPU 14.4Tops@int4ï¼Œ3.6Tops@int8 ISP 4K@30fps ç¼–è§£ç æ ¼å¼ H.264, H.265 è§†é¢‘ç¼–ç  4K@30fps è§†é¢‘è§£ç  1080P@60fps Ethernet æ”¯æŒåŒè·¯RGMII / RMII æŽ¥å£æ¨¡å¼çš„ä»¥å¤ªç½‘ æ˜¾ç¤ºè¾“å‡º MIPI DSI 4 Laneï¼Œæœ€é«˜æ”¯æŒ4K@30FPS DRAM 2GB LPDDR4X 3733Mhz å­˜å‚¨ å¯é€‰16GB EMMCï¼ˆé»˜è®¤æ˜¯ TF å¡å¯åŠ¨ï¼‰ IO å¼•å‡º DDR4 SODIMM 260P é‡‘æ‰‹æŒ‡å…¨ IO å¼•å‡º ### åº•æ¿å‚æ•° é¡¹ç›® å‚æ•° æ‘„åƒå¤´è¾“å…¥ ï¼ˆé»˜è®¤å•æ‘„ï¼‰æœ€é«˜æ”¯æŒ 3 æ‘„:1ä¸ªMIPI4 LANE+2ä¸ªMIPI2 LANE å±å¹•è¾“å‡º æ”¯æŒæœ€é«˜ 4 LANE MIPI DSI å±å¹• SD æ’æ§½ é»˜è®¤ä»Ž SD å¡å¯åŠ¨ å½•éŸ³è¾“å…¥ æ¿è½½ä¸¤ä¸ª MEMS MIC æ”¯æŒåŒéº¦é™å™ª éŸ³é¢‘è¾“å‡º 3.5MMè€³æœºæŽ¥å£ æ”¯æŒç«‹ä½“å£°è¾“å…¥å’Œ MIC è¾“å…¥ ç½‘ç»œæŽ¥å£ æ”¯æŒ åƒå…†ä»¥å¤ªç½‘ï¼ˆETHï¼‰ å’Œ 2.4GHZ WI FI æ¿è½½å¤©çº¿ USB æŽ¥å£ 1xUSB2.0HS æ”¯æŒ OTG æˆ– HOST åŠŸèƒ½ï¼Œ1xUSB UART ç³»ç»Ÿä¸²å£ å…¶ä»–èµ„æº 1xç”¨æˆ·æŒ‰é”®ï¼Œ3xç³»ç»ŸæŒ‰é”®ï¼Œ1xRTCæ—¶é’Ÿï¼Œ2xLED å¯¹å¤–æŽ¥å£ å¼•å‡ºCJTAGï¼Œå¯è‡ªè¡Œè¿žæŽ¥ç›¸åº”è°ƒè¯•å™¨ï¼Œå¼•å‡º2x12æŽ’é’ˆï¼Œ4ä¸ªM2.5èžºä¸å®šä½å­” [ç¡¬ä»¶èµ„æºæ±‡æ€»é“¾æŽ¥](https://dl.sipeed.com/shareURL/MaixIII/AXera) [äº§å“è§„æ ¼ä¹¦](https://dl.sipeed.com/shareURL/MaixIII/AXera/01_Specification) [åŽŸç†å›¾](https://dl.sipeed.com/shareURL/MaixIII/AXera/02_Schematic) [ç‚¹ä½å›¾](https://dl.sipeed.com/shareURL/MaixIII/AXera/03_Bit_number_map) [æ¨¡åž‹æ–‡ä»¶](https://dl.sipeed.com/shareURL/MaixIII/AXera/05_3D_file) [å°ºå¯¸å›¾](https://dl.sipeed.com/shareURL/MaixIII/AXera/04_Dimensional_drawing) [GC4653 æ‘„åƒå¤´å‚è€ƒä½¿ç”¨æ‰‹å†Œ](https://dl.sipeed.com/shareURL/MaixIII/AXera/07_Chip_manual) ### æ‘„åƒå¤´ä¸€è§ˆ ä½Žé… gc4653 400w åŸºç¡€ä½“éªŒç‰ˆæœ¬ã€‚ <p align \"center\"> <img src \"./../assets/ax620a_gc.jpg\" style \"zoom: 100%;\" /> </p> é«˜é… os04a10 400w å¤œæ™¯å¢žå¼ºç‰ˆæœ¬ã€‚ <p align \"center\"> <img src \"./../assets/ax620a_os.jpg\" style \"zoom: 100%;\" /> </p> > [æ›´æ¢æ‘„åƒå¤´å¸¸è§é—®é¢˜](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html) ## å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰ AI æœåŠ¡ http://maixhub.com åœ¨çº¿æ–‡æ¡£ http://wiki.sipeed.com äº¤æµç¤¾åŒº http://bbs.sipeed.com å¼€æºç»„ç»‡ http://github.com/sipeed AXERA æŠ€æœ¯äº¤æµç¾¤ï¼šï¼ˆ 139953715 ï¼‰ä¸“ä¾› AI ISP æŠ€æœ¯äº¤æµ è”æž MaixPy3 AI äº¤æµç¾¤ï¼šï¼ˆ 756313869 ï¼‰ç»™äº§å“å¼€ç®±å°ç™½ç­”ç–‘ Q & A è¯·åˆ° [Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜(FAQ)](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html) äº†è§£å–”ã€‚"},"/hardware/zh/maixIII/ax-pi/flash_system.html":{"title":"AXera-Pi ä¸Šæ‰‹æŒ‡å—","content":" title: AXera Pi ä¸Šæ‰‹æŒ‡å— tags: AXera Pi, çƒ§å½•ç³»ç»Ÿ, ä¸Šæ‰‹æŒ‡å— keywords: AXera Piï¼Œçƒ§å½•, ä¸Šæ‰‹ desc: AXera Pi äº§å“ä¸Šæ‰‹æŒ‡å— update: date: 2022 11 25 version: v0.4 author: lyx content: å¢žåŠ ä¸Šæ‰‹ä½¿ç”¨è¯´æ˜Ž ## ä¸Šæ‰‹æŒ‡å— ä¸ºäº†è®©å°ä¼™ä¼´ä»¬è½»æ¾ã€å¿«é€Ÿã€å¹³ç¨³åœ°æŠŠäº§å“ç”¨èµ·æ¥ï¼Œæˆ‘ä»¬å‡†å¤‡äº†æ–°æ‰‹åˆå­¦è€…ä¸Šæ‰‹æŒ‡å—ï¼š ### Linux ç³»ç»Ÿç®€ä»‹ **AXera Pi é»˜è®¤æ¿å¡æ²¡æœ‰å­˜å‚¨ä»‹è´¨ï¼Œå› æ­¤éœ€è¦å‡†å¤‡ä¸€å¼ ç³»ç»Ÿå¡æ¥å¯åŠ¨è®¾å¤‡ã€‚** ç›®å‰ AXera Pi æä¾›çš„æ˜¯ Debian11 Bullseye é•œåƒï¼Œ[Ubuntu æºè‡ª Debianï¼Œè¿™æ„å‘³ç€ Ubuntu ä½¿ç”¨ä¸Ž Debian ç›¸åŒçš„ apt æ‰“åŒ…ç³»ç»Ÿï¼Œå¹¶å…±äº«æ¥è‡ª Debian å­˜å‚¨åº“çš„å¤§é‡è½¯ä»¶åŒ…å’Œåº“ï¼Œåˆ©ç”¨ Debian åŸºç¡€è®¾æ–½ä½œä¸ºåŸºç¡€ã€‚ å¤§å¤šæ•°â€œæ´¾ç”Ÿâ€ Linux å‘è¡Œç‰ˆï¼Œå®ƒä»¬ä½¿ç”¨ç›¸åŒçš„åŒ…ç®¡ç†ç³»ç»Ÿå¹¶ä¸ŽåŸºäºŽçš„å‘è¡Œç‰ˆå…±äº«è½¯ä»¶åŒ…ã€‚](https://zhuanlan.zhihu.com/p/426219868) > ![debian_logo](./../assets/debian_logo.jpg) > [é€‰æ‹© Debian çš„ç†ç”±](https://www.debian.org/intro/why_debian) [å®˜æ–¹æ·˜å®åº—](https://sipeed.taobao.com/) å¯ä»¥è´­ä¹°é¢„çƒ§å½•ç³»ç»Ÿé•œåƒçš„ SD å¡ï¼Œå¦åˆ™å°±éœ€è¦è‡ªå·±è¿›è¡Œä»¥ä¸‹çš„æ“ä½œæ¥å‡†å¤‡ SD é•œåƒå¡ã€‚ ### é€‰æ‹© SD å¡ > å·²åœ¨å®˜æ–¹è´­ä¹°é•œåƒå¡çš„åŒå­¦è·³è¿‡è¿™ä¸€æ­¥éª¤ï¼Œç›´æŽ¥åœ¨è®¾å¤‡æ’å…¥ TF å¡[ ç‚¹å‡»æŸ¥çœ‹ ](#%E5%90%AF%E5%8A%A8 Linux %E7%B3%BB%E7%BB%9F)å¯åŠ¨ Linux ç³»ç»Ÿã€‚ ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·æœ‰æ›´å¤šçš„é€‰æ‹©ï¼Œæˆ‘ä»¬å¯¹éƒ¨åˆ† SD å¡åœ¨ AXera Pi æ¿å­ä¸Šè¿›è¡Œäº†è¯»å†™æµ‹é€Ÿã€‚ ![sd](./../assets/flash_system/sd.jpg) > å› ä¸ºéƒ¨åˆ† SD å¡æ˜¯åŽé¢é™†ç»­æ‰è¿›è¡Œæµ‹è¯•ï¼Œæ²¡æœ‰ä¸€ä¸€å•ç‹¬æ‹ç…§ä½†å¯ä»¥æ ¹æ®åž‹å·è¾¨è®¤ã€‚ åºå· åž‹å· <p style \"white space:nowrap\">å†™å…¥é€Ÿåº¦ï¼ˆå†™å…¥é‡ 160MBï¼‰</p> <p style \"white space:nowrap\">è¯»å–é€Ÿåº¦ï¼ˆè¯»å–é‡ 160MBï¼‰ </p> 1. Netac æœ—ç§‘ A2 P500 è¶…é«˜é€Ÿ 64GB å­˜å‚¨å¡ 2.04697 s, 80.0 MB/s 1.8759 s, 87.3 MB/s 2. ä¸‰æ˜Ÿ microSDXC UHS I 128G å­˜å‚¨å¡ï¼ˆè“å¡ï¼‰ 2.53387 s, 64.7 MB/s 1.99882 s, 82.0 MB/s 3. EAGET TF å¡ï¼ˆT1 ç³»åˆ—ï¼‰64G å­˜å‚¨å¡ 6.56955 s, 24.9 MB/s 7.13792 s, 23.0 MB/s 4. äº¬ä¸œ é«˜æ€§èƒ½ microSDXC UHS I 128G å­˜å‚¨å¡ 2.28133 s, 71.8 MB/s 1.92001 s, 85.3 MB/s 5. KIOXIA microSDXC UHS I 32G å­˜å‚¨å¡ 6.71284 s, 24.4 MB/s 2.36794 s, 69.2 MB/s 6. Netac æœ—ç§‘ A1 32GB å­˜å‚¨å¡ 4.31411 s, 38.0 MB/s 2.00759 s, 81.6 MB/s 7. BanQ JOY card ç™½é‡‘ 64G å­˜å‚¨å¡ 9.08105 s, 18.0 MB/s 9.02843 s, 18.1 MB/s 8. æµ·åº·å¨è§† HS TF P2 64G å­˜å‚¨å¡ 2.28079 s, 71.8 MB/s 1.87698 s, 87.3 MB/s ä¸‹é¢ä¸ºæ²¡æœ‰æ‹ç…§ä½†æ˜¯æµ‹é€Ÿè¿‡çš„å¡ï¼š åºå· åž‹å· <p style \"white space:nowrap\">å†™å…¥é€Ÿåº¦ï¼ˆå†™å…¥é‡ 160MBï¼‰</p> <p style \"white space:nowrap\">è¯»å–é€Ÿåº¦ï¼ˆè¯»å–é‡ 160MBï¼‰ </p> 1. é›·å…‹æ²™ï¼ˆLexarï¼‰64GB TFï¼ˆMicroSDï¼‰å­˜å‚¨å¡ C10 U3 V30 A2 2.59644 s, 63.1 MB/s 1.9106 s, 85.8 MB/s 2. é›·å…‹æ²™ï¼ˆLexarï¼‰128GB TFï¼ˆMicroSDï¼‰å­˜å‚¨å¡ C10 U3 V30 6.73793 s, 24.3 MB/s 6.94079 s, 23.6 MB/s ### çƒ§å½• Linux ç³»ç»Ÿ ![axpi flash](./../assets/axpi flash.png) å› ä¸ºå¼€å‘æ¿ä¸Šçš„ EMMC ä»…é»˜è®¤é¢„ç•™ç„Šç›˜ï¼Œæ‰€ä»¥éœ€è¦ä»Ž TF å¡å¯åŠ¨ Linux Debian ç³»ç»Ÿã€‚ #### å¦‚ä½•èŽ·å–é•œåƒï¼Ÿ å› ä¸ºé•œåƒæ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œå› æ­¤ä»…æä¾›ç™¾åº¦äº‘ä¸‹è½½é“¾æŽ¥ã€‚ å‰å¾€ç™¾åº¦äº‘[ç‚¹å‡»è¿›å…¥ä¸‹è½½é¡µé¢](https://pan.baidu.com/s/1 UtDoAVP6spwqjHP2wneJA)ï¼Œè¾“å…¥æå–ç  `sdls` å³å¯ä¸‹è½½æ–‡ä»¶ï¼Œé•œåƒåŒ…ä¸Žæ ¡éªŒæ–‡ä»¶éƒ½å·²ç»æ”¾åœ¨é‡Œé¢äº†ã€‚ ![debian](./../assets/debian.jpg) å…¶ä¸­æ‹“å±•åä¸º `img.xz` çš„æ˜¯åŽ‹ç¼©æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±æ˜¯éœ€è¦çƒ§å½•è¿™ä¸ªæ–‡ä»¶ï¼Œæ‹“å±•åæ˜¯ `img.xz.md5sum` çš„æ˜¯æ ¡éªŒæ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥æ ¡åŽ‹ç¼©æ–‡ä»¶çš„å®Œæ•´æ€§ã€‚ é•œåƒåŽ‹ç¼©æ–‡ä»¶å‘½åçš„ç»„æˆä¸ºï¼š`é•œåƒæä¾›æ–¹` _ `é€‚ç”¨èŠ¯ç‰‡` _ `Linux å‘è¡Œç‰ˆ` _ `é•œåƒæ—¶é—´` + `img.xz` æ ¡éªŒæ–‡ä»¶éœ€è¦åœ¨ Linux çŽ¯å¢ƒä¸­ä½¿ç”¨ï¼Œwindows10 åŠä»¥ä¸Šçš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ wsl æ¥æä¾› Linux çŽ¯å¢ƒ ä½¿ç”¨å‘½ä»¤ä¸ºåœ¨é•œåƒæ–‡ä»¶å’Œæ ¡éªŒæ–‡ä»¶å…±åŒå­˜åœ¨çš„ç›®å½•ä½¿ç”¨ `md5sum c *.md5sum*`ï¼Œå°±å¯ä»¥æ¥æŸ¥çœ‹å®Œæ•´æ€§äº†ã€‚ æ ¡éªŒæˆåŠŸ æ ¡éªŒå¤±è´¥ ![md5sum_success](./../assets/flash_system/md5sum_success.jpg) ![md5sum_failed](./../assets/flash_system/md5sum_failed.jpg) å¯ä»¥çœ‹åˆ°æ ¡éªŒå¤±è´¥çš„è¯ä¼šæ¶ˆå¤± FAILEDã€‚å½“ç„¶é€šå¸¸ä¸éœ€è¦è¿›è¡Œæ ¡éªŒï¼Œè¿™é‡Œåªæ˜¯ç»™æœ‰éœ€è¦çš„äººæå‰é¢„ç•™ä¸€ä¸‹ã€‚ #### å¦‚ä½•çƒ§å½•é•œåƒï¼Ÿ **çƒ§å½•å‰æˆ‘ä»¬éœ€è¦è¿›è¡Œä»¥ä¸‹å‡†å¤‡ï¼š** ä¸€å¼ å®¹é‡å¤§äºŽ 8G çš„ SD å¡ï¼›å»ºè®®è´­ä¹°å®˜æ–¹é•œåƒå¡ï¼Œä¸ç„¶å¯èƒ½ä¼šå› ä¸º SD å¡è´¨é‡å·®è€Œå¸¦æ¥ç³Ÿç³•çš„ä½“éªŒ ä¸€ä¸ªè¯»å¡å™¨ï¼šå»ºè®®ä½¿ç”¨æ”¯æŒ USB3.0 çš„è¯»å¡å™¨ï¼Œä¸ç„¶ä¼šå› ä¸ºè¯»å¡å™¨çš„é€Ÿåº¦è¿‡ä½Žä¼šä½¿çƒ§å½•æ—¶é—´è¿‡é•¿ [Etcher](https://www.balena.io/etcher/)è½¯ä»¶ï¼šæ ¹æ®è‡ªèº«ç”µè„‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„è½¯ä»¶å³å¯ **é•œåƒç³»ç»Ÿçƒ§å½•æ–¹æ³•ï¼š** é¦–å…ˆè¿è¡Œ [Etcher](https://www.balena.io/etcher/ \"Etcher\") è½¯ä»¶ï¼Œç‚¹å‡» `Flash from file` é€‰ä¸­å·²ç»ä¸‹è½½å¥½çš„ `img.xz` æ–‡ä»¶é•œåƒï¼Œç„¶åŽç‚¹å‡» `Select target` é€‰ä¸­ SD å¡ï¼Œæœ€åŽç‚¹å‡» `Flash` è¿›è¡Œçƒ§å½•ç­‰å¾…å®Œæˆå³å¯ã€‚ **çƒ§å½•é•œåƒæ–‡ä»¶åˆ° SD å¡ï¼š** ![burn_image_by_etcher](./../../../assets/maixIII/ax pi/burn_image_by_etcher.gif) çƒ§å½•ä¸­ çƒ§å½•å®Œæˆ ![axera_burning_image](./../../../assets/maixIII/ax pi/axera_burning_image.png) ![finish_flash](./../../maixII/M2A/assets/finish_flash.png) éœ€è¦æ³¨æ„çš„æ˜¯åœ¨çƒ§å½•å®ŒæˆåŽæ˜¾ç¤ºçš„åº”è¯¥æ˜¯ `Flash Complete!`ï¼Œå¹¶ä¸”æ˜¾ç¤ºçš„æ˜¯ `Successful` ã€‚ è¿›è¡Œå®Œä¸Šè¿°æ“ä½œåŽï¼Œç”µè„‘å¯èƒ½ä¼šæç¤ºéœ€è¦æ ¼å¼åŒ– U ç›˜ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç›´æŽ¥å¿½ç•¥è¿™ä¸ªæç¤ºï¼ˆå› ä¸ºåœ¨ Etcher è½¯ä»¶é‡Œé¢å·²ç»çƒ§å½•å®Œæˆä¸” `Successful` äº†ï¼‰ï¼Œå°†å†…å­˜å¡å–ä¸‹ï¼Œå‡†å¤‡å®‰è£…åˆ°æ¿å­ä¸Šå‡†å¤‡ä½¿ç”¨ã€‚ #### çƒ§å½•é—®é¢˜ ##### 1. ä½¿ç”¨ Etcher é€‰æ‹©é•œåƒçš„åŽå‡ºçŽ°é”™è¯¯ å¯ä»¥é‡æ–°è¿è¡Œ Etcher æ¥è§£å†³è¯¥è½¯ä»¶ç”±äºŽç¼“å­˜ç­‰é—®é¢˜è€Œé€ æˆçš„åŠ è½½é”™è¯¯ ##### 2. ç»“æŸçƒ§å½•åŽæç¤ºçš„æ˜¯ Failed é‡æ–°ä¸€æ¬¡çƒ§å½•å†…å­˜å¡é•œåƒ ##### 3. æ ¼å¼åŒ–åŽå†…å­˜å¡å¯ç”¨å®¹é‡å¾ˆå° è¿™ç§æƒ…å†µä½¿ç”¨å¯¹äºŽ Windows å’Œ MacOS å¯ä»¥ä½¿ç”¨ [SD Card Formatter](https://www.sdcard.org/downloads/formatter/eula_windows/SDCardFormatterv5_WinEN.zip)æ¥æ ¼å¼åŒ– SD å¡ï¼ŒLinux ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ç³»ç»Ÿçš„ disk å·¥å…·æˆ– [Gparted](https://gparted.org/)æ¥æ ¼å¼åŒ–ã€‚ ### å¯åŠ¨ Linux ç³»ç»Ÿ å®Œæˆä¸Šé¢çš„çƒ§å½•é•œåƒå¡åŽï¼ŒæŽ¥ç€æŽ¥å¯ä»¥ç»„è£…æ¿å­äº†ã€‚ ![axpi connect](./../assets/axpi connect.png) #### å¦‚ä½•è¿žæŽ¥å¤–è®¾å’Œé…ä»¶ï¼Ÿ > è´­ä¹°å…¨åŠŸèƒ½å¥—é¤çš„åŒå­¦ä»¬å¯ä»¥è·³è¿‡æ­¤è£…é…æ­¥éª¤ã€‚ **æŽ¥çº¿å‰æˆ‘ä»¬éœ€è¦è¿›è¡Œå‡†å¤‡å·¥ä½œï¼š** ä¸€å— AXera Pi å¼€å‘æ¿ ä¸€ä¸ª USB3.0 ï¼ˆæˆ–è€…ä¸¤ä¸ª USB2.0ï¼‰çš„ç”µè„‘æŽ¥å£æ¥è¿žæŽ¥æ¿å­ ä¸€å¼ å·²ç»çƒ§å½•é€‚ç”¨äºŽ m3axpi çš„ç³»ç»Ÿé•œåƒçš„ SD å¡ GC4653 Sensor æ™®é€šç‰ˆæ‘„åƒå¤´ æˆ–è€… OS04a10 Sensor å¤œè§†ç‰ˆæ‘„åƒå¤´ é…å¥—çš„ 5 å¯¸ MIPI å± ![axpi config](./../assets/axpi config.jpg) **å¯å‚è€ƒä»¥ä¸‹ç¤ºä¾‹é¿å…è¯¯æŽ¥ï¼š** å°†å±å¹•**ï¼ˆæŽ’çº¿åé¢æœä¸Šï¼‰**æŽ¥å…¥åº•æ¿èƒŒé¢ LCD æŽ¥å£ï¼Œç»„è£…å¥½åŽç¿»æ­£æ¿å­åœ¨å³ä¾§çš„å¡æ§½å¤„æ’å…¥çƒ§å½•å¥½çš„é•œåƒå¡ã€‚ <html> <img src \"./../assets/mipi.jpg\" width 48%> <img src \"./../assets/sensor.jpg\" width 48%> </html> **æ‘„åƒå¤´æŽ¥çº¿è®¤å‡†ä»¥ä¸‹æ³¨æ„ç‚¹ï¼š** >å› ç‰©æ–™æ›´æ¢æ‘„åƒå¤´çŽ°æœ‰ä¸¤ç§ç‰ˆæœ¬ï¼Œ`V3753` ç‰ˆæœ¬çš„æ‘„åƒå¤´æŽ¥çº¿åº§å­ä»¥åŠçº¿åºè¿›è¡Œäº†æ›´æ”¹ï¼Œ**å¦‚è‹¥æŽ¥ååŽä¸Šç”µçš„è¯åº•æ¿çš„ LED ç¯ä¼šä¸äº®ï¼ŒæŽ¥åæ—¶é—´ä¹…ä¼šå¯¼è‡´çƒ§åæ¿å¡æˆ–æ‘„åƒå¤´ï¼Œè¯·æ ¹æ®ä»¥ä¸‹æ³¨æ„ç‚¹æ­£ç¡®æŽ¥å…¥æ‘„åƒå¤´ã€‚** è¿›è¡ŒæŽ¥çº¿å‰ç¡®ä¿æ‘„åƒå¤´åº•éƒ¨çš„å°äººä¸Žæ¿å­ä¸å°åŒå‘å†è¿›è¡ŒæŽ¥çº¿ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ![sensor_oldnew](./../assets/sensor_oldnew.jpg) æŽ¥çº¿æ—¶ç¡®ä¿åº•æ¿æŽ¥å£åº§å­ä¸Žæ‘„åƒå¤´åº§å­çš„çº¿åº **`1`** åœ¨åŒä¸€ä¾§ï¼Œè®¤å‡†æŽ’çº¿æ­£é¢è“è‰²çº¿åºæŽ¥å…¥å³å¯ã€‚ <html> <img src \"./../assets/senror_v3751.jpg\" width 48%> <img src \"./../assets/sensor_v3753.jpg\" width 48%> </html> #### å¦‚ä½•å¯åŠ¨ AXera Pi ï¼Ÿ >å› ç‰©æ–™æ›´æ¢å±å¹•çŽ°æœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼Œéœ€åŒºåˆ«ç‰ˆæœ¬ä»¥åŠä½¿ç”¨å±å¹•æ—¶å‡ºçŽ°é”¯é½¿ç­‰ç”»é¢è¯·ç§»æ­¥åˆ°[ Maix III ç³»åˆ— AXera Pi å¸¸è§é—®é¢˜(FAQ) ](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html#Qï¼šç¡¬ä»¶ç‰©æ–™æ›´æ”¹è¯´æ˜Žã€æ²¡æœ‰ wlan0 ã€å±å¹•çƒ§å±ã€æ‘„åƒå¤´å€’è¿‡æ¥æ€Žä¹ˆè§£å†³ï¼Ÿ)æŸ¥è¯¢ã€‚ å¦‚æžœ PC æ”¯æŒ USB3.0 * ç”¨ type c æŽ¥å…¥ `USB UART`ï¼Œä¸²å£æ–¹å¼ç™»å½•å¼€å‘æ¿ * æˆ–è€…æŽ¥ `USB OTG`ï¼Œ ssh æ–¹å¼ç™»å½•å¼€å‘æ¿ å¦‚æžœ PC åªæ”¯æŒ USB2.0 * éœ€è¦ä¸¤ä¸ª USB2.0 ç«¯å£ã€ä¸¤æ ¹ type cï¼ŒåŒæ—¶è¿žæŽ¥ `USB UART` å’Œ `USB OTG` ï¼Œå¦åˆ™ç”µæµä¸è¶³æ— æ³•å¼€æœº ![start](./../assets/start.jpg) > åœ¨ **20221013** åŽè®¾å¤‡é€šç”µå¼€æœºä¼šä»Žè€³æœºæ’­æ”¾éŸ³ä¹å’Œç‚¹äº®å‡ºåŽ‚çš„ 5 å¯¸å±å¹•ï¼Œå¹¶åœ¨ä¸²å£è¾“å‡ºå¦‚ä¸‹çš„ debian11 ç³»ç»Ÿå¯åŠ¨æ—¥å¿—ï¼ˆæˆªå–éƒ¨åˆ†æ—¥å¿—å¦‚ä¸‹ï¼‰.[æœ‰äº›åŒå­¦ä¼šé‡åˆ° Ubuntu22.04 CH340 ç³»åˆ—ä¸²å£é©±åŠ¨ï¼ˆæ²¡æœ‰ ttyUSBï¼‰é—®é¢˜ï¼Œç‚¹æ­¤æŸ¥çœ‹è§£å†³æ–¹æ¡ˆ](https://blog.csdn.net/qq_27865227/article/details/125538516)ã€‚ ![m3axpi_debian_boot_log_screenshot](./../../../en/maixIII/ax pi/assets/flash_system/m3axpi_debian_boot_log_screenshot.png) ### ç™»å½•åˆ°æ¿å­é‡Œ > å½“ **AXera Pi** å‡ºçŽ°ä¸Šè¿° logo ç”»é¢åŽä»£è¡¨å¼€æœºæˆåŠŸï¼Œè¿™æ—¶æˆ‘ä»¬æŠŠæ¿å­å½“åšä¸€å° Linux æœåŠ¡å™¨æ¥å¯¹å¾…ã€‚ ![axpi login](./../assets/axpi login.png) é€šè¿‡**ã€Œç³»ç»Ÿç™»å½•æ–¹å¼ã€**å¿«é€Ÿå¸®åŠ©ç”¨æˆ·äº†è§£å¦‚ä½•ç™»å½•åˆ°è®¾å¤‡é‡Œçš„ Linux ç³»ç»Ÿï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹© `USB UART ä¸²å£` æˆ– `USB OTG SSH` ç™»å½•ï¼Œå¯ç‚¹å‡»[**ã€Œç³»ç»Ÿä½¿ç”¨æ‰‹å†Œ ç™»å½•æ–¹å¼ã€**](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95)å‰å¾€æŸ¥çœ‹ï¼Œä»¥ä¸‹æ–‡ USB OTG å£çš„ usb0 ç½‘å¡ï¼ˆ192.168.233.1ï¼‰ä½œä¸º ssh ç™»å½•çš„ ip è¿›å…¥æ¿å­ä¸ºä¾‹ã€‚ ```bash juwan@juwan n85 dls:$ sshpass p root ssh root@192.168.233.1 Linux AXERA 4.19.125 #53 SMP PREEMPT Tue Sep 13 13:16:27 HKT 2022 armv7l The programs included with the Debian GNU/Linux system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. Last login: Wed Oct 12 16:43:43 2022 from 192.168.233.10 root@AXERA:~# screenfetch _,met$$$$$gg. root@AXERA ,g$$$$$$$$$$$$$$$P. OS: Debian ,g$$P\"\" \"\"\"Y$$.\". Kernel: armv7l Linux 4.19.125 ,$$P' `$$$. Uptime: 2d 3h 5m ',$$P ,ggs. `$$b: Packages: 785 `d$$' ,$P\"' . $$$ Shell: bash 5.1.4 $$P d$' , $$P Disk: 2.6G / 3.6G (77%) $$: $$. ,d$$' CPU: ARMv7 rev 5 (v7l) @ 4x 1.248GHz $$\\; Y$b._ _,d$P' RAM: 88MiB / 744MiB Y$$. `.`\"Y$$$$P\"' `$$b \" .__ `Y$$ `Y$$. `$$b. `Y$$b. `\"Y$b._ `\"\"\"\" root@AXERA:~# ax_clk AX620A: DDR: 3733 MHz CPU: 800 MHz BUS of VPU: 624 MHz BUS of NPU: 624 MHz BUS of ISP: 624 MHz BUS of CPU: 624 MHz NPU OTHER: 800 MHz NPU GLB: 24 MHz NPU FAB: 800 MHz NPU CORE1: 800 MHz NPU CORE0: 800 MHz ISP: 533 MHz MM: 594 MHz VPU: 624 MHz root@AXERA:~# ``` <! ç”±ä¸Šæ–‡æˆ‘ä»¬å¯ä»¥çŸ¥é“æ¿å­çš„åŸºç¡€ä¿¡æ¯ï¼Œåœ¨ **20221202** åŽæ›´æ–°çš„é•œåƒåŒ…é‡Œå·²ç»å¼€æ”¾äº† 1.22G çš„ç”¨æˆ·ç©ºé—´ã€‚ > <! æˆ‘ä»¬å¯ä»¥è·Ÿç€æŒ‡å—å¾€ä¸‹çœ‹å­¦ä¼šæŠŠæ¿å­ç”¨èµ·æ¥ï¼ > <! æˆ‘ä»¬å¯ä»¥çŸ¥é“æ¿å­çš„åŸºç¡€ä¿¡æ¯ï¼Œç›®å‰é»˜è®¤æ˜¯ç”¨ 800Mhz æ¥è·‘ï¼Œè€Œä¸”å†…å­˜åˆ†é…è¾ƒä¿å®ˆèƒ½ç•™ç»™ç”¨æˆ·çš„ç©ºé—´å†…å­˜ä¸åˆ° 1GBï¼Œä½†ä¸ç”¨æ‹…å¿ƒï¼Œæ¿å­è´´å¾—å†…å­˜æœ€å°éƒ½å¾—æ˜¯ 2G çš„ï¼Œæ‰€ä»¥ä¹‹åŽä¼šé€šè¿‡æ›´æ–°å†…æ ¸å¼€æ”¾æ›´å¤šå†…å­˜ç»™ç”¨æˆ·ç©ºé—´ã€‚ > ### å­¦ä¼šä½¿ç”¨æ¿å­ ![axpi ai](./../assets/axpi ai.png) ç”±äºŽé»˜è®¤æ²¡æœ‰é…ç½®æ¡Œé¢çŽ¯å¢ƒï¼ˆåªæ˜¾ç¤º logoï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°† **AXera Pi** è¿žæŽ¥ä¸€å°ç”µè„‘ï¼Œé€šè¿‡ç»ˆç«¯ç®¡ç†è½¯ä»¶ï¼ˆshellï¼‰ä¸Žå®ƒè¿›è¡Œå‘½ä»¤è¡Œäº¤äº’ï¼Œè¿™äº›å¯ä»¥åœ¨[ã€Œç³»ç»Ÿä½¿ç”¨æ‰‹å†Œ éªŒè¯å¤–è®¾ã€](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E9%AA%8C%E8%AF%81%E7%B3%BB%E7%BB%9F%E5%A4%96%E8%AE%BE)å­¦ä¼šæ¿ä¸Šæ‰€æœ‰éªŒè¯è¿‡çš„ç³»ç»Ÿè°ƒé¢‘ã€å¤–è®¾ã€é©±åŠ¨ã€åº”ç”¨ç­‰èµ„æºçš„ç”¨æ³•ï¼Œåƒä¸€äº› Linux æ“ä½œåŸºç¡€ã€å¦‚ä½•æŽ§åˆ¶ I2C / UART / SPI è¿™äº›ç¡¬ä»¶è®¾å¤‡çš„æ“ä½œï¼Œè¿˜å¯ä»¥åœ¨[ã€Œç³»ç»Ÿä½¿ç”¨æ‰‹å†Œ å†…ç½® AI åº”ç”¨ã€](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E9%AA%8C%E8%AF%81%E7%B3%BB%E7%BB%9F%E5%A4%96%E8%AE%BE)é‡Œè°ƒç”¨å†…ç½®çš„å¼€ç®± AI åº”ç”¨åŠä¾‹ç¨‹ï¼Œå¿«åŽ»ç”¨èµ·æ¥å§ï¼ ![serial](./../assets/serial.jpg) ### è¯•è¯• Python ç¼–ç¨‹ï¼ˆé€‚ç”¨åˆå­¦è€…ï¼‰ åŸºäºŽè¿™ç¯‡ä¸Šæ‰‹æŒ‡å¼•çš„ä¸€è·¯èµ°ä¸‹æ¥çš„å­¦ä¹ ï¼Œç›¸ä¿¡å°ä¼™ä¼´ä»¬ä¹ŸåŸºæœ¬å¯¹ **AXera Pi** åŸºç¡€ä½¿ç”¨ä»¥åŠéªŒè¯å¤–è®¾æœ‰ä¸€å®šçš„æŽŒæ¡äº†ï¼Œé‚£æˆ‘ä»¬å°±è¸å…¥ç¼–ç¨‹çš„ä¸–ç•Œï¼Œä¸€èµ·æ¥è¯•è¯• Python ç¼–ç¨‹å§ï¼ [è¯•è¯• Python ç¼–ç¨‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/python_api.html) æˆ‘ä»¬å†…ç½®äº†ä»¥ `jupyter notebook/ax pipline api/pinpong` ç­‰ Python åŒ…ï¼Œä½ å¯ä»¥åœ¨**ã€Œè¯•è¯• Python ç¼–ç¨‹ã€**é‡ŒèŽ·å¾—å¦‚ä½•åœ¨ **AXera Pi** ä¸Šè¿›å…¥ Python æ¨¡å¼å¯åŠ¨ `jupyter notebook` å¹¶ä½¿ç”¨è¿è¡Œ AI æ¨¡åž‹ã€‚ ![python_jy](./../assets/python_jy.jpg) ä»¥åŠå¦‚ä½•è¿žæŽ¥ **Arduino UNO** ä»¥åŠ **Microbit** è¿›è¡Œ Python ç¼–ç¨‹çš„æ•ˆæžœå¦‚ä¸‹å›¾ã€‚ <html> <img src \"./../assets/arduino.jpg\" width 48%> <img src \"./../assets/microbit.jpg\" width 48%> </html> ### å‡†å¤‡ C/C++ ç¼–ç¨‹ï¼ˆé€‚ç”¨å¼€å‘è€…ï¼‰ èƒ½èµ°åˆ°è¿™é‡Œå°±è¯´æ˜Žæ¿å­å·²ç»ç”¨èµ·æ¥äº†ï¼Œé‚£å°±æ¥å¼€å‘å§ï¼åœ¨è¿™ä¹‹å‰éœ€è¦**ã€Œå‡†å¤‡ C/C++ ç¼–ç¨‹ã€**äº†è§£å¦‚ä½•æ‹·è´æ–‡ä»¶åˆ°æ¿å­é‡Œï¼Œå¦‚ä½•æ­å»ºæœ¬åœ°ç¼–è¯‘æˆ–äº¤å‰ç¼–è¯‘ï¼Œç„¶åŽå­¦ä¹ åˆ°å¦‚ä½•åŸºäºŽçŽ°æœ‰çš„ä»£ç è¿›è¡Œå¼€å‘ã€‚ [å‡†å¤‡ C/C++ ç¼–ç¨‹](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/dev_prepare.html) å¿«é€Ÿäº†è§£çŽ°åœ¨æä¾›å“ªäº›å¼€æºä»£ç ä»“åº“ä»¥åŠç”¨æ³•ï¼Œè¿™äº›å¼€æºä»“åº“ä¼šæŒç»­æ›´æ–°å’Œå¼€æ”¾çš„ã€‚ ![axpi_sdk.jpg](./../assets/axpi_sdk.jpg) ### è®­ç»ƒæ¨¡åž‹éƒ¨ç½² åˆå­¦è€…è®­ç»ƒæ¨¡åž‹å¯ä»¥ä»Ž [AI å¼€å‘æŒ‡å—](https://wiki.sipeed.com/ai/zh/deploy/ax pi.html) å­¦ä¹ å¦‚ä½•è®­ç»ƒä¸€ä¸ªæœ€ç®€å•çš„æ¨¡åž‹åˆ°é‡åŒ–è½¬æ¢éƒ¨ç½²æµ‹è¯•ã€‚ æ›´ä¸“ä¸šæ›´æ·±å…¥çš„è°ƒä¼˜éœ€è¦äº†è§£ [Pulsar](https://pulsar docs.readthedocs.io/) ï¼Œè¿™æ˜¯ç”±**ã€Œçˆ±èŠ¯å…ƒæ™ºã€**è‡ªä¸»ç ”å‘çš„ all in one ç¥žç»ç½‘ç»œç¼–è¯‘å™¨ï¼Œå……åˆ†å‘æŒ¥ç‰‡ä¸Šå¼‚æž„è®¡ç®—å•å…ƒ(CPU+NPU)ç®—åŠ›ï¼Œ Pulsar å·¥å…·é“¾æ ¸å¿ƒåŠŸèƒ½æ˜¯å°† .onnx æ¨¡åž‹ç¼–è¯‘æˆèŠ¯ç‰‡èƒ½è§£æžå¹¶è¿è¡Œçš„ ï¼ˆ.jointï¼‰ æ¨¡åž‹ã€‚ ç›®å‰æœ‰ä»¥ä¸‹å‡ ç§éƒ¨ç½²æ–¹å¼ï¼ˆPipelineï¼‰æŽ¨èï¼š **libmaix**ï¼šå¹¶ä¸åœ¨æ„ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆçŽ‡ï¼Œç”¨æœ€å¿«çš„æ–¹å¼æŠŠæ‘„åƒå¤´å›¾åƒè¾“å…¥ AI æ¨¡åž‹åŽè¾“å‡ºè¯†åˆ«ç»“æžœç»˜åˆ¶åˆ°æ˜¾ç¤ºåˆ°å±å¹•ä¸ŠéªŒè¯ä¸€ä¸‹è¯†åˆ«æ•ˆæžœã€‚ **ax pipeline**ï¼šæ²¡æœ‰å¤šä½™çš„å°è£…ï¼Œç›´æŽ¥æ“ä½œèŠ¯ç‰‡æ ¸å¿ƒèµ„æº vin \\ ivps \\ npu \\ vo ç­‰ç¡¬è§£è®¾å¤‡è¿›è¡Œéƒ¨ç½²å¼€å‘ï¼Œå¯ä»¥ä½¿æ¨¡åž‹éƒ¨ç½²è¾¾åˆ°ä¸€ä¸ªéžå¸¸å¥½çš„æ•ˆæžœã€‚ **IPCDemo**ï¼šä»¥æ•ˆæžœæœ€å¥½ã€æ€§èƒ½æœ€å¥½ã€å ç”¨æœ€å°‘ã€ç¨³å®šå¯é ã€åŠŸèƒ½æœ€å¤šã€ç¡®ä¿æœ€ç»ˆèƒ½éƒ¨ç½²åˆ°ç”¨æˆ·çš„çŽ°åœºä¸å‡ºé—®é¢˜çš„æ¡†æž¶ä»£ç æ¥å¼€å‘ AI ç¨‹åºã€‚ #### libmaix éƒ¨ç½² åœ¨æ¿å­ä¸Šç¼–è¯‘è¿™ä¸ªç¤ºä¾‹ä»£ç  [axpi_classification_cam](https://github.com/sipeed/libmaix/tree/release/examples/axpi_classification_cam)ï¼Œç„¶åŽæ”¾å…¥æ¨¡åž‹è¿è¡ŒåŽå³å¯çœ‹åˆ°æ•ˆæžœï¼Œæˆªæ­¢ **20221013** å‰ä»£ç è¿˜æ²¡æœ‰ä¼˜åŒ–æ‰€ä»¥æ€§èƒ½ä¸é«˜åªå¤Ÿçœ‹ä¸ªç»“æžœï¼Œæƒ³è¦æ•ˆæžœå’Œæ€§èƒ½å¯ä»¥çœ‹ **ax pipeline** éƒ¨ç½²ã€‚ <p align \"center\"> <img src \"./../assets/mobilenet_axpi.jpg\" alt \"img\" style \"zoom: 100%;\" /> </p> å³å¯éªŒè¯æ•ˆæžœï¼š[è¯¦ç»†å¯ä»Ž maixhub ä¸ŠèŽ·å–](https://maixhub.com/model/zoo/89)ã€‚ #### ax pipeline éƒ¨ç½² ä»¥ä¸Šçš„éƒ¨ç½²æ–¹å¼éƒ½å‡ºäºŽå¿«é€ŸéªŒè¯æˆ–åº”ç”¨è½åœ°çš„è§’åº¦è¿›è¡Œçš„ï¼Œè¿˜æœ‰ä¸€å¥—åŸºäºŽ **bsp sdk** çš„ [ax pipeline](https://github.com/AXERA TECH/ax pipeline) éƒ¨ç½²æ–¹å¼ï¼Œå®ƒé¢å‘æ—¢äº†è§£ AI åˆçŸ¥é“èŠ¯ç‰‡åº•å±‚ Linux å¼€å‘æ–¹æ³•çš„åŒå­¦ï¼Œç›®å‰å†…ç½®åº”ç”¨ä¸­æä¾›äº†æ¿å­çš„ **rtsp** å’Œå±å¹•åŒæŽ¨æµ **yolov5** å®žæ—¶è¯†åˆ«ä»¥åŠæ–°å¢ž **yolov5s seg** å®žä¾‹åˆ†å‰²çš„ç¨‹åºå°±æ˜¯æ¥è‡ªäºŽå®ƒã€‚ ![rtsp display](./../assets/rtsp display.jpg) #### IPCDemo éƒ¨ç½² è¿™æ˜¯ä¸€ä¸ªå…¸åž‹çš„ IPC æ¼”ç¤ºç¨‹åºï¼Œæºç åœ¨è¿™é‡Œ [axpi_bsp_sdk IPCDemo](https://github.com/sipeed/axpi_bsp_sdk/tree/main/app/IPCDemo) ï¼Œå…¶ä¸­ IPCDemo çš„åŠŸèƒ½æ¨¡å—æœ‰ï¼š ISPï¼šè´Ÿè´£ä»Ž Sensor èŽ·å–å›¾åƒ RAW æ•°æ®å¹¶è½¬ä¸º YUVï¼Œæœ€ç»ˆåˆ† 3 è·¯é€šé“è¾“å‡ºä»¥ä¸Šä¿¡æ¯ã€‚ IVPSï¼šå›¾åƒè§†é¢‘å¤„ç†æ¨¡å—ã€‚å®žçŽ°å¯¹è§†é¢‘å›¾å½¢è¿›è¡Œä¸€åˆ†å¤šã€Resizeã€Cropã€æ—‹è½¬ç­‰åŠŸèƒ½ã€‚ VENC / JENCï¼šè§†é¢‘/JPEG ç¼–ç è¾“å‡ºã€‚ Detectï¼šæ”¯æŒäººè„¸æˆ–ç»“æž„åŒ–æ£€æµ‹ã€‚ Web æ˜¾ç¤ºï¼šå®žçŽ° H264 æµçš„ Web ä¼ è¾“å’Œæä¾› Web æ–¹å¼æŸ¥çœ‹å®žæ—¶è§†é¢‘ã€‚ RTSP æŽ¨æµï¼šå®žçŽ° H264 æµçš„ RTSP å°è£…ä»¥åŠä¼ è¾“ã€‚ å½•åƒ TF å¡å­˜å‚¨ï¼šå°è£… H264 æµä¸º MP4 æ ¼å¼æ–‡ä»¶å¹¶ä¿å­˜è‡³ TF å¡æˆ–è€… FLASH ç©ºé—´ã€‚ ä»¥ä¸‹è§†é¢‘ä¸­çš„ IPCDemo ç¨‹åºä½¿ç”¨æ–¹æ³•è¯·ç‚¹å‡»<a href \"https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E5%86%85%E7%BD%AE%E5%BC%80%E7%AE%B1%E5%BA%94%E7%94%A8\" target \"blank\">å†…ç½®å¼€ç®±åº”ç”¨</a>æŸ¥çœ‹ã€‚ <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 260625114&bvid BV1me411T7g8&cid 837160730&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\" style \"max width:640px; max height:480px;\"> </iframe> </p>"},"/hardware/zh/maixIII/ax-pi/python_api.html":{"title":"Maix-III AXera-Pi è¯•è¯• Python ç¼–ç¨‹","content":"æ—¶é—´è´Ÿè´£äººæ›´æ–°å†…å®¹: :: :: :2022.12.02lyxåˆæ¬¡ç¼–å†™æ–‡æ¡£2022.12.15lyxå¢žåŠ å†…å®¹2023.01.04lyxå¢žåŠ äººè„¸/è½¦ç‰Œè¯†åˆ«ã€Yolov6ç­‰æ–°æ¨¡åž‹2023.01.29lyxè¡¥å……ç»†èŠ‚è¯´æ˜Ž2023.02.23lyxå¢žåŠ YOLOV8ã€YOLOV8 SEGã€ax_bvc_detï¼ˆäººè½¦éžæ£€æµ‹ï¼‰ã€crowdcountï¼ˆäººæµé‡ç»Ÿè®¡ï¼‰ç­‰æ¨¡åž‹åŸºäºŽå‰æ–‡çš„[äº§å“ä¸Šæ‰‹æŒ‡å—](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/flash_system.html)ä»¥åŠ[ç³»ç»Ÿä½¿ç”¨æ‰‹å†Œ](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html)åŽï¼Œæœ¬æ–‡ç« ä¼šä»‹ç»å¦‚ä½•åœ¨MAIX IIIAXera Piæ¿å¡ä¸Šä½“éªŒPythonç¼–ç¨‹ï¼##å‰è¨€ä»ŽMIAX IMCUã€MAIX IISOCã€å†åˆ°MAIX IIILinuxç³»åˆ—ï¼ŒSIPEEDä¸€ç›´åœ¨è‡´åŠ›äºŽè®©æ›´å¤šçš„äººè½»æ¾å¿«æ·çš„æŠŠæ¿å¡ä½¿ç”¨èµ·æ¥ï¼Œæ‰€ä»¥è¡ç”Ÿäº†å„ç§å„æ ·çš„ä¸Šæ‰‹æŒ‡å—æ–‡æ¡£ï¼Œæ¿å¡ä¹Ÿåœ¨å¢žåŠ ç€æ›´å¤šå½¢å¼çš„ç¼–ç¨‹ä½“éªŒï¼ŒLinuxåŸºç¡€å·®ä¸ç†Ÿæ‚‰ï¼ŸC++æœ‰éš¾åº¦ï¼Ÿè°ƒç”¨AIæ¨¡åž‹å›°éš¾ï¼Ÿæ²¡æœ‰å…³ç³»ï¼Œé‚£å°±ç”±è¿™ç¯‡é€‚åˆåˆå­¦è€…çš„Pythonç¼–ç¨‹æ–‡æ¡£æ¥å¸®åŠ©ä½ å¿«é€ŸæŠŠAXera Piæ¿å¡ç”¨èµ·æ¥å¹¶è°ƒç”¨AIæ¨¡åž‹åº”ç”¨ã€‚åœ¨è¿›å…¥åˆ°ä½¿ç”¨Pythonç¼–ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè®¤è¯†è¦ä½¿ç”¨çš„è¯­è¨€ä»¥åŠå·¥å…·ï¼Œä¸€èµ·å¾€ä¸‹çœ‹å§ã€‚åœ¨AXera Piæ¿å¡å†…ç½®äº†`Python3ã€JupyterNotebookã€Pinpongã€Pillow`ç­‰åŒ…è®©ç”¨æˆ·æ›´ä¾¿æ·çš„è¿›è¡Œä½¿ç”¨Pythonç¼–ç¨‹ï¼Œæœ¬ç¯‡æ–‡æ¡£ä»¥åœ¨`JupyterNotebook`ç½‘é¡µä¸Šè¿›è¡ŒPythonç¼–ç¨‹ä¸ºç¤ºä¾‹é˜è¿°ã€‚###ä»€ä¹ˆæ˜¯Python**Python**æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„è§£é‡Šåž‹ã€é«˜çº§å’Œé€šç”¨çš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ”¯æŒå¤šç§ç¼–ç¨‹èŒƒåž‹åŒ…æ‹¬å‡½æ•°å¼ã€æŒ‡ä»¤å¼ã€åå°„å¼ã€ç»“æž„åŒ–å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œè¿˜æ‹¥æœ‰åŠ¨æ€ç±»åž‹ç³»ç»Ÿå’Œåžƒåœ¾å›žæ”¶åŠŸèƒ½ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç®¡ç†å†…å­˜ä½¿ç”¨ï¼Œå¹¶ä¸”å…¶æœ¬èº«æ‹¥æœ‰ä¸€ä¸ªå·¨å¤§è€Œå¹¿æ³›çš„æ ‡å‡†åº“ã€‚![api_python_logo 3.jpg](attachment:api_python_logo 3.jpg) **Pythonä¸ŽC++ç›¸æ¯”æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**ä»Žä¸Šæ–‡å¾—çŸ¥Pythonæ˜¯ä¸€ç§è§£é‡Šåž‹è¯­è¨€ï¼Œç”¨æˆ·ä¸éœ€è¦ç¼–è¯‘ä»¥æ‰©å±•åä¸º`.py`çš„ä»£ç å¯ç›´æŽ¥ä¼ é€’ç»™è§£é‡Šå™¨ç”Ÿæˆè¾“å‡ºã€‚è€ŒC++æ˜¯ç¼–è¯‘åž‹è¯­è¨€ï¼Œç¼–è¯‘å™¨éœ€è¦æŠŠæºä»£ç ç”Ÿæˆç›®æ ‡ä»£ç å†æ‰§è¡Œç”Ÿæˆè¾“å‡ºã€‚å¯¹äºŽåˆå­¦è€…æ¥è¯´Pythonæ›´æ˜“äºŽå­¦ä¹ å¹¶ä¸”è¯­æ³•ç®€å•ã€å¯è¯»æ€§æ›´å¼ºã€‚è€ŒC++åœ¨ç³»ç»Ÿç¼–ç¨‹åŠæ€§èƒ½ä¸Šæ›´ä¼˜èƒœï¼Œä½†è¯­æ³•å¤æ‚ç¼–å†™èµ·æ¥å¯¹åˆå­¦è€…æœ‰ä¸€å®šçš„æŒ‘æˆ˜éš¾åº¦ã€‚ **PythonåŸºç¡€åŠå…¥é—¨å­¦ä¹ **åœ¨ä½¿ç”¨JupyterNotebookè¿›è¡ŒPythonç¼–ç¨‹ä¹‹å‰ï¼ŒåŒå­¦ä»¬éœ€è¦æŽŒæ¡ä¸€å®šçš„Pythonè¯­è¨€çš„åŸºç¡€æ‰èƒ½æŽ¥ç€å¾€ä¸‹èµ°ï¼Œå¯æ ¹æ®ä¸‹åˆ—æä¾›çš„ä¼ é€é—¨è¿›è¡Œå­¦ä¹ ã€‚[ä»€ä¹ˆæ˜¯Python?](https://wiki.sipeed.com/soft/maixpy3/zh/origin/python.html?highlight python)[å›½å†…PythonåŸºç¡€æ•™ç¨‹](https://wiki.sipeed.com/soft/maixpy3/zh/origin/video.html)**ä»¥ä¸‹çš„æ–‡ç« é€‚åˆæœ‰ä¸€å®šPythonåŸºç¡€æƒ³æ·±å…¥çš„åŒå­¦ä»¬ï¼š**[å¤§ä½¬é¼ ã®åµŒå…¥å¼Pythonå…¥é—¨æ•™ç¨‹[1]](https://wiki.sipeed.com/soft/maixpy3/zh/origin/hello_world.html)[å¤§ä½¬é¼ ã®åµŒå…¥å¼Pythonå…¥é—¨æ•™ç¨‹[2]](https://wiki.sipeed.com/soft/maixpy3/zh/origin/loop_python.html)###ä»€ä¹ˆæ˜¯JupyterNotebookå®ƒæ˜¯åŒæ—¶å…¼å…·Python3ã€MarkdownåŠTerminalçš„çŽ¯å¢ƒå¹¶åŸºäºŽç½‘é¡µç”¨äºŽäº¤äº’è®¡ç®—çš„åº”ç”¨ç¨‹åºã€‚å…¶å¯åº”ç”¨äºŽå¼€å‘ã€æ–‡æ¡£ç¼–å†™ã€è¿è¡Œä»£ç å’Œå±•ç¤ºç»“æžœï¼Œä»¥ç½‘é¡µçš„å½¢å¼æ‰“å¼€å¹¶å¯ç›´æŽ¥ç¼–å†™åŠè¿è¡Œä»£ç ï¼Œè¿è¡Œç»“æžœä¹Ÿä¼šç›´æŽ¥æ˜¾ç¤ºåœ¨ä»£ç æ¡†ä¸‹å±‚ã€‚å¦‚åœ¨è¿‡ç¨‹ä¸­éœ€è¦ç¼–å†™è¯´æ˜Žæ–‡æ¡£ï¼Œå¯åœ¨åŒé¡µé¢ä¸­ç¼–å†™ä¾¿äºŽåŠæ—¶çš„è§£é‡Šå’Œè¯´æ˜Žã€‚![api_jupyter.jpg](attachment:api_jupyter.jpg)##å¯åŠ¨ç½‘é¡µ>å¦‚æžœä½ æµè§ˆå®Œä¸Šé¢çš„æ®µè½åŽåˆ°è¾¾è¿™é‡Œï¼Œç›¸ä¿¡ä½ å·²ç»æŽŒæ¡å¦‚ä½•åœ¨AXera Piè¿›è¡Œçƒ§å½•å¹¶ç™»å½•ç³»ç»Ÿä»¥åŠåŸºç¡€çš„Linuxæ“ä½œäº†ï¼Œå¹¶å¯¹æˆ‘ä»¬å³å°†ç”¨åˆ°çš„Pythonè¯­è¨€ä»¥åŠå·¥å…·`JupyterNotebook`æœ‰äº†ä¸€å®šçš„è®¤è¯†ï¼Œé‚£å°±æŽ¥ç€å¾€ä¸‹å­¦ä¹ å¦‚ä½•å¯åŠ¨ç½‘é¡µè¿›è¡ŒPythonç¼–ç¨‹å§ï¼> [äº§å“ä¸Šæ‰‹æŒ‡å—](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/flash_system.html)> [ç³»ç»Ÿä½¿ç”¨æ‰‹å†Œ](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html)ä½¿ç”¨å‰å‡†å¤‡ä¸€å°AXera Piè®¾å¤‡å¹¶æŠŠå®ƒæŽ¥å…¥ç”µè„‘ç«¯é€šç”µï¼Œå‚è€ƒ[ç³»ç»Ÿä½¿ç”¨æ‰‹å†Œ](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/basic_usage.html#%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95)ç™»å½•åˆ°æ¿å¡çš„Linuxdebian11ç³»ç»Ÿï¼Œç™»å½•åŽä½¿ç”¨`ifconfig a`å‘½ä»¤æŸ¥çœ‹æ¿å¡çš„IPåœ°å€æ–¹ä¾¿åŽç»­ä½¿ç”¨ã€‚æŸ¥è¯¢å®Œè¾“å…¥`jupyternotebook`å‘½ä»¤å¯åŠ¨å®ƒï¼Œç»ˆç«¯ä¼šè¿”å›žä¸€ç³»åˆ—æœåŠ¡å™¨çš„ä¿¡æ¯ã€‚![api_adb.jpg](attachment:api_adb.jpg)ä¸Šå›¾å¯ä»¥çœ‹åˆ°ç»ˆç«¯è¿”å›žæœåŠ¡å™¨ä¿¡æ¯ï¼Œæ‰“å¼€ä»»æ„æµè§ˆå™¨è¾“å…¥æ¿å¡IPåœ°å€åŽç¼€åŠ ä¸Š`:8888`å³å¯ç›´æŽ¥è®¿é—®ç½‘é¡µç«¯**ï¼ˆä½†è¯·æ³¨æ„ï¼šlo:127.0.0.1æ­¤IPæ˜¯ä¸å¯ç”¨äºŽè®¿é—®ï¼‰**ç½‘é¡µç«¯ä¼šæé†’è¾“å…¥å¯†ç `root`åŽè®¿é—®ã€‚![api_root.png](attachment:api_root.png)>**æ³¨æ„**ï¼šä½¿ç”¨JupyterNotebookæ—¶ç»ˆç«¯éœ€ä¿æŒè¿žæŽ¥çŠ¶æ€ï¼Œå¦åˆ™ä¼šä¸Žæœ¬åœ°æœåŠ¡å™¨çš„è¿žæŽ¥æ–­å¼€è€Œæ— æ³•æ“ä½œã€‚è¾“å…¥åŽä¼šè·³è½¬åˆ°`Files`çš„é¡µé¢ï¼Œç‚¹å‡»å³ä¾§çš„`New`å¯é€‰æ‹©ç¬¦åˆéœ€æ±‚çš„ç¼–è¾‘çŽ¯å¢ƒã€‚![api_python3.jpg](attachment:api_python3.jpg)```txtPython3ï¼šé»˜è®¤çš„python3kernelTextFileï¼šæ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶Folderï¼šæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹Terminalï¼šåœ¨æµè§ˆå™¨ä¸­æ–°å»ºä¸€ä¸ªç”¨æˆ·ç»ˆç«¯ï¼Œç±»ä¼¼äºŽshell/adbç»ˆç«¯.```##åŸºç¡€ç”¨æ³•è¿™é‡Œä»‹ç»æ¯ä¸ªæ–¹æ¡†ç§°ä¸ºå•å…ƒæ ¼ï¼Œå•å…ƒæ¡†å·¦ä¾§ä¼šæœ‰**è“è‰²ï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰**æˆ–**ç»¿è‰²ï¼ˆç¼–è¾‘æ¨¡å¼ï¼‰**ä¸¤ç§é¢œè‰²ã€‚**`è“è‰²å•å…ƒæ ¼`(å‘½ä»¤æ¨¡å¼)**![green.jpg](attachment:green.jpg)**`ç»¿è‰²å•å…ƒæ ¼`(ç¼–è¾‘æ¨¡å¼)**![blue.jpg](attachment:blue.jpg)é€šç”¨ç”¨æ³•ï¼š **Shift+Enterï¼š**è¿è¡Œå•å…ƒæ ¼ï¼Œä¸”ä»¥å‘½ä»¤æ¨¡å¼åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå•å…ƒæ ¼ **Ctrl+Enterï¼š**è¿è¡Œå•å…ƒæ ¼ï¼Œä¸”è¿›å…¥å‘½ä»¤æ¨¡å¼ç¼–è¾‘æ¨¡å¼ä¸­ï¼š **Esc**ï¼šè¿›å…¥å‘½ä»¤æ¨¡å¼å‘½ä»¤æ¨¡å¼ä¸­ï¼š **hï¼š**æ‰“å¼€å¸®åŠ© **Enterï¼š**è¿›å…¥ç¼–è¾‘æ¨¡å¼ **xï¼š**å‰ªåˆ‡å•å…ƒæ ¼ **cï¼š**å¤åˆ¶å•å…ƒæ ¼ **vï¼š**ç²˜è´´å•å…ƒæ ¼ **ddï¼š**åˆ é™¤æ•´ä¸ªå•å…ƒæ ¼ **iiï¼š**ç»ˆæ­¢è¿è¡Œ **aï¼š**å‘å…‰æ ‡æ‰€åœ¨å•å…ƒæ ¼ä¸Šæ–¹æ·»åŠ å•å…ƒæ ¼ **bï¼š**å‘ä¸‹æ·»åŠ  **mï¼š**ä½¿å¾—å•å…ƒæ ¼å˜æˆmarkdownçŠ¶æ€##è¿è¡Œä»£ç >æœ¬ç¯‡æ–‡ç« æ‰€æœ‰çš„ç¤ºä¾‹ä»£ç éƒ½æ˜¯æ‘„åƒå¤´GC4653ä¸ºä¾‹ï¼Œå¦‚æœ‰OS04A10åž‹å·è¯·å‰å¾€[Maix IIIç³»åˆ—AXera Piå¸¸è§é—®é¢˜ï¼ˆFAQï¼‰](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html)ä¿®æ”¹ã€‚ç”¨æˆ·é€‰æ‹©`Python3`çŽ¯å¢ƒå³å¯è¿›å…¥ç¼–è¾‘é¡µé¢ï¼Œåœ¨ç½‘é¡µä¸Šè¿è¡ŒPythonä»£ç æœ‰ä»¥ä¸‹ä¸‰ç§ç¤ºä¾‹ä¾›å¤§å®¶å‚è€ƒï¼Œä»£ç è¿è¡ŒåŽç¼–è¾‘æ¡†ä¸‹ä¼šæ‰“å°è¾“å‡ºç»“æžœå‚æ•°ï¼Œç”¨æˆ·åˆ™å¯ä»¥ä»Žæ¿å¡è®¾å¤‡å±å¹•è§‚å¯Ÿåˆ°è¿è¡Œå®žæ—¶æ•ˆæžœã€‚ **ä½¿ç”¨`!+cmd`è¿è¡Œå†…ç½®çš„è„šæœ¬æˆ–å‘½ä»¤è¡Œï¼Œæˆ–æ˜¯ç›´æŽ¥åœ¨æ¡†å†…ç¼–è¾‘`Python`ä»£ç å¹¶ç‚¹å‡»è¿è¡Œï¼Œè¿™é‡Œä»¥è¿è¡Œ`NPU`åº”ç”¨ä¸ºä¾‹ã€‚**!lshome/imagesair.jpg carvana02.jpg\t face5.jpg\t o2_resize.jpg ssd_car.jpg\r aoa 2.jpeg carvana03.jpg\t grace_hopper.jpg pineapple.jpg ssd_dog.jpg\r aoa.jpeg carvana04.jpg\t mobileface01.jpg pose 1.jpeg\t ssd_horse.jpg\r bike.jpg cat.jpg\t\t mobileface02.jpg pose 2.jpeg\r bike2.jpg cityscape.png\t mtcnn_face4.jpg pose 3.jpeg\r cable.jpg dog.jpg\t\t mtcnn_face6.jpg pose.jpg\r carvana01.jpg efficientdet.png mv2seg.png\t selfie.jpg!/home/ax samples/build/install/bin/ax_yolov5s m/home/models/yolov5s.joint i/home/images/cat.jpg r10 model file : /home/models/yolov5s.joint image file : /home/images/cat.jpg img_h, img_w : 640 640 [AX_SYS_LOG] AX_SYS_Log2ConsoleThread_Start Run Joint Runtime version: 0.5.10 [INFO]: Virtual npu mode is 1_1 Tools version: d696ee2f run over: output len 3 Create handle took 487.99 ms (neu 22.29 ms, axe 0.00 ms, overhead 465.70 ms) Repeat 10 times, avg time 22.57 ms, max_time 22.88 ms, min_time 22.46 ms detection num: 1 15: 89%, [ 167, 28, 356, 353], cat [AX_SYS_LOG] Waiting thread(2867848448) to exit [AX_SYS_LOG] AX_Log2ConsoleRoutine terminated!!! exit[AX_SYS_LOG] join thread(2867848448) ret:0fromIPython.displayimportImageImage(\"yolov5s_out.jpg\") **ä¹Ÿå¯ä»¥ä½¿ç”¨`%run`è·‘æ¨¡å—æ–‡ä»¶æˆ–`.py`æ–‡ä»¶ï¼Œè¿™é‡Œä»¥è¿è¡Œ`hello.py`ä¸ºä¾‹ã€‚**%runhello.pyhello worldï¼##å¯åŠ¨ç»ˆç«¯>ä¸Šæ–‡æ¼”ç¤ºäº†å¦‚ä½•å®žçŽ°Pythonç¼–ç¨‹ï¼Œè€Œ**JupyterNotebook**è¿˜èƒ½å¼€å¯ç»ˆç«¯å¹¶ä¸Ž`Python3`åŒæ—¶è¿è¡Œã€‚å›žåˆ°`homepage`åŽç‚¹å‡»å³ä¾§çš„`New`åŽé€‰æ‹©`Terminal`æ–°å»ºç»ˆç«¯è¿›è¡Œæ“ä½œã€‚ç”¨æˆ·å¯ä»¥åœ¨`Files`é¡µé¢ç›´æŽ¥æŸ¥çœ‹å†…ç½®ç›®å½•çš„æ–‡ä»¶å¤¹ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨ç»ˆç«¯ç”¨`ls`æŸ¥çœ‹ç›®å½•ï¼Œç”¨`cd`è¿›å…¥ç›®å½•ã€‚![api_wed%20.jpg](attachment:api_wed%20.jpg)##ç¼–å†™æ–‡æ¡£>ç”¨æˆ·å¯åœ¨**JupyterNotebook**é‡Œä½¿ç”¨`Markdowm`è¯­æ³•ç¼–å†™æ–‡æ¡£æå‡ä»£ç çš„æ˜“è¯»æ€§ä»¥åŠæ¡ç†æ€§ã€‚ç‚¹å‡»ç¼–è¾‘æ¡†æŠŠæ¨¡å¼ä»Žä»£ç æ›´æ¢æˆ`Markdown`ï¼Œåœ¨å‘½ä»¤æ¨¡å¼ä¸‹å¯ä½¿ç”¨`M`é”®å˜æˆ`Markdown`çŠ¶æ€ã€‚![api_markdown 2.jpg](attachment:api_markdown 2.jpg)##ä¼ è¾“æ–‡ä»¶>é™¤äº†è¿è¡Œä»£ç ä»¥åŠç¼–å†™æ–‡æ¡£ç­‰è¿˜å¯ä»¥è¿›è¡Œæ–‡ä»¶çš„ä¼ è¾“ï¼Œè®©ç”¨æˆ·ä½¿ç”¨æ›´åŠ ä¾¿æ·ã€‚ **å¦‚ä½•å¯¼å…¥ç”µè„‘ç«¯çš„æ–‡ä»¶ï¼Œä»¥ä¸‹é¢ä¸¤ç§æ–¹å¼ä¸ºä¾‹ï¼š**ç‚¹å‡»ä¸»é¡µå³ä¾§`New`æ–°å»º`TextFileï¼šæ–‡æœ¬æ–‡ä»¶`æˆ–`Folderï¼šæ–‡ä»¶å¤¹æˆ–æ–‡ä»¶`ï¼Œæ‰‹åŠ¨å¤åˆ¶ç²˜è´´å†…å®¹å¯¼å…¥æ–‡ä»¶ã€‚![api_python3.png](attachment:api_python3.png)æˆ–è€…æ˜¯ç›´æŽ¥ä»Žç½‘é¡µç«¯å¯¼å…¥æ–‡ä»¶ï¼Œç‚¹å‡»å³ä¾§çš„`Upload`ç›´æŽ¥åœ¨ä»»æ„ç›®å½•ä¸‹å¯¼å…¥éœ€è¦çš„æ–‡ä»¶å³å¯ã€‚![api_upload.jpg](attachment:api_upload.jpg) **å¦‚ä½•å¯¼å‡ºæˆ‘ä»¬åœ¨ç½‘é¡µç«¯ç¼–å†™çš„æ–‡ä»¶ï¼Œä»¥ä¸‹é¢ä¸ºä¾‹ï¼š**åœ¨ç½‘é¡µç«¯ç¼–å†™çš„çš„å†…å®¹éƒ½å¯ä»¥ä»¥æ–‡æ¡£çš„å½¢ä¼¼è¾“å‡ºï¼Œé»˜è®¤ä¿å­˜çš„æ˜¯ä»¥åŽç¼€åä¸º`.ipynb`çš„`json`æ ¼å¼ï¼Œä¿å­˜ä¸åŒæ ¼å¼è¯·ç‚¹å‡»`File` \\>`Downloadas` \\>`é€‰æ‹©ä½ éœ€è¦çš„æ ¼å¼å³å¯`ï¼Œç½‘é¡µä¼šè‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ°ã€‚![api_file 2.jpg](attachment:api_file 2.jpg)##ax pipeline api>åŸºäºŽ`20230214`åŽæ›´æ–°çš„é•œåƒåŒ…ï¼Œ`ax pipeline api`ç‰ˆæœ¬å‡çº§åˆ°1.0.9æ”¯æŒPythonèŽ·å–æ‘„åƒå¤´å›¾åƒåŠæŽ¨ç†ç»“æžœä¸€èµ·æ˜¾ç¤ºåˆ°å±å¹•ä¸Šæˆ–ä¿å­˜ã€‚[**ax pipeline apiï¼š**](https://github.com/junhuanchen/ax pipeline api)æ­¤é¡¹ç›®åŸºäºŽ[ax pipeline](https://github.com/AXERA TECH/ax pipeline)å®žçŽ°äº†`pybind11`å’Œ`ctypes`çš„PythonAPIï¼Œç”¨æˆ·å¯ä½¿ç”¨Pythonè°ƒç”¨å†…ç½®çš„å¤šç§AIæ¨¡åž‹ä»¥åŠé€šç”¨çš„Pythonåº“pinpongã€opencvã€numpyã€pillowç­‰ï¼Œè®©AXera Piç”¨èµ·æ¥æ›´ç®€å•ï¼ **`ctypes`å’Œ`pybind11`ä¸¤è€…åŒºåˆ«ï¼Ÿ**`ctypes`æ˜¯æœ€æ—©é€‚é…çš„ï¼Œç›¸è¾ƒäºŽæ–°çš„`pybind11`æ¥è¯´æ”¯æŒçš„æŽ¥å£æ›´å¤šç¨³å®šæ€§æ›´å¥½ï¼Œè€Œæ–°çš„`pybind11`åˆ™æ˜¯è¾“å‡ºæ•ˆæžœæ›´ç›´è§‚ï¼ˆå¯æ˜¾ç¤ºåˆ°å±å¹•/ç½‘é¡µä¸Šï¼‰ä»£ç æ›´ä»»æ„ç†è§£ï¼Œä½†ä¸¤è€…å› æ¿å¡å¤–è®¾æœ‰é™ä¸å¯æ··ç”¨ã€‚ **ä½¿ç”¨å‰å…ˆå®‰è£…èŽ·å–`ax pipeline api`åŒ…**å› `ax pipeline api`æ›´æ–°å‡çº§è¾ƒé¢‘ç¹ï¼Œç”¨æˆ·åœ¨ä½¿ç”¨Pythonç¼–ç¨‹å‰å¯å…ˆåœ¨ç»ˆç«¯ä½¿ç”¨ä¸‹æ–¹å‘½ä»¤è¡Œæ›´æ–°åŒ…ï¼Œç¡®ä¿è‡ªå·±ä½¿ç”¨æ˜¯æœ€æ–°ç‰ˆæœ¬çš„å³å¯ã€‚!pip3installax pipeline api URequirement already satisfied: ax pipeline api in /usr/local/lib/python3.9/dist packages (1.0.7) Collecting ax pipeline api Using cached ax pipeline api 1.0.7.tar.gz (15.5 MB) Using cached ax pipeline api 1.0.6.tar.gz (19.5 MB)>å¦‚æžœå‡ºçŽ°æ›´æ–°å¤±è´¥ï¼Œå¯æ›¿æ¢æ¸…åŽæº` ihttps://pypi.tuna.tsinghua.edu.cn/simple`åŠ é€Ÿä¸€ä¸‹ã€‚##Yolov5/Yolov8ç›®æ ‡æ£€æµ‹ï¼ˆctypesï¼‰æŠŠ`ax pipeline api`åŒ…å‡çº§å¥½åŽï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å…ˆä½“éªŒæ›´ç¨³å®šçš„**ctypes**çš„`Yolov5/8`æ¨¡åž‹å®žçŽ°ç›®æ ‡æ£€æµ‹ï¼importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/yolov5s.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:x,y,w,h i['bbox']['x'],i['bbox']['y'],i['bbox']['w'],i['bbox']['h']objname,objprob i['objname'],i['prob']print(objname,objprob,x,y,w,h)#iftmp['nObjSize']>10:#tryexit#pipeline.drop()b'bottle' 0.5032062530517578 0.11116950958967209 0.40303218364715576 0.21706661581993103 0.5804097652435303 b'bottle' 0.7368168830871582 0.11036165803670883 0.4033470153808594 0.2250344455242157 0.5822746157646179 b'bottle' 0.7751374244689941 0.11194521933794022 0.3943900167942047 0.21920150518417358 0.5996366739273071 b'bottle' 0.7996727228164673 0.1136007010936737 0.4050813317298889 0.21979697048664093 0.579041600227356 b'bottle' 0.7779128551483154 0.11486124992370605 0.4005553424358368 0.21681155264377594 0.5885791778564453 b'bottle' 0.7506007552146912 0.11348568648099899 0.4008048176765442 0.2208258956670761 0.5853195190429688 b'bottle' 0.7448824644088745 0.11283267289400101 0.40612301230430603 0.22086872160434723 0.5755194425582886importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/yolov8.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:x,y,w,h i['bbox']['x'],i['bbox']['y'],i['bbox']['w'],i['bbox']['h']objname,objprob i['objname'],i['prob']print(objname,objprob,x,y,w,h)#iftmp['nObjSize']>10:#tryexit#pipeline.drop()b'toilet' 0.4541160762310028 0.602770209312439 0.9111631512641907 0.16810722649097443 0.08513855934143066 b'toilet' 0.6902503967285156 0.606963574886322 0.9117961525917053 0.16024480760097504 0.08727789670228958 b'toilet' 0.6852353811264038 0.6020327210426331 0.9118891358375549 0.16942621767520905 0.08718493580818176 b'toilet' 0.7014157176017761 0.6041151881217957 0.9120386242866516 0.16582755744457245 0.0863698348402977 b'cup' 0.46080872416496277 0.6049922108650208 0.9143685698509216 0.1643451750278473 0.08425315469503403ä»Žä¸Šé¢è·‘çš„yolov8æ¨¡åž‹ç¤ºä¾‹æ¥çœ‹ï¼Œè¿è¡Œæ—¶ç¼–è¾‘æ¡†ä¸‹ä¼šè¾“å‡ºæ£€æµ‹ç»“æžœçš„ç›¸å…³å‚æ•°ï¼Œè€Œå®žé™…ç”»é¢å¯åœ¨æ¿å¡å±å¹•æŸ¥çœ‹ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»Žä¸Šé¢çš„ä»£ç ä¸­æ›¿æ¢ä¸åŒåŠŸèƒ½çš„`.so`åº“æˆ–ä¸åŒæ•ˆæžœçš„`AI`æ¨¡åž‹æ¥å®žçŽ°æ›´å¤šçš„AIåº”ç”¨ã€‚>æ›´æ¢`.so`åº“ä»¥åŠ`AI`æ¨¡åž‹è¯·å‚è€ƒä»¥ä¸‹ç¤ºä¾‹è¿›è¡Œä¿®æ”¹ï¼Œè¿™ç¯‡æ–‡æ¡£åªæŒ‘é€‰éƒ¨åˆ†ç»å…¸æ¨¡åž‹ä½œä¸ºç¤ºä¾‹ï¼Œå¤§å®¶å¯ä»¥ä¸¾ä¸€åä¸‰è¿›è¡Œæ›´æ¢åŠŸèƒ½åº“ä»¥åŠæ¨¡åž‹ï¼Œæ›´å¤šè¯¦ç»†ä¿¡æ¯å‰å¾€[ax pipeline api](https://github.com/junhuanchen/ax pipeline api)æŸ¥çœ‹ã€‚å…¨æ–‡ç¤ºä¾‹ä½¿ç”¨`GC4653`æ‘„åƒå¤´ä¸åŒåž‹å·è¯·å‰å¾€[Maix IIIç³»åˆ—AXera Piå¸¸è§é—®é¢˜ï¼ˆFAQï¼‰](https://wiki.sipeed.com/hardware/zh/maixIII/ax pi/faq_axpi.html)ä¿®æ”¹ã€‚ ä»¥ä¸‹æ˜¯å†…ç½®çš„libxxx*.soåº“æ€»è§ˆï¼š**å¯é€šè¿‡æ›¿æ¢ä¸åŒçš„`libxxx*.so`æ¥ä½“éªŒä¸åŒçš„åŠŸèƒ½ã€‚**```bashlibsample_h264_ivps_joint_vo_sipy.so#inputh264videotoivpsjointoutputscreenvolibsample_v4l2_user_ivps_joint_vo_sipy.so#inputv4l2/dev/videoXtoivpsjointoutputscreenvolibsample_rtsp_ivps_joint_rtsp_vo_sipy.so#inputvideofromrtsptoivpsjointoutputrtspandscreenvolibsample_vin_ivps_joint_vo_sipy.so#inputmipisensortoivpsjointoutputscreenvolibsample_vin_ivps_joint_venc_rtsp_sipy.so#inputmipisensortoivpsjointoutputrtsplibsample_vin_ivps_joint_venc_rtsp_vo_sipy.so#inputmipisensortoivpsjointoutputrtspandscreenvolibsample_vin_ivps_joint_vo_h265_sipy.so#inputmipisensortoivpsjointoutputscreenvoandsaveh265videofilelibsample_multi_rtsp_ivps_joint_multi_rtsp_sipy.so#inputmultirtspvideotoivpsjointoutputmultirtspvideolibsample_rtsp_ivps_joint_rtsp_sipy.so#inputvideofromrtsptoivpsjointoutputrtsplibsample_rtsp_ivps_joint_rtsp_vo_sipy.so#inputvideofromrtsptoivpsjointoutputrtspandscreenvolibsample_rtsp_ivps_joint_vo_sipy.so#inputvideofromrtsptoivpsjointoutputscreenvo```**æ›´æ¢`libxxx*.so`å¯å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ï¼š**```bashpipeline.load(['libsample_vin_ivps_joint_venc_rtsp_vo_sipy.so',' p','/home/config/yolov5s.json',' c','2',])``` ä»¥ä¸‹æ˜¯å†…ç½®çš„å¤šç§AIæ¨¡åž‹æ€»è§ˆï¼š**AIæ¨¡åž‹è¢«å†…ç½®åœ¨`/home/config`çš„ç›®å½•ä¸‹ï¼Œå¯é€šè¿‡æ›´æ¢æ¨¡åž‹æ¥å®žçŽ°ä¸åŒçš„AIåº”ç”¨ã€‚**```bashax_bvc_det.jsonhrnet_pose_yolov8.jsonyolov5s_face_recognition.jsonax_person_det.jsonlicense_plate_recognition.jsonyolov5s_license_plate.jsonax_pose.jsonnanodet.jsonyolov6.jsonax_pose_yolov5s.jsonpalm_hand_detection.jsonyolov7.jsonax_pose_yolov8.jsonpp_human_seg.jsonyolov7_face.jsoncrowdcount.jsonscrfd.jsonyolov7_palm_hand.jsonhand_pose.jsonyolo_fastbody.jsonyolov8.jsonhand_pose_yolov7_palm.jsonyolopv2.jsonyolov8_seg.jsonhrnet_animal_pose.jsonyolov5_seg.jsonyolox.jsonhrnet_pose.jsonyolov5s.jsonhrnet_pose_ax_det.jsonyolov5s_face.json```**æ›´æ¢AIæ¨¡åž‹å¯å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ï¼š**```bashpipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/yolov5s_face.json',' c','2',])```##Yolov8 segå®žä¾‹åˆ†å‰²importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/yolov8_seg.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:print(i)#iftmp['nObjSize']>10:#tryexit#pipeline.drop(){'label': 39, 'prob': 0.41857901215553284, 'objname': b'bottle', 'bbox': {'x': 0.02848125249147415, 'y': 0.03796946257352829, 'w': 0.03146517649292946, 'h': 0.15615946054458618}, 'bHasMask': 1, 'mYolov5Mask': {'w': 6, 'h': 15, 'data': b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00'}} {'label': 39, 'prob': 0.4118087887763977, 'objname': b'bottle', 'bbox': {'x': 0.028065890073776245, 'y': 0.03647643327713013, 'w': 0.0326821468770504, 'h': 0.15858806669712067}, 'bHasMask': 1, 'mYolov5Mask': {'w': 6, 'h': 15, 'data': b'\\x00\\x00\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\xff\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00\\xff\\xff\\xff\\xff\\x00\\x00'}}##è¯»å–USBæ‘„åƒå¤´è¿›è¡Œæ£€æµ‹ä½¿ç”¨å‰å…ˆå‡†å¤‡`USBæ‘„åƒå¤´`ä»¥åŠ`USBtype cè½¬æŽ¥å¤´`å¤‡ç”¨ï¼ŒæŠŠ`USBæ‘„åƒå¤´`æŽ¥å…¥`USBtype cè½¬æŽ¥å¤´`ï¼Œå†æŠŠè½¬æŽ¥å¤´çš„type cç«¯æŽ¥å…¥æ¿å¡è®¾å¤‡çš„`OTG`å£ã€‚æŽ¥çº¿å®Œæ¯•åŽè¿è¡Œä¸‹æ–‡ä»£ç å³å¯æ”¯æŒUSBæ‘„åƒå¤´è¾“å…¥è¿›è¡Œæ£€æµ‹ï¼Œè¿è¡Œæ•ˆæžœä¼šè¾“å‡ºåˆ°è®¾å¤‡å±å¹•ã€‚importtimefromaximportpipelinepipeline.load(['libsample_v4l2_user_ivps_joint_vo_sipy.so',' p','/home/config/yolov8.json'])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()##è½¦ç‰Œè¯†åˆ«ï¼ˆè¾“å‡ºè¿è¡Œæ•ˆæžœï¼‰importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/license_plate_recognition.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:print(i)#iftmp['nObjSize']>10:#tryexit#pipeline.drop(){'label': 0, 'prob': 0.350676953792572, 'objname': b'anhuiCLJ3', 'bbox': {'x': 0.2686941921710968, 'y': 0.17339776456356049, 'w': 0.4595341384410858, 'h': 0.3150448203086853}, 'bHasBoxVertices': 1, 'bbox_vertices': [{'x': 0.2912384867668152, 'y': 0.17690573632717133}, {'x': 0.7315817475318909, 'y': 0.22101126611232758}, {'x': 0.708527147769928, 'y': 0.47905251383781433}, {'x': 0.2720993161201477, 'y': 0.44149187207221985}], 'nLandmark': 4, 'landmark': [{'x': 0.2720993161201477, 'y': 0.44149187207221985}, {'x': 0.708527147769928, 'y': 0.47905251383781433}, {'x': 0.7315817475318909, 'y': 0.22101126611232758}, {'x': 0.2912384867668152, 'y': 0.17690573632717133}]} {'label': 0, 'prob': 0.2783961892127991, 'objname': b'anhuiTLJ0', 'bbox': {'x': 0.23988564312458038, 'y': 0.38015124201774597, 'w': 0.46291205286979675, 'h': 0.31740766763687134}, 'bHasBoxVertices': 1, 'bbox_vertices': [{'x': 0.26884639263153076, 'y': 0.38855984807014465}, {'x': 0.7055302858352661, 'y': 0.4226400554180145}, {'x': 0.6729471683502197, 'y': 0.6891617774963379}, {'x': 0.24066202342510223, 'y': 0.658175528049469}], 'nLandmark': 4, 'landmark': [{'x': 0.24066202342510223, 'y': 0.658175528049469}, {'x': 0.6729471683502197, 'y': 0.6891617774963379}, {'x': 0.7055302858352661, 'y': 0.4226400554180145}, {'x': 0.26884639263153076, 'y': 0.38855984807014465}]}##äººè„¸è¯†åˆ«importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/yolov5s_face_recognition.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:print(i)#iftmp['nObjSize']>10:#tryexit#pipeline.drop(){'label': 0, 'prob': 0.5212324261665344, 'objname': b'unknown', 'bbox': {'x': 0.6881264448165894, 'y': 0.5129707455635071, 'w': 0.05985317379236221, 'h': 0.12323958426713943}, 'bHasBoxVertices': 1, 'bbox_vertices': [{'x': 0.0, 'y': 0.0}, {'x': 0.0, 'y': 0.0}, {'x': 0.0, 'y': 0.0}, {'x': 0.0, 'y': 0.0}], 'nLandmark': 5, 'landmark': [{'x': 0.7027329802513123, 'y': 0.5531390309333801}, {'x': 0.7250422835350037, 'y': 0.5570502281188965}, {'x': 0.7070087194442749, 'y': 0.57811439037323}, {'x': 0.7003915905952454, 'y': 0.6006622314453125}, {'x': 0.7167162299156189, 'y': 0.6037786602973938}]}##ax_bvc_detäººè½¦éžæœºåŠ¨è½¦æ£€æµ‹importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/ax_bvc_det.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:x,y,w,h i['bbox']['x'],i['bbox']['y'],i['bbox']['w'],i['bbox']['h']objname,objprob i['objname'],i['prob']print(objname,objprob,x,y,w,h)#iftmp['nObjSize']>10:#tryexit#pipeline.drop()b'vehicle' 0.9299032092094421 0.3565574288368225 0.44399410486221313 0.23071418702602386 0.2580929398536682 b'vehicle' 0.9225113391876221 0.357175350189209 0.44230249524116516 0.23054184019565582 0.2606807053089142 b'vehicle' 0.9186123609542847 0.3581112325191498 0.44336238503456116 0.22992925345897675 0.26163965463638306 b'vehicle' 0.5208129286766052 0.3618425130844116 0.4461480975151062 0.23065532743930817 0.2652992308139801 b'vehicle' 0.7194858193397522 0.3608142137527466 0.45302334427833557 0.23270295560359955 0.2703518867492676 b'vehicle' 0.8540934324264526 0.3617907166481018 0.4548843204975128 0.23152287304401398 0.27814221382141113 b'vehicle' 0.7356315851211548 0.31006965041160583 0.45962005853652954 0.23436705768108368 0.26961490511894226##crowdcountäººæµé‡æ£€æµ‹importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:print(i)#iftmp['nObjSize']>10:#tryexit#pipeline.drop()##å§¿æ€å…³é”®ç‚¹ç³»åˆ—ï¼ˆäººä½“/æ‰‹/åŠ¨ç‰©ï¼‰å§¿æ€å…³é”®ç‚¹ç³»åˆ—åŒ…å«äººä½“å§¿æ€ã€æ‰‹åŠ¿å§¿æ€ä»¥åŠåŠ¨ç‰©å§¿æ€çš„æ£€æµ‹ï¼Œå‡ºäºŽæ–¹ä¾¿å¤§å®¶çš„ä½¿ç”¨éƒ½ç½—åˆ—å‡ºæ¥äº†ã€‚###ax pose ppläººä½“å§¿æ€æ£€æµ‹å…³é”®ç‚¹å¯¹åº”çš„äººä½“éƒ¨ä½å¦‚ä¸‹ï¼š0ï¼šé¼»å­ã€1ï¼šå·¦çœ¼ã€2ï¼šå³çœ¼ã€3ï¼šå·¦è€³ã€4ï¼šå³è€³ã€5ï¼šå·¦è‚©ã€6ï¼šå³è‚©ã€7ï¼šå·¦è‚˜ã€8ï¼šå³è‚˜ã€9:å·¦è…•ã€10ï¼šå³è…•ã€11ï¼šå·¦èƒ¯ã€12ï¼šå³èƒ¯ã€13ï¼šå·¦è†ã€14:å³è†ã€15ï¼šå·¦è¸ã€16ï¼šå³è¸importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/ax_pose.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:print(i)#iftmp['nObjSize']>10:#tryexit#pipeline.drop(){'label': 0, 'prob': 0.41659796237945557, 'objname': b'person', 'bbox': {'x': 0.01200273260474205, 'y': 0.0, 'w': 0.9315435290336609, 'h': 0.9421796798706055}, 'bHasBoxVertices': 0, 'bHasLandmark': 17, 'landmark': [{'x': 0.6708333492279053, 'y': 0.23333333432674408}, {'x': 0.6427083611488342, 'y': 0.16851851344108582}, {'x': 0.6520833373069763, 'y': 0.14629629254341125}, {'x': 0.7322916388511658, 'y': 0.5055555701255798}, {'x': 0.7614583373069763, 'y': 0.06481481343507767}, {'x': 0.7541666626930237, 'y': 0.09444444626569748}, {'x': 0.7541666626930237, 'y': 0.1518518477678299}, {'x': 0.7124999761581421, 'y': 0.15925925970077515}, {'x': 0.5041666626930237, 'y': 0.08703703433275223}, {'x': 0.6739583611488342, 'y': 0.07407407462596893}, {'x': 0.690625011920929, 'y': 0.6814814805984497}, {'x': 0.7833333611488342, 'y': 0.25}, {'x': 0.7614583373069763, 'y': 0.25}, {'x': 0.35104167461395264, 'y': 0.6074073910713196}, {'x': 0.3489583432674408, 'y': 0.5777778029441833}, {'x': 0.0572916679084301, 'y': 0.5185185074806213}, {'x': 0.0677083358168602, 'y': 0.5185185074806213}]}###HandPoseæ‰‹åŠ¿å§¿æ€æ£€æµ‹importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/hand_pose.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:x,y,w,h i['bbox']['x'],i['bbox']['y'],i['bbox']['w'],i['bbox']['h']objname,objprob i['objname'],i['prob']print(objname,objprob,x,y,w,h)#iftmp['nObjSize']>10:#tryexit#pipeline.drop(){'label': 0, 'prob': 0.948456346988678, 'objname': b'hand', 'bbox': {'x': 0.26589435338974, 'y': 0.26926565170288086, 'w': 0.46994149684906006, 'h': 0.4706382751464844}, 'bHasBoxVertices': 1, 'bbox_vertices': [{'x': 1.4048067331314087, 'y': 0.42393070459365845}, {'x': 1.2827746868133545, 'y': 1.74061918258667}, {'x': 0.06521528959274292, 'y': 1.5236728191375732}, {'x': 0.18724757432937622, 'y': 0.6408770084381104}], 'bHasLandmark': 21, 'landmark': [{'x': 0.3895833194255829, 'y': 0.6722221970558167}, {'x': 0.4635416567325592, 'y': 0.5925925970077515}, {'x': 0.5979166626930237, 'y': 0.4888888895511627}, {'x': 0.6979166865348816, 'y': 0.4148148000240326}, {'x': 0.7562500238418579, 'y': 0.442592591047287}, {'x': 0.7541666626930237, 'y': 0.5388888716697693}, {'x': 0.8166666626930237, 'y': 0.4314814805984497}, {'x': 0.7927083373069763, 'y': 0.3314814865589142}, {'x': 0.768750011920929, 'y': 0.25925925374031067}, {'x': 0.746874988079071, 'y': 0.5981481671333313}, {'x': 0.778124988079071, 'y': 0.43703705072402954}, {'x': 0.7260416746139526, 'y': 0.3203703761100769}, {'x': 0.706250011920929, 'y': 0.27222222089767456}, {'x': 0.703125, 'y': 0.6499999761581421}, {'x': 0.7291666865348816, 'y': 0.4611110985279083}, {'x': 0.6666666865348816, 'y': 0.3722222149372101}, {'x': 0.628125011920929, 'y': 0.3351851999759674}, {'x': 0.6416666507720947, 'y': 0.6981481313705444}, {'x': 0.6864583492279053, 'y': 0.5814814567565918}, {'x': 0.6625000238418579, 'y': 0.5092592835426331}, {'x': 0.6447916626930237, 'y': 0.4592592716217041}]}###animal poseåŠ¨ç‰©å§¿æ€æ£€æµ‹importtimefromaximportpipelinepipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/hrnet_animal_pose.json',' c','2',])whilepipeline.work():time.sleep(0.001)tmp pipeline.result()iftmpandtmp['nObjSize']:foriintmp['mObjects']:x,y,w,h i['bbox']['x'],i['bbox']['y'],i['bbox']['w'],i['bbox']['h']objname,objprob i['objname'],i['prob']print(objname,objprob,x,y,w,h)#iftmp['nObjSize']>10:#tryexit#pipeline.drop()b'cat' 0.4067786633968353 0.5895833373069763 0.0833333358168602 0.25 0.5703703761100769 b'cat' 0.47085827589035034 0.5666666626930237 0.09444444626569748 0.2708333432674408 0.5740740895271301 b'cat' 0.5028171539306641 0.5239583253860474 0.09814814478158951 0.32083332538604736 0.5888888835906982 b'cat' 0.4983457326889038 0.5302083492279053 0.1111111119389534 0.31041666865348816 0.5777778029441833 b'dog' 0.807929515838623 0.0833333358168602 0.1259259283542633 0.26875001192092896 0.5370370149612427 b'dog' 0.6479188799858093 0.15729166567325592 0.8425925970077515 0.12291666865348816 0.1518518477678299##PillowYolov5sç›®æ ‡æ£€æµ‹importtimefromaximportpipelinefromPILimportImage,ImageDraw#readysipeedlogocanvaslcd_width,lcd_height 854,480img Image.new('RGBA',(lcd_width,lcd_height),(255,0,0,200))ui ImageDraw.ImageDraw(img)ui.rectangle((20,20,lcd_width 20,lcd_height 20),fill (0,0,0,0),outline (0,0,255,100),width 20)logo Image.open(\"/home/res/logo.png\")img.paste(logo,box (lcd_width logo.size[0],lcd_height logo.size[1]),mask None)defrgba2argb(rgba):r,g,b,a rgba.split()returnImage.merge(\"RGBA\",(a,b,g,r))canvas_argb rgba2argb(img)pipeline.load(['libsample_vin_ivps_joint_vo_sipy.so',' p','/home/config/yolov5s.json',#' p','/home/config/yolov8.json',' c','2',])whilepipeline.work():time.sleep(0.001)argb canvas_argb.copy()tmp pipeline.result()iftmpandtmp['nObjSize']:ui ImageDraw.ImageDraw(argb)foriintmp['mObjects']:x i['bbox']['x']*lcd_widthy i['bbox']['y']*lcd_heightw i['bbox']['w']*lcd_widthh i['bbox']['h']*lcd_heightobjlabel i['label']objprob i['prob']ui.rectangle((x,y,x+w,y+h),fill (100,0,0,255),outline (255,0,0,255))ui.text((x,y),str(objlabel))ui.text((x,y+20),str(objprob))pipeline.config(\"display\",(lcd_width,lcd_height,\"ARGB\",argb.tobytes()))print_data 2 False##PillowYolov8ç›®æ ‡æ£€æµ‹ï¼ˆpybind11ï¼‰ä½“éªŒå®Œ`ctypes`æ¥è¯•è¯•æ–°çš„API`pybind11`è·‘Yolov8ç›®æ ‡æ£€æµ‹å§ï¼æ–°çš„`pybind11`æ”¯æŒæŠŠèŽ·å–æ‘„åƒå¤´å›¾åƒä»¥åŠæŽ¨ç†ç»“æžœä¸€èµ·æ˜¾ç¤ºåˆ°å±å¹•ï¼ˆç½‘é¡µï¼‰æˆ–è€…æ˜¯ä¿å­˜ä¸‹æ¥ï¼Œä½†ç›®å‰è¿˜å¤„äºŽä¸ç¨³å®šçŠ¶æ€ï¼Œä½¿ç”¨æ—¶å‡ºçŽ°ä¸ç¨³å®šé—ªçƒæˆ–è€…æ˜¯æŠ¥é”™è¯·é‡å¯å†…æ ¸å³å¯ã€‚importm3axpi#m3axpi.camera(SysCase 0)#switchos04a10#m3axpi.camera(SysCase 2)#defaultgc4653m3axpi.load(\"/home/config/yolov8.json\")fromPILimportImage,ImageDraw,ImageFontlcd_width,lcd_height,lcd_channel 854,480,4fnt ImageFont.truetype(\"/home/res/sans.ttf\",20)img Image.new('RGBA',(lcd_width,lcd_height),(255,0,0,200))ui ImageDraw.ImageDraw(img)ui.rectangle((20,20,lcd_width 20,lcd_height 20),fill (0,0,0,0),outline (0,0,255,100),width 20)logo Image.open(\"/home/res/logo.png\")img.paste(logo,box (lcd_width logo.size[0],lcd_height logo.size[1]),mask None)whileTrue:rgba img.copy()tmp m3axpi.capture()rgb Image.frombuffer(\"RGB\",(tmp[1],tmp[0]),tmp[3])rgba.paste(rgb,box (0,0),mask None)##camera320x180paste854x480res m3axpi.forward()if'nObjSize'inres:ui ImageDraw.ImageDraw(rgba)ui.text((0,0),\"fps:%02d\"%(res['niFps']),font fnt)forobjinres['mObjects']:x,y,w,h int(obj['bbox'][0]*lcd_width),int(obj['bbox'][1]*lcd_height),int(obj['bbox'][2]*lcd_width),int(obj['bbox'][3]*lcd_height)ui.rectangle((x,y,x+w,y+h),fill (255,0,0,100),outline (255,0,0,255))ui.text((x,y),\"%s:%02d\"%(obj['objname'],obj['prob']*100),font fnt)rgba.paste(logo,box (x+w logo.size[1],y+h logo.size[1]),mask None)m3axpi.display([lcd_height,lcd_width,lcd_channel,rgba.tobytes()])#display(rgba)#æ˜¾ç¤ºåˆ°ç½‘é¡µ##è°ƒç”¨Pillowè¿›è¡Œå›¾åƒå¤„ç†å¹¶æ˜¾ç¤º>**Pillowï¼ˆPILï¼‰**æ˜¯Pythonå¸¸ç”¨çš„å›¾åƒå¤„ç†åº“ï¼Œè€ŒPillowæ˜¯PILæ”¯ï¼Œæä¾›äº†å¹¿æ³›çš„æ–‡ä»¶æ ¼å¼æ”¯æŒï¼Œå¼ºå¤§çš„å›¾åƒå¤„ç†èƒ½åŠ›ï¼Œä¸»è¦åŒ…æ‹¬å›¾åƒå‚¨å­˜ã€å›¾åƒæ˜¾ç¤ºã€æ ¼å¼è½¬æ¢ä»¥åŠåŸºæœ¬çš„å›¾åƒå¤„ç†æ“ä½œç­‰ã€‚**ä½¿ç”¨ä»¥ä¸‹çš„ä¾‹å­æ¥è¯´æ˜Žå¦‚ä½•ä½¿ç”¨PythonPillow:**!lshome/imagesair.jpg carvana02.jpg\t face5.jpg\t mv2seg.png\t selfie.jpg\r aoa 2.jpeg carvana03.jpg\t faces\t\t o2_resize.jpg ssd_car.jpg\r aoa.jpeg carvana04.jpg\t grace_hopper.jpg pineapple.jpg ssd_dog.jpg\r bike.jpg cat.jpg\t\t mobileface01.jpg pose 1.jpeg\t ssd_horse.jpg\r bike2.jpg cityscape.png\t mobileface02.jpg pose 2.jpeg\r cable.jpg dog.jpg\t\t mtcnn_face4.jpg pose 3.jpeg\r carvana01.jpg efficientdet.png mtcnn_face6.jpg pose.jpgfromPILimportImage,ImageDrawpil_im Image.open('home/images/bike2.jpg','r')draw ImageDraw.Draw(pil_im)draw.arc((0,0,400,400),start 0,end 300,fill 'red',width 3)draw.rectangle((20,20,200,100),fill (100,20,60),outline \"#FF0000\",width 3)pil_im.show()#display(pil_im) **å…³äºŽPillowæ›´å¤šçš„ä½¿ç”¨èµ„æ–™è¯·[ç‚¹å‡»](https://www.itcodar.com/python/how to show pil image in ipython notebook.html)æŸ¥çœ‹ã€‚**##è°ƒç”¨Numpyè¿›è¡Œæ•°ç»„è®¡ç®—>**NumPy**ï¼ˆNumericalPythonï¼‰æ˜¯Pythonè¯­è¨€çš„ä¸€ä¸ªæ‰©å±•ç¨‹åºåº“ï¼Œæ”¯æŒå¤§é‡çš„ç»´åº¦æ•°ç»„ä¸ŽçŸ©é˜µè¿ç®—ï¼Œæ­¤å¤–ä¹Ÿæ˜¯é’ˆå¯¹æ•°ç»„è¿ç®—æä¾›å¤§é‡çš„æ•°å­¦å‡½æ•°åº“ã€‚**ä½¿ç”¨ä»¥ä¸‹çš„ä¾‹å­æ¥è¯´æ˜Žå¦‚ä½•è°ƒç”¨Numpyï¼š**importnumpyasnp#int8,int16,int32,int64å››ç§æ•°æ®ç±»åž‹å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²'i1','i2','i4','i8'ä»£æ›¿dt np.dtype('i4')print(dt)int32 **å…³äºŽNumpyçš„æ›´å¤šèµ„æ–™ä¾‹ç¨‹è¯·[ç‚¹å‡»](https://www.runoob.com/numpy/numpy tutorial.html)æŸ¥çœ‹ã€‚**##æ’­æ”¾éŸ³è§†é¢‘ [å¦‚ä½•ä½¿ç”¨Pythonæ’­æ”¾éŸ³è§†é¢‘](https://wiki.sipeed.com/soft/maixpy3/zh/usage/Audio/play_mp4.html)##å‘èµ·Httpè¯·æ±‚æˆ–MQTTé€šä¿¡ [å¦‚ä½•å‘èµ·Httpè¯·æ±‚æˆ–MQTTé€šä¿¡](https://wiki.sipeed.com/soft/maixpy3/zh/usage/net.html)##ä½¿ç”¨PinPongåº“æŽ§åˆ¶Microbit>PinPongåº“æ˜¯ä¸€å¥—æŽ§åˆ¶å¼€æºç¡¬ä»¶ä¸»æŽ§æ¿çš„Pythonåº“ï¼ŒåŸºäºŽFirmataåè®®å¹¶å…¼å®¹MicroPythonè¯­æ³•ã€‚**ä½¿ç”¨å‰è¯·å…ˆå‡†å¤‡ææ–™å¹¶æŒ‰æ­¥éª¤æŽ¥çº¿ï¼Œä½¿ç”¨Microusbæ•°æ®çº¿è¿žæŽ¥Microbitï¼Œç„¶åŽæŠŠå¦ä¸€ç«¯æŽ¥å…¥è½¬æŽ¥å¤´çš„USBå£ï¼Œå†æŠŠè½¬æŽ¥å¤´çš„Type cå£æŽ¥å…¥è®¾å¤‡çš„OTGå£ï¼Œä½¿ç”¨Type cæ•°æ®çº¿è¿žæŽ¥è®¾å¤‡çš„UARTå£åŠPCç«¯é€šç”µã€‚** ä¸€ä¸ªType cUSBè½¬æŽ¥å¤´ ä¸€å°Microbitä»¥åŠMicrousbæ•°æ®çº¿ ä¸€å°AXera Piè®¾å¤‡ä»¥åŠType cæ•°æ®çº¿å¯ç›´æŽ¥åœ¨`Python3`çŽ¯å¢ƒè¿è¡Œä¸‹æ–¹ä»£ç å³å¯è¿žæŽ¥microbitæŽŒæŽ§ç‰ˆå¹¶ä¼šçœ‹åˆ°`helloworld`äº®ç¯æ•ˆæžœã€‚importtimefrompinpong.boardimportBoard,Pinfrompinpong.extension.microbitimport*Board(\"microbit\",\"/dev/ttyACM0\").begin()display.show(Image.HEART)whileTrue:display.scroll(\"helloworld\")__________________________________________ ____ _ ____ / __ \\(_)___ / __ \\____ ____ ____ _ / /_/ / / __ \\/ /_/ / __ \\/ __ \\/ __ `/ / ____/ / / / / ____/ /_/ / / / / /_/ / /_/ /_/_/ /_/_/ \\____/_/ /_/\\__, / v0.4.9 Designed by DFRobot /____/ __________________________________________ [01] Python3.9.2 Linux 4.19.125 armv7l with glibc2.31 Board: MICROBIT selected > board: MICROBIT serial: /dev/ttyACM0 [10] Opening /dev/ttyACM0 [32] Firmata ID: 2.7 [22] Arduino compatible device found and connected to /dev/ttyACM0 [40] Retrieving analog map... [42] Auto discovery complete. Found 26 Digital Pins and 6 Analog Pins All right. PinPong go... **ç‚¹å‡»[Microbitä¼ é€é—¨](https://pinpong.readthedocs.io/zh_CN/latest/2.pinpong%E7%A4%BA%E4%BE%8B/index1.html)æŸ¥çœ‹æ›´å¤šçš„ç›¸å…³ä¾‹ç¨‹èµ„æ–™ã€‚**##ä½¿ç”¨PinPongåº“æŽ§åˆ¶ArduinoUNO**ä½¿ç”¨å‰è¯·å…ˆå‡†å¤‡ææ–™æŒ‰æ­¥éª¤æŽ¥çº¿ï¼Œå…ˆç”¨Type Bæ•°æ®çº¿è¿žæŽ¥ArduinoUNOï¼ŒæŽ¥ç€æŠŠå¦ä¸€ç«¯æŽ¥å…¥è½¬æŽ¥å¤´çš„USBå£ï¼Œå†æŠŠè½¬æŽ¥å¤´çš„Type cå£æŽ¥å…¥è®¾å¤‡æ¿è½½çš„OTGå£ï¼Œä½¿ç”¨Type cæ•°æ®çº¿è¿žæŽ¥è®¾å¤‡æ¿è½½çš„UARTå£åŠç”µè„‘ç«¯è¿›è¡Œä¸Šç”µæ“ä½œã€‚** ä¸€ä¸ªType cUSBè½¬æŽ¥å¤´ ä¸€å°ArduinoUNOä»¥åŠType bæ•°æ®çº¿ ä¸€å°AXera Piè®¾å¤‡ä»¥åŠType cæ•°æ®çº¿ç›´æŽ¥åœ¨ç¼–è¾‘æ¡†è¿è¡Œä»¥ä¸‹ä»£ç æŽ§åˆ¶ArduinoUNOæ¿ç‚¹äº®å¤–æŽ¥çš„**LED**ç¯ä»¥åŠæ¿è½½ä¹Ÿä¼šäº®èµ·ã€‚importtimefrompinpong.boardimportBoard,PinBoard(\"uno\",\"/dev/ttyUSB0\").begin()led Pin(Pin.D13,Pin.OUT)#å¼•è„šåˆå§‹åŒ–ä¸ºç”µå¹³è¾“å‡ºwhileTrue:led.value(1)#è¾“å‡ºé«˜ç”µå¹³print(\"1\")#ç»ˆç«¯æ‰“å°ä¿¡æ¯time.sleep(1)#ç­‰å¾…1ç§’ä¿æŒçŠ¶æ€led.value(0)#è¾“å‡ºä½Žç”µå¹³print(\"0\")#ç»ˆç«¯æ‰“å°ä¿¡æ¯time.sleep(1)#ç­‰å¾…1ç§’ä¿æŒçŠ¶æ€__________________________________________ ____ _ ____ / __ \\(_)___ / __ \\____ ____ ____ _ / /_/ / / __ \\/ /_/ / __ \\/ __ \\/ __ `/ / ____/ / / / / ____/ /_/ / / / / /_/ / /_/ /_/_/ /_/_/ \\____/_/ /_/\\__, / v0.4.9 Designed by DFRobot /____/ __________________________________________ [01] Python3.9.2 Linux 4.19.125 armv7l with glibc2.31 Board: UNO selected > board: UNO serial: /dev/ttyUSB0 [10] Opening /dev/ttyUSB0 [32] Firmata ID: 2.7 [22] Arduino compatible device found and connected to /dev/ttyUSB0 [40] Retrieving analog map... [42] Auto discovery complete. Found 20 Digital Pins and 6 Analog Pins All right. PinPong go... 1 0 1 0 1 user quit process![uno 3.jpg](attachment:uno 3.jpg) **ç‚¹å‡»[ArduinoUNOä¼ é€é—¨](https://pinpong.readthedocs.io/zh_CN/latest/2.pinpong%E7%A4%BA%E4%BE%8B/index1.html)æŸ¥çœ‹æ›´å¤šçš„ç›¸å…³ä¾‹ç¨‹èµ„æ–™ã€‚**"},"/hardware/zh/maixII/M2S/reources.html":{"title":"M2Sä»‹ç»","content":"# M2Sä»‹ç» MaixII Sæ˜¯åŸºäºŽ V833 èŠ¯ç‰‡è®¾è®¡çš„ä¸€æ¬¾ã€æ¿å¡ã€‘+ã€åº•æ¿ã€‘çš„å¼€å‘æ¿äº§å“ã€‚ ## æ¿å¡ ![](./assets/M2s_Dock.jpg) > èµ„æ–™[ä¸‹è½½](https://dl.sipeed.com/shareURL/MaixII/MaixII A) ### å‚æ•° é¡¹ç›® å‚æ•° CPU å…¨å¿— V833 Arm Cortex A7 1.2Ghz ä¸»é¢‘ NPU 0.4TOPS ç®—åŠ› å†…å­˜ æ ‡é…å•ç‰‡ 16bit 128MB DDR3ï¼ˆå¯é€‰æœ€å¤§ 16bit 512MB DDR3ï¼‰ å­˜å‚¨æ ¸å¿ƒæ¿æ¿è½½ 128MB SD NANDï¼ˆå¯é€‰ 512MB å’Œ 4GBï¼‰åº•æ¿æ¿è½½ TF å¡åº§å­ï¼Œå¯æ‰©å±•å­˜å‚¨ æ‘„åƒå¤´æŽ¥å£MIPIï¼šæ ‡é… 200W åƒç´ å¯è§å…‰æ‘„åƒå¤´(å¯é€‰é…å®½åŠ¨æ€æ‘„åƒå¤´)ï¼Œ76 åº¦è§†åœºè§’<br>DVPï¼šæ ‡é… 30W åƒç´ çº¢å¤–æ‘„åƒå¤´ è¡¥å…‰ç¯æŽ¥å£ æ¿è½½ 2 ä¸ª DC DC æ’æµé™åŽ‹é©±åŠ¨ç”µè·¯+2 ä¸ª 2P 1.25mm å§è´´æ¯åº§ <br>ï¼ˆæ¯è·¯æœ€å¤§é©±åŠ¨èƒ½åŠ›è¾¾åˆ° 5V 0.5Aï¼‰ æ˜¾ç¤ºå±å¹•æŽ¥å£ MIPIï¼šé»˜è®¤å¼•å‡º 4 lane MIPI æŽ¥å£ï¼Œå·²é€‚é… 5 å¯¸å’Œ 7 å¯¸å± è§¦æ‘¸å±æŽ¥å£ 6P 0.5mm FPC åº§å­ï¼šå¯ä»¥è¿žæŽ¥ç”µå®¹è§¦æ‘¸å±æˆ–è€…ç”µé˜»è§¦æ‘¸å±ï¼Œç›®å‰å·²é€‚é… GT911 éŸ³é¢‘æŽ¥å£ æ¿è½½ 3W å•å£°é“éŸ³é¢‘åŠŸæ”¾ï¼Œæœ‰ 2P 1.25mm å§è´´æ¯åº§å¯ä»¥è¿žæŽ¥å–‡å­ <br>æ¿è½½é©»æžä½“éº¦å…‹é£Žç”µè·¯ï¼Œæœ‰ 2P 1.25mm å§è´´æ¯åº§å¯ä»¥è¿žæŽ¥éº¦å…‹é£Ž ä»¥å¤ªç½‘ æ¿è½½ç™¾å…† PHY å’Œç™¾å…†ç½‘å£å˜åŽ‹å™¨ï¼Œæœ‰ 6P 1.25mm å§è´´æ¯åº§å¯ä»¥è¿žæŽ¥ä»¥å¤ªç½‘å£ ç»§ç”µå™¨ æ¿è½½ç»§ç”µå™¨ï¼Œè§¦ç”µåˆ‡æ¢èƒ½åŠ› 2A 30VDC RTC å®žæ—¶æ—¶é’Ÿ æ¿è½½ä¸“ç”¨ RTC èŠ¯ç‰‡+1220 çº½æ‰£ç”µæ± åº§å­ æŒ‰é”® â€¢ å¤ä½æŒ‰é”®<br>â€¢ FEL æŒ‰é”®ï¼ˆè¿›å…¥ä¸‹è½½æ¨¡å¼ï¼‰<br>â€¢ 2 ä¸ªç”¨æˆ·å¯ç¼–ç¨‹æŒ‰é”®ï¼ˆå¯ä»¥ç”¨ä½œé˜²æ‹†æŠ¥è­¦é”®ç­‰è‡ªå®šä¹‰åŠŸèƒ½ï¼‰ æ‰©å±•æŽ¥å£ <br>â€¢ 4P åº§å­ï¼š1 ç»„ UARTã€1 ç»„ 485ã€1 ç»„ USBã€1 ç»„ IIC<br>â€¢ 9P åº§å­ï¼š2 ä¸ªä¾›ç”µå¼•è„š+2 ä¸ªç»§ç”µå™¨å¼•è„š+1 ä¸ªæŒ‰é”®çš„ 2 å¼•è„š+2 ä¸ªä¿¡å·å¼•è„š<br>â€¢ 9P åº§å­ï¼š7 ä¸ªä¿¡å·å¼•è„šï¼ˆå¯ä»¥å¤ç”¨ä¸º 1 ç»„ SPI æ€»çº¿+å¤šä¸ª CS è„šï¼‰+2 ä¸ªç”µæºå¼•è„š<br>â€¢ 9P åº§å­ï¼š6 ä¸ªä¿¡å·å¼•è„š+3 ä¸ªç”µæºå¼•è„š ## äº§å“æŠ€æœ¯æ”¯æŒ M2Så¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maixII/M2S/V833.html":{"title":"M2Sæ ¸å¿ƒä»‹ç»","content":"# M2Sæ ¸å¿ƒä»‹ç» ## V833 Chip V833æ™ºèƒ½è§†è§‰AIä¸“ç”¨å¤„ç†å™¨æ˜¯åŸºäºŽå­˜ç®—ç´§è€¦AIå¼•æ“Žçš„è§†é¢‘è¯†åˆ«å¤„ç†å™¨ï¼Œé‡‡ç”¨ä¸šç•Œä¼˜ç§€çš„åŠå¯¼ä½“å·¥è‰ºï¼Œåˆ›æ–°çªç ´äº†å­˜ç®—ç´§è€¦æž¶æž„ã€ç¥žç»ç½‘ç»œæƒé‡é‡åŒ–æŠ€æœ¯ã€äººè„¸æ£€æµ‹æŠ€æœ¯å’Œäººè„¸å›¾åƒè´¨é‡è¯„ä¼°æŠ€æœ¯ã€å›¾åƒç•¸å˜çŸ«æ­£æŠ€æœ¯ã€å›¾åƒé˜²æŠ–æŠ€æœ¯å’Œå¯å˜å¸§çŽ‡çš„ç¼–ç æŠ€æœ¯ç­‰å…³é”®æŠ€æœ¯ï¼Œæœ‰æ•ˆåœ°è§£å†³äº†ç¥žç»ç½‘ç»œè®¡ç®—å¤æ‚åº¦é«˜ã€ç½‘ç»œæ€§èƒ½å·®ã€äººè„¸æ£€æµ‹æ•ˆçŽ‡ä½Žå’Œå‡†ç¡®åº¦ä¸é«˜ã€å¹¿è§’å’Œé±¼çœ¼é•œå¤´çš„å›¾åƒç•¸å˜ã€æ™ºèƒ½è¯†åˆ«/å®‰é˜²äº§å“åŠŸè€—é«˜ç­‰é—®é¢˜ï¼Œç»¼åˆæŠ€æœ¯æ°´å¹³è¾¾å›½å†…ä¼˜ç§€æ°´å¹³ï¼Œæ˜¯ä¸€æ¬¾èƒ½è€—ä½Žã€è¿ç®—æ•ˆçŽ‡é«˜ã€æ£€æµ‹æ•ˆçŽ‡é«˜ã€å›¾åƒæ•ˆæžœä½³çš„äººå·¥æ™ºèƒ½è§†é¢‘è¯†åˆ«å¤„ç†å™¨ã€‚ > å–è‡³<http://www.elecfans.com/d/1557234.html> ![](./assets/V833.png) ## å‚æ•° é¡¹ç›® å‚æ•° CPU å•æ ¸Cortex A7@1.2GHz Video encoder H.264, up to 5M@20fps<br>H.265, up to 5M@30fps <br>JPEG, up to 1080p@60fps NPU 0.4T EISE Up to 1080p@60fps SDRAM DDR2/DDR3/DDR3L SMHC SMHC x3 (SDcO, SDC1, SDC2) SPI SPI x3 (SPIO with 2 CS, SPIO supportsquad output/quad input SPl mode) LCD Parallel RGB, Serial RGB, i8080 DSPO BT1120,BT656 l2S l2S x2 (12S0,I2S1) Parallel CSI Support Ethernet 10/100/1000 Mbit/s Ethernet port with RGMll and RMll interfaces TWI TWI x5 (TWIO,TWI1,TWI2,TWI3,s_TwWIO) RSB support GPADC 2 ch Audio codec Output : LINEOUTP/N<br>Input: MICIN1P/N, LINEINL MIPI CSI 4 lane, up to 8M@30fps MIPI DSI Support Package LFBGA273 "},"/hardware/zh/maixII/M2/PhoenixSuit.html":{"title":"MaixII M2dock çƒ§å½•ç³»ç»Ÿ","content":" title: MaixII M2dock çƒ§å½•ç³»ç»Ÿ keywords: MaixII, MaixPy3, Python, Python3, M2dock desc: maixpy MaixII M2dock çƒ§å½•ç³»ç»Ÿ > ï¼ï¼ï¼ä¸€å®šè¦ä¸¥æ ¼æŒ‰ç…§æ­¥éª¤æ“ä½œï¼ï¼ï¼è¯·ä½¿ç”¨å¤§äºŽ 1G çš„ TF/SD å¡è¿›è¡Œçƒ§å½•ï¼Œå¼€æºç‰ˆæœ¬è¦æ±‚ä½¿ç”¨ TF/SD å¡æ¥å¯åŠ¨ç³»ç»Ÿã€‚ V831 ä¸ºå…¨å¿—çš„ SOCï¼Œ æ‰€ä»¥ Windwos ä½¿ç”¨ **PhoenixSuit**, Linux ä¸Šä½¿ç”¨ **Livesuit** çƒ§å½•é•œåƒæ–‡ä»¶ã€‚ ä»Žä¸‹è½½ç«™èŽ·å–æœ€æ–°çš„ V831 ç³»ç»Ÿé•œåƒ [SDK_MaixII/release](http://dl.sipeed.com/shareURL/MAIX/SDK_MaixII/release) ï¼Œæ‰¾ä¸åˆ°å°±æœç´¢ V831 èŽ·å–æœ€æ–°çš„é•œåƒã€‚ è§£åŽ‹ V831 é•œåƒåŽ‹ç¼©åŒ…ï¼Œå¾—åˆ°ä¸€ä¸ª xxxx.img æ–‡ä»¶ã€‚ ä»Žç½‘ä¸ŠèŽ·å– PhoenixSuit(Windows) çƒ§å½•å·¥å…·ã€‚ [baidu PhoenixSuit](https://www.baidu.com/s?wd PhoenixSuit) [bing PhoenixSuit](https://www.bing.com/search?q PhoenixSuit&FORM BESBTB&mkt zh CN) [github PhoenixSuit](https://github.com/colorfulshark/PhoenixSuit) [lo4d PhoenixSuit](https://phoenixsuit.en.lo4d.com/windows) ## Windows ä¸Šä½¿ç”¨ PhoenixSuit çƒ§å½• è§£åŽ‹ PhoenixSuit(Windows) å·¥å…·åŽ‹ç¼©åŒ…ï¼Œä¸æ’å…¥ SD å¡ï¼Œå°† V831 USB OTG æŽ¥å£è¿žæŽ¥åˆ° PCï¼Œæ‰“å¼€è®¾å¤‡ç®¡ç†å™¨ï¼Œå®‰è£…é©±åŠ¨æ–‡ä»¶ ![](./asserts/flash_01.png) ![](./asserts/flash_03.png) æ‰“å¼€çƒ§å½•è½¯ä»¶, å¹¶æµè§ˆæ‰“å¼€é•œåƒæ–‡ä»¶ ![](./asserts/flash_05.png) é‡æ–°æ’æ‹”æ¿å­ï¼ˆä¸Šç”µä¸æ’å…¥ SD å¡ï¼‰ï¼Œè½¯ä»¶æç¤ºæ˜¯å¦è¦æ¸…ç©ºçƒ§å½•ï¼Œæç¤ºæ˜¯å¦éœ€è¦å‡çº§ï¼Œç‚¹å‡» `YES` ![](./asserts/flash_07.png) æ’å…¥ sd å¡ï¼Œæç¤ºæ˜¯å¦å¼ºåˆ¶æ ¼å¼åŒ–ï¼Œå†æ¬¡ç‚¹å‡» `YES`å¼€å§‹çƒ§å½•ï¼ˆå¤§çº¦ 40Sï¼‰ ![](./asserts/flash_09.png) å¯èƒ½éœ€è¦ç­‰å¾…å‡ ç§’æ‰ä¼šæ›´æ–°çŠ¶æ€ï¼Œç„¶åŽç­‰å¾…æç¤ºâ€œå›ºä»¶å‡çº§æˆåŠŸâ€ï¼Œå³å¯æ–­å¼€ USB ï¼Œè‡³æ­¤å›ºä»¶çƒ§å½•å®Œæ¯• ![](./asserts/flash_11.png) ![](./asserts/flash_13.png)"},"/hardware/zh/maixII/M2/resources.html":{"title":"Maix-II-Dock(M2dock) ä»‹ç»","content":" title: Maix II Dock(M2dock) ä»‹ç» keywords: MaixII, MaixPy3, Python, Python3, M2dock desc: æ¿çº§èµ„æºä»‹ç» Maix II Dock å®šä½äºŽé«˜æ€§ä»·æ¯”çš„ AIOT å¼€å‘æ¿ï¼Œ æ”¯æŒå¸¸è§„ Linux å¼€å‘çš„åŒæ—¶ï¼Œ æœ‰ç‰¹æœ‰çš„ **AI ç¡¬ä»¶åŠ é€Ÿ** ç‰¹æ€§ï¼Œé…åˆ Sipeed æä¾›çš„å®Œæ•´çš„è½¯ä»¶ç”Ÿæ€ï¼Œè®©ä½ å¿«é€Ÿå®žçŽ°ä½ çš„è¾¹ç¼˜ AI åº”ç”¨ã€‚ * **ç¡¬ä»¶**ä¸Šï¼Œ åŸºäºŽå…¨å¿— V831 èŠ¯ç‰‡ï¼Œ ä»¥ã€æ ¸å¿ƒæ¿ã€‘+ã€åº•æ¿ã€‘çš„å½¢å¼ç»„æˆå¼€å‘æ¿ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨å¼€å‘æ¿ï¼Œä¹Ÿå¯ä»¥åªä½¿ç”¨æ ¸å¿ƒæ¿æ ¹æ®éœ€æ±‚è‡ªè¡Œè®¾è®¡åº•æ¿ï¼Œæ–¹ä¾¿å¿«é€Ÿå®Œæˆå¼€å‘ã€‚ * **è½¯ä»¶**ä¸Šï¼Œ é™¤äº†å¯ä»¥ç›´æŽ¥ä½¿ç”¨å…¨å¿—æä¾›çš„èµ„æ–™è¿›è¡Œå¼€å‘ï¼ˆéƒ¨åˆ†å¯èƒ½éœ€è¦æ‰¾å…¨å¿—èŽ·å–ï¼‰å¤–ï¼ŒSipeed æä¾›äº†éžå¸¸æ–¹ä¾¿çš„ Python SDKï¼ˆ[MaixPy3](/maixpy3)ï¼‰ä»¥åŠ C SDK ï¼ˆ[libmaix](https://github.com/sipeed/libmaix)ï¼‰ï¼› æ›´æ˜¯æä¾›äº†åœ¨çº¿æ¨¡åž‹è®­ç»ƒæœåŠ¡ï¼ˆ[MaixHub](https://maixhub.com)ï¼‰ï¼Œæ–¹ä¾¿åˆšå…¥é—¨ä¹Ÿèƒ½å¿«é€Ÿè®­ç»ƒèƒ½ä½¿ç”¨çš„ AI æ¨¡åž‹ã€‚ * **è´­ä¹°**ï¼š[sipeed.taobao.com](https://item.taobao.com/item.htm?id 635874427363) <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 298543445&bvid BV1sF411u7xb&cid 586467021&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> </p> ## M2 æ ¸å¿ƒæ¿ <img style \"max height: 260px\" src \"./asserts/maix_v831.jpg\" alt \"core_board\"/> > æ ¸å¿ƒæ¿ç¡¬ä»¶èµ„æ–™ä¸‹è½½ [Sipeed_Maix_II_3101](https://api.dl.sipeed.com/shareURL/MaixII/MaixII Dock/HDK/Sipeed_MaixII_V831/Sipeed_Maix_II_3101) ### V831 èŠ¯ç‰‡ä»‹ç» å…¨å¿— V831, å•æ ¸ Cortex A7 800MHzï¼Œ 64MiB ç‰‡å†… DDR2 å†…å­˜ï¼Œ é«˜æ€§ä»·æ¯”èƒ½è·‘ Linux çš„SOCï¼ŒåŒæ—¶æ”¯æŒç¡¬ä»¶ AI åŠ é€Ÿï¼ˆ0.2Tops ç®—åŠ›ï¼‰ï¼Œå¯ä»¥å½“æˆæ™®é€š Linux SOC ä½¿ç”¨ï¼Œ ä¹Ÿå¯ä»¥ç”¨äºŽè¾¹ç¼˜ AI åº”ç”¨ï¼Œ æ›´è¯¦ç»†çš„å‚æ•°è¯·çœ‹æ‰‹å†Œå’Œä¸‹æ–‡ã€‚ èŠ¯ç‰‡æ‰‹å†Œï¼š [V833ï¼V831 Datasheet V1.0.pdf](https://linux sunxi.org/images/b/b9/V833%EF%BC%8FV831_Datasheet_V1.0.pdf) å†…éƒ¨ç»“æž„å›¾ï¼š <img style \"max height: 400px\" src \"./asserts/V831_struct.png\" alt \"V831 struct\"/> ### M2æ ¸å¿ƒæ¿å‚æ•° ä¸Ž Maix I å¯¹æ¯” é¡¹ç›® Maix I (K210) Maix II (V831) ä¸»æŽ§èŠ¯ç‰‡<br> CPU 400~600Mhz 800~1000Mhz è§†é¢‘ç¼–ç å™¨ <br>Video encoder None H.264, up to 1080p@30fps<br>H265, up to 1080p@30fps<br>JPEG, up to 1080p@30fps AIåŠ é€Ÿå™¨<br>NPU 0.23TOPS<br>support Conv+BN+ACT+POOL 0.2TOPS<br>support Conv,Inner_Product,Pool,Eltwise,ACT,BN,Split,Concat å†…å­˜<br>Memory 8MB SRAM SIP 64MB DDR2 å­˜å‚¨<br>Storage 16MB SPI Nor Flash å¯é€‰çš„16M flash(é»˜è®¤ç©ºè´´) æ‘„åƒå¤´<br>Camera DVP, æœ€é«˜è¾“å…¥30Wåƒç´  2lane MIPI, æœ€é«˜æ”¯æŒ1080P@60fps æ˜¾ç¤º<br>Display 8bit MCU LCD 8bit MCU LCD, é…è½¬æŽ¥æ¿å¯æŽ¥æœ€å¤§10å¯¸RGB LCD SDIO None SMHC x2 (SDC0, SDC1) SPI SPIx3 SPI x2 (SPI0, SPI1) I2C I2C x3 I2C x4 (TWI0, TWI1, TWI2, TWI3) I2S 8bit I2S I2S x1 (I2S0) Ethernet None 10/100 Mbit/s Ethernet port with RMII interface ADC None 1 ch 6bit LRADC for key Audio None LINEOUTP + MICIN1P/N å¼€å‘è½¯ä»¶ Maixpy/C MaixPy3/linux ## åº•æ¿ ä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥è®¤ä¸ºåº•æ¿å±å¹•ä¸ºæ­£é¢ï¼Œå¸¦æ‘„åƒå¤´ä¸ºèƒŒé¢ã€‚ ![m2dock](./../../../assets/maixII/m2dock.jpg) > åº•æ¿ç¡¬ä»¶èµ„æ–™ä¸‹è½½ [ç‚¹æˆ‘è·³è½¬](https://api.dl.sipeed.com/shareURL/MaixII/MaixII Dock/HDK/Sipeed_MaixII_Dock_V831) > æ„Ÿè°¢çƒ­å¿ƒç½‘å‹åˆ†äº«çš„ [ M2 æ¨¡å—åº•æ¿æ¯åº§ PCB å°è£…](https://bbs.elecfans.com/jishu_2036119_1_1.html) ### åº•æ¿ç¡¬ä»¶å‚æ•° ![Pin](./asserts/M2Dock_pin.jpg) æ ‡å· Maix II éƒ¨ä»¶ åŠŸèƒ½ å¤‡æ³¨ 1 M.2 B KEY æ¯åº§*1 ç”¨äºŽè¿žæŽ¥ V831 æ ¸å¿ƒç‰ˆ å‡ºåŽ‚å·²è¿žæŽ¥ 2 æ ¸å¿ƒæ¿M2 é“œæŸ±èžºæ¯*1 ç”¨äºŽé…åˆ M2 èžºä¸å›ºå®š V831 æ ¸å¿ƒæ¿ å‡ºåŽ‚å·²å›ºå®š 3 ç”µæºæŒ‡ç¤º LED ç¯*1 ç”¨äºŽæŒ‡ç¤ºåº•æ¿æ˜¯å¦æ­£å¸¸é€šç”µ 4 çŠ¶æ€æŒ‡ç¤º LEDç¯*1 ç”¨æˆ·å¯ç¼–ç¨‹LEDç¯ï¼Œä¸€èˆ¬ç”¨äºŽçŠ¶æ€æŒ‡ç¤º 5 CPU å¤ä½é”®*1 æŒ‰ä¸‹å¯é‡å¯ V831 èŠ¯ç‰‡ 6 ç”¨æˆ·æŒ‰é”®*2 å¯ä»¥æŽ§åˆ¶ä¸¤è·¯ IO ç”µå¹³ï¼Œè‡ªå®šä¹‰åŠŸèƒ½ 7 Wi Fi æ¨¡å—*1 åž‹å· RTL8189FTVï¼Œç”¨äºŽç»™æ¨¡ç»„æä¾› Wi Fi åŠŸèƒ½ SDIO æŽ¥å£ 8 BTB æ‘„åƒå¤´æŽ¥å£*1 ç”¨äºŽè¿žæŽ¥ BTB æ‘„åƒå¤´æ¨¡å— å‡ºåŽ‚å·²è¿žæŽ¥ 9 æ‘„åƒå¤´ M2 é“œæŸ±èžºæ¯*2 ç”¨äºŽå›ºå®š BTB æ‘„åƒå¤´ å‡ºåŽ‚å·²å›ºå®š 10 FHD æ‘„åƒå¤´*1 é»˜è®¤SP2305 Sensor BTBå½¢å¼ï¼Œ1080P é»˜è®¤å«6mmç„¦è·M12é•œå¤´ï¼Œç”¨æˆ·å¯é€‰é…å…¶ä»–ç„¦è·é•œå¤´ 11 USB è½¬ UART èŠ¯ç‰‡*1 æä¾›ä¸²å£é€šä¿¡åŠŸèƒ½ å‡ºåŽ‚å·²çƒ§å½•å›ºä»¶ 12 Type C æŽ¥å£(USB OTG) *1 ç”¨äºŽ V831 çš„ USB OTGåŠŸèƒ½ å¯ç”¨äºŽæ¨¡ç»„ä¾›ç”µ 13 Type C æŽ¥å£(UART) *1 ç”¨äºŽå¯¹V831é€šå¸¸çš„ä¸²å£è°ƒè¯• å¯ç”¨äºŽæ¨¡ç»„ä¾›ç”µ 14 ä¸‰è½´åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨*1 I2CæŽ¥å£ï¼Œå¯æä¾›3è½´çš„åŠ é€Ÿåº¦æ•°æ® 15 microSD å¡æ§½*1 ç”¨äºŽå¤–æŽ¥ microSDå¡ æ¨¡ç»„çš„ç³»ç»Ÿé»˜è®¤ä»ŽSDå¡å¼•å¯¼ 16 LCD æŽ¥å£*1 FPC0.5mm 24Pinï¼ŒMCU æŽ¥å£ 17 IPS é«˜æ¸…å±å¹•\\*1 1.3å¯¸IPSå±å¹•ï¼Œåˆ†è¾¨çŽ‡240\\*240 å‡ºåŽ‚å·²è¿žæŽ¥ 18 IPEX Wi Fiå¤©çº¿åº§ IPEX(ä¸€ä»£) Wi Fiå¤©çº¿ 19 å¤–æ‹“æŽ’æ¯ å¼•å‡º V831 çš„ é€šç”¨IOå£ï¼Œå¯ç”¨äºŽè¿žæŽ¥å¤–è®¾ 20 æ‰¬å£°å™¨æŽ¥å£*1 MX1.25 2PæŽ¥å£ï¼ˆé—´è·1.25mmï¼‰ 21 æ‰¬å£°å™¨*1 8Î©1W 1609å¤åˆé“è†œæ‰¬å£°å™¨ å‡ºåŽ‚å·²è¿žæŽ¥ 22 éº¦å…‹é£Ž*1 æ¨¡æ‹Ÿé©»æžä½“éº¦å…‹é£Ž ## èµ„æºæ±‡æ€» ç¡¬ä»¶: [MaixII ç¡¬ä»¶èµ„æ–™åº“](https://api.dl.sipeed.com/shareURL/MaixII/MaixII Dock/HDK) è½¯ä»¶ï¼š * Python SDKï¼š [MaixPy3 è½¯ä»¶æ–‡æ¡£](/maixpy3) * C SDK: [libmiax](https://github.com/sipeed/libmaix) * MaixHub æ¨¡åž‹å¹³å°ï¼ˆAI æ¨¡åž‹ä¸‹è½½ã€åœ¨çº¿è®­ç»ƒã€é¡¹ç›®åˆ†äº«ï¼‰ï¼š [MaixHub](https://maixhub.com) * å…¨å¿— tina V83x SDKï¼š [Tina Linux/tina V83x](https://github.com/Tina Linux/tina V83x) * å·¥å…·é“¾ï¼š [dl.sipeed.com](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/SDK/Toolchain) æˆ–è€… [github](https://github.com/sipeed/libmaix/releases/download/v0.1.0/toolchain sunxi musl pack 2021 01 09.tar.xz) ## Maix II Dock ä¸Šæ‰‹å¼€å‘è·¯çº¿æŒ‡å— * å› ä¸ºéœ€è¦ä½¿ç”¨ linux ç³»ç»Ÿï¼ˆtina linxï¼‰ï¼Œ æ‰€ä»¥éœ€è¦å…ˆå­¦ä¹ çƒ§å½•ç³»ç»Ÿé•œåƒï¼Œå°±ç±»ä¼¼å­¦ä¼šç”µè„‘é‡è£…ç³»ç»Ÿä¸€æ ·ï¼Œè¿™æ ·åœ¨é‡åˆ°é—®é¢˜å°±å¯ä»¥é‡æ¥ï¼Œåœ¨å·¦ä¾§ç›®å½•æ‰¾åˆ°â€œçƒ§å½•ç³»ç»Ÿâ€æ–‡ç« æŸ¥çœ‹ <! è¿™é‡Œä¸ç»™çƒ§å½•ç³»ç»Ÿçš„é“¾æŽ¥ï¼Œè®©ç”¨æˆ·å­¦ä¼šæŸ¥çœ‹å·¦è¾¹ç›®å½• > * å­¦ä¼šåŸºç¡€çš„ Linux æ“ä½œï¼Œæ¯”å¦‚å¦‚ä½•æ‰“å¼€ç»ˆç«¯ï¼ŒåŸºç¡€çš„ç»ˆç«¯å‘½ä»¤ï¼Œä»¥åŠå¦‚ä½•ä¼ è¾“æ–‡ä»¶åˆ°å¼€å‘æ¿ç­‰ï¼Œæ¯”å¦‚ ä¸²å£ä½¿ç”¨ï¼Œ adb ä½¿ç”¨ç­‰ç­‰åŸºç¡€æ“ä½œ * é€‰æ‹©å¼€å‘è¯­è¨€ï¼š * å¦‚æžœä½ ç†Ÿæ‚‰ C æœ‰ä¸€å®šçš„å¼€å‘ç»éªŒï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨[libmaix](https://github.com/sipeed/libmaix) * å¦‚æžœä½ å¸Œæœ›å¿«é€Ÿä¸Šæ‰‹ï¼Œå¹¶ä½¿ç”¨ Python è¯­è¨€å¼€å‘ï¼Œ è¯·ä½¿ç”¨[MaixPy3](/maixpy3)ï¼Œä»”ç»†é˜…è¯»å…¶æ–‡æ¡£å³å¯ * å¦‚æžœéœ€è¦ä½¿ç”¨ AI åŠŸèƒ½ï¼Œå¯ä»¥æ­é… [MaixHub](https://maixhub.com) åœ¨çº¿è®­ç»ƒå¹³å°ä½¿ç”¨ï¼Œå¹³å°æä¾›äº† AI æ¨¡åž‹æˆ–è€…é¡¹ç›®åˆ†äº«åŠŸèƒ½ï¼ŒèŠ‚çº¦å¤§å®¶ä¸å°‘æ—¶é—´ã€‚"},"/hardware/zh/maixII/M2/no_sd_flash.html":{"title":"æ—  SD å¡ç³»ç»Ÿçƒ§å½•æ–¹å¼","content":"# æ—  SD å¡ç³»ç»Ÿçƒ§å½•æ–¹å¼ **ç›®å‰æ²¡æœ‰åœ¨V831ä¸Šè¿›è¡Œè¿‡flashç³»ç»Ÿçƒ§å½•ï¼ŒV833å¯ä»¥ä½¿ç”¨ä¸€ä¸‹æ–¹å¼è¿›è¡Œçƒ§å½•ï¼Œé•œåƒéœ€è¦å‘é€é‚®ä»¶èŽ·å–** å¦‚éœ€çƒ§å½•åˆ°V831ä¸Šï¼Œéœ€è¦è‡ªè¡Œè®¾è®¡åº•æ¿ï¼Œå¼•å‡ºfelçƒ§å½•æŒ‰é”® ## èŽ·å–çƒ§å½•å·¥å…· ä»Žç½‘ä¸ŠèŽ·å– PhoenixSuit(Windows) çƒ§å½•å·¥å…·ã€‚ [baidu PhoenixSuit](https://www.baidu.com/s?wd PhoenixSuit) [bing PhoenixSuit](https://www.bing.com/search?q PhoenixSuit&FORM BESBTB&mkt zh CN) [github PhoenixSuit](https://github.com/colorfulshark/PhoenixSuit) [lo4d PhoenixSuit](https://phoenixsuit.en.lo4d.com/windows) ## Windows ä¸Šä½¿ç”¨ PhoenixSuit çƒ§å½• èŽ·å–ç³»ç»Ÿé•œåƒï¼ˆ.imgï¼‰ å’Œçƒ§å½•å·¥å…·ï¼ˆ.exeï¼‰ ã€‚è§£åŽ‹åˆ°ä½ çŸ¥é“çš„åœ°æ–¹ã€‚ ![](./../img/no_sd_flash.png) è§£åŽ‹åŽæ‰“å¼€ PhoenixSuit_V1.10 çƒ§å½•å·¥å…· PhoenixSuit.exe é€‰æ‹©çƒ§å½•çš„ .img é•œåƒã€‚ ![](./../img/no_sd_flash_1.png) è¿™æ—¶å€™å¼€å§‹æ’å…¥ç¡¬ä»¶ï¼Œ åŒæ—¶æŒ‰ä¸‹ç¡¬ä»¶çš„ä¸¤ä¸ªæŒ‰é”®ï¼Œ å…¶ä¸­ä¸€ä¸ªæ˜¯ fel çƒ§å½•æ¨¡å¼çš„è§¦å‘ï¼Œ è¦æ³¨æ„æŽ¥çº¿å¤´æ˜¯å¦è”é€šã€‚ ï¼ˆè‹¥æ˜¯è£¸æ¿å¦‚å³å›¾æ‰€ç¤ºå…ˆæŒ‰ FEL åŽæŒ‰ RST å¤ä½ï¼‰ ![](./../img/no_sd_flash_2.png) æŒ‰ä½åŽï¼Œ æ­¤æ—¶æ’å…¥ç”µè„‘çš„ USB å£ï¼Œ ç›¸å½“äºŽä¸Šç”µï¼ˆRST å¤ä½ï¼‰ è¿›å…¥çƒ§å½•æ¨¡å¼ï¼Œ åŠ¡å¿…æ³¨æ„å…ˆæŒ‰é”®å†é€šç”µï¼Œ ä¹‹åŽéœ€è¦å®‰è£…ç›¸åº”çš„ USB é©±åŠ¨ã€‚ > å¦‚æžœè¯¥ç”µè„‘æ’å…¥åŽè®¾å¤‡ç®¡ç†å™¨æ˜¾ç¤ºé©±åŠ¨æœªå®‰è£…ï¼Œ è¯·æ‰‹åŠ¨æŒ‡å‘ PhoenixSuit_V1.10 / Drivers çš„é©±åŠ¨æ–‡ä»¶å¤¹å®Œæˆå®‰è£…ï¼Œ å®‰è£…å®Œæˆå¦‚ä¸‹æ˜¾ç¤º Android ADB Interface ï¼Œ å¦‚æžœå®žåœ¨æžä¸å®šå°±ä½¿ç”¨å¸‚é¢ä¸Šå¸¸è§çš„é©±åŠ¨å®‰è£…è½¯ä»¶ï¼ˆå¦‚é©±åŠ¨ç²¾çµï¼‰ å¸®åŠ©å®‰è£…ã€‚ ![](./../img/no_sd_flash_3.png) è¿™æ—¶å€™ PhoenixSuit è½¯ä»¶ä¼šæç¤ºæ˜¯å¦æ ¼å¼åŒ–æ›´æ–°ï¼Œ ä¸€ç›´é€‰æ˜¯å³å¯ï¼Œ ä¸æˆåŠŸå¯ä»¥é‡è¯•æˆ–æ£€æµ‹æŽ¥çº¿æ˜¯å¦ç‰¢å›ºã€‚ ![](./../img/no_sd_flash_4.png) è¿›åº¦çŠ¶æ€å¦‚ä¸‹ï¼Œ ç›´åˆ°æˆåŠŸã€‚ ![](./../img/no_sd_flash_5.png) <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a>"},"/hardware/zh/maixII/M2/tools/pyqt_rtsp.html":{"title":"å¦‚ä½•ä½¿ç”¨ pyqt_rtsp","content":" title: å¦‚ä½•ä½¿ç”¨ pyqt_rtsp keywords: pyqt_rtsp, MaixPy3, Python, Python3 desc: maixpy å¦‚ä½•ä½¿ç”¨ pyqt_rtsp > è¿™æ˜¯ä¸€ä¸ªå›¾ä¼ å®¢æˆ·ç«¯å·¥å…·ï¼Œè„±ç¦» jupyter çš„ç¼–ç¨‹çŽ¯å¢ƒï¼Œä½¿ç”¨çš„æ—¶å€™åªéœ€è¦åœ¨ç”µè„‘ä¸Šå®‰è£…å¥½å°±å¯ä»¥é“¾æŽ¥åˆ°ç¡¬ä»¶ä¸­èŽ·å–å›¾ä¼ ä¿¡æ¯ã€‚ ![](./asserts/pyqt_rtsp.png) è¿™ä¸ªå·¥å…·æ˜¯é€šè¿‡ Python å®žçŽ°çš„ rtsp + rtp æµåª’ä½“æœåŠ¡ï¼Œæ”¯æŒæ–‡ä»¶ã€å›¾åƒã€æ˜¾ç¤ºå™¨ã€æ‘„åƒå¤´çš„å›¾åƒä¼ è¾“ï¼Œé€‚ç”¨äºŽæ”¯æŒ Python3 çš„ç³»ç»Ÿã€‚ ## å®‰è£…æ–¹æ³• é¦–å…ˆçŸ¥é“å®ƒæ˜¯ä¸€ä¸ª C/S ç»“æž„å›¾ä¼ å®¢æˆ·ç«¯ï¼Œä½ éœ€è¦åœ¨æŸä¸ªç¡¬ä»¶ä¸Šå®‰è£… maixpy3 å’Œå¯åŠ¨æœåŠ¡ï¼Œä¸Žä¹‹å¯¹åº”çš„å®¢æˆ·ç«¯è®¿é—®è¯¥ç¡¬ä»¶èŽ·å–å®ƒçš„æµåª’ä½“ï¼Œè¿™ä¸ªç¡¬ä»¶å¯ä»¥æ˜¯ä½ çš„åµŒå…¥å¼ linux è®¾å¤‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä½ çš„ linux è®¡ç®—æœºã€‚ ### æœåŠ¡ç«¯é…ç½®è¿‡ç¨‹ åœ¨ linux è®¾å¤‡ä¸Šå®‰è£… maixpy3 æ‰§è¡Œ maixpy3_rpycs å³å¯å¯åŠ¨ä½œä¸ºæœåŠ¡ç«¯ã€‚ ```bash (venv) $ pip3 install maixpy3 (venv) $ maixpy3_rpycs ``` ### å®¢æˆ·ç«¯é…ç½®è¿‡ç¨‹ æŽ¥ç€è¦åœ¨å…¶ä»–ç”µè„‘ä¸Šé€šè¿‡ Python å®‰è£… [rtsp_pyqt](https://github.com/sipeed/MaixPy3/tree/main/examples/rtsp_pyqt) å®¢æˆ·ç«¯å·¥å…·ã€‚ ```bash (venv) $ pip3 install r requirements.txt (venv) $ python3 mainLogic.py ``` ### ä½¿ç”¨æ–¹æ³• è¿è¡ŒåŽå¯è§ä¸‹å›¾ï¼Œç„¶åŽè¾“å…¥ IP ï¼ˆå¦‚ï¼š192.168.0.127ï¼‰è¿›è¡Œé“¾æŽ¥ï¼š ![](./asserts/pyqt_rtsp_login.png) æŒ‰ä¸‹ã€setupã€‘é“¾æŽ¥åˆ°ç›®æ ‡è®¾å¤‡è‡ªåŠ¨èŽ·å–æ‘„åƒå¤´æµï¼Œæ”¯æŒæ’­æ”¾ã€æš‚åœç­‰æ“ä½œï¼Œæ‹ç…§å’Œå½•åƒè‡ªåŠ¨ä¿å­˜åˆ°ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ã€‚ ## å¤šä½™çš„è®¯æ¯ > å¦‚ IP å¯ä»¥è¿™æ ·èŽ·å–ï¼Œæˆ‘åªæ˜¯æƒ³ç‚«è€€ä¸€ä¸‹æˆ‘çš„æ‹¼è£…æŠ€æœ¯ï¼Œé€ƒ~ ![](./asserts/rtsp_get_ip.jpg)"},"/hardware/zh/maixII/M2/tools/mobaxterm.html":{"title":"å¦‚ä½•ä½¿ç”¨ mobaxterm","content":" title: å¦‚ä½•ä½¿ç”¨ mobaxterm keywords: Jupyter, MaixPy3, Python, Python3 desc: maixpy å¦‚ä½•ä½¿ç”¨ mobaxterm ## mobaxterm æ˜¯ä»€ä¹ˆï¼Ÿ è¿™æ˜¯åœ¨ Windows ä¸‹ä½¿ç”¨çš„å…¨èƒ½ç»ˆç«¯ç®¡ç†è½¯ä»¶ï¼Œå¯¹å¼€å‘ä¸Žè¿ç»´äººå‘˜å¿…å¤‡ï¼Œå¯ä»¥åœ¨ [mobaxterm.mobatek.net/download](https://mobaxterm.mobatek.net/download.html) èŽ·å–å…è´¹ç‰ˆæœ¬ä½¿ç”¨ï¼Œåœ¨å›½å†…ç½‘ç«™ä¸Šæœ‰ä¸­æ–‡ç‰ˆã€‚ ![](https://mobaxterm.mobatek.net/img/moba/features/feature terminal.png) ä¸»è¦é€šè¿‡å®ƒæä¾›çš„ä¸‹åˆ—åŠŸèƒ½ï¼š serial é€šè¿‡ä¸²å£è¿žæŽ¥ Linux ç³»ç»Ÿçš„ç»ˆç«¯ ssh è¿œç¨‹ç™»å½• Linux ç³»ç»Ÿçš„ç»ˆç«¯ ftp è¿œç¨‹è®¿é—®æ–‡ä»¶æœåŠ¡ä¸Šçš„èµ„æº ## è¿žæŽ¥ ä¸²å£(Serial) å¼€æºç¡¬ä»¶äº§å“å¤§å¤šéƒ½ä¼šé¢„ç•™ä¸²å£ï¼ˆSerialï¼‰ç”¨ä½œ Linux ç³»ç»Ÿçš„ç»ˆç«¯äº¤äº’æŽ¥å£ï¼Œä¸‹é¢ä»‹ç»ä¸²å£ã€sessionã€‘çš„åˆ›å»ºã€‚ ![](./asserts/mobaxterm serial 4.png) åœ¨ã€Œsession settingã€ å¯¹è¯æ¡†é‡Œé€‰æ‹©ã€serialã€‘ï¼Œå†é€‰å¥½ä¸²å£å·åŠæ³¢ç‰¹çŽ‡ï¼Œç‚¹å‡»ã€OKã€‘å°±å®Œæˆè¿žæŽ¥äº†ã€‚ ![](./asserts/mobaxterm serial 5.png) åŒæ ·ã€sessionã€‘ä¼šä¿å­˜åœ¨å·¦ä¾§çš„ã€sessionã€‘æ ‡ç­¾é¡µé‡Œï¼Œæ–¹ä¾¿ä¸‹æ¬¡è¿žæŽ¥ã€‚ ## è¿žæŽ¥ SSH é™¤äº†æœ‰çº¿ä¸²å£çš„æ–¹å¼ï¼Œè¿˜å¯ä»¥é€šè¿‡æ— çº¿è®¿é—® SSH ç™»å½• Linux ç³»ç»Ÿã€‚ åœ¨æ¿å­ç»ˆç«¯è¾“å…¥ `hostname I` æŸ¥çœ‹è‡ªå·± ip åœ°å€ (å…ˆè¿žä¸Šç½‘)ï¼Œç„¶åŽè¾“å…¥è‡ªå·±ç”¨æˆ·åå’Œå¯†ç ã€‚ ```bash root@maixsense:~# hostname I 192.168.0.197 ``` ç„¶åŽæˆ‘ä»¬å°±å¯ä»¥æ¥æ–°å»ºSSHä¼šè¯ç„¶åŽè¿œç¨‹ç™»å½•åˆ°æ¿å­äº† æ–°å»ºSSHä¼šè¯ ![](./asserts/mobaxterm_ssh.jpg) ç™»å½•åˆ°æ¿å­ç»ˆç«¯ ![](./asserts/mobaxterm_ssh_login.png) > è¾“å…¥å¯†ç çš„æ—¶å€™æ˜¯çœ‹ä¸åˆ°çš„ï¼ˆæ²¡æœ‰è¾“å…¥æ˜¾ç¤ºï¼‰ï¼Œåœ¨è¾“å…¥ç»“æŸä¹‹åŽï¼ŒæŒ‰å›žè½¦å³å¯ å°±å¯ä»¥çœ‹åˆ° Linux çš„ç™»å½•ä¼šè¯ç»ˆç«¯äº†ã€‚ ä¼ è¾“æ–‡ä»¶çš„æ—¶å€™å¯ä»¥ç›´æŽ¥æŠŠæ–‡ä»¶æ‹–å…¥æˆ–è€…æ‹‰å‡ºä¸‹å›¾çš„å·¦çº¢æ¡†ä¸­ã€‚ ![](./asserts/mobaxterm_ssh_view.jpg) ## è¿žæŽ¥ FTP ä¸Ž SSH åŒç†ã€‚ ![](./asserts/mobaxterm_ftp.png) è¿›å…¥åŽå°±å¯ä»¥çœ‹åˆ°æ–‡ä»¶å¤¹äº†ã€‚ ![](./asserts/mobaxterm_ftp.jpg) å¯ä»¥æ‹–æ‹½æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ã€‚ ![](./asserts/mobaxterm_ftp_ud.png) <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a>"},"/hardware/zh/maixII/M2/tools/vscode.html":{"title":"å¦‚ä½•ä½¿ç”¨ vscode","content":" title: å¦‚ä½•ä½¿ç”¨ vscode keywords: vscode, MaixPy3, Python, Python3 desc: maixpy å¦‚ä½•ä½¿ç”¨ vscode ## å‰è¨€ å®ƒæ˜¯å¾®è½¯å‡ºå“çš„ä¸€æ¬¾å¯æ‰©å±•çš„è½»é‡çº§å¼€æºç¼–è¾‘å™¨ï¼Œå¹¶ä¸”æ”¯æŒå…¨å¹³å°ç³»ç»Ÿã€‚è¿™äº›ç‰¹æ€§ä½¿å¾— VSCode é¢‡å—æ¬¢è¿Žï¼Œè¿™ä¹Ÿä½¿å…¶æˆä¸ºäº†ä¸€ä¸ªå¾ˆæ£’çš„ Python å¼€å‘å¹³å°ã€‚ å…³äºŽå¦‚ä½•å®‰è£…å’Œä½¿ç”¨å®ƒçš„æ•™ç¨‹å·²ç»æ•°ä¸èƒœæ•°ï¼Œè¿™é‡ŒåªæŽ¨è[ã€ç”¨ VSCode æ„‰å¿«åœ°å†™ Python ä»£ç ã€‘](https://zhuanlan.zhihu.com/p/66157046)ã€‚ ## ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ é™¤äº†ä¸“ä¸š Python ä»£ç å¼€å‘çŽ¯å¢ƒï¼Œå®ƒè¿˜æ”¯æŒæ‰“å¼€ jupyter notebook æ–‡æ¡£è¿è¡Œä»£ç ã€‚ ä¸Žæµè§ˆå™¨è¿è¡Œçš„ jupyter notebook ä¸€æ ·ï¼Œæ‰§è¡Œ Python ä»£ç çš„æ—¶å€™è¦é€‰æ‹©å¯¹åº”çš„æ‰§è¡Œæ ¸å¿ƒï¼Œå¦‚ [ipython/ipykernel](https://github.com/ipython/ipykernel) æˆ–è€… [rpyc_ikernel](https://github.com/sipeed/rpyc_ikernel) çš„æ ¸å¿ƒã€‚ ä¸‹é¢å°±æ¥è¯´è¯´å¦‚ä½•ä½¿ç”¨å®ƒã€‚ ### åˆ›å»º notebook æ–‡æ¡£ ![](https://tukuimg.bdstatic.com/scrop/abb1e4146fb8679109fa99aa0b03f59f.gif) ### è¿è¡Œ Python ä»£ç  ![](https://tukuimg.bdstatic.com/scrop/a1e2381bfac1a332a323774ee1b49c9f.gif) ### è¿è¡ŒåŽé¢„è§ˆå›¾è¡¨ ![](https://tukuimg.bdstatic.com/scrop/9c5bf21507c776f98d55bcfc0e51c5ff.gif) ## ä½ å¯ä»¥å­¦åˆ°ä»€ä¹ˆï¼Ÿ åœ¨ VS Code ä¸­ä½¿ç”¨ Jupyter ç¬”è®°æœ¬æ—¶éœ€è¦è¿›è¡Œçš„åŸºæœ¬æ“ä½œã€‚å¦‚æžœæ‚¨ä½¿ç”¨ VS Code æ¥æ»¡è¶³å…¶ä»–å¼€å‘éœ€æ±‚ï¼Œé‚£ä¹ˆåœ¨ VS Code ä¸­å°è¯•ä½¿ç”¨ Jupyter Notebook æ˜¯éžå¸¸æ–¹ä¾¿çš„ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥åªä½¿ç”¨ä¸€ä¸ª IDEã€‚ç‰¹åˆ«æ˜¯å…¶ä»£ç è‡ªåŠ¨è¡¥é½çš„åŠŸèƒ½å¯ä»¥è®©ä½ çš„å¼€å‘æ›´å¿«æ·ã€‚ > éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆªæ­¢ 2021å¹´3æœˆ3æ—¥ åœ¨ VSCODE é‡Œçš„ jupyter notebook æ–‡æ¡£è¿›è¡Œä¸­æ–­å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå¹¶ä¸æ˜¯å¾ˆæµç•…ï¼Œå¦‚æžœå‡ºçŽ°äº†è¿è¡Œæ— å“åº”çš„é—®é¢˜å¯ä»¥é‡æ–°æ‰“å¼€æ–‡æ¡£è§£å†³é—®é¢˜ã€‚"},"/hardware/zh/maixII/M2/tools/adb.html":{"title":"adb æ“ä½œä»‹ç»","content":"# adb æ“ä½œä»‹ç» ADB.exe åœ¨ MaixPy3 IDE ä¸­çš„ maixpy3_examples å’Œ PhoenixSuit æ–‡ä»¶å¤¹ä¸‹ ## é“¾æŽ¥å¼€å‘æ¿ å°†å¼€å‘æ¿ä¸Šçš„ OTG æŽ¥å£æŽ¥ä¸Šç”µè„‘ï¼Œ ç„¶åŽå†å‘½ä»¤è¡Œä¸­è¾“å…¥ adb shellï¼Œä¼šè‡ªåŠ¨è¿›å…¥åˆ°å¼€å‘æ¿çš„ linux ç³»ç»Ÿä¸­ ```shell BusyBox v1.27.2 () built in shell (ash) run profile file __ ___ _ __ _ / / /__ _(_)_ __ / / (_)__ __ ____ __ / /_/ / _ `/ /\\ \\ / / /__/ / _ \\/ // /\\ \\ / /_/ /_/\\_,_/_//_\\_\\ /____/_/_//_/\\_,_//_\\_\\ root@sipeed:/# ``` è¿™æ—¶å¯ä»¥å¼€å§‹ä½¿ç”¨ MaixPy3 è¿›è¡Œå¼€å‘äº†"},"/hardware/zh/maixII/M2/faq.html":{"title":"Maix-II DOCK å¸¸è§é—®é¢˜æŒ‡å—","content":" title: Maix II DOCK å¸¸è§é—®é¢˜æŒ‡å— >è¿™é‡Œè®°å½• Maix II DOCK ç›¸å…³çš„ A&Q å¸¸è§é—®é¢˜ã€‚ ## æ²¡æœ‰å¼¹å‡º U ç›˜æˆ–è€… adb æç¤º device not found ![adb_error](./asserts/faq/adb_error.jpg) å‡ºçŽ°è¿™ç§é—®é¢˜çš„æƒ…å†µæœ‰å¦‚ä¸‹å¯èƒ½ï¼š 1. æ‰€ä½¿ç”¨çš„ TypeC çº¿åªæœ‰ä¾›ç”µåŠŸèƒ½ï¼Œæ²¡æœ‰æ•°æ®ä¼ è¾“åŠŸèƒ½ 2. ä½¿ç”¨çš„æ˜¯ C2C æ•°æ®çº¿ 3. æ¿å­ä¸æ˜¯é€šè¿‡ OTG å£ä¸Žç”µè„‘è¿žæŽ¥ 4. U ç›˜æ²¡å‡ºçŽ°ï¼Œéœ€è¦æ‰‹åŠ¨å¸è½½ ADB é©±åŠ¨ 5. æ¿å­ LINUX ç³»ç»Ÿæ²¡å¯åŠ¨ï¼Œæ¯”å¦‚æ²¡æœ‰æ’å…¥çƒ§å½•è¿‡ç³»ç»Ÿçš„ TF å¡ ## è™šæ‹Ÿ U ç›˜æ–‡ä»¶å¤åˆ¶å¤±è´¥ï¼Œçœ‹ä¸åˆ°æ–‡ä»¶ ### ä»Žç”µè„‘å¤åˆ¶åˆ° U ç›˜ è¿™ç§æƒ…å†µå¯èƒ½æ˜¯æ–‡ä»¶è¾ƒå¤§æ²¡èƒ½å®Œæ•´ä¼ è¾“æ‰€å¯¼è‡´çš„ï¼Œéœ€è¦åœ¨ä¼ è¾“ç»“æŸåŽå…ˆåœ¨ç”µè„‘ä¸Šç§»é™¤è™šæ‹Ÿ U ç›˜ï¼Œç„¶åŽåœ¨æ¿å­æ‰§è¡Œ `reboot` å‘½ä»¤æˆ–è€…æŒ‰ä¸‹ `RST` é”®é‡å¯æ¿å­æ¥åŠ è½½æ–‡ä»¶ç³»ç»Ÿã€‚ ### åœ¨ U ç›˜åˆ›å»ºæ–‡ä»¶ åªç”¨æ¿å­å‘½ä»¤è¡Œç»ˆç«¯åœ¨ `/root/` ä¸‹åˆ›å»ºæ–‡ä»¶å¤Ÿä¸ä¼šåŒæ­¥åœ¨ U ç›˜é‡Œæ˜¾ç¤ºï¼Œè¿™æ—¶éœ€è¦é‡å¯ä¸€ä¸‹å°±èƒ½åœ¨ U ç›˜é‡Œçœ‹åˆ°é€šè¿‡æ¿å­ç»ˆç«¯åœ¨ `/root/` æ‰€åˆ›å»ºçš„æ–‡ä»¶äº†ã€‚ ## é•œåƒå¡æ’ä¸ŠåŽä¸æ˜¾ç¤º U ç›˜æ— ååº”ï¼Œå±å¹•ä¹Ÿä¸äº®ã€‚ 1. ç¡®ä¿é•œåƒå¡æ­£å¸¸ä¸”çƒ§å½•æˆåŠŸ 2. ç¡®ä¿ä¸Šç”µçš„å°±æ˜¯ OTG å£ï¼Œå¹¶ä¸” M2DOCK çš„ç”µæºç¯æ­£å¸¸å·¥ä½œã€‚ 3. ç¡®ä¿å·²å®‰è£…å¥½ MaixPy3 ä»¥åŠé™„å¸¦çš„é©±åŠ¨å¹¶åˆ é™¤é©±åŠ¨ã€‚ 4. æ›´æ¢çº¿æé‡è¯•ï¼Œæ›´æ¢ç”µè„‘ USB å£é‡è¯•ï¼Œä»ç„¶åŠ è½½ä¸å‡ºæ¥ï¼Œæ›´æ¢ç”µè„‘ç¡®è®¤ã€‚ 5. ä»¥ä¸Šæ“ä½œåŽè¿˜æ˜¯ä¸è¡Œè¯·å†æ¬¡ä½¿ç”¨ SD Card Formatter é‡æ–°æ ¼å¼åŒ– SD å¡ å†æ¬¡çƒ§å½•ä¸Šç”µæˆ–è”ç³»æ·˜å®å®¢æœã€‚ ## æœ¬åœ° pip å®‰è£…å¤±è´¥ M2DOCK ä¸èƒ½æœ¬åœ°ç¼–è¯‘ä»¥åŠæœ¬åœ° pipå®‰è£…ï¼Œåªèƒ½æ­é… Maixpy3 ä½¿ç”¨ã€‚ ## ä½¿ç”¨å±å¹•æ—¶å‘ˆèŠ±å±çŠ¶æ€ 1. æŽ’çº¿æ˜¯å¦æ’ç¨³ï¼ŒæŸ¥çœ‹æ˜¯å¦çº¿åºè¢«ç ´åï¼ŒæŽ¥è§¦ä¸è‰¯å¯¼è‡´çš„ã€‚ 2. fb ç¼“å†²åŒºæ˜¯å¦å¼‚å¸¸å¯¼è‡´çš„ 3. å°è¯•é‡å¯æ¿å¡çœ‹çœ‹æ˜¯å¦è¿˜ä¼šèŠ±å± 4. ç¡¬ä»¶é—®é¢˜ ## å¦‚ä½•æ›´æ¢å±å¹•åŠæ‘„åƒå¤´çš„è®¾å¤‡æ ‘ ç›®å‰å¼€å‘æ¿æ”¯æŒçš„å±å¹•æœ‰ 1.3å¯¸ã€2.4å¯¸ã€2.8å¯¸ çš„ IPS å±ï¼Œä¸”åªæ˜¯æ”¯æŒåœ¨æˆ‘ä»¬æ·˜å®ä¸Šå”®å–çš„æ˜¾ç¤ºå±ï¼›å¯¹äºŽåˆ«çš„å±å¹•æœ‰éœ€æ±‚çš„ï¼Œå¯ä»¥èµ°å•†åŠ¡é€šé“è¿›è¡Œå®šåˆ¶ã€‚ å¦‚ä½•è¿›è¡Œå±å¹•çš„åˆ‡æ¢åŠæ›´æ–°è®¾å¤‡æ ‘ï¼š[ç‚¹å‡»æŸ¥çœ‹](https://wiki.sipeed.com/hardware/zh/maixII/M2/other.html#%E5%88%87%E6%8D%A2%E5%B1%8F%E5%B9%95) ç›®å‰ MaixII Dock å¼€å‘æ¿ç›®å‰æ”¯æŒçš„æ‘„åƒå¤´æœ‰ sp2305ã€vs3205ã€ov2685ï¼ˆåªæ”¯æŒåœ¨å®˜æ–¹åº—ä¸Šå†å”®å–çš„æ‘„åƒå¤´ï¼Œæœ‰åˆ«çš„æ‘„åƒå¤´éœ€æ±‚å¯ä»¥è¿›è¡Œå•†åŠ¡å®šåˆ¶ï¼‰ï¼Œæ‘„åƒå¤´ä¹‹é—´çš„åˆ‡æ¢åŒæ ·æ—¶éœ€è¦æ›´æ¢è®¾å¤‡æ ‘æ–‡ä»¶ï¼Œæ›´æ¢æ–¹å¼ä¸Šé¢çš„æ›´æ¢å±å¹•ä¸€æ ·çš„ã€‚ å¦‚ä½•è¿›è¡Œæ‘„åƒå¤´ä»¥åŠè®¾å¤‡æ ‘çš„åˆ‡æ¢ï¼š[ç‚¹å‡»æŸ¥çœ‹](https://wiki.sipeed.com/hardware/zh/maixII/M2/other.html#%E6%9B%B4%E6%8D%A2%E6%91%84%E5%83%8F%E5%A4%B4) ## è„±æœºè¿è¡Œ å¯¹äºŽ M2Dockï¼Œå‰é¢è¯´è¿‡å¼€æœºå¯åŠ¨ä»£ç é¡ºåºæ˜¯ `/root/app/main.py > /root/main.py` ï¼Œæ‰€ä»¥åœ¨ä¿å­˜çš„æ—¶å€™è‡ªå·±æ³¨æ„ä¸‹ä¿å­˜ä½ç½®ã€‚"},"/hardware/zh/maixII/M2/flash.html":{"title":"MaixII-Dock çƒ§å½•ç³»ç»Ÿ","content":" title: MaixII Dock çƒ§å½•ç³»ç»Ÿ keywords: MaixII, MaixPy3, Python, Python3, M2dock desc: maixpy MaixII M2dock çƒ§å½•ç³»ç»Ÿ > ç¼–è¾‘æ—¶é—´2022.04.27 æ–‡æ¡£æ›´æ–°æ—¶é—´ è´Ÿè´£äºº æ›´æ–°å†…å®¹ : : : : : : 2021.03.20 å¤§è€é¼  æ–°å»ºæ–‡æ¡£ï¼Œå¼€å§‹ç¼–å†™å†…å®¹ 2021.12.8 Rui & ç‚¹ç¯é¼  æ•´ç†å¹¶æ›´æ–°çƒ§å½•æ–¹å¼ 2022.3.8 Rui ä¿®æ”¹çƒ§å½•çš„æ³¨æ„äº‹é¡¹ æ³¨æ„äº‹é¡¹ï¼ï¼ï¼ 1ã€éžå¿…è¦çš„æƒ…å†µä¸‹ï¼Œè¯·ä¸è¦éšæ„é•œåƒçƒ§å½•ã€‚ 2ã€éƒ¨åˆ† AMD å¹³å°çš„ç”µè„‘å­˜åœ¨æ— æ³•çƒ§å½•çš„æƒ…å†µ 3ã€ä¸èƒ½ä¿è¯æ‰€æœ‰çš„å¡éƒ½å¯ä»¥æˆåŠŸçš„çƒ§å½•é•œåƒï¼Œæ‰€ä»¥å»ºè®®ç”¨æˆ·ç›´æŽ¥è´­ä¹°å®˜æ–¹çš„é•œåƒå¡ ## èŽ·å–é•œåƒæ–‡ä»¶ ä»Žä¸‹è½½ç«™èŽ·å–æœ€æ–°çš„ V831 ç³»ç»Ÿé•œåƒ [SDK_MaixII/release](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/SDK/release) ,å¾—åˆ°ä¸€ä¸ªåŽ‹ç¼©åŒ…ï¼Œè§£åŽ‹ä¹‹åŽå°±å¾—åˆ°ä¸€ä¸ª .img æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯ç³»ç»Ÿé•œåƒæ–‡ä»¶ > å¦‚æžœä¸‹è½½ç«™ä¸‹è½½çš„å¾ˆæ…¢ï¼Œå»ºè®®ä½¿ç”¨ç™¾åº¦ç½‘ç›˜è¿›è¡Œä¸‹è½½ï¼Œä¸‹è½½ç«™çš„ä¸‹è½½å¸¦å®½æœ‰é™ã€‚é“¾æŽ¥ï¼š[ç‚¹æˆ‘](https://pan.baidu.com/s/1vCExI3_48Q90JrxO70JdiQ) ### é•œåƒæ–‡ä»¶å‘½åè¯´æ˜Ž å¯¹äºŽ V831 çš„é•œåƒæ–‡ä»¶åå­—æ˜¯æœ‰å¯¹åº”çš„è§„åˆ™ï¼Œä»¥åŽå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥è¿›è¡Œä¸‹è½½ å°±æ‹¿`v831 m2dock maixhub 0.5.1 20220701.zip`å’Œ ` v831 m2dock maixpy3 0.5.1 20220701.zip` è¿™ä¸¤ä¸ªé•œåƒæ–‡ä»¶æ¥è¯´ åç§° å«ä¹‰ maixpy3 0.5.1 æ­¤é•œåƒæ˜¯ç»™ [MaixPy3](https://wiki.sipeed.com/maixpy3) ä¸“ç”¨ï¼Œå¹¶å†…ç½®äº†`0.5.1`çš„ç‰ˆæœ¬ï¼Œä½†å…¶ä¸­ **æ— ** å†…ç½® maixhub app maixhub 0.5.1 æ­¤é•œåƒæ˜¯ç»™ [MaixPy3](https://wiki.sipeed.com/maixpy3) ä¸“ç”¨ï¼Œå¹¶å†…ç½®äº†`0.5.1`çš„ç‰ˆæœ¬ï¼Œä½†å…¶ä¸­ å†…ç½® maixhub app m2dock å¯ä½¿ç”¨ MaixII Dock å¼€å‘æ¿å¹³å° 20220701 é•œåƒæ›´æ–°æ—¥æœŸ > ä¸Šè¿°é•œåƒå‡ä¸ºå¼€æºç‰ˆï¼Œåªé€‚ç”¨äºŽ TF å¡çƒ§å½•å¯åŠ¨ åœ¨å†…ç½® maixhub çš„é•œåƒä¸­ï¼Œåˆ é™¤ `/root/app` æ–‡ä»¶å¤¹é‡Œé¢çš„å†…å®¹å°±ç­‰åŒäºŽçƒ§å½•äº†ä¸å« maixhub çš„é•œåƒã€‚ åœ¨æ²¡æœ‰å†…ç½® maixhub çš„ç³»ç»Ÿé•œåƒé•œåƒä¸­ï¼ŒæŒ‰ç…§ [maixhub app](https://maixhub.com/app/1) é¡µé¢çš„è¯´æ˜Žï¼Œå°† app æ–‡ä»¶å¤¹å­˜æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œå°±ç›¸å½“äºŽçƒ§å½•äº†å†…ç½® maixhub çš„é•œåƒã€‚ ## Windows ä¸Šä½¿ç”¨ PhoenixCard çƒ§å½•é•œåƒ PhoenixSuit å’Œ PhoenixCard æ˜¯å¸¸ç”¨æ¥çƒ§å½•å…¨å¿—ç§‘æŠ€èŠ¯ç‰‡çš„ä¸¤ç§å·¥å…·ï¼Œå‰è€…é€šè¿‡ USB çƒ§å½•åˆ°æ¿è½½çš„ flashï¼ŒåŽè€…ç”¨äºŽçƒ§å½•é•œåƒåˆ° TF å¡ä¸­ã€‚ é›¶å”®å¼€æºç‰ˆçš„ M2 æ¨¡ç»„ä¸Šæ²¡æœ‰ç„ŠæŽ¥ Flashï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ TF å¡æ¥ä½œä¸ºå¯åŠ¨ä»‹è´¨ï¼Œéœ€è¦ç”¨ PhoenixCard çƒ§å½•é•œåƒåˆ° TF å¡ä¸­æ¥å¯åŠ¨ ### å‡†å¤‡å·¥ä½œ 1. çƒ§å½•å·¥å…· [PhoenixCard](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/SDK/tools) 2. ç³»ç»Ÿ [é•œåƒ](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/SDK/release) 3. å†…å­˜å¡æ ¼å¼åŒ–å·¥å…· [SD Card Formatter](https://www.sdcard.org/downloads/formatter/eula_windows/SDCardFormatterv5_WinEN.zip) ### ç³»ç»Ÿçƒ§å½• 1. å°†å†…å­˜å¡é€šè¿‡è¯»å¡å™¨æŽ¥åˆ°ç”µè„‘çš„ USB å£ï¼Œå¦‚æžœå¼¹å‡ºæ ¼å¼åŒ–é€šçŸ¥çš„è¯ï¼Œç‚¹å‡»å–æ¶ˆå³å¯ ![windows_format_tf](./asserts/windows_format_tf.png) 2. æ‰“å¼€ SD Card Formatter è½¯ä»¶ï¼Œå¯¹å†…å­˜å¡è¿›è¡Œæ ¼å¼åŒ–ã€‚Refreshï¼ˆåˆ·æ–°ï¼‰åŽç‚¹å‡»Formatï¼ˆæ ¼å¼åŒ–ï¼‰ï¼Œæ³¨æ„ä¸è¦æ ¼å¼åŒ–é”™äº†åˆ†åŒºã€‚ ![image 20210802102810041](./../../../assets/maixII/V831/image 20210802102810041.png) 3. æ‰“å¼€PhoenixCard é€‰æ‹© `å¯åŠ¨å¡` é€‰é¡¹ é€‰æ‹©æ­£ç¡®çš„ç›˜ç¬¦ ç‚¹å‡» `çƒ§å¡` æ ¹æ®çŠ¶æ€æ çš„é¢œè‰²å¯ä»¥åˆ¤æ–­çƒ§å½•ç»“æžœï¼šçº¢è‰²çš„è¯è¯´æ˜Žçƒ§å½•å¤±è´¥äº†ï¼Œå»ºè®®ä½¿ç”¨[SD card Formatter](https://www.sdcard.org/downloads/formatter/eula_windows/SDCardFormatterv5_WinEN.zip)æ ¼å¼åŒ–åŽå†é‡æ–°çƒ§å½•ä¸€æ¬¡ï¼›ç»¿è‰²è¡¨ç¤ºåˆ™ä¸€åˆ‡æ­£å¸¸ã€‚ ![image 20210802104155132](./../../../assets/maixII/V831/image 20210802104155132.png) ## Linux(Ubuntu) ä½¿ç”¨ Livesuit çƒ§å½• ### å®‰è£…çƒ§å½•å·¥å…· Livesuit > **æ¯æ¬¡æ›´æ–°ç³»ç»Ÿ linux kernel ä¹‹åŽéœ€è¦é‡æ–°å®‰è£…è½¯ä»¶** 1. å®‰è£…ä¾èµ– dkms ```shell sudo apt install dkms ``` 1. å®‰è£… libpng1.2ï¼ˆä¸€å®šè¦ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬ï¼‰ ```shell wget http://archive.ubuntu.com/ubuntu/pool/main/libp/libpng/libpng_1.2.54.orig.tar.xz tar xvf libpng_1.2.54.orig.tar.xz ``` ```shell cd libpng 1.2.54 ./autogen.sh ./configure make j8 sudo make install ``` æ›´æ–°é“¾æŽ¥åº“: ```shell sudo ldconfig ``` 1. å®‰è£… **livesuit** ```shell git clone https://github.com/linux sunxi/sunxi livesuite.git cd sunxi livesuite chmod +x LiveSuit.sh sudo ./LiveSuit.sh ``` ### ä½¿ç”¨ Livesuit çƒ§å½• `sudo livesuit` æ‰“å¼€çƒ§å½•å·¥å…·ï¼Œå¹¶ç‚¹å‡»â€œå›ºä»¶â€é€‰æ‹©é•œåƒæ–‡ä»¶ ![](./asserts/flash_15.png) ä¸æ’å…¥ SD å¡ï¼Œå°† V831 USB OTG æŽ¥å£è¿žæŽ¥åˆ° PC, æç¤ºæ˜¯å¦æ ¼å¼åŒ–åˆ†åŒºï¼Œè¿™æ—¶å€™æ’å…¥ SD å¡ï¼Œä¹‹åŽç‚¹å‡» `YES` ![](./asserts/flash_17.png) ç­‰å¾…çƒ§å½•å®Œæˆï¼Œæç¤ºâ€œå›ºä»¶å‡çº§æˆåŠŸâ€ï¼Œå³å¯æ–­å¼€ USB ï¼Œè‡³æ­¤å›ºä»¶çƒ§å½•å®Œæ¯• ![](./asserts/flash_19.png) ![](./asserts/flash_21.png) ## é™„å½• ### çƒ§å½•ç³»ç»Ÿåˆ° flash ä¸­ [çƒ§å½•æ–¹å¼](./no_sd_flash.html) ### æ— è¯»å¡å™¨çƒ§å½•æ–¹å¼ [çƒ§å½•æ–¹å¼](./PhoenixSuit.html) ### ä½¿ç”¨ dd çƒ§å½• å®˜æ–¹æ²¡æœ‰åš MaixII Dock çš„ dd é•œåƒç›¸å…³æ”¯æŒï¼Œæœ‰éœ€è¦çš„å¯ä»¥è‡ªè¡ŒåŽ»å­¦ä¹ å¦‚ä½•åˆ¶ä½œ dd é•œåƒçš„[åˆ¶ä½œ](https://www.cnblogs.com/USTHzhanglu/p/15431249.html)ã€‚"},"/hardware/zh/maixII/M2/introduce.html":{"title":"èŠ¯ç‰‡å¹³å°ä»‹ç»","content":" title: èŠ¯ç‰‡å¹³å°ä»‹ç» keywords: MaixII, MaixPy3, Python, Python3, M2dock desc: maixpy èŠ¯ç‰‡å¹³å°ä»‹ç» V831 èŠ¯ç‰‡ä»‹ç» ä»Ž 2019 å¹´è‡³ä»Šçš„æ—¶é—´ï¼Œå¯ä»¥å¼€å§‹çœ‹åˆ°å‡ ä¸ªç›¸æœº SoC ä¸Žä¸€ä¸ªå†…ç½®çš„è½¬ä¸“ä¸šæˆ– SIMD æŒ‡ä»¤åŠ å¿«äººè„¸æ£€æµ‹ã€ç‰©ä½“æ£€æµ‹ç­‰ç­‰ï¼Œä»Žä½Žåˆ†è¾¨çŽ‡ Kendryte K210 å¤„ç†å™¨ 2.5 k Ingenic T31 MIPS è§†é¢‘å¤„ç†å™¨ï¼Œç”šè‡³ 4k èƒ½åŠ› iCatch V37 ç›¸æœº SoC ã€‚ Allwinner è¿‡åŽ»æŽ¨å‡ºäº†å‡ ä¸ªæ‘„åƒå¤´å¤„ç†å™¨(V3ï¼Œ V316ï¼Œ S3â€¦)ï¼Œä½†æ²¡æœ‰ä¸€ä¸ªåŒ…å« NPU (åˆå AI åŠ é€Ÿå™¨)ã€‚çŽ°åœ¨è¿™å·²ç»æ”¹å˜äº†ï¼ŒAllwinner V831 Cortex A7 å…¨é«˜æ¸…æ‘„åƒå¤´ SoC è¿˜åŒ…æ‹¬ä¸€ä¸ªå°çš„ 200 GOPS NPU ã€‚ > å–è‡ª [allwinner v831 ai full hd camera soc powers sochip v831 development board](https://www.cnx software.com/2020/04/28/allwinner v831 ai full hd camera soc powers sochip v831 development board/) ## v831 Chip ![V831_struct.png](./asserts/V831_struct.png) ## å‚æ•°è¡¨ é¡¹ç›® å‚æ•° å¤‡æ³¨ CPU æœ€é«˜ 800Mhz Video encoder H.264, up to 1080p@30fps</br>H265, up to 1080p@30fps</br>JPEG, up to 1080p@30fps NPU 0.2T EISE Up to 1080p@30fps SDRAM SIP 64MB DDR2 SIPå°è£…ï¼ˆSystem In a Packageç³»ç»Ÿçº§å°è£…ï¼‰ SMHC SMHC x2 (SDC0, SDC1) ä¸»æœºæŽ§åˆ¶å™¨ï¼ˆSMHCï¼‰æŽ¥å£ï¼›ç‰©ç†å±‚è§„èŒƒV2.0ï¼ŒSDIOå¡è§„èŒƒV2.0 SPI SPI x2 (SPI0, SPI1) LCD Serial RGB, i8080 DSPO BT656 I2S I2S x1 (I2S0) Parallel CSI No support Ethernet 10/100 Mbit/s Ethernet port with RMII TWI TWI x4 (TWI0, TWI1, TWI2, TWI3) RSB No support GPADC 1 ch Audio codec Output: LINEOUTP</br>Input: MICIN1P/N MIPI CSI 2 lane, up to 1080p@60fps MIPI DSI No support Package QFN88 [V833ï¼V831 Datasheet V1.0.pdf](https://linux sunxi.org/images/b/b9/V833%EF%BC%8FV831_Datasheet_V1.0.pdf) ## äº§å“æŠ€æœ¯æ”¯æŒ M2dockå¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨AIoTä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡ã€‚"},"/hardware/zh/maixII/M2/other.html":{"title":"å…¶ä»–äº‹é¡¹","content":" title: å…¶ä»–äº‹é¡¹ keywords: MaixII, MaixPy3, Python, Python3, M2dock desc: maixpy å…¶ä»–äº‹é¡¹ > ç¼–è¾‘äºŽ 2022å¹´8æœˆ23æ—¥ è¿™é‡Œè®²è¿° V831 å¼€å‘æ¿çš„ä¸€äº›é¢å¤–ä½¿ç”¨äº‹é¡¹å’Œç›¸å…³è§£å†³æ–¹æ³• ä»¥ä¸‹æ›¿æ¢è®¾å¤‡ç›¸å…³æ“ä½œå®ŒæˆåŽï¼Œåç§°ä¸º `maixhub` çš„é•œåƒé‡Œçš„ app åº”ç”¨ä¸å†å¯ç”¨ ## åˆ‡æ¢å±å¹• ç›®å‰å¼€å‘æ¿æ”¯æŒçš„å±å¹•æœ‰ 1.3å¯¸ã€2.4å¯¸ã€2.8å¯¸ çš„ IPS å±ï¼Œä¸”åªæ˜¯æ”¯æŒåœ¨[æˆ‘ä»¬æ·˜å®](https://sipeed.taobao.com/)ä¸Šå”®å–çš„æ˜¾ç¤ºå±ï¼›å¯¹äºŽåˆ«çš„å±å¹•æœ‰éœ€æ±‚çš„ï¼Œå¯ä»¥èµ°å•†åŠ¡é€šé“è¿›è¡Œå®šåˆ¶ã€‚ ### å‡†å¤‡ éœ€è¦åˆ‡æ¢çš„å±å¹•ä¸Žå¯¹åº”çš„è½¬æŽ¥æ¿ å¼€å‘æ¿ æœ€æ–°[ç³»ç»Ÿé•œåƒ](./flash.html) ### å±å¹•è¿žæŽ¥ å¼€å‘æ¿å¯ä»¥ç›´æŽ¥ä¸Ž 1.3å¯¸ å±å¹•è¿žæŽ¥ï¼Œä½†æ˜¯ä¸Ž 2.4å¯¸ æˆ– 2.8å¯¸ å±å¹•è¿žæŽ¥çš„è¯éœ€è¦ä½¿ç”¨è½¬æŽ¥æ¿ è½¬æŽ¥æ¿ä¸Šçš„æŽ¥å£ä¸€ä¸ª 1 çš„æ ‡è¯†ç¬¦ï¼Œæ˜¯æ¥ç¡®ä¿ä¸è¢«åæ’çš„ã€‚å±å¹•æŽ’çº¿ä¸Šçš„ 1 è¦å’Œè½¬æŽ¥æ¿ã€å¼€å‘æ¿çš„ä¸Š 1 ç›¸ä½ç½®å¯¹åº”ã€‚ å±å¹•æ ‡è¯†çš„ 1 å¦‚ä¸‹æ‰€ç¤º <html> <img src \"./asserts/other/1.3.png\" width 45%> <img src \"./asserts/other/2.4.jpg\" width 45%> </html> è½¬æŽ¥æ¿ä¸Šé¢çš„ 1 å¦‚ä¸‹æ‰€ç¤º <img src \"./asserts/other/change.jpg\" width 600> æ¿å­ä¸Šçš„ 1 å¦‚ä¸‹æ‰€ç¤º <img src \"./asserts/other/V831.jpg\" width 600> å…·ä½“æŽ¥çº¿å‚è€ƒä¸‹é¢ä¸¤å¼ å›¾ <html> <img src \"./asserts/other/not connected.jpg\" width 45%> <img src \"./asserts/other/connected.jpg\" width 45%> </html> ### åˆ‡æ¢è®¾å¤‡æ ‘ update_dtb ç¨‹åºæ˜¯ç»™ Allwinner tina linux ä¸“é—¨å†™çš„åº”ç”¨ã€‚ ç¼–è¯‘å¥½çš„è®¾å¤‡æ ‘æ–‡ä»¶ï¼Œå¯ä»¥åœ¨[ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/SDK/Toolchain)ä¸­è¿›è¡Œä¸‹è½½ è¯¥è®¾å¤‡æ ‘æ–‡ä»¶æ˜¯é€šè¿‡å†…æ ¸ç¼–è¯‘å‡ºæ¥çš„ï¼Œä¸æŽ¨èä¸ªäººç”¨æˆ·è‡ªè¡Œç¼–è¯‘ã€‚è®¾å¤‡æ ‘æ–‡ä»¶å‘½åè§„åˆ™å¦‚ä¸‹ï¼š æ–‡ä»¶åå­— å¯ç”¨å±å¹• å¯ç”¨æ‘„åƒå¤´ : : : : : : sipeed_2.8_240x320_vs3205.dtb 2.8å¯¸ vs3205 sipeed_2.8_240x320_sp2305.dtb 2.8å¯¸ sp2305 sipeed_2.4_240x320_vs3205.dtb 2.4å¯¸ vs3205 sipeed_2.4_240x320_sp2305.dtb 2.4å¯¸ sp2305 sipeed_1.3_240x240_vs3205.dtb 1.3å¯¸ vs3205 sipeed_1.3_240x240_sp2305.dtb 1.3å¯¸ sp2305 sipeed_1.3_240x240_ov2685.dtb 1.3å¯¸ ov2685 å°†è®¾å¤‡æ ‘æ–‡ä»¶å­˜æ”¾åˆ°å¼€å‘æ¿ä¸­åœ¨ç”µè„‘ä¸­æ˜¾ç¤ºçš„è™šæ‹ŸUç›˜ä¸­ã€‚ æŽ¥ç€åœ¨ adb ç»ˆç«¯é‡Œé¢æ‰§è¡Œä¸‹é¢å‘½ä»¤ ```bash sync #åˆ·æ–°ä¸€ä¸‹æ–‡ä»¶ update_dtb /dev/mmcblk0 /root/sipeed_240x240_vs3205.dtb reboot #é‡å¯è®¾å¤‡æ¥æ›´æ–°é…ç½® ``` å³å¯åˆ‡æ¢è®¾å¤‡æ ‘ã€‚ å¦‚æžœå‘çŽ°å±å¹•æ˜¾ç¤ºæ•ˆæžœä¸å¯¹ è¯´æ˜Žé€‰é”™äº†å¯¹åº”çš„è®¾å¤‡æ ‘æ–‡ä»¶ã€‚é‡æ–°æ¢æˆæ­£ç¡®çš„è®¾å¤‡æ ‘å³å¯ è¿™é‡Œè´´ä¸€å¼ æ­£å¸¸æ˜¾ç¤ºçš„å›¾æ · ![show](./asserts/show.jpg) ## æ›´æ¢æ‘„åƒå¤´ ç›®å‰ MaixII Dock å¼€å‘æ¿ç›®å‰æ”¯æŒçš„æ‘„åƒå¤´æœ‰ sp2305ã€vs3205ã€ov2685ï¼ˆåªæ”¯æŒåœ¨å®˜æ–¹åº—ä¸Šå†å”®å–çš„æ‘„åƒå¤´ï¼Œæœ‰åˆ«çš„æ‘„åƒå¤´éœ€æ±‚å¯ä»¥è¿›è¡Œå•†åŠ¡å®šåˆ¶ï¼‰ï¼Œæ‘„åƒå¤´ä¹‹é—´çš„åˆ‡æ¢åŒæ ·æ—¶éœ€è¦æ›´æ¢è®¾å¤‡æ ‘æ–‡ä»¶ï¼Œæ›´æ¢æ–¹å¼ä¸Šé¢çš„æ›´æ¢å±å¹•ä¸€æ ·çš„ã€‚ ### å‡†å¤‡ éœ€è¦åˆ‡æ¢çš„æ‘„åƒå¤´æ¨¡å— å¼€å‘æ¿ æœ€æ–°çš„[ç³»ç»Ÿé•œåƒ](./flash.html) ç¼–è¯‘å¥½çš„è®¾å¤‡æ ‘æ–‡ä»¶ï¼Œå¯ä»¥åœ¨[ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/SDK/Toolchain)ä¸­è¿›è¡Œä¸‹è½½ ### è¿žæŽ¥æ‘„åƒå¤´ > **æ³¨æ„çš„æ˜¯è¦æ‘„åƒå¤´çš„æŽ¥æ³•ï¼Œä¸è¦æŠŠæ‘„åƒå¤´ç»™æŽ¥åäº†ï¼Œæ‘„åƒå¤´çš„åº•æ¿ä¸Šæœ‰ä¸€ä¸ªç™½ç‚¹ï¼Œå¼€å‘æ¿å¡ä¸Šä¹Ÿæœ‰ä¸€ä¸ªç™½ç‚¹ï¼Œè¿™ä¸¤ä¸ªç™½ç‚¹è¦åœ¨åŒä¸€è¾¹ã€‚å¦‚æžœæŽ¥åäº†ï¼Œæ‘„åƒå¤´çƒ§æ¯äº†è¯·è‡ªè¡Œå†ä¹°ä¸€ä¸ªå§** <html> <div class \"imbox\"> <img src \"./asserts/other/camera_outlook_1.jpg\" width 350 alt \"camera top\"> <img src \"./asserts/other/camera_outlook_2.jpg\" width 350 alt \"camera bottom\"> </div> </html> ### åˆ‡æ¢è®¾å¤‡æ ‘ > update_dtb ç¨‹åºæ˜¯ç»™ Allwinner tina linux ä¸“é—¨å†™çš„å°å·¥å…·ã€‚ å°†è®¾å¤‡æ ‘æ–‡ä»¶å­˜æ”¾åˆ°å¼€å‘æ¿ä¸­åœ¨ç”µè„‘ä¸­æ˜¾ç¤ºçš„è™šæ‹ŸUç›˜ä¸­ã€‚ æŽ¥ç€åœ¨ adb ç»ˆç«¯é‡Œé¢æ‰§è¡Œä¸‹é¢å‘½ä»¤ ```bash sync #åˆ·æ–°ä¸€ä¸‹æ–‡ä»¶ update_dtb /dev/mmcblk0 /root/sipeed_240x240_vs3205.dtb reboot #é‡å¯è®¾å¤‡æ¥æ›´æ–°é…ç½® ``` å³å¯åˆ‡æ¢è®¾å¤‡æ ‘ï¼Œè¯¥è®¾å¤‡æ ‘æ–‡ä»¶æ˜¯é€šè¿‡å†…æ ¸ç¼–è¯‘å‡ºæ¥çš„ï¼Œä¸æŽ¨èä¸ªäººç”¨æˆ·è‡ªè¡Œç¼–è¯‘ æ–‡ä»¶åå­— å¯ç”¨å±å¹• å¯ç”¨æ‘„åƒå¤´ : : : : : : sipeed_2.8_240x320_vs3205.dtb 2.8å¯¸ vs3205 sipeed_2.8_240x320_sp2305.dtb 2.8å¯¸ sp2305 sipeed_2.4_240x320_vs3205.dtb 2.4å¯¸ vs3205 sipeed_2.4_240x320_sp2305.dtb 2.4å¯¸ sp2305 sipeed_1.3_240x240_vs3205.dtb 1.3å¯¸ vs3205 sipeed_1.3_240x240_sp2305.dtb 1.3å¯¸ sp2305 sipeed_1.3_240x240_ov2685.dtb 1.3å¯¸ ov2685 ## ç¼–è¯‘é“¾ åœ¨[ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/SDK/Toolchain)é‡Œæœ‰ä¸€ä¸ªåä¸º `toolchain sunxi musl pack 2021 01 09.tar.xz` çš„æ–‡ä»¶ï¼Œè¿™æ˜¯åœ¨ Linux ç³»ç»Ÿä¸‹ä¸º V831 æ‰€ä½¿ç”¨çš„ç¼–è¯‘é“¾ã€‚ æœ‰éœ€æ±‚çš„å¯ä»¥è‡ªè¡Œå°è¯•ï¼Œä½†æ˜¯å¯¹äºŽ V831 è¿˜æ˜¯æŽ¨èä½¿ç”¨ MaixPy3 å’Œ MaixHubã€‚"},"/hardware/zh/maixII/M2/usage.html":{"title":"è¿›é˜¶ä½¿ç”¨","content":" title: è¿›é˜¶ä½¿ç”¨ keywords: MaixII, MaixPy3, Python, Python3, M2dock, Tina, Openwrt desc: maixpy MaixII M2dock ä¸Šæ‰‹ä½¿ç”¨ > æ²¡æœ‰ Linux ç³»ç»Ÿä½¿ç”¨åŸºç¡€çš„åŒå­¦ï¼Œä¸æŽ¨èä»¥ä¸‹çš„ä½¿ç”¨æ–¹å¼ é˜…è¯» [MaixII Dock Maixpy3](https://wiki.sipeed.com/soft/maixpy3/zh/tools/0.MaixII Dock.html) æ¥æŸ¥çœ‹æ›´å¤šç”¨æ³• ## è®¤è¯† openwrt ç³»ç»Ÿ > å…¨å¿— V831 ä½¿ç”¨ Tina Linux ç³»ç»Ÿï¼Œç§»æ¤è‡ª [OpenWrt](https://openwrt.org) ã€‚ OpenWrt å¯ä»¥è¢«æè¿°ä¸ºä¸€ä¸ªåµŒå…¥å¼çš„ Linux å‘è¡Œç‰ˆï¼Œè¯¦æƒ…å¯çœ‹ [å®˜æ–¹ç½‘å€](https://openwrt.org) å’Œ [å®˜æ–¹å¼€æºä»“åº“](https://github.com/openwrt/openwrt)ã€‚ OpenWRT æ˜¯ä¸€ä¸ªé«˜åº¦æ¨¡å—åŒ–ã€é«˜åº¦è‡ªåŠ¨åŒ–çš„åµŒå…¥å¼ Linux ç³»ç»Ÿï¼Œæ‹¥æœ‰å¼ºå¤§çš„ç½‘ç»œç»„ä»¶å’Œæ‰©å±•æ€§ï¼Œå¸¸å¸¸è¢«ç”¨äºŽå·¥æŽ§è®¾å¤‡ã€ç”µè¯ã€å°åž‹æœºå™¨äººã€æ™ºèƒ½å®¶å±…ã€è·¯ç”±å™¨ä»¥åŠ VOIP è®¾å¤‡ä¸­ã€‚ åŒæ—¶ï¼Œå®ƒè¿˜æä¾›äº† 100 å¤šä¸ªå·²ç¼–è¯‘å¥½çš„è½¯ä»¶ï¼Œè€Œä¸”æ•°é‡è¿˜åœ¨ä¸æ–­å¢žåŠ ï¼Œè€Œ OpenWrt SDK æ›´ç®€åŒ–äº†å¼€å‘è½¯ä»¶çš„å·¥åºã€‚ V831 tina ç³»ç»Ÿæ”¯æŒä½¿ç”¨ adb æ¥æ“ä½œç³»ç»Ÿã€‚éœ€è¦å°†ä¸»æœºäºŽæ¿å­çš„OTGæ ‡è¯†çš„æŽ¥å£ç›¸è¿žã€‚ Windows ç³»ç»Ÿéœ€è¦å…ˆä¸‹è½½æœ€æ–°çš„ adb ç„¶åŽå°†å…¶è§£åŽ‹å¹¶æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ï¼ŒæŽ¥ç€å°±å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ adb shell è¿žæŽ¥ä¸Š v831. å¯¹äºŽ linux ç›´æŽ¥å®‰è£… adb å³å¯ï¼Œç„¶åŽåœ¨ç»ˆç«¯æ‰§è¡Œ adb shell è¿žæŽ¥ V831 ## M2Dock è”ç½‘ M2Dock å¸¦æœ‰ 2.4G æ— çº¿æ¨¡ç»„ï¼Œå¯ä»¥ç”¨æ¥è¿žæŽ¥ 2.4G é¢‘æ®µçš„æ— çº¿ç½‘ç»œã€‚ å› ä¸ºé•œåƒæ›´æ–°ä¼šæ›´æ”¹éƒ¨åˆ†å†…å®¹ï¼Œæ‰€ä»¥ä¸‹é¢ä»¥ V0.5.4 ç‰ˆæœ¬çš„ç³»ç»Ÿé•œåƒå’Œ V0.5.4 ä¹‹å‰çš„é•œåƒæ¥åˆ†åˆ«è¯´æ˜Žæ€Žä¹ˆæ ·æ¥ä½¿ç”¨ M2Dock è¿žæŽ¥åˆ°æ— çº¿ç½‘ç»œã€‚ ### V0.5.4 åœ¨ 0.5.4 (æ—¶é—´æˆ³ä¸º 20230207 )çš„é•œåƒä¸­ï¼Œç§»é™¤äº†ä¹‹å‰ç¼–è¾‘é…ç½®æ–‡ä»¶ç„¶åŽå†è¿žæŽ¥ç½‘ç»œçš„æ–¹æ³•ï¼Œæ”¹ä¸ºç”¨å‘½ä»¤è¡Œæ¥è¿žæŽ¥æ— çº¿ç½‘ç»œã€‚ å¯ä»¥çœ‹åˆ°æ¿å­ä¸­å†…ç½®äº†è®¸å¤š wifi ç›¸å…³çš„å‘½ä»¤ï¼ˆæŒ‰ TAB è¡¥å…¨å‰©ä½™å‘½ä»¤ï¼Œæ²¡æœ‰å°±è‡ªå·±æ‰‹åŠ¨æ•²å®Œæ•´ï¼‰ ![wifi_test_command_list](./asserts/usage/wifi_test_command_list.jpg) è¿™é‡Œåªä½¿ç”¨ `wifi_connect_ap_test` å‘½ä»¤æ¥è¿žæŽ¥æ— çº¿ç½‘ç»œï¼Œåœ¨ä½¿ç”¨ä¹‹å‰å¯ä»¥å…ˆç›´æŽ¥æ‰§è¡Œ `wifi_scan_results_test` å‘½ä»¤æ¥æ‰«æå‘¨å›´ç½‘ç»œï¼Œç¡®å®šæ¿å­å¯ä»¥è¯†åˆ«åˆ°ç›®æ ‡æ— çº¿ç½‘ç»œã€‚ ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥è¿žæŽ¥åç§°ä¸º `Sipeed_Guest`ï¼Œ ä¸”å¯†ç ä¸º `qwert123` çš„æ— çº¿ç½‘ç»œã€‚ ```bash wifi_connect_ap_test Sipeed_Guest qwert123 ``` ![wifi_test_connect_wireless](./asserts/usage/wifi_test_connect_wireless.jpg) åœ¨è¿žæŽ¥çš„ä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ° `192.168.3.158` è¿™ä¸²æ•°å­—ï¼Œè¿™æ˜¯æ¿å­åœ¨å½“å‰ç½‘ç»œçŽ¯å¢ƒä¸­çš„ IP åœ°å€ã€‚ æ‰§è¡Œ `ifconfig` å‘½ä»¤å¯ä»¥çœ‹åˆ° wlan0 çš„ IP åœ°å€ä¸º `192.168.3.158`ï¼Œä¸Žè¿žæŽ¥ WiFi æ—¶å€™çš„ä¿¡æ¯ä¸€æ ·ã€‚ ![wifi_test_ifconfig](./asserts/usage/wifi_test_ifconfig.jpg) ### V0.5.4 ä¹‹å‰çš„é•œåƒ å¼€å‘æ¿ä¸Šçš„ OTG æŽ¥å£ä¸Žç”µè„‘è¿žæŽ¥ä¹‹åŽï¼Œå°±ä¼šåœ¨èµ„æºç®¡ç†å™¨ä¸­å¾—åˆ°ä¸€ä¸ª U ç›˜ è®¾å¤‡ã€‚é€šè¿‡ç¼–è¾‘å™¨æ‰“å¼€é‡Œé¢åä¸º `wpa_supplicant.conf` æ–‡ä»¶ ![wap_conf_png](./asserts/usage/wap_conf.png) å¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰ `yourWIFIname` å’Œ `yourWIFIpassword` ä¸¤é¡¹ï¼Œå°†ä»–ä»¬æ›´æ”¹æˆä½ æƒ³è¦è¿žæŽ¥çš„æ— çº¿ç½‘ç»œå’Œå¯¹åº”çš„æ— çº¿ç½‘ç»œå¯†ç å¹¶ä¿å­˜åŽï¼Œä½¿ç”¨ç”µè„‘ç³»ç»Ÿè‡ªå¸¦çš„å¼¹å‡º U ç›˜æ“ä½œæ–¹å¼æ¥ç§»é™¤ U ç›˜ï¼Œè¿™æ ·å¯ä»¥é¿å…æŸå U ç›˜çš„æ–‡ä»¶ç³»ç»Ÿã€‚æŽ¥ç€åœ¨ m2dock å‘½ä»¤è¡Œç»ˆç«¯æ‰§è¡Œ `reboot` å‘½ä»¤æ¥é‡å¯æ¿å¡ï¼Œå¼€æœºåŽå°±è‡ªåŠ¨è¿žæŽ¥ WiFi äº†ã€‚ ![wap_conf_gif](./asserts/usage/wap_conf.gif) ### å¦‚ä½•æ›´æ–° MaixPy3 åŒ… å¯ä»¥æ‰‹åŠ¨ä¸‹è½½æœ€æ–°çš„ MaixPy3 [å®‰è£…åŒ…](https://pypi.org/project/maixpy3/#history) ![maixpy3_download](./asserts/usage/maixpy3_download.png) ä¸‹è½½å¸¦æœ‰ cp8 çš„å®‰è£…åŒ…ï¼Œcp9 æ˜¯ç»™åˆ«çš„å¹³å°ä½¿ç”¨çš„ã€‚å°†è¿™ä¸ªå®‰è£…çš„åå­—ä¿®æ”¹æˆ `maixpy3 9.9.9 cp38 cp38 linux_armv7l.whl`,ç›´æŽ¥å­˜æ”¾åˆ°å¼€å‘æ¿ä¸­ï¼Œé‡å¯å¼€å‘æ¿å°±ä¼šè‡ªåŠ¨æ›´æ–°å’Œå®‰è£… MaixPy3ã€‚ ![maixpy3_install](./asserts/usage/maixpy3_install.png) æ›´æ–°å‰è¯·å…³é—­ IDE æˆ–ä¸æŽ¥ OTG å£ï¼Œé˜²æ­¢æœ‰å…¶ä»–æ“ä½œå½±å“ç³»ç»Ÿçš„è½¯ä»¶æ›´æ–°ï¼Œåœ¨æ”¾å…¥ U ç›˜åŽï¼Œæ–­ç”µå¼€æœºä¼šçœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼Œå¦‚æžœè¶…è¿‡ 3 åˆ†é’Ÿç”»é¢æ²¡æœ‰å˜åŒ–ï¼Œé‚£å¯èƒ½å°±æ˜¯å¤±è´¥äº†ï¼Œå°±è¯·é‡çƒ§ç³»ç»Ÿå§ã€‚ï¼ˆ2022 å¹´ 1 æœˆ 14 æ—¥è‡³ä»Šè¿˜æ²¡å‡ºçŽ°è¿‡å¤±è´¥æ ·æœ¬ï¼‰ ### æ›´å¤šè¿žæŽ¥æ–¹å¼ ä½¿ç”¨ mobaxterm å¯ä»¥è¿›è¡Œä¸²å£è¿žæŽ¥å’Œ ssh è¿žæŽ¥ï¼Œå…·ä½“æ•™ç¨‹æŸ¥çœ‹ã€<a href 'https://wiki.sipeed.com/hardware/zh/maixII/M2/tools/mobaxterm.html' target _blank>å¦‚ä½•ä½¿ç”¨ mobaxterm</a>ã€‘ ![mobaxterm_connect](./asserts/usage/mobaxterm_connect.png) ## éƒ¨åˆ†å¸¸ç”¨ Linux å‘½ä»¤ <details> <summary>ç‚¹å‡»æŸ¥çœ‹éƒ¨åˆ†å¸¸ç”¨å‘½ä»¤</summary> <pre> ls æŸ¥çœ‹ç›®å½•ä¸‹æ–‡ä»¶ cd æ‰“å¼€ç›®å½• pwd æ‰“å°å½“å‰ç›®å½• mv ç§»åŠ¨/é‡å‘½å æ–‡ä»¶/æ–‡ä»¶å¤¹ cp å¤åˆ¶ æ–‡ä»¶/æ–‡ä»¶å¤¹ rm åˆ é™¤ vi ç¼–è¾‘æ–‡ä»¶å†…å®¹ #éœ€è¦ä½¿ç”¨ç‰¹å®šçš„adbç‰ˆæœ¬èƒ½æ­£å¸¸æ˜¾ç¤ºå†…å®¹ top æŸ¥çœ‹ç³»ç»Ÿå†…å­˜ df æŸ¥çœ‹ç£ç›˜ä¿¡æ¯ time æŸ¥çœ‹æ—¶é—´ ifconfig æŸ¥çœ‹ç½‘ç»œä¿¡æ¯ free æŸ¥çœ‹å‰©ä½™å†…å­˜ ps æŸ¥çœ‹è¿è¡Œçš„è¿›ç¨‹ kill ç»ˆæ­¢è¿›ç¨‹ killall ç»ˆæ­¢æ‰€æœ‰è¿›ç¨‹ chmod æ›´æ”¹ æ–‡ä»¶/æ–‡ä»¶å¤¹ æƒé™ passwd è®¾ç½®/æ›´æ”¹ ç”¨æˆ·å¯†ç  cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹ ping æ£€æµ‹æŸç½‘å€æ˜¯å¦è¿žé€š wget ä¸‹è½½æŸé“¾æŽ¥æ–‡ä»¶ grep æœç´¢æ–‡ä»¶å†…å®¹ ln å»ºç«‹æ–‡ä»¶é“¾æŽ¥ </pre> </details> ## Opkg åŒ…ç®¡ç†å™¨ Opkg æ˜¯ä¸€ä¸ªè½»é‡å¿«é€Ÿçš„å¥—ä»¶ç®¡ç†ç³»ç»Ÿï¼Œç›®å‰å·²æˆä¸º Opensource ç•ŒåµŒå…¥å¼ç³»ç»Ÿæ ‡å‡†ã€‚å¸¸ç”¨äºŽ è·¯ç”±ã€ äº¤æ¢æœºç­‰ åµŒå…¥å¼è®¾å¤‡ä¸­ï¼Œç”¨æ¥ç®¡ç†è½¯ä»¶åŒ…çš„å®‰è£…å‡çº§ä¸Žä¸‹è½½ã€‚ ### ç›¸å…³å¸¸ç”¨å‘½ä»¤ opkg update æ›´æ–°å¯ä»¥èŽ·å–çš„è½¯ä»¶åŒ…åˆ—è¡¨ opkg upgrade å¯¹å·²ç»å®‰è£…çš„è½¯ä»¶åŒ…å‡çº§ opkg list èŽ·å–è½¯ä»¶åˆ—è¡¨ opkg install å®‰è£…æŒ‡å®šçš„è½¯ä»¶åŒ… opkg remove å¸è½½å·²ç»å®‰è£…çš„æŒ‡å®šçš„è½¯ä»¶åŒ… ä¾‹å¦‚ï¼š ```bash root@sipeed:/# opkg list MaixPy3 0.2.5 1 alsa lib 1.1.4.1 1 busybox 1.27.2 3 busybox init base files 167 1612350358 ca certificates 20160104 curl 7.54.1 1 dropbear 2015.71 2 e2fsprogs 1.42.12 1 eyesee mpp external 1.0 1 eyesee mpp middleware 1.0 1 eyesee mpp system 1.0 1 ``` ## pip åŒ…ç®¡ç†å™¨ [pip](https://pypi.org/project/pip/) æ˜¯ Python åŒ…ç®¡ç†å·¥å…·ï¼Œè¯¥å·¥å…·æä¾›äº†å¯¹ Python åŒ…çš„æŸ¥æ‰¾ã€ä¸‹è½½ã€å®‰è£…ã€å¸è½½çš„åŠŸèƒ½ã€‚ > ä»¥ä¸‹è®¯æ¯ç”±[YanxingLiu](https://github.com/YanxingLiu)æä¾›ä¸Žæµ‹è¯•ã€‚ ### pipæ¢æº åœ¨å®‰è£…ç³»ç»ŸåŽå¯ä»¥æ›´æ¢é•œåƒæºï¼ŒåŠ é€Ÿ pip å®‰è£…ã€‚ ### ä¸´æ—¶ä½¿ç”¨ ```python pip install i https://pypi.tuna.tsinghua.edu.cn/simple some package ``` some package è¯·è‡ªè¡Œæ›´æ¢æˆä½ æƒ³è¦å®‰è£…çš„åŒ… ### è®¾ä¸ºé»˜è®¤ å‡çº§ pip åˆ°æœ€æ–°çš„ç‰ˆæœ¬ (> 10.0.0) åŽè¿›è¡Œé…ç½®ï¼š ```python pip install i https://pypi.tuna.tsinghua.edu.cn/simple pip U ``` è®¾ç½®æ¸…åŽé•œåƒæºä¸ºé»˜è®¤ï¼š ```python pip config set global.index url https://pypi.tuna.tsinghua.edu.cn/simple ``` ## æµ‹è¯•å±å¹•æ–¹æ³• è¯·æµ‹è¯•å‰è§‚å¯Ÿç³»ç»Ÿä¸Šç”µåŽå±å¹•æ˜¯å¦ä¼šé—ªçƒä¸€æ¬¡ï¼›è¿™è¡¨ç¤ºå±å¹•å·²ç»é€šç”µã€é©±åŠ¨èµ·æ¥ï¼Œå¹¶å¯¹å…¶å¤ä½ï¼ˆRSTï¼‰åŽäº§ç”Ÿçš„ã€‚ åœ¨ Linux Shell è¿è¡Œ `cat /dev/urandom > /dev/fb0` å°±ä¼šè¾“å…¥éšæœºæ•°æ®åˆ° fb0 äº§ç”Ÿé›ªèŠ±å±äº†ï¼Œè¿™è¡¨ç¤ºå±å¹•æ˜¾ç¤ºæ˜¯æ­£å¸¸çš„ã€‚ <center><img src \"./asserts/lcd_test.jpg\" width \"400\"></center> <details> <summary>å¸§ç¼“å†²ç›¸å…³çŸ¥è¯†</summary> å¸§ç¼“å†²ï¼ˆframebufferï¼‰æ˜¯ Linux ä¸ºæ˜¾ç¤ºè®¾å¤‡æä¾›çš„ä¸€ä¸ªæŽ¥å£ï¼ŒæŠŠæ˜¾å­˜æŠ½è±¡åŽçš„ä¸€ç§è®¾å¤‡ã€‚ å®ƒå…è®¸ä¸Šå±‚åº”ç”¨ç¨‹åºåœ¨å›¾å½¢æ¨¡å¼ä¸‹ç›´æŽ¥å¯¹æ˜¾ç¤ºç¼“å†²åŒºè¿›è¡Œ è¯»å†™æ“ä½œã€‚framebuffer æ˜¯ LCD å¯¹åº”çš„ä¸€ç§ HALï¼ˆç¡¬ä»¶æŠ½è±¡å±‚ï¼‰ï¼Œæä¾›æŠ½è±¡çš„ï¼Œç»Ÿä¸€çš„æŽ¥å£æ“ä½œï¼Œç”¨æˆ·ä¸å¿…å…³å¿ƒç¡¬ä»¶å±‚æ˜¯æ€Žä¹ˆå®žæ–½çš„ã€‚è¿™äº›éƒ½æ˜¯ç”± Framebuffer è®¾å¤‡é©±åŠ¨æ¥å®Œæˆçš„ã€‚å¸§ç¼“å†²è®¾å¤‡å¯¹åº”çš„è®¾å¤‡æ–‡ä»¶ä¸º /dev/fb*ï¼Œå¦‚æžœç³»ç»Ÿæœ‰å¤šä¸ªæ˜¾ç¤ºå¡ï¼ŒLinuxä¸‹è¿˜å¯æ”¯æŒå¤šä¸ªå¸§ç¼“å†²è®¾å¤‡ï¼Œæœ€å¤šå¯è¾¾ 32 ä¸ªï¼Œåˆ†åˆ«ä¸º /dev/fb0 åˆ° /dev/fb31ï¼Œè€Œ /dev/fb åˆ™ä¸ºå½“å‰ç¼ºçœçš„å¸§ç¼“å†²è®¾å¤‡ï¼Œé€šå¸¸æŒ‡å‘ /dev/fb0ï¼Œåœ¨åµŒå…¥å¼ç³»ç»Ÿä¸­æ”¯æŒä¸€ä¸ªæ˜¾ç¤ºè®¾å¤‡å°±å¤Ÿäº†ã€‚å¸§ç¼“å†²è®¾å¤‡ä¸ºæ ‡å‡†å­— ç¬¦è®¾å¤‡ï¼Œä¸»è®¾å¤‡å·ä¸º 29 ï¼Œæ¬¡è®¾å¤‡å·åˆ™ä»Ž 0 åˆ° 31 ã€‚åˆ†åˆ«å¯¹åº” /dev/fb0 /dev/fb31 ã€‚ </details> ## è¿è¡Œ Python3 è§£é‡Šå™¨ åœ¨ Linux ä¸Šä½¿ç”¨ Python ç¼–ç¨‹åªéœ€è¦åœ¨ adb shell å‘½ä»¤è¡Œäº¤äº’çš„æŽ¥å£è¾“å…¥ python3 å³å¯å¯åŠ¨ï¼Œå¯ç›´æŽ¥å¤åˆ¶ä»£ç ç²˜è´´åŽæŒ‰å›žè½¦é”®è¿è¡Œã€‚ ```python import platform print(platform.uname()) ``` 2022å¹´7æœˆ6æ—¥ å®žé™…æ“ä½œç»“æžœï¼š ```bash __ _ / / (_)__ __ ____ __ / /__/ / _ \\/ // /\\ \\ / sipeed.com (Neptune) /____/_/_//_/\\_,_//_\\_\\ root@sipeed:/# python3 Python 3.8.5 (default, Jun 14 2022, 09:51:56) [GCC 6.4.1] on linux Type \"help\", \"copyright\", \"credits\" or \"license\" for more information. >>> import platform >>> print(platform.uname()) uname_result(system 'Linux', node 'sipeed', release '4.9.118', version '#3242 PREEMPT Tue Jun 28 04:03:38 UTC 2022', machine 'armv7l', processor '') ``` ## æµ‹è¯•æ‹ç…§åŠŸèƒ½ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ [MaixPy3](/maixpy3) æ¥æµ‹è¯•ä¸€ä¸‹æ‘„åƒå¤´ï¼Œå…ˆä»¥äº¤äº’æ¨¡å¼å¯åŠ¨ä¸€ä¸‹ Python, ```python from maix import camera, display, image display.show(camera.capture()) ``` <center><img src \"./asserts/hello_world.jpg\" width \"500\"></center> > å¦‚æžœå±å¹•æ²¡æœ‰æ˜¾ç¤ºå†…å®¹ã€‚é‚£ä¹ˆé¦–å…ˆç¡®è®¤ä¸€ä¸‹é•œåƒé•œåƒç‰ˆæœ¬ï¼Œå¹¶ä¸”ç¡®è®¤ä¸€ä¸‹å¤–è®¾å’Œé©±åŠ¨å¯¹çš„ä¸Š ## æ€Žä¹ˆæ ·ä½¿ç”¨ USB æ‘„åƒå¤´ M2Dock æœ‰ä¸¤ä¸ª TypeC æŽ¥å£ã€‚å…¶ä¸­ä¸€ä¸ªæ ‡è¯†æœ‰ UARTï¼Œä½œä¸ºæ¿å­ä¸Žç”µè„‘è¿›è¡Œä¸²å£é€šä¿¡çš„æŽ¥å£ã€‚å¦ä¸€ä¸ªå£æœ‰ OTG æ ‡è¯†ï¼Œé»˜è®¤æ˜¯ä½œä¸º USB ä»Žæœºæ¥ä½¿ç”¨çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬èƒ½å¤Ÿåœ¨ç”µè„‘ä¸Šä½¿ç”¨ `adb` æ¥æ“ä½œ M2Dock å°±æ˜¯å› ä¸ºè¿™ä¸ªæŽ¥å£é»˜è®¤æ˜¯ä»Žæœºæ¨¡å¼ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ M2Dock ç³»ç»Ÿé»˜è®¤å°† OTG æ ‡è¯†è®¾ç½®ä¸º adb è®¾å¤‡ï¼Œå¯ä»¥åœ¨ PC ç«¯é€šè¿‡ `adb` å‘½ä»¤æ¥æ“ä½œæ¿å­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä½¿å¾—ç”µè„‘ä¸Šçš„ jypyter é€šè¿‡ `adb forward` åŠŸèƒ½åœ¨æ¿å­ä¸Šè¿è¡Œ python ä»£ç ã€‚ æƒ³è¦è¿žæŽ¥æ‘„åƒå¤´ï¼Œéœ€è¦æ‰‹åŠ¨æ›´æ”¹è¿™ä¸ªç«¯å£ä¸ºä¸»æœºæ¨¡å¼ã€‚ä»Žæ¿å­ä¸Šçš„ USB UART æ¥æ“ä½œæ¿å­ï¼Œå¹¶æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥å°† OTG å£ä½œä¸ºä¸»æœºæ¨¡å¼ä½¿ç”¨ã€‚ è¦æ³¨æ„çš„æ˜¯ä¹‹å­é‚£ä¸ªä¸‹é¢çš„å‘½ä»¤åŽï¼Œæ¿å­ä¸Šå°†ä¸Žç”µè„‘é€šè¿‡ USB OTG å£è¿›è¡Œé€šä¿¡ã€‚ ```bash echo \"usb_host\" > /sys/devices/platform/soc/usbc0/otg_role ``` æŽ¥ç€å°±èƒ½å‘é€šå¸¸çš„ linux ç³»ç»Ÿä¸€æ ·æ“ä½œ /dev ç›®å½•ä¸‹çš„æ‘„åƒå¤´äº†ã€‚ ## å¦‚ä½•å°† USB OTG å£ä½œä¸ºä»Žæœº M2Dock é»˜è®¤çš„ OTG å£å°±æ˜¯ USB ä»Žæœºè®¾å¤‡äº†ï¼Œè¦æ˜¯æœ‰å› ä¸ºå…¶ä»–åŽŸå› éœ€è¦é‡æ–°è®¾ç½®æˆä»Žæœºè®¾å¤‡çš„è¯ï¼Œåœ¨ M2Dock ä¸Šæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥äº†ã€‚ ```bash echo \"usb_device\" > /sys/devices/platform/soc/usbc0/otg_role ``` ## å·¥å…·é“¾ [è¿™é‡Œ](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/SDK/Toolchain)æä¾›äº†åœ¨ linux ç³»ç»Ÿä¸‹çš„ç¼–è¯‘å·¥å…·é“¾ï¼Œæœ‰èƒ½åŠ›çš„å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ã€‚æ— ç›¸å…³æ”¯æŒ å»ºè®®ä½¿ç”¨ [MaixPy3](/soft/maixpy3/zh/index.html) æ¥æ“ä½œè®¾å¤‡ ## MaixPy3 æœ¬è®¾å¤‡å»ºè®®ä½¿ç”¨ [MaixPy3](/soft/maixpy3/zh/index.html) æ¥è¿›è¡Œç›¸åº”çš„å¿«é€Ÿå¼€å‘ï¼Œç›¸å…³æ–‡æ¡£è¯·ä»”ç»†é˜…è¯» ## æºç  V831 çš„æºç å·²ç»æ”¾åœ¨ https://github.com/Tina Linux/tina V83x ï¼Œæœ‰éœ€è¦çš„å¯ä»¥è‡ªè¡Œå°è¯•ä¸€ä¸‹"},"/hardware/zh/maixII/M2A/maixsense.html":{"title":"MaixSense ç®€ä»‹","content":"# MaixSense ç®€ä»‹ è¿™ä¸ªæ¿å­å’Œä¹‹å‰çš„ Maix I ç³»åˆ—ä¸åŒï¼Œå®ƒçš„ä¸»æŽ§ä¸ä½†å¸¦æœ‰ AI åŠ é€ŸåŠŸèƒ½ï¼Œè¿˜æ”¯æŒè¿è¡Œ armbian ç³»ç»Ÿã€‚ ## M2A æ¿å¡ M2A æ¿å¡ä»¥å…¨å¿— R329 ä¸ºæ ¸å¿ƒä¸»æŽ§ï¼Œè¿˜é›†æˆç”µæºèŠ¯ç‰‡ã€FELçƒ§å½•æŒ‰é”®ã€wifiæ¨¡ç»„ã€å­˜å‚¨ç„Šç›˜å’Œ RMGII æŽ¥å£ç­‰ç»„ä»¶ã€‚ ![M2A](./assets/M2A.jpg) ### R329 èŠ¯ç‰‡ R329 èŠ¯ç‰‡æ˜¯ç”±å…¨å¿—ç§‘æŠ€æ‰€è®¾è®¡åŒæ ¸ Cortex A53 64 ä½å¤„ç†å™¨ ï¼Œé…å¤‡æœ‰åŒ HIFI4 DSP å¯ç”¨äºŽéŸ³é¢‘åŽå¤„ç†å’Œé¢„å¤„ç†ï¼Œä»¥åŠ Arm ä¸­å›½ä»¥æžä½Žçš„åŠŸè€—å´å¯è¾¾åˆ° 0.256 TOPS ç®—åŠ›çš„ AIPUï¼ˆäººå·¥æ™ºèƒ½å¤„ç†å•å…ƒï¼‰ï¼Œèƒ½å¤Ÿç”¨æ¥ç¡¬ä»¶åŠ é€Ÿç¥žç»ç½‘ç»œï¼Œå¯¹æ‘„åƒå¤´èŽ·å–åˆ°çš„ 720p åˆ†è¾¨çŽ‡çš„å›¾åƒè¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚ ![R329æ¡†æž¶](./assets/R329_1.png) æ¡ç›® å‚æ•° CPU Dual core ARM Cortexâ„¢ A53@1.5GHz<br>32KB L1 I cache + 32KB L1 D cache per core<br>256KB L2 cache DSP Dual core HiFi4@400MHz<br> 32KB L1 I cache + 32KB L1 D cache per core<br> 2MB SRAM NPU æ­è½½å‘¨æ˜“â„¢Z1 AIPUï¼Œæœ€å¤§æ”¯æŒ0.25TOPS@600MHz å†…å­˜ å†…ç½® DDR3 256MB å‚¨å­˜ æ”¯æŒ SPI Nand/Nor/eMMC éŸ³é¢‘ 5è·¯ADCï¼Œ2è·¯DAC<br>3ä¸ª I2S/PCM æŽ§åˆ¶å™¨ ä»¥å¤ªç½‘ 10/100/1000 Mbps USB OTG \\* 1<br>Host \\* 1 SDIO SDIO 3.0 * 2 I2S I2S*3(I2S0, I2S1, S I2S0) SPI SPI*2(SPI0, SPI1) TWI TWI*3(TWI0, TWI1, S TWI0) GPADC 4 ch SCR SCR*1 PWM PWM*15(PWM[8:0], S PWM[5:0]) ## MaixSenseå¼€å‘æ¿ä»‹ç» MaixSense å¼€å‘æ¿å¯èƒ½æ˜¯å¸‚é¢ä¸Šæœ€å°çš„ Linux å¡ç‰‡ç”µè„‘ã€‚æœ¬å¥—ä»¶åŒ…å«ä¸€ä¸ªæ­è½½å…¨å¿— R329 çš„é«˜åº¦é›†æˆ SOM æ ¸å¿ƒæ¿ï¼Œä»¥åŠä¸€ä¸ªå¤šåŠŸèƒ½ IO æ‰©å±•åº•æ¿ï¼Œå¯ä»¥è¿è¡Œ Linux ç³»ç»Ÿ, å¹¶å…·å¤‡å‡ºè‰²çš„æ‰©å±•åŠŸèƒ½ã€‚æ‚¨å¯ä»¥å°†å®ƒç”¨äºŽæ­å»ºä¸ªäººæœåŠ¡å™¨ã€å¼€å‘æ™ºèƒ½è¯­éŸ³åŠ©æ‰‹ã€è®¾è®¡æœºå™¨äººç­‰åœºæ™¯ã€‚å®ƒé€šè¿‡å†…ç½®çš„å‘¨æ˜“ AIPU å¤„ç†å™¨åŒæ—¶æ”¯æŒæ™ºèƒ½è¯­éŸ³å’Œè§†é¢‘å›¾åƒå¤„ç†ï¼Œå¼€å‘è€…å¯ä»¥ç›´æŽ¥åœ¨å¼€å‘æ¿ä¸Šè·‘é€š CV , NLP ç­‰ AI æ¨¡åž‹ã€‚ **Tina Linux**ï¼šå…¨å¿—ç§‘æŠ€åŸºäºŽ Linux å†…æ ¸å¼€å‘çš„é’ˆå¯¹æ™ºèƒ½ç¡¬ä»¶ç±»äº§å“çš„åµŒå…¥å¼è½¯ä»¶ç³»ç»Ÿã€‚Tina LinuxåŸºäºŽ openwrt 14.07 ç‰ˆæœ¬çš„è½¯ä»¶å¼€å‘åŒ…,åŒ…å«äº†Linuxç³»ç»Ÿå¼€å‘ç”¨åˆ°çš„å†…æ ¸æºç ã€é©±åŠ¨ã€å·¥å…·ã€ç³»ç»Ÿä¸­é—´ä»¶ä¸Žåº”ç”¨ç¨‹åºåŒ…ã€‚å¯ä»¥ä»Ž [https://github.com/sipeed/r329 linux 4.9](https://github.com/sipeed/r329 linux 4.9) èŽ·å–åˆ° Tina sdkã€‚ ä½†æ˜¯ MaixSense ä¸åªæ˜¯å¯ä»¥è¿è¡Œ Tina ï¼Œè¿˜å¯ä»¥è¿è¡Œ **armbian**ï¼Œè¿™æ˜¯ä¸€ä¸ªçœŸæ­£**å®Œæ•´**çš„ linux ç³»ç»Ÿï¼Œarmbian æ˜¯åŸºäºŽ debian/ubuntu è¿›è¡Œå¼€å‘çš„ã€‚ åç§° armbian Tina ç®€ä»‹ ä¸“é—¨ç”¨äºŽ`ARM`å¼€å‘æ¿çš„`Debian` å…¨å¿—æ·±åº¦ä¿®æ”¹OpenWRT1404çš„ç³»ç»Ÿ ç‰¹ç‚¹ ä¸»çº¿åŒ–Linuxï¼ŒåŠŸèƒ½ä¸°å¯Œ åŽ‚å•†æ·±åº¦ä¿®æ”¹ï¼Œè½¯ç¡¬ä»¶å¥‘åˆåº¦é«˜ é€‚ç”¨äººç¾¤ æžå®¢ï¼ŒåµŒå…¥å¼å…¥é—¨çŽ©å®¶ç­‰ æ·±åº¦å¼€å‘ï¼Œéœ€è¦è‡ªè¡Œå®šåˆ¶ç­‰å¼€å‘äººå‘˜ ## MaixSenseå¤–è§‚é¢„è§ˆ <div align \"center\"> <img src \"./assets/M2A 1.gif\" alt \"Maixsense outlook\" > </div> ## MaixSense åŸºæœ¬å‚æ•° <table role \"table\" class \"center_table\"> <thead> <tr> <th colspan \"2\">MaixSenseåŸºæœ¬å‚æ•°</th> </tr> </thead> <tbody> <tr> <td>å¤„ç†å™¨ CPU</td> <td>åŒæ ¸ ARM CortexTM A53â„¢ </td> </tr> <tr> <td>AIPU(NPU)</td> <td>æ­è½½å‘¨æ˜“TZ1AIPUï¼Œæœ€å¤§æ”¯æŒ0.25TOPS@600MHz</td> </tr> <tr> <td>DRAM</td> <td>SIP 256MB DDR3</td> </tr> <tr> <td>å­˜å‚¨</td> <td>å¯ä½¿ç”¨æ ¸å¿ƒæ¿æ­è½½çš„ SPINAND (é»˜è®¤ç©ºè´´)å­˜å‚¨<br>å¯ä½¿ç”¨åº•æ¿æ­è½½çš„SDå¡åº§</td> </tr> <tr> <td>è§†é¢‘ç¼–ç å™¨</td> <td>H264/5 &JPEG,æœ€å¤§720p@30fps</td> </tr> <tr> <td>æ‘„åƒå¤´</td> <td>å‡ºåŽ‚é»˜è®¤OV9732ï¼Œæœ€é«˜æ”¯æŒ720P@30fps HD<br>é‡‡ç”¨USB Cè¿žæŽ¥å™¨,æ”¯æŒæ­£åæ’(å¯åˆ†åˆ«ç”¨ä½œå‰åŽæ‘„)</td> </tr> <tr> <td>éº¦å…‹é£Ž</td> <td>ä¸¤ä¸ªæ¨¡æ‹ŸMEMSéº¦å…‹é£Žï¼Œå¹³å‡çµæ•åº¦91dB SPL@1kHz</td> </tr> <tr> <td>å±å¹•</td> <td>1.5å¯¸SPIæ€»çº¿å±å¹•,å±å¹•æŽ¥å£é‡‡ç”¨0.5mm 12P FPCï¼Œåˆ†è¾¨çŽ‡240*240</td> </tr> <tr> <td>æŒ‰é”®</td> <td>1ä¸ªå¤ä½æŒ‰é”®å’Œ4ä¸ªç”¨æˆ·æŒ‰é”®(ADCæŒ‰é”®)ï¼Œ1ä¸ªä¸‹è½½æŒ‰é”®(FEL)</td> </tr> <tr> <td>ä»¥å¤ªç½‘æŽ¥å£</td> <td>åœ¨æ ¸å¿ƒæ¿ä»¥24P 0.5mmé—´è·FPCçš„å½¢å¼å¼•å‡ºï¼Œç”¨äºŽè¿žæŽ¥ç›¸åº”PHY</td> </tr> <tr> <td>IOå¼•å‡º</td> <td>3*10P 2.54mm ç„Šç›˜<br>1ä¸ª4PMx1.25æ’åº§(å¼•å‡º2*GPIOå’Œ5V/GND)<br>å…·ä½“å¯çœ‹ä¸‹æ–¹å¼•è„šå›¾</td> </tr> </tbody> </table> ## å¼•è„šå›¾å‚è€ƒ ![R329 pin](./assets/R329 pin.png) æ‘„åƒå¤´æŽ¥å£å›¾ï¼š ![camera_pin_order](./assets/camera_pin_order.png) ## ç›¸å…³èµ„æ–™ [MaixSense ç¡¬ä»¶èµ„æ–™](https://dl.sipeed.com/shareURL/MaixII/MaixII A) [æžæ•°ç¤¾åŒº R329 ä¸Šæ‰‹å¸–](https://aijishu.com/a/1060000000221780) [æžæ•°ç¤¾åŒº R329 èŠ¯ç‰‡FAQ](https://aijishu.com/a/1060000000291439) [æžæ•°ç¤¾åŒºçŸ½é€Ÿç§‘æŠ€](https://aijishu.com/blog/xisukeji)ï¼ˆå¾ˆå¤šèµ„æ–™ï¼‰ ## äº§å“æŠ€æœ¯æ”¯æŒ M2A å¼€å‘æ¿å¯ä»¥åœ¨å¤šç§åœºæ™¯å®žçŽ°å®¢æˆ·ä¸åŒæ–¹é¢çš„éœ€è¦ï¼Œåœ¨ AIoT ä¸Šå·²ç»å¹¿æ³›çš„ä½¿ç”¨ï¼Œå“è´¨å’Œæ€§èƒ½åœ¨è¡Œä¸šå†…å·²ç»æœ‰éžå¸¸å¥½çš„å£ç¢‘ï¼Œä¸“ä¸šçš„æŠ€æœ¯å›¢é˜Ÿä¸ºå¹¿å¤§å®¢æˆ·è§£å†³ç¡¬ä»¶è®¾è®¡å’Œè½¯ä»¶åŠŸèƒ½ä¸Šçš„å„ç§å„æ ·é—®é¢˜ã€‚ä¸“ä¸šæŠ€æœ¯æ”¯æŒå’Œæ›´è¯¦ç»†èµ„æ–™è¯·è”ç³»å•†åŠ¡<support@sipeed.com>ã€‚"},"/hardware/zh/maixII/M2A/R329.html":{"title":"èŠ¯ç‰‡ä»‹ç»","content":"# èŠ¯ç‰‡ä»‹ç» ## R329 å…¨å¿— R329 åŒæ ¸ Cortex A53 å¤„ç†å™¨çš„ 64 ä½ï¼Œé…å¤‡åŒ HIFI4 DSP ç”¨äºŽéŸ³é¢‘åŽå¤„ç†å’Œé¢„å¤„ç†ï¼Œä»¥åŠ Arm ä¸­å›½çš„ AIPUï¼ˆäººå·¥æ™ºèƒ½å¤„ç†å•å…ƒï¼‰ä»¥æžä½Žçš„åŠŸè€—æä¾›é«˜è¾¾ 0.256 TOPSã€‚å¯ä»¥å¯¹ç¥žç»ç½‘ç»œè¿›è¡Œç¡¬ä»¶åŠ é€Ÿï¼Œé©±åŠ¨ 720p çš„æ‘„åƒå¤´ã€‚ ![R329æ¡†æž¶](./assets/R329_1.png) é¡¹ç›® å‚æ•° CPU Dual core ARM Cortexâ„¢ A53@1.5GHz<br>32KB L1 I cache + 32KB L1 D cache per core<br>256KB L2 cache DSP Dual core HiFi4@400MHz<br> 32KB L1 I cache + 32KB L1 D cache per core<br> 2MB SRAM NPU æ­è½½å‘¨æ˜“â„¢Z1 AIPUï¼Œæœ€å¤§æ”¯æŒ0.25TOPS@600MHz å†…å­˜<br>Memory å†…ç½® DDR3 128MB<br> æ”¯æŒ SPI Nand/Nor/eMMC Audio Supports 5 audio ADC and 2 audio DAC<br>Supports 5 analog audio inputs and 2 analog audio output<br>Up to 3 I2S/PCM controllers for Bluetooth and external audio codec<br>Integrated digital microphone, supports maximum 8 digital microphones Enthernet 10/100/1000 Mbps USB OTG \\* 1<br>Host \\* 1 SDIO SDIO 3.0 * 2 I2S I2S*3(I2S0, I2S1, S I2S0) SPI SPI*2(SPI0, SPI1) TWI TWI*3(TWI0, TWI1, S TWI0) GPADC 4 ch SCR SCR*1 PWM PWM*15(PWM[8:0], S PWM[5:0])"},"/hardware/zh/maixII/M2A/Usages.html":{"title":"åŸºæœ¬ä½¿ç”¨","content":"# åŸºæœ¬ä½¿ç”¨ è¿›è¡Œå®Œå‰é¢çš„ [é…ç½®ç³»ç»Ÿ](./config_system.html) åŽï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸç™»å½•åˆ°æ¿å­ç„¶åŽå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥æ“ä½œæ¿å­äº†ã€‚ ## æ‰©å®¹ç³»ç»Ÿ ä½¿ç”¨ä¸å«æœ‰ MaxiPy3 çš„ç³»ç»Ÿé•œåƒå¯åŠ¨åŽä¼šä¼šè‡ªåŠ¨æ‰©å®¹ï¼Œå¯ä»¥è·³è¿‡ `æ‰©å®¹ç³»ç»Ÿ` è¿™ä¸€æ­¥ã€‚ ä½¿ç”¨å†…ç½® MaxiPy3 çš„é•œåƒç³»ç»Ÿä¸ä¼šè‡ªåŠ¨æ‰©å……ç³»ç»Ÿå®¹é‡åˆ°æœ€å¤§å€¼ï¼Œå› æ­¤éœ€è¦æ‰§è¡Œä¸€ä¸‹ `/usr/lib/armbian/armbian resize filesystem start` å‘½ä»¤æ¥æ‰©å®¹ä¸€ä¸‹ç³»ç»Ÿå¤§å°ï¼Œä¼šèŠ±è´¹ä¸€ä¸‹æ—¶é—´ï¼›æ‰§è¡Œæ—¶ä¸è¦å¼ºè¡Œé€€å‡ºï¼Œæ‰§è¡Œå®Œæ¯•åŽä¼šè‡ªåŠ¨é€€å›žåˆ°ç»ˆç«¯ ## è¿žæŽ¥ç½‘ç»œ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ `nmtui` å‘½ä»¤æ¥é…ç½® wifi ![202108051626](./assets/202108051626.gif) <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹å›¾æ–‡ç‰ˆæ“ä½œ</font></summary> <p>å‘½ä»¤è¡Œä¸­è¾“å…¥ nmtui æ¥æ‰“å¼€å¯è§†åŒ– wifi è¿žæŽ¥ç•Œé¢</p> <img src \"./assets/wifi/nmtui.png\" alt \"nmtui\"> <img src \"./assets/wifi/active_wifi.png\" alt \"active_wifi\"> <p>å¦‚ä¸Šå›¾æ‰€ç¤ºæˆ‘ä»¬é€‰æ‹© Activate a connection æ¥è®¾ç½®è¿žæŽ¥</p> <p>å…ˆæ‹©ç›®æ ‡ wifi </p> <img src \"./assets/wifi/choose_wifi.png\" alt \"choose_wifi\"> <img src \"./assets/wifi/input_password_1.png\" alt \"input_password_1\"> <p>è¾“å…¥æ­£ç¡®çš„å¯†ç </p> <img src \"./assets/wifi/input_password_2.png\" alt \"input_password_2\"> <p>ä¼šæ˜¾ç¤º connecting</p> <img src \"./assets/wifi/connect_wifi.png\" alt \"connect_wifi\"> <p>æˆåŠŸåŽä¼šå‘çŽ°å³è¾¹çš„ active å˜æˆäº† Deactiveï¼Œåˆ°æ­¤åŸºæœ¬è¯´æ˜Žå·²ç»è¿žä¸Šäº† wifi</p> <p>è¿žæŽ¥å¤±è´¥çš„è¯é‡æ–°è¾“å…¥æ­£ç¡®çš„ wifi å¯†ç å†å°è¯•è¿žæŽ¥</p> <img src \"./assets/wifi/succeed_connecting.png\" alt \"succeed_connecting\"> <p>ç„¶åŽæˆ‘ä»¬é‡æ–°é€€å‡ºå›žå‘½ä»¤è¡Œç»ˆç«¯</p> <img src \"./assets/wifi/quit_connecting.png\" alt \"quit_connecting\"> <img src \"./assets/wifi/quit_nmtui.png\" alt \"quit_nmtui\"> <img src \"./assets/wifi/back_terminal.png\" alt \"back_terminal\"> <p>å¯ä»¥ä½¿ç”¨ ifconfig å‘½ä»¤æ¥æŸ¥çœ‹æ¿å­çš„ IP</p> <img src \"./assets/wifi/ifconfig.png\" alt \"ifconfig\"> <img src \"./assets/wifi/see_ip.png\" alt \"see_ip\"> <p>åˆ°è¿™é‡Œçœ‹åˆ°äº† IP å°±è¯´æ˜Žå·²ç»è¿žæŽ¥ä¸Šäº†(ä¸Šå›¾ä¸­çš„çº¢æ¡†ä½ç½®)</p> </details> ## æ–°å»ºç”¨æˆ· ä¸€èˆ¬æ¥è¯´ä¸å»ºè®®ä½¿ç”¨ root æ¥ç™»å½• linux ç³»ç»Ÿï¼Œå› ä¸ºè¿™æ ·å¾ˆå®¹æ˜“æŠŠç³»ç»ŸçŽ©å´©äº†ã€‚ æˆ‘ä»¬æ¥æ–°å»ºä¸€ä¸ªç”¨æˆ·æ¥è¿›è¡Œæ—¥å¸¸ä½¿ç”¨ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ `adduser` è¿™ä¸ªå‘½ä»¤æ¥æ·»åŠ ç”¨æˆ·ã€‚ æ·»åŠ ç”¨æˆ·åä¸º `xxx` çš„ç”¨æˆ· ```bash adduser xxx ``` ä¸€äº› log æ˜¾ç¤ºå®ŒåŽä¼šè®©æˆ‘ä»¬è®¾ç½®å¯†ç ï¼š ```bash New password: Retype new password: ``` æˆåŠŸè®¾ç½®å¯†ç åŽæ‰€æ˜¾ç¤ºçš„ log ä¼šåŒ…æ‹¬ä¸‹é¢çš„å†…å®¹ã€‚ ```bash passwd: password updated successfully ``` æŽ¥ä¸‹æ¥æ‰€æœ‰çš„éƒ½ä½¿ç”¨é»˜è®¤çš„å³å¯ï¼ˆå…¨éƒ¨éƒ½ å›žè½¦ ç¡®å®šå°±è¡Œï¼‰ ```bash Enter the new value, or press ENTER for the default Full Name []: Room Number []: Work Phone []: Home Phone []: Other []: Is the information correct? [Y/n] ``` åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»æˆåŠŸåˆ›å»ºåç§°ä¸º xxx çš„ç”¨æˆ·äº†ã€‚ ä½¿ç”¨å‘½ä»¤ login æ¥ç™»å½•åˆšåˆšæ–°å»ºçš„ç”¨æˆ·: ```bash login xxx ``` æƒ³è¦é€€å‡ºç™»å½•çš„è¯ä½¿ç”¨å‘½ä»¤ `logout` å°±å¯ä»¥ ```bash logout ``` ### æŽˆäºˆç®¡ç†å‘˜æƒé™ æœ‰æ—¶å€™æ–°å»ºçš„ç”¨æˆ·éœ€è¦ä½¿ç”¨åˆ°ç®¡ç†å‘˜æƒé™æ¥æ‰§è¡Œä¸€äº›æ“ä½œï¼Œä¸‹é¢å†…å®¹å°±æ˜¯æŽˆäºˆç”¨æˆ·ç®¡ç†å‘˜æƒé™ã€‚ è¿™é‡Œæˆ‘ä»¬ç¼–è¾‘ `/etc` ç›®å½•ä¸‹çš„ `sudoers` æ–‡ä»¶å°±å¯ä»¥ä¿®æ”¹ç›¸å…³æƒé™ã€‚ ```bash sudo nano /etc/sudoers ``` åœ¨æ–‡ä»¶é‡Œæ‰¾åˆ°ä¸‹é¢çš„å†…å®¹ ```vim # User privilege specification root ALL (ALL:ALL) ALL ``` åœ¨é‡Œé¢æ·»åŠ ä¸Š `xxx ALL (ALL:ALL) ALL`ï¼ˆå…¶ä¸­xxxæ˜¯ä½ ä¹‹å‰æ·»åŠ çš„ç”¨æˆ·åï¼‰ ```vim # User privilege specification root ALL (ALL:ALL) ALL xxx ALL (ALL:ALL) ALL ``` æŽ¥ç€ä¿å­˜åŽé€€å‡ºå³å¯ã€‚ ## å®‰è£…åº”ç”¨ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å®‰è£… `armbian config` ä¸ºä¾‹ã€‚ç›´æŽ¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ ```bash sudo apt install armbian config y ``` ä¸Šé¢çš„å‘½ä»¤çš„æ„æ€æ˜¯ä½¿ç”¨ root æƒé™æ¥è¿è¡Œ apt åº”ç”¨çš„ install å‘½ä»¤æ¥å®‰è£… armbian config ä¸”åŽé¢æ‰€æœ‰éœ€è¦é€‰æ‹©çš„å†…å®¹å‡ä¸º yes é€‰é¡¹ ## è®¾ç½®æ—¶åŒº å‘½ä»¤è¡Œä¸­è¾“å…¥ `armbian config`ï¼Œé€‰ä¸­ Personalï¼Œå†é€‰æ‹© Timezone > Asia >Shanghai è®¾ç½®ä¸Šæµ·æ—¶é—´ï¼ˆDebianä¸­æ²¡æœ‰åŒ—äº¬æ—¶é—´ï¼‰ï¼ŒæŒ‰ä½ TAB é”®åˆ‡æ¢åˆ° ok åŽï¼Œä¿å­˜å³å¯ã€‚ åœ¨ `armbian config` è®¾ç½®ç•Œé¢ä¸­ä¸€ç›´æŒ‰é”®ç›˜ä¸Šçš„ `Esc` é”®ä¹Ÿèƒ½æœ‰é€€å‡ºçš„æ•ˆæžœã€‚ ![202108062005](./assets/202108062005.gif) ## è®¾ç½®ä¸­æ–‡æ˜¾ç¤º å‘½ä»¤è¡Œä¸­è¾“å…¥`armbian config`ï¼Œé€‰ä¸­Personal > Localesï¼Œä¸‹æ»‘åˆ°æœ€ä¸‹é¢ï¼ˆå¯ä»¥è¯•ç€ä½¿ç”¨é”®ç›˜ä¸Šçš„ `PageDown` æŒ‰é”®åŠ å¿«ä¸‹æ»‘ï¼‰ï¼Œä½¿ç”¨é”®ç›˜ç©ºæ ¼é”®æ¥é€‰ä¸­ zh.GBK å’Œ zh.UTF 8 ï¼Œå›žè½¦ç¡®è®¤åŽå†é€‰æ‹© zh_CN.UTF8 ä¸ºç³»ç»Ÿé»˜è®¤è¯­è¨€ï¼Œç„¶åŽå¤šæ¬¡æŒ‰ä¸‹ `Esc` é”®æ¥é€€å›žåˆ°å‘½ä»¤è¡Œç»ˆç«¯ç•Œé¢ã€‚<! æ‰§è¡Œå‘½ä»¤ `sudo apt install fonts wqy zenhei` æ¥ä¸‹è½½ä¸­æ–‡å­—ä½“ï¼Œ > ç„¶åŽä½¿ç”¨ `reboot` å‘½ä»¤æ¥é‡å¯åŽç³»ç»ŸåŽå°±ä¼šå‘çŽ°å‘½ä»¤è¡Œç»ˆç«¯æœ‰ä¸­æ–‡æ˜¾ç¤ºäº†ã€‚ ![202108062054](./assets/202108062054.gif) ## é…ç½®è“ç‰™ æ‰“å¼€ `armbian config`ï¼Œé€‰ä¸­ Networkï¼Œé€‰æ‹© BTinstall å®‰è£…è“ç‰™æ”¯æŒåŒ…ã€‚ ![202108071034](./assets/202108071034.gif) ç„¶åŽå°±å¯ä»¥ä½¿ç”¨ Bluetoothctl é…ç½®è“ç‰™ã€‚ <html> <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹å¸¸ç”¨å‘½ä»¤</font></summary> <pre class \"line numbers language bash\"> devices åˆ—å‡ºæ´»åŠ¨çš„è“ç‰™è®¾å¤‡ paired devices åˆ—å‡ºå·²é…å¯¹è“ç‰™è®¾å¤‡ pairable &lt;on/off&gt; æ˜¯å¦å…è®¸é…å¯¹ discoverable &lt;on/off&gt; æ˜¯å¦å…è®¸è¢«å‘çŽ° discoverable timeout [value]è®¾ç½®æš´éœ²æ—¶é—´ pair [dev] é…å¯¹è®¾å¤‡ trust [dev] ä¿¡ä»»è®¾å¤‡ untrust [dev] å–æ¶ˆè®¾å¤‡ä¿¡ä»» remove &lt;dev&gt; ç§»é™¤è®¾å¤‡ connect &lt;dev&gt; è¿žæŽ¥è®¾å¤‡ disconnect [dev] æ–­å¼€è®¾å¤‡è¿žæŽ¥ quit é€€å‡º help æŸ¥çœ‹å¸®åŠ© </pre> </details> </html> ### è¿žæŽ¥è“ç‰™è®¾å¤‡ ä½¿ç”¨ `bluetoothctl` è¿žæŽ¥è“ç‰™è®¾å¤‡ã€‚ ```bash scan on #æ‰«æè®¾å¤‡ scan off #åœæ­¢æ‰«æ trust XX:XX:XX:XX #ä¿¡ä»»è®¾å¤‡ pair XX:XX:XX:XX #é…å¯¹è®¾å¤‡ connect XX:XX:XX:XX #è¿žæŽ¥è®¾å¤‡ ``` ![202108071610](./assets/202108071610.gif) ### è®¾ç½®è“ç‰™éŸ³é¢‘è¾“å…¥/è¾“å‡º å¯ç”¨è“ç‰™éŸ³é¢‘å‰ï¼Œéœ€è¦å…ˆå®‰è£… `pulseaudio` å’Œè“ç‰™ç»„ä»¶ ```bash sudo apt install pulseaudio sudo apt install pulseaudio module bluetooth ``` ç„¶åŽä½¿ç”¨ pactl å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æœ‰è“ç‰™è¾“å‡ºè®¾å¤‡ ```bash pactl list short sinks ``` åˆ‡æ¢éŸ³é¢‘è¾“å‡ºåˆ°è“ç‰™ï¼Œä¸‹é¢çš„ `<dev>` åœ¨æ­¤å¤„åº”è¯¥ä¸º `2` ```bash pactl set default sink <dev> ``` log å¦‚ä¸‹ï¼š ```bash maixsense:~:# apt install pulseaudio maixsense:~:# apt install pulseaudio module bluetooth maixsense:~:# pactl list short sinks 0\talsa_output.platform 7032000.codec.stereo fallback\tmodule alsa card.c\ts16le 2ch 44100Hz\tSUSPENDED 2\tbluez_sink.00_26_04_00_73_B1.a2dp_sink\tmodule bluez5 device.c\ts16le 2ch 44100Hz\tSUSPENDED maixsense:~:# pactl set default sink 2 ``` ![202108071726](./assets/202108071726.gif) ç„¶åŽå°±å¯ä»¥æ’­æ”¾éŸ³é¢‘åˆ°è“ç‰™è®¾å¤‡ï¼Œæˆ–è€…é€šè¿‡è“ç‰™è¿žæŽ¥æ‰‹æœºå½“ä½œè“ç‰™éŸ³ç®±ä½¿ç”¨ã€‚ ## é…ç½®éŸ³é‡ è¿™é‡Œä½¿ç”¨ `alsamixer` è¿™ä¸ªåº”ç”¨æ¥æ”¹å˜éŸ³é‡ ![202108071440](./assets/202108071440.gif) <html> <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹å¸¸ç”¨å‘½ä»¤</font></summary> <pre> Help xxEsc ç¦»å¼€ â–’x xxF1 ? H å¸®åŠ© â–’x xxF2 / ç³»ç»Ÿä¿¡æ¯ â–’x xxF3 å›žæ”¾æŽ§åˆ¶ â–’x xxF4 æ•èŽ·æŽ§åˆ¶ â–’x xxF5 æ‰€æœ‰æŽ§åˆ¶ â–’x xxTab åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼ â–’x xxF6 S é€‰æ‹©å£°å¡ â–’x xxL åˆ·æ–°å±å¹• â–’x xxLeft ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªçš„æŽ§åˆ¶ â–’x xxRight ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªçš„æŽ§åˆ¶ â–’x xxUp/Down æ”¹å˜éŸ³é‡ â–’x xx+ æ”¹å˜éŸ³é‡ â–’x xxPage Up/Dn å¤§å¹…æ”¹å˜éŸ³é‡ â–’x xxEnd è®¾ç½®éŸ³é‡ä¸º0 â–’x xx0 9 ä»Ž0åˆ°9ä¾æ¬¡è®¾ç½®éŸ³é‡ â–’x xxQ W E å¢žåŠ  å·¦/å…¨éƒ¨/å³å£°é“éŸ³é‡ â–’x xxZ X C å‡å°‘ å·¦/å…¨éƒ¨/å³å£°é“éŸ³é‡ â–’x xxB å·¦å³å£°é“å¹³è¡¡ â–’x xxM åˆ‡æ¢é™éŸ³ â–’x x< > åˆ‡æ¢å·¦/å³é™éŸ³ â–’x xxSpace åˆ‡æ¢æ•èŽ· â–’x xx; ' åˆ‡æ¢å·¦/å³æ•èŽ· â–’x </pre> </details> </html> å¦‚æžœéœ€è¦æŽ§åˆ¶è“ç‰™è®¾å¤‡éŸ³é‡ï¼Œéœ€è¦ä½¿ç”¨ `pactl` ã€‚ å› ä¸º `pcatl` ä¹Ÿæ”¯æŒæŽ§åˆ¶å£°å¡ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨è¿™ä¸ªåº”ç”¨æ¥æŽ§åˆ¶éŸ³é‡ã€‚ ```bash ##æŸ¥çœ‹è¾“å…¥/è¾“å‡ºè®¾å¤‡ç´¢å¼• pactl list short sources/sinks ##è®¾ç½®è¾“å…¥/è¾“å‡ºéŸ³é‡ pactl set source/sink volume index volume pactl set default source/sink ##è®¾ç½®é»˜è®¤è¾“å…¥/è¾“å‡º ``` ç¤ºä¾‹ï¼Œè®¾ç½®è“ç‰™è€³æœºä¸ºè¾“å‡ºè®¾å¤‡ï¼ŒéŸ³é‡ä¸º10%,ç„¶åŽå¢žåŠ 20%ï¼Œæœ€åŽå‡å°‘30% ```bash maixsense:~:# pactl list short sinks 0\talsa_output.platform 7032000.codec.stereo fallback\tmodule alsa card.c\ts16le 2ch 44100Hz\tSUSPENDED 2\tbluez_sink.00_26_04_00_73_B1.a2dp_sink\tmodule bluez5 device.c\ts16le 2ch 44100Hz\tRUNNING ##è“ç‰™è®¾å¤‡ä¸€èˆ¬ä¸ºbluez_sink maixsense:~:# pactl set default sink 2 maixsense:~:# pactl set sink volume 2 10% maixsense:~:# pactl set sink volume 2 +8192 maixsense:~:# pactl set sink volume 2 0x3000 ##å¯é€‰ ç™¾åˆ†æ¯”ï¼Œåè¿›åˆ¶æ•°ï¼Œåå…­è¿›åˆ¶æ•°æŽ§åˆ¶ï¼Œæ•ˆæžœç›¸åŒï¼Œå¹¶ä¸”å¯ä»¥è¶…è¿‡100% ``` ## åª’ä½“æ’­æ”¾ åª’ä½“æ’­æ”¾å¸¸ç”¨ mplayer è¿™ä¸ªåº”ç”¨ã€‚ ä¸‹è½½ mplayer ```bash sudo apt install mplayer y ``` å®‰è£…åŽæˆ‘ä»¬éœ€è¦æŠŠæƒ³è¦æ’­æ”¾çš„æ–‡ä»¶ä¼ åˆ°æ¿å­ä¸Šã€‚ æ–‡ä»¶å¯ä»¥åœ¨[ä¸‹è½½ç«™](https://dl.sipeed.com/shareURL/MaixII/MaixII Dock/example)èŽ·å–åˆ°ä¸‹é¢çš„ç¤ºä¾‹æ–‡ä»¶ è¿™é‡Œå¯ä»¥ç”¨ [mobaxterm](../M2/tools/mobaxterm.html) è½¯ä»¶æ¥ä½¿ç”¨æ— çº¿ç½‘ç»œæŠŠæ–‡ä»¶ä¼ è¾“åˆ°æ¿å­ä¸Šã€‚ ç„¶åŽæ‰§è¡Œ `sudo mplayer badapple_240_60fps.mp4 vo fbdev2` æ¥æ’­æ”¾è§†é¢‘æˆ–è€… `sudo mplayer Short.mp3` æ’­æ”¾éŸ³é¢‘ ```bash mplayer badapple_240_60fps.mp4 vo fbdev2 ``` æƒ³è¦é€€å‡ºçš„è¯ä½¿ç”¨é”®ç›˜ä¸Šçš„ `Ctrl+C` ç»„åˆé”®æ¥é€€å‡ºã€‚ ä¹Ÿåœ¨åœ¨å‘½ä»¤è¡ŒåŽé¢åŠ ä¸Š`< /dev/null > /dev/null 2>1 &`ä»¥ä¾¿åœ¨åŽå°æ’­æ”¾ ```bash mplayer badapple_240_60fps.mp4 vo fbdev2 < /dev/null > /dev/null 2>1 & ``` ä¸Šé¢çš„æŒ‡ä»¤æ˜¯åœ¨åŽå°æ’­æ”¾çš„ã€‚æƒ³è¦åœæ­¢çš„è¯å¯ä»¥å…ˆä½¿ç”¨ `fg` å‘½ä»¤æ¥åˆ‡æ¢åˆ°ä»»åŠ¡ï¼Œå†ä½¿ç”¨ `Ctrl+C` æ¥ç»ˆæ­¢ç¨‹åº ![202108091128](./assets/202108091128.gif) å¦‚æžœæ²¡æ’­æ”¾æˆåŠŸçš„è¯ï¼Œå°è¯•å¢žåŠ è®¾å¤‡éŸ³é‡ï¼ˆå‰æ–‡æè¿‡alsamixerï¼‰æˆ–è€…ç¡®è®¤ä¸€ä¸‹æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡® ## ç¼–å†™cä»£ç  ä¸€èˆ¬å‘½ä»¤è¡Œéƒ½æ˜¯ç”¨ vim æ¥ä½œä¸ºç¼–è¾‘å™¨ã€‚æœ‰å…´è¶£çš„å¯ä»¥é¢å¤–å­¦ä¹ ä¸€ä¸‹è¿™æ¬¾å¼ºå¤§çš„ç¼–è¾‘å™¨ å¦‚æžœæç¤ºæ²¡æœ‰å®‰è£… vim çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ `sudo apt install vim y` æ¥å®‰è£… vimã€‚ ç„¶åŽæˆ‘ä»¬ä½¿ç”¨ vim æ¥æ–°å»ºä¸€ä¸ªåä¸º `helloworld.c` çš„æºæ–‡ä»¶ ```bash vim helloworld.c ``` vim æœ‰å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰ ï¼Œ è¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰ å’Œ åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰ã€‚ æ–°å»ºæ–‡ä»¶åŽé»˜è®¤çš„æ¨¡å¼ä¸º å‘½ä»¤æ¨¡å¼ï¼Œæ­¤æ—¶æˆ‘ä»¬æŒ‰ä¸‹é”®ç›˜ä¸Šçš„ `i` é”®å¯è¿›å…¥è¾“å…¥æ¨¡å¼ã€‚ å°†ä¸‹é¢çš„ä»£ç æ­£å¸¸è¾“å…¥åˆ°æ–‡ä»¶å†…å®¹ä¸­ã€‚ ```c #include <stdio.h> int main() { printf(\"Hello, world\\n\"); return 0; } ``` ç„¶åŽä½¿ç”¨é”®ç›˜ä¸Šçš„ esc é”®æ¥é€€å‡ºè¾“å…¥æ¨¡å¼åˆ°å‘½ä»¤æ¨¡å¼ï¼Œ ç„¶åŽä½¿ç”¨ `:` æ¥è¿›å…¥åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ŒæŽ¥ç€è¾“å…¥ `wq` æ¥ä¿å­˜æ–‡ä»¶ä¸”é€€å‡ºåˆ°å‘½ä»¤è¡Œ ç„¶åŽæŽ¥å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ gcc æ¥ç¼–è¯‘æˆ‘ä»¬çš„ä»£ç äº†ã€‚ å¦‚æžœæ²¡æœ‰ gcc çš„è¯ä½¿ç”¨ apt å‘½ä»¤æ¥å®‰è£…ä¸€ä¸‹ã€‚ æœ‰å…³ gcc çš„è¯¦ç»†è¯´æ˜Žè¯·è‡ªè¡Œæœç´¢ã€‚ ```bash gcc hello.c o hello.o ``` ç»“æŸç¼–è¯‘åŽç›´æŽ¥è¿è¡Œå³å¯ ```bash ./hello.o ``` ![202108091201](./assets/202108091201.gif) ## ç¼–å†™pythonä»£ç  è¯¦ç»†è§£é‡Šçœ‹ä¸Šé¢çš„Cä»£ç æ ·ä¾‹ ```bash vim helloworld.py #æ–°å»ºä¸€ä¸ªpythonæ–‡ä»¶å¹¶ä¸”ç”¨vimæ‰“å¼€ i print(\"hello world!\\n\") esc :wq python3 helloworld.py ``` ![202108091339](./assets/202108091339.gif) ## ä½¿ç”¨ python ç‚¹äº®ç¬¬ä¸€ä¸ªç¯ é¦–å…ˆå®‰è£… GPIO çš„ python æ”¯æŒåº“ ```bash pip install gpiod ``` æŠŠ led æ­£æžæ’å…¥ PH5,è´Ÿæžæ’å…¥ GND åˆ›å»º `led.py` æ–‡ä»¶ ``` bash vim led.py ``` å°†ä¸‹é¢ä»£ç è¾“å…¥åˆ°æ‰€åˆ›å»ºçš„æ–‡ä»¶ä¸­ ```python import time import gpiod as gpio PH_BASE (8 1)*32 # \"PH\" gpiochip1 gpio.chip(\"gpiochip1\") led gpiochip1.get_line((PH_BASE + 5)) # \"PH5\" config gpio.line_request() config.request_type gpio.line_request.DIRECTION_OUTPUT led.request(config) while led: led.set_value(0) time.sleep(1) print(\"led on\") led.set_value(1) time.sleep(1) print(\"led off\") ``` ä¿å­˜é€€å‡ºåˆ°å‘½ä»¤è¡Œç»ˆç«¯åŽæ‰§è¡Œä»£ç  ```bash python3 led.py ``` æ•ˆæžœå¦‚ä¸‹ï¼š ![202108091956](./assets/202108091956.gif) ## è®¾ç½®å¼€æœºå¯åŠ¨ éœ€è¦ä¼šä¸€äº›è„šæœ¬è¯­è¨€ã€‚ é¦–å…ˆå¯ç”¨å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥ç¼–è¾‘ç›¸å…³æ–‡ä»¶å°±å¯ä»¥ä¿®æ”¹ç›¸å…³è®¾ç½®ã€‚ ```bash vim /lib/systemd/system/rc local.service ``` åœ¨æœ€åŽé¢æ·»åŠ  ```bash [Install] WantedBy multi user.target Alias rc.local.service ``` è¿™æ ·å°±æˆåŠŸå¯ç”¨äº†å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ æŽ¥ä¸‹æ¥æˆ‘ä»¬åªéœ€è¦æŠŠæƒ³è¦å¼€æœºè¿è¡Œçš„å†…å®¹æ·»åŠ åˆ° rc.local æ–‡ä»¶å°±å¯ä»¥äº† ç¼–è¾‘è‡ªå¯åŠ¨è„šæœ¬ ```bash vim /etc/rc.local ``` åœ¨`exit 0`å‰é¢æ·»åŠ éœ€è¦å¯åŠ¨çš„æœåŠ¡ ```bash echo \"hello world!\" ``` ç„¶åŽé‡å¯å³å¯ã€‚ ä¾‹å¦‚è¿›è¡Œä¸Šé¢çš„ä¿®æ”¹åŽï¼Œæ­¤è„šæœ¬ä¼šåœ¨ç”¨æˆ·ç™»å½•å‰æ‰§è¡Œï¼Œæ‰§è¡Œç¤ºä¾‹æ—¥å¿—å¦‚ä¸‹ ```bash [ OK ] Finished Permit User Sessions. [ 38.569457] rc.local[1322]: hello world! ``` è¦æ³¨æ„çš„æ˜¯åœ¨å¼€æœºè„šæœ¬é‡Œé¢æœ€å¥½ä¸è¦å¾ªçŽ¯å ç”¨ä¸²å£ï¼Œè¿™ä¼šå¯¼è‡´æˆ‘ä»¬æ— æ³•å†é€šè¿‡ä¸²å£æ¥æ“ä½œæ¿å­ã€‚ ## æ›´å¤šçš„ä½¿ç”¨æ–¹æ³• è¯·åˆ°[MaixPy3](/soft/maixpy3/zh/readme.md)å’Œ[æžæœ¯ç¤¾åŒº](https://aijishu.com/a/1060000000221780)ä¸­è‡ªè¡ŒæŸ¥çœ‹"},"/hardware/zh/maixII/M2A/ssh.html":{"title":"å¦‚ä½•ä½¿ç”¨SSH","content":"# å¦‚ä½•ä½¿ç”¨SSH > ç¼–è¾‘äºŽ2022.04.29 è¿™é‡Œè®²ä¸€ä¸‹æ€Žä¹ˆä½¿ç”¨sshï¼Œå’Œä¸€äº›å¸¸ç¢°åˆ°çš„é—®é¢˜ã€‚ ## ç®€ä»‹ SSH æ˜¯è¾ƒå¯é ï¼Œä¸“ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›å®‰å…¨æ€§çš„åè®®ã€‚ é€šå¸¸æˆ‘ä»¬ç”¨è¿™ä¸ªæ¥è¿œç¨‹ç™»é™†åˆ«çš„linuxè®¾å¤‡ã€‚ ## ç”¨æ³• ### ç›®æ ‡è®¾å¤‡è¿›è¡Œçš„æ“ä½œ #### ç›®æ ‡è®¾å¤‡å®‰è£…ssh ä¸€èˆ¬æ¥è¯´å¤§å¤šæ•°è®¾å¤‡éƒ½å·²ç»å†…ç½®äº†sshï¼Œä½†æ˜¯å¯¹äºŽéœ€è¦çš„è¯ä¸€èˆ¬å¯ä»¥ç”¨ä¸‹é¢å‘½ä»¤å®‰è£…ssh. ```bash sudo apt install ssh y ``` #### å¼€å¯ç«¯å£ ä¿®æ”¹ /etc/ssh/sshd_config é‡Œé¢çš„ #22 ä¸º 22 . ä¸€èˆ¬æ¥è¯´è¿™æ ·å°±æ²¡å•¥é—®é¢˜äº†ï¼Œæœ‰å…¶ä»–çš„é—®é¢˜çš„è¯å…ˆé‡å¯è¯•è¯•ï¼ˆè§£å†³99%çš„é—®é¢˜ï¼‰ã€‚å‰©ä¸‹1%çš„é—®é¢˜ç½‘ä¸Šæœæœ ### ä¸»æœºç«¯æ“ä½œ"},"/hardware/zh/maixII/M2A/flash_system.html":{"title":"ç³»ç»Ÿçƒ§å½•","content":"# ç³»ç»Ÿçƒ§å½• ## ç³»ç»Ÿç®€ä»‹ Lichee MaixSenseï¼ˆä»¥ä¸‹ç®€ç§°R329ï¼‰æä¾›äº†ä»¥ä¸‹ä¸¤ç§ç³»ç»Ÿé•œåƒ åç§° armbian Tina : : : ç®€ä»‹ ä¸“é—¨ç”¨äºŽARMå¼€å‘æ¿çš„è½»é‡çº§ Debian å…¨å¿—é­”æ”¹OpenWRT1404çš„ç³»ç»Ÿ ç‰¹ç‚¹ ä¸»çº¿åŒ–Linuxï¼ŒåŠŸèƒ½ä¸°å¯Œ åŽ‚å•†é­”æ”¹ï¼Œæ¯”è¾ƒç²¾ç®€ é€‚ç”¨äººç¾¤ æžå®¢ï¼ŒåµŒå…¥å¼å…¥é—¨çŽ©å®¶ç­‰ æ·±åº¦å¼€å‘ï¼Œéœ€è¦è‡ªè¡Œå®šåˆ¶ç­‰å¼€å‘äººå‘˜ > ï¼ï¼ï¼ä¸€å®šè¦ä¸¥æ ¼æŒ‰ç…§æ­¥éª¤æ“ä½œï¼ï¼ï¼armbianç³»ç»Ÿè¯·ä½¿ç”¨å¤§äºŽ 4G çš„ TF/SD å¡è¿›è¡Œçƒ§å½•ï¼ŒTinaç³»ç»Ÿè¯·ä½¿ç”¨å¤§äºŽ 1G çš„ TF/SD å¡è¿›è¡Œçƒ§å½•, è´¨é‡è¾ƒå·®çš„å¯åŠ¨å¡ä¼šæœ‰ç³Ÿç³•çš„å®žé™…ä½¿ç”¨ä½“éªŒ å¯¹äºŽ R329 èŠ¯ç‰‡ï¼Œ å»ºè®®ä½¿ç”¨ Etcher è½¯ä»¶æ¥çƒ§å½•é•œåƒã€‚ ## èŽ·å–é•œåƒ ### armbian ç³»ç»Ÿé•œåƒ armbian é•œåƒèŽ·å–ï¼š > é“¾æŽ¥ï¼š[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1p4cCSFLIPVOnVXB_TT546g) æå–ç ï¼š`r329` å…¶ä¸­ä»¥ maixpy3 å¼€å¤´å‘½åçš„é•œåƒæ–‡ä»¶çš„æ˜¯å·²ç»è£…è½½äº† MaixPy3 åº“å’Œç›¸å…³é©±åŠ¨çš„é•œåƒåŒ…ã€‚ armbian é•œåƒæ‰€æ‰“åŒ…çš„æ–¹æ³•ä¸º [dd](https://baike.baidu.com/item/DD/2654972); å¯ä»¥é€‰ç”¨é€‚åˆå½“å‰ç³»ç»Ÿçš„ [Etcher](https://www.balena.io/etcher/ \"Etcher\") è½¯ä»¶æ¥çƒ§å½•ã€‚ ### Tina ç³»ç»Ÿé•œåƒ Tina ç³»ç»Ÿéœ€è¦è‡ªå·±è¿›è¡Œç¼–è¯‘ï¼Œå…·ä½“ç¼–è¯‘æ–¹å¼å‚è€ƒ [https://github.com/sipeed/R329 Tina jishu](https://github.com/sipeed/R329 Tina jishu) ## çƒ§å½•é•œåƒ ### armbian é•œåƒçƒ§å½• #### èµ„æºèŽ·å– ä¸‹è½½[Etcher](https://www.balena.io/etcher/ \"Etcher\") #### çƒ§å½•æ­¥éª¤ é¦–å…ˆè§£åŽ‹æ‰€ä¸‹è½½çš„é•œåƒåŽ‹ç¼©åŒ…ï¼Œå¾—åˆ° `.img` é•œåƒæ–‡ä»¶ï¼Œæ‰“å¼€ [Etcher](https://www.balena.io/etcher/ \"Etcher\") è½¯ä»¶ï¼Œç‚¹å‡» `Flash from file` ,é€‰ä¸­è§£åŽ‹å‡ºæ¥çš„ `.img ` æ–‡ä»¶é•œåƒï¼Œç„¶åŽç‚¹å‡» `Select target` é€‰ä¸­sdå¡ï¼Œæœ€åŽç‚¹å‡» `Flash` è¿›è¡Œçƒ§å½•ï¼Œç­‰å¾…å®Œæˆå³å¯ã€‚ ä¸‹é¢åªæ˜¯ç”¨åŽŸå§‹çš„ armbian ä½œä¸ºå±•ç¤ºï¼Œæœ‰éœ€æ±‚çš„è¯å¯ä¹Ÿå·²é€‰æ‹©ä¸‹è½½å¸¦æœ‰ MaixPy3 çš„é•œåƒæ–‡ä»¶ã€‚ ![burn](./assets/95133.gif) æœ€ç»ˆä¸‹è½½ç»“æŸåŽçš„æ•ˆæžœä¼šå’Œä¸‹å›¾ä¸€æ ·ï¼Œæ˜¾ç¤º `Flash Complete!`ï¼š ![ä¸‹è½½ç»“æŸ](./assets/finish_flash.png) å¦‚æžœçƒ§å½•å¤±è´¥äº†ï¼Œè¯·æ‰‹åŠ¨æ ¼å¼åŒ–ä¸€ä¸‹ sd å¡ã€‚Windows å’Œ MacOS å¯ä»¥ä½¿ç”¨ [SD Card Formatter](https://www.sdcard.org/downloads/formatter/eula_windows/SDCardFormatterv5_WinEN.zip)æ¥æ ¼å¼åŒ– sd å¡ï¼ŒLinux ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ [Gparted](https://gparted.org/)æ¥æ ¼å¼åŒ–ã€‚ ### Tina é•œåƒçƒ§å½• Tina ç³»ç»Ÿçš„çƒ§å½•æ–¹å¼å’Œ MaixII Dock é€šç”¨ï¼Œå¯å‚è€ƒ[MaixII M2dock çƒ§å½•ç³»ç»Ÿ Sipeed Wiki](./../M2/flash.html)ï¼Œè¿™é‡Œä¸å¤šåšä»‹ç»"},"/hardware/zh/maixII/M2A/config_system.html":{"title":"é…ç½®ç³»ç»Ÿ","content":"# é…ç½®ç³»ç»Ÿ Lichee MaixSense çš„å¼•è„šå›¾å¦‚ä¸‹: <img src \"./assets/R329 pin.png\" alt \"pinmap\" width 60%> ## è¿žæŽ¥ä¸²å£ è¿žæŽ¥ä¸²å£æ˜¯ä¸ºäº†ä½¿ç”µè„‘ä¸Žæ¿å­èƒ½å¤Ÿè¿›è¡Œé€šä¿¡ã€‚ ç›¸å…³æ“ä½œï¼š ä½¿ç”¨ Type C çº¿å°†ç”µè„‘ä¸Žä¸Šå›¾æ‰€æ ‡æ³¨å¤„çš„ `USBè½¬ç³»ç»Ÿä¸²å£` ç›¸è¿žå³å¯ï¼Œç„¶åŽæ ¹æ®ç”µè„‘ç³»ç»Ÿæ‰§è¡Œä¸åŒçš„ä¸‹æ–¹æ“ä½œ ### Linux & macOS Linux ä¸éœ€è¦è£…é©±åŠ¨ï¼Œç³»ç»Ÿè‡ªå¸¦äº†ï¼Œä½¿ç”¨ `ls /dev/ttyUSB*` å‘½ä»¤å³å¯çœ‹åˆ°è®¾å¤‡å· ### Windows Lichee MaixSense ä½¿ç”¨äº† CH340 ä½œä¸ºä¸²å£èŠ¯ç‰‡ã€‚Windows ç”¨æˆ·éœ€è¦å®‰è£… CH340 çš„é©±åŠ¨ã€‚ Windows ä¸‹è½½ [ch340 ch341 driver](https://api.dl.sipeed.com/shareURL/MAIX/tools/ch340_ch341_driver) å®‰è£…å³å¯ï¼Œç„¶åŽå¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­çœ‹åˆ°ä¸²å£è®¾å¤‡å’Œç«¯å£å·ã€‚ ## Tina ç³»ç»Ÿé…ç½® ä¸€èˆ¬å»ºè®®ä½¿ç”¨ armbian ç³»ç»Ÿï¼Œå¯¹äºŽ Tina ç³»ç»Ÿç”¨æˆ·éœ€è¦æœ‰ä¸€å®šçš„ä½¿ç”¨åŸºç¡€æ‰èƒ½å¤Ÿä½¿ç”¨ã€‚ Lichee MaixSense çš„ Tina ç³»ç»Ÿé…ç½®å’Œ [M2dock](./../M2/usage.html) åŸºæœ¬ç›¸åŒï¼Œè¿™é‡Œä¸å¦ä½œèµ˜è¿°ã€‚ <! å¯ä»¥å°†æ¿å­ä¸Šçš„æ‘„åƒå¤´æ‹†ä¸‹æ¥åŽå†å°†ç”µè„‘ä¸Žè¯¥æŽ¥å£ç›¸è¿žç„¶åŽä½¿ç”¨ [adb](https://developer.android.google.cn/studio/releases/platform tools?hl zh cn) å·¥å…·æ¥æ“ä½œæ¿å­ï¼Œæ­¤æ“ä½œä»…é™ Tina ç³»ç»Ÿã€‚å› ä¸ºä¸æŽ¨èå°ç™½ä½¿ç”¨ Tina ç³»ç»Ÿï¼Œæ‰€ä»¥æ­¤å¤„ä¸å†ç»†è¯´ > ## armbian ç³»ç»Ÿé…ç½® æ ¹æ®æœ¬æ–‡å¼€å¤´æè¿°æ¥å°†ç”µè„‘ä¸Žæ¿å­è¿žæŽ¥ä¸”å®‰è£… [CH340 é©±åŠ¨](https://dl.sipeed.com/fileList/MAIX/tools/ch340_ch341_driver/CH341SER.EXE) åŽï¼Œå¯ä»¥åœ¨ä¸²å£è½¯ä»¶æ¯”å¦‚ Xshell æˆ–è€… [Mobaxterm](./../M2/tools/mobaxterm.html)ä¸­ï¼Œè®¾ç½®æ³¢ç‰¹çŽ‡ (baudrate) ä¸º115200ï¼Œé€‰æ‹©æ¿å­çš„ä¸²å£ï¼Œè¿žæŽ¥ä¸Šæ¿å­ã€‚ ç”±äºŽæ‰€æä¾›çš„ä¸‹è½½é•œåƒåˆ†ä¸ºå†…ç½® MaixPy3 çš„é•œåƒå’Œæ—  MaixPy3 çš„é•œåƒï¼Œæ‰€ä»¥ä¸‹é¢åˆ†ä¸ºä¸¤ç§æ¥è¯´æ˜Žç›¸å…³æ“ä½œã€‚ ### é»˜è®¤å«æœ‰ MaixPy3 çš„é•œåƒ ç”¨æˆ·åå’Œå¯†ç å‡ä¸º `root` ï¼Œç™»é™†è¿›åŽ»å³å¯ã€‚è¾“å…¥çš„æ—¶å€™è¦æ˜¯è¾“é”™äº†å°±æ˜¯ç›´æŽ¥æŒ‰å›žè½¦é‡æ¥å§ï¼Œæœ€å¥½è¾“å…¥æ—¶æ— æ›´æ”¹ã€‚ æˆåŠŸç™»å½•çš„ log å‚è€ƒå¦‚ä¸‹ï¼š ```bash Armbian 21.08.0 trunk Bullseye ttyS0 maixsense login: root Password: __ __ _ ____ \\/ __ _(_)_ __/ ___ ___ _ __ ___ ___ \\/ / _` \\ \\/ /\\___ \\ / _ \\ '_ \\/ __/ _ \\ (_ > < ___) __/ \\__ \\ __/ _ _\\__,__/_/\\_\\____/ \\____ ____/\\___ Welcome to Armbian 21.08.0 trunk Bullseye with bleeding edge Linux 5.14.0 rc7 sun50iw11 No end user support: built from trunk & unsupported (bullseye) userspace! System load: 133% Up time: 0 min Memory usage: 53% of 231M Zram usage: 23% of 115M IP: 192.168.0.251 CPU temp: 50Â°C Usage of /: 77% of 2.9G [ 0 security updates available, 66 updates total: apt upgrade ] Last check: 2022 08 31 01:45 [ General system configuration (beta): armbian config ] Last login: Tue Aug 30 10:34:06 UTC 2022 on ttyS0 root@maixsense: ``` ### ä¸å« MaixPy3 çš„é•œåƒ é¦–æ¬¡ä½¿ç”¨éœ€è¦è®¾ç½®å¯†ç ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨æ²¡æœ‰è®¾ç½®å¯†ç çš„è¯åªèƒ½é‡æ–°çƒ§å½•é‡æ–°èŽ·å–è®¾ç½®å¯†ç çš„æœºä¼šã€‚ å¯†ç è¿‡çŸ­æˆ–è€…è¿‡äºŽç®€å•çš„è¯ä¼šè¢«è¦æ±‚é‡æ–°è®¾ç½®ã€‚ ```bash New to Armbian? Documentation: https://docs.armbian.com Support: https://forum.armbian.com New root password: ********** Repeat password: ********** ``` è®¾ç½®å®Œå¯†ç åŽéœ€è¦è‡ªè¡Œè®¾ç½®é»˜è®¤ shell,ä¸€èˆ¬é€‰æ‹© bash ```bash Choose default system command shell: 1) bash 2) zsh Shell: BASH ``` ç„¶åŽä¼šè¦æ±‚æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œè‡ªå®šä¹‰ç”¨æˆ·åå’Œç™»å½•å¯†ç å³å¯ã€‚ ```bash Creating a new user account. Press <Ctrl C> to abort Please provide a username (eg. your forename): ll Create password: ********* Repeat password: ********* ``` æ–°å»ºç”¨æˆ·åŽé»˜è®¤ç»™æ–°å»ºçš„ç”¨æˆ·æŽˆäºˆäº† root æƒé™ï¼Œä»¥åŽå¯ä»¥ç›´æŽ¥ä½¿ç”¨æ–°å»ºçš„ç”¨æˆ·æ¥æ“ä½œæ¿å­ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ `passwd` å‘½ä»¤æ¥åˆ é™¤æˆ–è€…ä¿®æ”¹å¯†ç ã€‚ ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `passwd d root` æ¥åˆ é™¤æˆ‘ä»¬å¼€å§‹æ‰€åˆ›å»ºçš„ root ç”¨æˆ·çš„å¯†ç ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `passwd root` å‘½ä»¤æ¥é‡æ–°è®¾ç½® root ç”¨æˆ·çš„å¯†ç  ä¸‹é¢æ˜¯éƒ¨åˆ† `passwd` å‘½ä»¤ä¾‹å­ log ```bash root@maixsense:~# passwd root New password: Retype new password: passwd: password updated successfully ``` ä¸‹é¢æ˜¯éƒ¨åˆ†ç¤ºä¾‹~ ![2021080511 46 52](./assets/2021080511 46 52.gif)"},"/hardware/zh/maixII/M2A/Hardware_test.html":{"title":"ç¡¬ä»¶æµ‹è¯•","content":"# ç¡¬ä»¶æµ‹è¯• ## æµ‹è¯•å±å¹• å¯ä»¥ä½¿ç”¨`echo \"hello sipeed\" > /dev/tty0` é‡å®šå‘ä¿¡æ¯åˆ°å±å¹•ä¸Šã€‚ <img src \"./assets/image 20210805150728052.png\" alt \"image 20210805150728052\" style \"zoom:50%;\" /> ## æµ‹è¯•æ‘„åƒå¤´ armbian å†…ç½®äº† ffmpeg ï¼Œå¯ä»¥å¿«é€Ÿæ•æ‰ sensor æ•°æ®å¹¶è¾“å‡ºåˆ°å±å¹•ä¸Š ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¿«é€Ÿæ•æ‰ sensor å¹¶è¾“å‡ºåˆ°å±å¹•ä¸Š ffmpeg i /dev/video0 vframes 1 s 240*240 pix_fmt rgb565le vf transpose 2,transpose 2 f fbdev /dev/fb0 ![image 20210805165654537](./assets/image 20210805165654537.png) ## æµ‹è¯•ç½‘ç»œ ä½¿ç”¨ `nmtui` æŒ‡ä»¤å¯ä»¥è¿›å…¥å¯è§†åŒ–çš„é…ç½‘ç•Œé¢ï¼Œ é€‰æ‹© Activate a connection ï¼Œ é€‰æ‹©å¯¹åº”çš„ WIFIåç§° ï¼Œè¾“å…¥è¿žæŽ¥å¯†ç ï¼Œç¡®è®¤å³å¯ã€‚ ![202108051626](./assets/202108051626.gif) è®¾ç½®å®Œæ¯•åŽä½¿ç”¨ ifconfig æŸ¥çœ‹æœ¬æœºæ“ä½œï¼Œç„¶åŽå°±å¯ä»¥ä½¿ç”¨ ssh ç­‰æ“ä½œäº†ã€‚ ![image 20210805162936212](./assets/image 20210805162936212.png) ä¹Ÿå¯ä»¥ä½¿ç”¨aptä¸‹è½½å„ç§åº”ç”¨ ```bash sudo apt install neofetch armbian config ``` ![image 20210805165620823](./assets/image 20210805165620823.png) å¦‚æžœé‡åˆ°ç»ˆç«¯æ˜¾ç¤ºé”™ä½ï¼Œè¿˜éœ€è¦`sudo apt get install xterm`å®‰è£…ä¸‹xtermï¼Œç„¶åŽ`resize`å³å¯ã€‚ ![202108061015](./assets/202108061015.gif) ## æµ‹è¯•AIPU èŽ·å–1000ç±»ç‰©ä½“åˆ†ç±»æ¨¡åž‹ ä¸‹è½½ç«™é“¾æŽ¥[zhouyi_test.tar.xz](https://dl.sipeed.com/shareURL/MaixII/MaixII A/example),ä½¿ç”¨ä»»æ„æ–¹å¼ä¸Šä¼ åˆ°æ¿å­ä¸­ ```bash tar Jxvf zhouyi_test.tar.xz #è§£åŽ‹åŽ‹ç¼©åŒ… cd zhouyi_test #æ‰“å¼€è§£åŽ‹åŽçš„æ–‡ä»¶ç›®å½• chmod 777 run.sh #æŽˆäºˆæ‰§è¡Œæƒé™ ./run.sh #æ‰§è¡Œ1000ç±»ç‰©ä½“åˆ†ç±» ``` è¯†åˆ«å‡ºé¼ æ ‡ <img src \"./assets/recognize_mouse.jpg\" alt \"è¯†åˆ«é¼ æ ‡\" style \"zoom:65%;\"> <br> å¯¹äºŽlinuxå‘½ä»¤è¡Œï¼Œä½¿ç”¨`Ctrl + C`æ¥é€€å‡ºå½“å‰ç¨‹åºã€‚"},"/hardware/zh/maixII/M2A/Usages-copy.html":{"title":"Armbian é…ç½®åŠä½¿ç”¨","content":"# Armbian é…ç½®åŠä½¿ç”¨ ## é…ç½®ç½‘ç»œ æˆ‘ä»¬ä½¿ç”¨ `nmtui` å‘½ä»¤æ¥é…ç½® wifi ![202108051626](./assets/202108051626.gif) ## æ–°å»ºç”¨æˆ· ä¸€èˆ¬æ¥è¯´ä¸ä½¿ç”¨rootæ¥ç™»å½•linuxç³»ç»Ÿï¼Œå› ä¸ºè¿™æ ·å¾ˆå®¹æ˜“æŠŠç³»ç»ŸçŽ©å´©äº†ã€‚ å› æ­¤æ–°å»ºä¸€ä¸ªç”¨æˆ·æ¥é¿å…ä¸€ç›´ä½¿ç”¨rootè´¦æˆ·æ¥è¿›è¡Œæ“ä½œã€‚ ```bash adduser xxx # æ·»åŠ ç”¨æˆ·åä¸º xxx çš„ç”¨æˆ· # ... # çœç•¥ä¸€äº› log New password: # æ–°å»ºç”¨æˆ·å¯†ç  Retype new password: # é‡æ–°è¾“å…¥å¯†ç  # ... # çœç•¥ä¸€äº› log Enter the new value, or press ENTER for the default # æ·»åŠ ä¿¡æ¯ï¼Œæˆ–è€…ç›´æŽ¥æŒ‰ ENTER é€‰æ‹©é»˜è®¤ä¿¡æ¯ # ... # æŒ‰äº”æ¬¡ enter é€‰æ‹©é»˜è®¤å³å¯ Is the information correct? [Y/n] y # è¾“å…¥ y å®Œæˆåˆ›å»º ``` åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»æˆåŠŸåˆ›å»ºåç§°ä¸º xxx çš„ç”¨æˆ·äº† ### æŽˆäºˆç®¡ç†å‘˜æƒé™ æœ‰æ—¶å€™ç”¨æˆ·éœ€è¦ä½¿ç”¨åˆ°ç®¡ç†å‘˜æƒé™ï¼Œä¸‹é¢å†…å®¹å°±æ˜¯æŽˆäºˆç”¨æˆ·ç®¡ç†å‘˜æƒé™ ```bash sudo nano /etc/sudoers # ä¿®æ”¹ /etc/sudoers æ–‡ä»¶ã€‚ç¼–è¾‘å™¨ä¸ªäººå–œå¥½ ``` åœ¨æ–‡ä»¶é‡Œæ‰¾åˆ°ä¸‹é¢çš„å†…å®¹ ```vim # User privilege specification root ALL (ALL:ALL) ALL ``` åœ¨é‡Œé¢æ·»åŠ ä¸Š ```vim # User privilege specification root ALL (ALL:ALL) ALL xxx ALL (ALL:ALL) ALL ``` æŽ¥ç€ä¿å­˜åŽé€€å‡ºå³å¯ã€‚ ## ä½¿ç”¨SSHè¿žæŽ¥ æƒ³è¦ä½¿ç”¨ ssh æ¥è¿žæŽ¥æ¿å­çš„è¯éœ€è¦æ¿å­é‡Œé¢å­˜åœ¨çš„ç”¨æˆ·åç§°å’Œå¯†ç ã€‚ é»˜è®¤çš„ root ç”¨æˆ·æ²¡æœ‰å¯†ç ï¼Œ æ‰€ä»¥æƒ³ç”¨ root è´¦æˆ·çš„è¯éœ€è¦è‡ªå·±ä½¿ç”¨passwdå‘½ä»¤è‡ªå·±æ·»åŠ å¯†ç ï¼› ä½¿ç”¨ä¸²å£è¿žæŽ¥æ¿å­åŽæ‰§è¡Œ ifconfig æ¥æˆ–è®¸æ¿å­çš„ IP åœ°å€ã€‚ æŽ¥ç€å°±å¯ä»¥ä½¿ç”¨ ssh æ¥è¿žæŽ¥æ¿å­äº†ã€‚ ç”¨æˆ·ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨ MobaXterm è¿™ä¸ªè½¯ä»¶æ¥æ–¹ä¾¿ç”µè„‘ä¸Žæ¿å­ä¼ è¾“æ–‡ä»¶ ## MaixPy3 IDE è¿žæŽ¥ åªèƒ½é€šè¿‡è¿œç¨‹è¿žæŽ¥æ¥ç”¨ MaixPy3 IDE è¿žæŽ¥ MaixSense ï¼Œä½¿ç”¨æœ‰çº¿è¿žæŽ¥ä¼šè¿žæŽ¥ä¸ä¸Šã€‚ æ¯ä¸ªäººçš„ç½‘ç»œçŽ¯å¢ƒéƒ½å­˜åœ¨å·®å¼‚ï¼Œéƒ½å¯èƒ½å­˜åœ¨è¿žæŽ¥ä¸ä¸Šçš„æƒ…å†µã€‚ ### å‡†å¤‡ çƒ§å½•å¥½å¸¦æœ‰ MaixPy3 çš„ Armbian ç³»ç»Ÿ è¿žæŽ¥ç½‘ç»œè¿›è¡Œ MaixPy3æ›´æ–°ï¼Œç¡®ä¿ MaixPy3 çš„ç‰ˆæœ¬å¤§äºŽ 0.3.4ã€‚ è¿è¡Œ `ifconfig` èŽ·å–å¼€å‘æ¿çš„ IP åœ°å€ ### è¿žæŽ¥ åœ¨MaixSenseä¸Šè¿è¡Œ `python3 c \"import maix.mjpg;maix.mjpg.start()\"` å¯åŠ¨æ¿å­ä¸Šçš„è¿œç¨‹ RPyc æœåŠ¡ åœ¨ç”µè„‘ IDE ä¸­æ–°å»ºä»£ç åŒºï¼Œè¿è¡Œä¸‹é¢çš„ä»£ç æ¥è¿žæŽ¥å¼€å‘æ¿ ```python $connect(\"192.168.43.44\") # æ­¤å¤„å¡«å…¥å¼€å‘æ¿çš„ IP åœ°å€ import platform print(platform.uname()) ``` è¿è¡Œè¾“å‡ºç»“æžœå¦‚ä¸‹ï¼š ![MaixPy3 IDE](./assets/MaixPy3 IDE.jpg) ## è®¾ç½®æ—¶åŒº å‘½ä»¤è¡Œä¸­è¾“å…¥`armbian config`ï¼Œé€‰ä¸­Personalï¼Œå†é€‰æ‹©Timezone > Asia >Shanghaiè®¾ç½®ä¸Šæµ·æ—¶é—´ï¼ˆDebianä¸­æ²¡æœ‰åŒ—äº¬æ—¶é—´ï¼‰ï¼ŒæŒ‰ä½TABé”®åˆ‡æ¢åˆ°okï¼Œä¿å­˜å³å¯ã€‚\t\t ![202108062005](./assets/202108062005.gif) ## è®¾ç½®ä¸­æ–‡æ˜¾ç¤º å‘½ä»¤è¡Œä¸­è¾“å…¥`armbian config`ï¼Œé€‰ä¸­Personal > Locales > ä¸‹æ»‘åˆ°æœ€ä¸‹é¢ï¼Œç©ºæ ¼é€‰ä¸­zh.GBKå’Œzh.UTF 8,ï¼Œç„¶åŽå‹¾é€‰zh_CN.UTF8è®¾ç½®ä¸ºç³»ç»Ÿé»˜è®¤è¯­è¨€ï¼ŒæŒ‰ä½TABé”®åˆ‡æ¢åˆ°okï¼Œä¿å­˜ï¼Œexité€€å‡ºï¼Œä¸‹è½½ä¸­æ–‡å­—ä½“ï¼Œ`apt get install fonts wqy zenhei`ï¼Œé‡å¯åŽç³»ç»ŸçŽ¯å¢ƒå°±å˜æˆä¸­æ–‡çš„äº†ã€‚ ![202108062054](./assets/202108062054.gif) ## é…ç½®è“ç‰™ æ‰“å¼€`armbian config`ï¼Œé€‰ä¸­Networkï¼Œé€‰æ‹©BTinstallå®‰è£…è“ç‰™æ”¯æŒåŒ…ã€‚ ![202108071034](./assets/202108071034.gif) å¯ä»¥ä½¿ç”¨Xftpä¼ è¾“ï¼Œå®‰è£…å®Œæ¯•åŽæ–­ç”µé‡å¯å³å¯ã€‚ ç„¶åŽå°±å¯ä»¥ä½¿ç”¨Bluetoothctlé…ç½®è“ç‰™ã€‚ å¸¸ç”¨å‘½ä»¤ï¼š ```bash devices \t\tåˆ—å‡ºæ´»åŠ¨çš„è“ç‰™è®¾å¤‡ paired devices \t\tåˆ—å‡ºå·²é…å¯¹è“ç‰™è®¾å¤‡ pairable <on/off> \t\tæ˜¯å¦å…è®¸é…å¯¹ discoverable <on/off> æ˜¯å¦å…è®¸è¢«å‘çŽ° discoverable timeout [value]è®¾ç½®æš´éœ²æ—¶é—´ pair [dev] é…å¯¹è®¾å¤‡ trust [dev] ä¿¡ä»»è®¾å¤‡ untrust [dev] å–æ¶ˆè®¾å¤‡ä¿¡ä»» remove <dev> ç§»é™¤è®¾å¤‡ connect <dev> è¿žæŽ¥è®¾å¤‡ disconnect [dev] æ–­å¼€è®¾å¤‡è¿žæŽ¥ quit é€€å‡º help \t\t\t\tæŸ¥çœ‹å¸®åŠ© ``` ### è¿žæŽ¥è“ç‰™è®¾å¤‡ ä½¿ç”¨`bluetoothctl`è¿žæŽ¥è“ç‰™è®¾å¤‡ã€‚ ```bash scan on #æ‰«æè®¾å¤‡ scan off #åœæ­¢æ‰«æ trust XX:XX:XX:XX # ä¿¡ä»»è®¾å¤‡ pair XX:XX:XX:XX #é…å¯¹è®¾å¤‡ connect XX:XX:XX:XX #è¿žæŽ¥è®¾å¤‡ ``` ![202108071610](./assets/202108071610.gif) ### è®¾ç½®è“ç‰™éŸ³é¢‘è¾“å…¥/è¾“å‡º å¯ç”¨è“ç‰™éŸ³é¢‘å‰ï¼Œéœ€è¦å…ˆå®‰è£…`pulseaudio`å³åŠè“ç‰™ç»„ä»¶ ```bash sudo apt install pulseaudio sudo apt install pulseaudio module bluetooth ``` ç„¶åŽä½¿ç”¨pactlæŸ¥çœ‹æ˜¯å¦æœ‰è“ç‰™è¾“å‡ºè®¾å¤‡ ```bash pactl list short sinks ``` åˆ‡æ¢éŸ³é¢‘è¾“å‡ºåˆ°è“ç‰™ ```bash pactl set default sink <dev> ``` logå¦‚ä¸‹ï¼š ```bash maixsense:~:# apt install pulseaudio maixsense:~:# apt install pulseaudio module bluetooth maixsense:~:# pactl list short sinks 0\talsa_output.platform 7032000.codec.stereo fallback\tmodule alsa card.c\ts16le 2ch 44100Hz\tSUSPENDED 2\tbluez_sink.00_26_04_00_73_B1.a2dp_sink\tmodule bluez5 device.c\ts16le 2ch 44100Hz\tSUSPENDED maixsense:~:# pactl set default sink 2 ``` ![202108071726](./assets/202108071726.gif) ç„¶åŽå°±å¯ä»¥æ’­æ”¾éŸ³é¢‘åˆ°è“ç‰™è®¾å¤‡ï¼Œæˆ–è€…é€šè¿‡è“ç‰™è¿žæŽ¥æ‰‹æœºå½“ä½œè“ç‰™éŸ³ç®±ä½¿ç”¨ã€‚ ## é…ç½®éŸ³é‡ `alsamixer` ![202108071440](./assets/202108071440.gif) å¸¸ç”¨å‘½ä»¤ ``` Help xxEsc ç¦»å¼€ â–’x xxF1 ? H å¸®åŠ© â–’x xxF2 / ç³»ç»Ÿä¿¡æ¯ â–’x xxF3 å›žæ”¾æŽ§åˆ¶ â–’x xxF4 æ•èŽ·æŽ§åˆ¶ â–’x xxF5 æ‰€æœ‰æŽ§åˆ¶ â–’x xxTab åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼ â–’x xxF6 S é€‰æ‹©å£°å¡ â–’x xxL åˆ·æ–°å±å¹• â–’x xxLeft ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªçš„æŽ§åˆ¶ â–’x xxRight ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªçš„æŽ§åˆ¶ â–’x xxUp/Down æ”¹å˜éŸ³é‡ â–’x xx+ æ”¹å˜éŸ³é‡ â–’x xxPage Up/Dn å¤§å¹…æ”¹å˜éŸ³é‡ â–’x xxEnd è®¾ç½®éŸ³é‡ä¸º0 â–’x xx0 9 ä»Ž0åˆ°9ä¾æ¬¡è®¾ç½®éŸ³é‡ â–’x xxQ W E å¢žåŠ  å·¦/å…¨éƒ¨/å³å£°é“éŸ³é‡ â–’x xxZ X C å‡å°‘ å·¦/å…¨éƒ¨/å³å£°é“éŸ³é‡ â–’x xxB å·¦å³å£°é“å¹³è¡¡ â–’x xxM åˆ‡æ¢é™éŸ³ â–’x x< > åˆ‡æ¢å·¦/å³é™éŸ³ â–’x xxSpace åˆ‡æ¢æ•èŽ· â–’x xx; ' åˆ‡æ¢å·¦/å³æ•èŽ· â–’x ``` å¦‚æžœéœ€è¦æŽ§åˆ¶è“ç‰™è®¾å¤‡éŸ³é‡ï¼Œéœ€è¦ä½¿ç”¨`pactl` ï¼Œå¹¶ä¸”`pcatl`ä¹Ÿæ”¯æŒæŽ§åˆ¶å£°å¡ï¼Œæ‰€ä»¥æŽ¨èä½¿ç”¨æ­¤appæŽ§åˆ¶éŸ³é‡ã€‚ ```bash ##æŸ¥çœ‹è¾“å…¥/è¾“å‡ºè®¾å¤‡ç´¢å¼• pactl list short sources/sinks ##è®¾ç½®è¾“å…¥/è¾“å‡ºéŸ³é‡ pactl set source/sink volume index volume pactl set default source/sink ##è®¾ç½®é»˜è®¤è¾“å…¥/è¾“å‡º ``` ç¤ºä¾‹ï¼Œè®¾ç½®è“ç‰™è€³æœºä¸ºè¾“å‡ºè®¾å¤‡ï¼ŒéŸ³é‡ä¸º10%,ç„¶åŽå¢žåŠ 20%ï¼Œæœ€åŽå‡å°‘30% ```bash maixsense:~:# pactl list short sinks 0\talsa_output.platform 7032000.codec.stereo fallback\tmodule alsa card.c\ts16le 2ch 44100Hz\tSUSPENDED 2\tbluez_sink.00_26_04_00_73_B1.a2dp_sink\tmodule bluez5 device.c\ts16le 2ch 44100Hz\tRUNNING ##è“ç‰™è®¾å¤‡ä¸€èˆ¬ä¸ºbluez_sink maixsense:~:# pactl set default sink 2 maixsense:~:# pactl set sink volume 2 10% maixsense:~:# pactl set sink volume 2 +8192 maixsense:~:# pactl set sink volume 2 0x3000 ##å¯é€‰ ç™¾åˆ†æ¯”ï¼Œåè¿›åˆ¶æ•°ï¼Œåå…­è¿›åˆ¶æ•°æŽ§åˆ¶ï¼Œæ•ˆæžœç›¸åŒï¼Œå¹¶ä¸”å¯ä»¥è¶…è¿‡100% ``` ## åª’ä½“æ’­æ”¾ åª’ä½“æ’­æ”¾å¸¸ç”¨mplayer ä¸‹è½½mplayer > sudo apt install mplayer ç„¶åŽæ‰§è¡Œ `sudo mplayer badapple_240p.mp4 vo fbdev2` æ¥æ’­æ”¾è§†é¢‘ æˆ–è€…`sudo mplayer G.E.M.é‚“ç´«æ£‹\\ \\ å…‰å¹´ä¹‹å¤–.flac` æ’­æ”¾éŸ³é¢‘ åœ¨åŽé¢åŠ ä¸Š`< /dev/null > /dev/null 2>1 &`ä»¥ä¾¿åœ¨åŽå°æ’­æ”¾ ```bash mplayer /root/badapple_240p.mp4 vo fbdev2 < /dev/null > /dev/null 2>1 & ``` ![202108091128](./assets/202108091128.gif) ## ç¼–å†™cä»£ç  ```bash vim helloworld.c #ä½¿ç”¨ vim åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¹¶æ‰“å¼€ i #åœ¨vimä¸­è¿™ä¸ªæŒ‡ä»¤çš„æ„æ€æ˜¯è¾“å…¥ï¼Œä¹‹åŽå°±å¯ä»¥æ•²ä»£ç äº† ``` å¯ä»¥å°†ä¸‹é¢çš„ä»£ç è¾“å…¥åˆ°åˆšåˆšæ–°åˆ›å»ºçš„æ–‡ä»¶ä¸­ ```c #include <stdio.h> int main() { printf(\"Hello, world\\n\"); return 0; } ``` è¾“å®Œä¸Šé¢çš„ä»£ç åŽéœ€è¦æŒ‰ä¸‹ esc é”®æ¥é€€å‡ºç¼–è¾‘æ¨¡å¼ å°±è¿™å†è¾“å…¥ `:wq` æ¥ä¿å­˜æ–‡ä»¶ä¸”é€€å‡ºvim ```bash gcc hello.c o hello.o #ç¼–è¯‘Cæ–‡ä»¶ ./hello.o #è¿è¡Œç¼–è¯‘å‡ºæ¥çš„Cæ–‡ä»¶ ``` ![202108091201](./assets/202108091201.gif) ## ç¼–å†™pythonä»£ç  è¯¦ç»†è§£é‡Šçœ‹ä¸Šé¢çš„Cä»£ç æ ·ä¾‹ ```bash vim helloworld.py i print(\"hello world!\\n\") esc :wq python3 helloworld.py ``` ![202108091339](./assets/202108091339.gif) ## ä½¿ç”¨pythonç‚¹äº®ç¬¬ä¸€ä¸ªç¯ å®‰è£…GPIOçš„pythonæ”¯æŒåº“ ```bash pip install gpiod ``` æŠŠledæ­£æžæ’å…¥PH5,è´Ÿæžæ’å…¥GND ç¼–å†™ä»£ç  ``` bash vim led.py ``` å¤åˆ¶ä»£ç è¿›åŽ» ```python import time import gpiod as gpio PH_BASE (8 1)*32 # \"PH\" gpiochip1 gpio.chip(\"gpiochip1\") led gpiochip1.get_line((PH_BASE + 5)) # \"PH5\" config gpio.line_request() config.request_type gpio.line_request.DIRECTION_OUTPUT led.request(config) while led: led.set_value(0) time.sleep(1) print(\"led on\") led.set_value(1) time.sleep(1) print(\"led off\") ``` æ‰§è¡Œä»£ç  ```bash python3 led.py ``` æ•ˆæžœå¦‚ä¸‹ï¼š ![202108091956](./assets/202108091956.gif) ## è¿è¡Œç¥žç»ç½‘ç»œå®žä¾‹ èŽ·å–1000ç±»ç‰©ä½“åˆ†ç±»æ¨¡åž‹ ä¸‹è½½ç«™é“¾æŽ¥[zhouyi_test.tar.xz](https://dl.sipeed.com/shareURL/MaixII/MaixII A/example),ä½¿ç”¨ä»»æ„æ–¹å¼ä¸Šä¼ åˆ°æ¿å­ä¸­ ```bash tar Jxvf zhouyi_test.tar.xz #è§£åŽ‹åŽ‹ç¼©åŒ… cd zhouyi_test #æ‰“å¼€è§£åŽ‹åŽçš„æ–‡ä»¶ç›®å½• chmod 777 run.sh #æŽˆäºˆæ‰§è¡Œæƒé™ ./run.sh #æ‰§è¡Œ1000ç±»ç‰©ä½“åˆ†ç±» ``` ## è®¾ç½®å¼€æœºå¯åŠ¨ å¯ç”¨å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ ```bash vim /lib/systemd/system/rc local.service ``` åœ¨æœ€åŽé¢æ·»åŠ  ```bash [Install] WantedBy multi user.target Alias rc.local.service ``` ç¼–è¾‘è‡ªå¯åŠ¨è„šæœ¬ ```bash vim /etc/rc.local ``` åœ¨`exit 0`å‰é¢æ·»åŠ éœ€è¦å¯åŠ¨çš„æœåŠ¡ ç„¶åŽé‡å¯å³å¯ æ³¨æ„ï¼Œæ­¤è„šæœ¬ä¼šåœ¨ç”¨æˆ·ç™»å½•å‰æ‰§è¡Œï¼Œæ‰§è¡Œæ—¥å¿—å¦‚ä¸‹ ```bash [ OK ] Finished Permit User Sessions. [ 38.569457] rc.local[1322]: hello world! ``` ## æ›´å¤šçš„ä½¿ç”¨æ–¹æ³• è¯·åˆ°[MaixPy3](/soft/maixpy3/zh/readme.md)å’Œ[æžæœ¯ç¤¾åŒº](https://aijishu.com/a/1060000000221780)ä¸­è‡ªè¡ŒæŸ¥çœ‹"},"/hardware/zh/maixII/index.html":{"title":"Maix-II ç³»åˆ—ç¡¬ä»¶äº§å“","content":"Maix II ç³»åˆ—ç¡¬ä»¶äº§å“ ## Maix II ç®€ä»‹ ç»§ç»å…¸çš„ K210 Maix I ç³»åˆ— AIOT æ¿å¡ä¹‹åŽï¼ŒSipeed ç»§ç»­æŽ¨å‡ºå¤šæ¬¾å¯è¿è¡Œå®Œæ•´ Linux ç³»ç»Ÿçš„è¾¹ç¼˜è®¡ç®—æ¿å¡ï¼Œå°†ä»¥ MAIX IIï¼ŒMAIX III æŒ‰ç…§æ€§èƒ½ä¾æ¬¡å‘½åã€‚ MAIX II ç³»åˆ—åŒ…å«å¤šæ¬¾ç¡¬ä»¶äº§å“ï¼Œç›®å‰æœ‰: * **Maix II Dock**ï¼š **æœ¬ç³»åˆ—æŽ¨èäº§å“**, èŠ¯ç‰‡ä¸ºå…¨å¿— V831, é«˜æ€§ä»·æ¯”èƒ½è·‘ Linux çš„SOCï¼ŒåŒæ—¶æ”¯æŒç¡¬ä»¶ AI åŠ é€Ÿï¼ˆ0.2Tops ç®—åŠ›ï¼‰ï¼Œç›®å‰è½¯ä»¶æ”¯æŒæœ€å®¹æ˜“å…¥é—¨ï¼Œæä¾› C SDK å’Œ Python SDKï¼Œ ä»¥åŠåœ¨çº¿æ¨¡åž‹è®­ç»ƒæœåŠ¡([MaixHub](https://maixhub.com)) * **MaixSense**ï¼š èŠ¯ç‰‡ä¸ºå…¨å¿—R329ï¼Œä¹Ÿæœ‰æä¾›ç¡¬ä»¶ AI åŠ é€Ÿï¼Œ0.25Tops ç®—åŠ›ã€‚ * **Maix II S**ï¼šèŠ¯ç‰‡ä¸ºå…¨å¿— V833ï¼ŒV831 å‡çº§ç‰ˆï¼Œ ä¸»è¦ç”¨äºŽå•†ä¸šå®šåˆ¶ç”¨é€”ï¼Œä¸ªäººç”¨æˆ·æ…Žé‡é€‰æ‹©ã€‚ ## MaixII Dock èŠ¯ç‰‡ä¸ºå…¨å¿— V831, å•æ ¸ Cortex A7 800MHzï¼Œ 64MiB ç‰‡å†… DDR2 å†…å­˜ï¼Œ é«˜æ€§ä»·æ¯”èƒ½è·‘ Linux çš„SOCï¼ŒåŒæ—¶æ”¯æŒç¡¬ä»¶ AI åŠ é€Ÿï¼ˆ0.2Tops ç®—åŠ›ï¼‰ï¼Œå¯ä»¥å½“æˆæ™®é€š Linux SOC ä½¿ç”¨ï¼Œ ä¹Ÿå¯ä»¥ç”¨äºŽè¾¹ç¼˜ AI åº”ç”¨ã€‚ **æœ¬ç³»åˆ—æŽ¨èäº§å“**, æœ€å…·æ€§ä»·æ¯”ï¼Œ ç›®å‰è½¯ä»¶æ”¯æŒæœ€å®¹æ˜“å…¥é—¨ï¼Œ æ”¯æŒ C è¯­è¨€å¼€å‘ï¼Œæä¾› C SDK([libmaix](http://github.com/sipeed/libmaix))ï¼› åŒæ—¶æä¾› [MaixPy3](/maixpy3) æ”¯æŒï¼Œä½¿ç”¨ Python è¯­è¨€å³å¯å¼€å‘ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨å¤§é‡ Python åº“ï¼Œå¹¶ä¸”é…å¥— jupyter IDEï¼Œ åŒæ—¶ [MaixHub](https://maixhub.com) å®Œå…¨æ”¯æŒæ­¤è®¾å¤‡ * äº§å“åŠŸèƒ½é€Ÿè§ˆ <p align \"center\"> <iframe src \"//player.bilibili.com/player.html?aid 298543445&bvid BV1sF411u7xb&cid 586467021&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \"true\"> </iframe> </p> * å®žæ‹å›¾ï¼š ![m2dock](../../assets/maixII/m2dock.jpg) * è´­ä¹°é“¾æŽ¥: [sipeed.taobao.com](https://item.taobao.com/item.htm?ft t&id 635874427363) * è¯¦æƒ…ï¼š [MaixII Dock](./M2/resources.html) ## MaixSense èŠ¯ç‰‡ä¸ºå…¨å¿— R329ï¼ŒåŒæ ¸ A53@1.5GHzï¼Œç‰‡å†… 256MiB DDR3 å†…å­˜ï¼ŒåŒæ ¸ HiFi4@400MHz ä¹Ÿæœ‰æä¾›ç¡¬ä»¶ AI åŠ é€Ÿï¼Œ0.25Tops ç®—åŠ›ï¼Œ æ›´åŠ æ“…é•¿éŸ³é¢‘é¢†åŸŸï¼Œ æ”¯æŒ armbian ç³»ç»Ÿã€‚ å®˜æ–¹å¼€æ”¾èµ„æ–™å¾ˆå¤šï¼Œç›®å‰æ¯”è¾ƒé€‚åˆåŠ¨æ‰‹èƒ½åŠ›æ¯”è¾ƒå¼ºçš„å¼€å‘è€…ã€‚ ![](./M2A/assets/M2A 1.gif) * è´­ä¹°é“¾æŽ¥: [sipeed.taobao.com](https://sipeed.taobao.com) * è¯¦æƒ…ï¼š [MaixSense](./M2A/maixsense.html) ## MaixII S å¯ä»¥ç†è§£æˆ V831 çš„æ€§èƒ½å‡çº§ç‰ˆï¼Œ V831 ä¸Šçš„ç¨‹åºå¯ä»¥ç›´æŽ¥åœ¨ V833 ä¸Šè¿è¡Œï¼Œæ­¤å¼€å‘æ¿ä»…æ”¯æŒå•†ä¸šç”¨æˆ·ï¼Œä¸ªäººç”¨æˆ·å»ºè®®é€‰æ‹© Maix II Dock å¼€å‘æ¿ <img style \"max height: 300px\" src \"./M2S/assets/M2s_Dock.jpg\" alt â€œM2s_Dockâ€/> * è¯¦æƒ…ï¼š [MaixII S](./M2S/V833.html)"},"/hardware/zh/tang/Tang-Nano-Doc/questions.html":{"title":"å¸¸è§é—®é¢˜","content":" title: å¸¸è§é—®é¢˜ tags: Tang keywords: Programmer desc: update: date: 2023 05 18 version: v0.5 author: wonder content: è¡¥å…… programmer ç›¸å…³çš„è¯´æ˜Ž <! date: 2022 06 29 version: v0.1 author: wonder content: åˆæ¬¡ç¼–å†™ date: 2022 09 23 version: v0.2 author: wonder content: æ›´æ–°éƒ¨åˆ†è¿‡æœŸå†…å®¹ date: 2022 10 19 version: v0.3 author: wonder content: å¢žåŠ è®¾ç½®é¡¶å±‚ç›¸å…³è¯´æ˜Ž date: 2023 02 23 version: v0.4 author: wonder content: è¡¥å…… programmer ç›¸å…³çš„è¯´æ˜Ž > è¿™é‡Œæ±‡æ€»ä¸€äº›å¸¸è§é—®é¢˜ã€‚ ## Programmer ç›¸å…³ é¦–å…ˆç¡®å®šè®¾å¤‡ç®¡ç†å™¨ä¸­æœ‰ä¸¤ä¸ª `converter` è®¾å¤‡å’Œä¸€ä¸ª `COM` è®¾å¤‡ï¼Œè¿™è¯´æ˜Žè®¾å¤‡æ­£å¸¸è¿žæŽ¥åˆ°ç”µè„‘å¹¶ä¸”ç”µè„‘æˆåŠŸåŠ è½½é©±åŠ¨äº†ã€‚ ![tang_bl702_device_convertor](./assets/qusetions/tang_bl702_device_convertor.png) > ä¸‹è½½å™¨éƒ½æœ‰ ä¸²å£ å’Œ Jtag åŠŸèƒ½ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯åœ¨ä½¿ç”¨ä¸²å£çš„æ—¶å€™ï¼Œ Jtag åŠŸèƒ½æ˜¯ä¸èƒ½ç”¨çš„ã€‚è§£å†³ä¸²å£å ç”¨è¿™ç§æƒ…å†µï¼Œé‡æ–°æ’æ‹”ä¸€ä¸‹æ¿å¡çš„ USB æ•°æ®çº¿å°±å¥½äº†ã€‚ ### åªæœ‰ä¸¤ä¸ª `convertor` ![tang_bl702_device_convertor_no_com](./assets/qusetions/tang_bl702_device_convertor_no_com.png) å¦‚æžœå‡ºçŽ°æ²¡æœ‰ `COM` è®¾å¤‡ä½†æ˜¯æœ‰ä¸¤ä¸ª `converter` è®¾å¤‡ï¼Œå¯ä»¥ `é¼ æ ‡å³é”®ç‚¹å‡»` `converter B` > `å±žæ€§` > `é«˜çº§` > `åŠ è½½ VCP` ï¼Œç„¶åŽç‚¹å‡» `OK` ï¼Œé‡æ–°æ’æ‹”ä¸€ä¸‹ USB æ•°æ®çº¿å°±è¡Œäº†ã€‚ ![tang_bl702_device_convertor_load_vcp](./assets/qusetions/tang_bl702_device_convertor_load_vcp.png) ### æ²¡æœ‰ `convertor` è°ƒè¯•å™¨è¿žæŽ¥ç”µè„‘åŽï¼Œéœ€è¦åå¤šç§’æ—¶é—´åŠ è½½é©±åŠ¨ã€‚ä¸æƒ³ç­‰å¾…åŠ è½½é©±åŠ¨çš„è¯å¯ä»¥æ‰‹åŠ¨ä¸‹è½½é©±åŠ¨å¹¶å®‰è£…é©±åŠ¨ [ç‚¹æˆ‘è·³è½¬åˆ°é©±åŠ¨ä¸‹è½½é¡µé¢](https://dl.sipeed.com/shareURL/TANG/programmer)ã€‚ ![no_convertor_install_driver](./assets/qusetions/no_convertor_install_driver.png) ### ä¸‹è½½é¢‘çŽ‡ è¦æ³¨æ„ä¸‹è½½é¢‘çŽ‡åº”è¯¥ä¸º `2.5M` æˆ–è€…æ›´ä½Žçš„æ•°å€¼ã€‚ä¸ç„¶å¾ˆå¯èƒ½å¯¼è‡´ä¸‹è½½æžå…¶ç¼“æ…¢æˆ–è€…ä¸‹è½½å¤±è´¥ç­‰é—®é¢˜ã€‚ <img src \"./../assets/questions/cable.png\"> ç‚¹å‡»ä¸‹å›¾ä¸­çš„ Frequencyï¼Œè®¾ç½®é¢‘çŽ‡å°äºŽæˆ–è€…ç­‰äºŽ 2.5MHz <img src \"./../assets/questions/frequency.png\" > æŽ¥ç€å†ç‚¹å‡» Save å³å¯ ### Error found <! æ²¡æœ‰æ‰«æåˆ°ä¸‹è½½å™¨æˆ–è€…é©±åŠ¨é”™è¯¯ï¼Œè¦æ±‚ä½¿ç”¨ [è¿™é‡Œ](https://dl.sipeed.com/shareURL/TANG/programmer) çš„åŽ‹ç¼©åŒ…æ–‡ä»¶ã€‚ ä¸‹è½½åŽè§£åŽ‹æ›¿æ¢æŽ‰ Gowin IDE å¯¹åº”å®‰è£…ç›®å½•çš„ Programmer æ–‡ä»¶å¤¹å³å¯ã€‚ ä¸ä¼šæ›¿æ¢çš„è¯å¯ä»¥åœ¨ä¸‹è½½è§£åŽ‹åŽçš„ Programmer ç¨‹åºä¸­æ‰‹åŠ¨æ·»åŠ å¯¹åº”ä¸‹è½½æ–‡ä»¶æ¥è¿›è¡Œçƒ§å½•ã€‚ > <! æ›¿æ¢ä¸‹è½½å™¨è½¯ä»¶åŽå‡ºçŽ°è¿™ä¸ªé—®é¢˜çš„è¯ï¼Œ > ç¡®å®šè®¾å¤‡ç®¡ç†å™¨ä¸­çš„ `convertor` å’Œ `COM` éƒ½å­˜åœ¨æ—¶ï¼Œå¯ä»¥å…ˆé‡å¯ä¸€ä¸‹ programmer è½¯ä»¶ã€‚ ### Cable lost è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯å› ä¸ºåœ¨çƒ§å½•å›ºä»¶æ—¶ï¼Œå› ä¸ºæ•°æ®çº¿ä¸Žå¼€å‘æ¿è¿žæŽ¥ä¸ç¨³å®šå¯¼è‡´çš„ã€‚å¯ä»¥é‡æ–°çƒ§å½•ä¸€ä¸‹ã€‚ ### Cabel open failed ![cable_open_failed](./assets/qusetions/cable_open_failed.png) åœ¨æ¿å¡é€šç”µçš„æ—¶å€™éœ€è¦ 2~3s æ—¶é—´æ¥åŠ è½½é©±åŠ¨ï¼ŒåŠ è½½æˆåŠŸåŽç”µè„‘è®¾å¤‡ç®¡ç†å™¨ä¸­ä¼šæ˜¾ç¤ºå‡ºä¸¤ä¸ª converter è®¾å¤‡ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥æ­£å¸¸çƒ§å½•äº†ã€‚ ![converter](./../assets/questions/converter.png) è¿™é‡Œçš„æ„æ€æ˜¯æ²¡æœ‰æ‰¾åˆ°ä¸‹è½½å™¨ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨é«˜äº‘åŠå¯¼ä½“æ‰€æä¾›çš„æœ€æ–°çš„æ•™è‚²ç‰ˆçš„ç¼–ç¨‹å™¨ [ç‚¹æˆ‘è·³è½¬](http://www.gowinsemi.com.cn/faq.aspx) æ¥å°è¯•è§£å†³è€ç‰ˆæœ¬ Programmer è½¯ä»¶çš„ bugã€‚ ä½¿ç”¨æ–°ç‰ˆæœ¬ä¸‹è½½å™¨åŽå‡ºçŽ°è¿™ä¸ªé—®é¢˜çš„è¯ï¼Œå¯ä»¥å…ˆé‡å¯ä¸€ä¸‹ programmer è½¯ä»¶ï¼›ä¾æ—§æ²¡æ‰¾åˆ°çš„è¯å¯ä»¥çœ‹çœ‹æœ¬ç¯‡å¼€å¤´çš„ converter ç›¸å…³çš„å†…å®¹ã€‚ ![educational_edition_programmer](./../tang primer 20k/assets/start/educational_edition_programmer.png) <! å‚è€ƒä¸Šä¸€æ­¥ No Gowin devices found çš„æ“ä½œåŽï¼Œå† programmer é‡Œé¢è¿›è¡Œä¸‹é¢æ“ä½œï¼š ç‚¹å‡»é¡¶éƒ¨èœå•æ çš„ Edit >Cable Setting >Cable >Queryï¼Œç„¶åŽ Save å³å¯ <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹æ“ä½œæ­¥éª¤å›¾ç‰‡</font></summary> <img src \"./../assets/questions/cable.png\"> <p>ç‚¹å‡»ä¸‹å›¾ä¸­çš„ Query</p> <img src \"./../assets/questions/click_query.png\" > <p>æŽ¥ç€å†ç‚¹å‡» Save å³å¯</p> </details> > ### No Gowin devices found ![no_gowin_device_found](./assets/qusetions/no_gowin_device_found.png) è¿™é‡ŒæŒ‡çš„æ˜¯æ²¡æœ‰æ‰«æåˆ°é«˜äº‘è®¾å¤‡ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨é«˜äº‘åŠå¯¼ä½“æ‰€æä¾›çš„æœ€æ–°çš„æ•™è‚²ç‰ˆçš„ç¼–ç¨‹å™¨ [ç‚¹æˆ‘è·³è½¬](http://www.gowinsemi.com.cn/faq.aspx) æ¥å°è¯•è§£å†³è€ç‰ˆæœ¬ Programmer ä¸è¯†åˆ« Tang Jtag çš„é—®é¢˜ã€‚ ![educational_edition_programmer](./../tang primer 20k/assets/start/educational_edition_programmer.png) #### Nano 9K Nano 9K åœ¨è®¾è®¡çš„æ—¶å€™å°† JTAG_SEL å¼•è„šè¿žæŽ¥åˆ°äº† S2 æŒ‰é”®ä¸Šï¼Œæ ¹æ®é«˜äº‘æ‰‹å†Œå¯ä»¥çŸ¥é“ JTAGSEL_N 0 çš„æ—¶å€™ï¼ŒèŠ¯ç‰‡çš„ Jtag å¼•è„šå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚ ![jtag_sel_function](./assets/qusetions/jtag_sel_function.jpg) åœ¨ä½¿ç”¨ Programmer å¯¹ Nano 9K FPGA æ¿å¡è¿›è¡Œæ“ä½œçš„æ—¶å€™æŒ‰ä½ S2 æŒ‰é”®å°±å¯ä»¥äº†ã€‚ #### Primer 20K 20K Dock å¥—ä»¶è¦æ³¨æ„æ‹¨åŠ¨æ‹¨ç å¼€å…³ä½¿èƒ½æ ¸å¿ƒæ¿åŽï¼Œä¸‹è½½è½¯ä»¶æ‰å¯ä»¥é€šè¿‡åº•æ¿è¯†åˆ«åˆ°åº•æ¿æ‰€æ’å…¥çš„æ ¸å¿ƒæ¿ã€‚ ä½¿èƒ½æ ¸å¿ƒæ¿ æœªä½¿èƒ½çŠ¶æ€ è¡¥å……è¯´æ˜Ž <img src \"./../tang primer 20k/assets/start/switch_1_on.png\" alt \"switch_1_on\" width 100%><img src \"./../tang primer 20k/assets/start/reset_led_on.png\" alt \"reset_led_on\" width 100%> æœªä½¿èƒ½æ ¸å¿ƒæ¿çš„è¯æ¿å­ä¸Šçš„ 0ã€1 å· LED ä¼šä¸€ç›´äº®ç€ï¼Œä¸”æ ¸å¿ƒæ¿ä¸ä¼šæ­£å¸¸å¯åŠ¨ã€‚ å•ç‹¬ä½¿ç”¨ 20K æ ¸å¿ƒæ¿å’Œ RV Debugger Plus ä¸‹è½½å™¨æ¥ä¸‹è½½å›ºä»¶å‡ºçŽ°è¿™ä¸ªé”™è¯¯æ—¶ï¼Œå¯èƒ½æ˜¯æŽ¥çº¿é”™äº†ï¼Œè‡ªå·±æ ¹æ®ä¸‹é¢çš„è¡¨æ ¼æ£€æŸ¥ä¸€ä¸‹çº¿åºï¼Œæˆ–è€…æ£€æŸ¥ä¸€ä¸‹æ ¸å¿ƒæ¿çš„ 8pin æŽ¥å£æœ‰æ²¡æœ‰è¢«æ€¼æ­ªï¼ˆæœ‰ä¸€æ¬¡è¿žæŽ¥å¤±è´¥ï¼Œå‘çŽ°æ˜¯å¼•è„šæ­ªäº†ç„¶åŽè¿žæŽ¥ä¸ä¸Šä¸‹è½½å™¨äº†ï¼›ä¸è¦å¤§åŠ›å‡ºå¥‡è¿¹ï¼‰ã€‚ 20K æ ¸å¿ƒæ¿ JTAG å¼•è„šå®šä¹‰å¯ä»¥åœ¨èƒŒéƒ¨çœ‹åˆ°ã€‚ <table> <tr> <td>æ ¸å¿ƒæ¿</td> <td>5V0</td> <td>TMS</td> <td>TDO</td> <td>TCK</td> <td>TDI</td> <td>RX</td> <td>TX</td> <td>GND</td> </tr> <tr> <td>è°ƒè¯•å™¨</td> <td>5V0</td> <td>TMS</td> <td>TDO</td> <td>TCK</td> <td>TDI</td> <td>TX</td> <td>RX</td> <td>GND</td> </tr> </table> ![cable_connect](./../tang primer 20k/examples/assets/led_assets/cable_connect.png) å¯¹äºŽ 20K æ¿å¡æ¥è¯´å¯èƒ½æ˜¯å› ä¸º JTAG å¤ç”¨è€Œå¯¼è‡´ä¸»æŽ§èŠ¯ç‰‡çš„ JTAG å¼•è„šä¸å†èƒ½è¢«è°ƒè¯•ï¼Œ[ç‚¹æˆ‘](./../tang primer 20k/primer 20k.html#dock åº•æ¿ä¸å·¥ä½œ)æ¥æŸ¥çœ‹ç›¸åº”è§£å†³åŠžæ³• ### ID code mismatch ![id_code_mismatch](./assets/qusetions/id_code_mismatch.png) è¿™ç§æƒ…å†µæ˜¯å·¥ç¨‹æ–‡ä»¶è®¾ç½®çš„èŠ¯ç‰‡ä¸Žå®žé™…ä¸‹è½½èŠ¯ç‰‡åž‹å·ä¸ä¸€è‡´è€Œé€ æˆçš„ã€‚ é‡æ–°è®¾ç½®å·¥ç¨‹ä¸­çš„èŠ¯ç‰‡åž‹å·ï¼ˆæ¯”å¦‚å·¥ç¨‹è®¾ç½®ã€å¼•è„šçº¦æŸã€å„ä¸ªIPä¸­çš„åž‹å·ï¼‰ã€‚ æ¿å¡åž‹å· èŠ¯ç‰‡ç³»åˆ— èŠ¯ç‰‡è®¾å¤‡ å°è£… é€Ÿåº¦ç­‰çº§ Tang Nano GW1N GW1N 1 QN48 C6/I5 Tang Nano 1K GW1NZ GW1NZ 1 QN48 C6/I5 Tang Nano 4K GW1NSR GW1NSR 4C QN48P C6/I5 æˆ–è€… C7/I6 Tang Nano 9K GW1NR GW1NR 9C QN88P C6/I5 Tang Nano 20K GW2AR GW2AR 18C QN88 C8/I7 Tang Primer 20K GW2A GW2A 18C PBGA256 C8/I7 <! <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹æ­£ç¡®åž‹å·é€‰æ‹©</font></summary> <p>Nano 9K åº”å½“é€‰æ‹©çš„åž‹å·</p> <img src \"./../Tang Nano 9K/nano_9k/Tang_nano_9k_Device_choose.png\" width 45%> <p>Primer 20K åº”å½“é€‰æ‹©çš„åž‹å·</p> <img src \"./assets/primer_20k_device_choose.png\" width 45%> </details> > <! å¯¹äºŽå…¶ä»–æ¿å­é€‰æ‹©åž‹å·çš„æ—¶å€™ä¸ŽèŠ¯ç‰‡ä¸å°ç›¸å¯¹åº”å°±è¡Œã€‚ > ### spi flash selected mismatch ä»¥é«˜äº‘åŠå¯¼ä½“å°èœœèœ‚ï¼ˆèŠ¯ç‰‡åç§°ä»¥ GW1N å¼€å¤´çš„ç³»åˆ—ï¼‰å®¶æ—èŠ¯ç‰‡ä¸ºä¸»æŽ§çš„æ¿å¡èŠ¯ç‰‡å†…éƒ¨å«æœ‰ FLASHï¼Œå› æ­¤ä¸‹è½½çš„æ—¶å€™å°†ç”Ÿæˆçš„å›ºä»¶çƒ§å½•åˆ°èŠ¯ç‰‡å†…éƒ¨å³å¯ï¼Œå°†æ¿è½½çš„ FLASH èŠ¯ç‰‡å½“ä½œå¤–è®¾ä½¿ç”¨ã€‚ ä»¥é«˜äº‘åŠå¯¼ä½“æ™¨ç†™ï¼ˆèŠ¯ç‰‡åç§°ä»¥ GW2A å¼€å¤´çš„ç³»åˆ—ï¼‰å®¶æ—èŠ¯ç‰‡ä¸ºä¸»æŽ§çš„æ¿å¡èŠ¯ç‰‡å†…éƒ¨æ— æœ‰ FLASHï¼Œå› æ­¤ä¸‹è½½çš„æ—¶å€™å°†ç”Ÿæˆçš„å›ºä»¶çƒ§å½•åˆ°å¤–éƒ¨ FLASHï¼Œå¯¹æ­¤åœ¨ Programmer ç•Œé¢æ‰€è¿›è¡Œçš„ä¸‹è½½æ¨¡å¼ä¸Ž FLASH é€‰æ‹©å¦‚ä¸‹ï¼š <table> <tr> <td rowspan \"2\"><img src \"./../tang primer 20k/examples/assets/led_assets/flash_mode.png\" alt \"flash_mode\"></td> <td style \"white space:nowrap\">æ“ä½œï¼ˆOperationï¼‰ä¸º <br><code>exFlash Erase,Program thru GAO Bridge</code></td> </tr> <tr> <td>Flash åž‹å·é€‰æ‹©ä¸º <code>Generic Flash</code></td> </tr> </table> ### ä¸‹è½½å¡ä½ã€ä¸‹è½½éžå¸¸æ…¢ ä¸è¦é€‰ä¸­å¸¦æœ‰ Verify é€‰é¡¹çš„ã€‚ ![never_choose_verify](./../assets/questions/never_choose_verify.png) å¦å¤–è‡ªå·±æ³¨æ„è®¾ç½®ä¸€ä¸‹ä¸‹è½½é¢‘çŽ‡ï¼Œä¸€èˆ¬è®¾ç½®ä¸º 2.5MHZ ä¸ä¼šæœ‰å¼‚å¸¸ <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹æ“ä½œæ­¥éª¤å›¾ç‰‡</font></summary> <img src \"./../assets/questions/cable.png\"> <p>ç‚¹å‡»ä¸‹å›¾ä¸­çš„ Frequency</p> <img src \"./../assets/questions/frequency.png\" > <p>æŽ¥ç€å†ç‚¹å‡» Save å³å¯</p> </details> ### æ‰¾ä¸åˆ°ä¸‹è½½æ–‡ä»¶ ä¸€èˆ¬æ¥è¯´ç”Ÿæˆçš„ä¸‹è½½æ–‡ä»¶ï¼ˆæ‹“å±•åŽç¼€ä¸º.fsï¼‰åœ¨å·¥ç¨‹ç›®å½•ä¸‹çš„ impl/pnr æ–‡ä»¶å¤¹é‡Œé¢ã€‚ <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹ç›¸å…³å›¾æ–‡è¯´æ˜Ž</font></summary> <img src \"./../assets/questions/fs_path.png\"> <p> åœ¨ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°è¿™ä¸ªä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ä¸º /fpga_project1/impl/pnr/fpga_project1.fs </p> <p></p> <p> å…¶ä¸­ fpga_project1 ä¸ºå·¥ç¨‹ç›®å½•ï¼Œimpl ä¸º IDE ç”Ÿæˆçš„ç›®å½•ï¼Œç„¶åŽæ‰€éœ€è¦çš„æ–‡ä»¶ä½äºŽ pnr æ–‡ä»¶å¤¹å†…</p> <p></p> <p> ç„¶åŽé‚£ä¸ªæ‹“å±•åä¸º .fs çš„æ–‡ä»¶å°±æ˜¯ä¸‹è½½åˆ° fpga çš„å›ºä»¶</p> </details> ### Directory *** has null character. æ–‡ä»¶è·¯å¾„æœ‰ä¸æ”¯æŒçš„å­—ç¬¦ã€‚ å…³æŽ‰ IDE æ£€æŸ¥æ–‡ä»¶è·¯å¾„ï¼Œè¦æ±‚è·¯å¾„åªåŒ…å«è‹±æ–‡å’Œä¸‹åˆ’çº¿ï¼Œæ£€æŸ¥è·¯å¾„æ˜¯å¦æœ‰ç©ºæ ¼ é‡æ–°æ‰“å¼€å·¥ç¨‹ï¼Œæ¸…é™¤ç»¼åˆç¼“å­˜åŽå†é‡æ–°é‡æ–°ç»¼åˆã€‚ ### çƒ§å½•ç»“æŸåŽæ²¡ååº” ä¸€èˆ¬è¿™ç§æƒ…å†µæ˜¯æ²¡æœ‰é€‰æ‹©æ­£ç¡®çš„çƒ§å½•æ–‡ä»¶ã€‚å¯ä»¥è‡ªå·±å…ˆå¯¹åº”ç€å„ä¸ªæ¿å­ç‚¹ç¯æ–‡æ¡£é‡Œæ‰€é€‰æ‹©çš„èŠ¯ç‰‡åž‹å·æ¥æ£€æŸ¥ä¸€ä¸‹è‡ªå·±çš„å·¥ç¨‹ï¼Œç„¶åŽçœ‹çœ‹è‡ªå·±çš„ä»£ç æ˜¯å¦æœ‰é—®é¢˜ã€‚å¯¹äºŽ 20K æ¿å¡æ¥è¯´å¯èƒ½æ˜¯å› ä¸º JTAG å¤ç”¨è€Œå¯¼è‡´ä¸»æŽ§èŠ¯ç‰‡çš„ JTAG å¼•è„šä¸å†èƒ½è¢«è°ƒè¯•ï¼Œ[ç‚¹æˆ‘](./../tang primer 20k/primer 20k.html#dock åº•æ¿ä¸å·¥ä½œ)æ¥æŸ¥çœ‹ç›¸åº”è§£å†³åŠžæ³• ## IDE ä½¿ç”¨ç›¸å…³ ### æŸ¥çœ‹IPæ–‡æ¡£ åœ¨ IDE é‡Œé¢çš„ IP ç•Œé¢ç‚¹å‡»æƒ³è¦æŸ¥çœ‹çš„ IP æ–‡æ¡£åŽç‚¹å‡»å¯¹åº”çš„è¯­è¨€å³å¯è·³è½¬åˆ°å¯¹åº”çš„è¯´æ˜Ž <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹ç›¸å…³è¯´æ˜Ž</font></summary> <img src \"./../assets/ip reference.png\"> </details> ### ä¿®æ”¹è®¾ç½®è¿‡çš„ IP åœ¨ IDE é‡Œé¢çš„ IP ç•Œé¢ç‚¹å‡»ä¸Šæ–¹å™¨ä»¶é€‰åž‹æ—è¾¹çš„æ–‡ä»¶å¤¹åŽæ‰“å¼€å·²ç”Ÿæˆ IP ç¼–è¾‘ç•Œé¢ <details> <summary><font color \"#4F84FF\">ç‚¹å¼€æŸ¥çœ‹ç›¸å…³è¯´æ˜Ž</font></summary> <img src \"./../assets/ip reconfigure.png\"> </details> ### è®¾ç½® TOP å±‚ å¯¹äºŽå«æœ‰å¤šä¸ªæ¨¡å—çš„å·¥ç¨‹ï¼ŒæˆåŠŸä¾‹åŒ–åŽï¼Œåœ¨ IDE > Hierarchy é¡µé¢å³é”®æƒ³è¦è®¾ç½®ä¸ºé¡¶å±‚çš„æ¨¡å—ï¼Œç„¶åŽé€‰æ‹© `Set As Top Module` å°†å®ƒè®¾ç½®ä¸ºé¡¶å±‚æ¨¡å—äº†ã€‚ ![set_top_module](./assets/set_top_module.png) å¦‚æžœåœ¨ Hierarchy é¡µé¢å‡ºçŽ°ä¸‹ä¸‹è¡¨å·¦å›¾çŽ°è±¡ï¼Œè¿™è¡¨æ˜Žä»£ç é‡Œæœ‰é€»è¾‘é”™è¯¯ï¼Œæ¯”å¦‚ è¯­æ³•é”™è¯¯ã€ä¾‹åŒ–é”™è¯¯ ç­‰ç­‰ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ `RTL Anakysis Error` ï¼Œå°±å¯ä»¥åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†é‡Œçœ‹åˆ°é”™è¯¯çš„ç±»åž‹ä»£ç ä»¥åŠé”™è¯¯çš„ä½ç½®ï¼Œå¦‚ä¸‹è¡¨å³å›¾æ‰€ç¤ºã€‚ <table> <tr> <td align \"center\">RTL Analysis Error</td> <td align \"center\">é”™è¯¯ç±»åž‹ä»¥åŠè¯¦æƒ…</td> </tr> <tr> <td><img src \"./assets/top_error.png\" alt \"top_module_error\" ></td> <td><img src \"./assets/error_detail.png\" alt \"error_detail\" ></td> </tr> </table> ### ä½¿ç”¨ GAO GAO æ˜¯é«˜äº‘åŠå¯¼ä½“åœ¨çº¿é€»è¾‘åˆ†æžä»ªï¼ˆGowin Analyzer Oscilloscopeï¼‰ã€‚å®‰è£…é«˜äº‘ IDE ä¹‹åŽå°±èƒ½åœ¨å¯¹åº”çš„å®‰è£…ç›¸å¯¹è·¯å¾„ä¸‹çœ‹åˆ°ç›¸å…³æ–‡æ¡£äº† ![gao](./../assets/questions/gao.png) ä½¿ç”¨é«˜äº‘åŠå¯¼ä½“æ‰€æä¾›çš„æœ€æ–°çš„æ•™è‚²ç‰ˆçš„ç¼–ç¨‹å™¨ [ç‚¹æˆ‘è·³è½¬](http://www.gowinsemi.com.cn/faq.aspx) èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ GAOï¼ˆå› ä¸º GAO å¿…é¡»åœ¨ IDE å†…æ‰èƒ½æ‰“å¼€ï¼Œæ‰€ä»¥ä½ éœ€è¦è‡ªå·±æ›¿æ¢æŽ‰å®‰è£…æ—¶å€™çš„ Programmer æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”ç¡®å®šæ›¿æ¢åŽçš„è·¯å¾„ä¸Žä¹‹å‰çš„ç›¸åŒï¼‰ã€‚ ![educational_edition_programmer](./../tang primer 20k/assets/start/educational_edition_programmer.png)"},"/hardware/zh/tang/Tang-Nano-Doc/SUMMARY.html":{"title":"Summary","content":" title: Summary Tang nanoç³»åˆ—å¼€å‘æ¿æ˜¯åŸºäºŽ[é«˜äº‘åŠå¯¼ä½“](http://www.gowinsemi.com.cn/)FPGAè®¾è®¡çš„å¼€å‘æ¿ï¼Œå¤šç§åž‹å·åˆšå¥½å¯ä»¥æ»¡è¶³ä¸åŒçš„éœ€æ±‚ï¼š Tang nano 1K ç”¨æžä½Žçš„ä»·æ ¼æ¥è®©ç”¨æˆ·å¸¦é¢†ç”¨æˆ·è¸å…¥FPGAé¢†åŸŸ Tang nano 4K å¸¦æœ‰ä¸€ä¸ªCortex m3çš„ç¡¬æ ¸ï¼Œå‡ ä¹Žæ˜¯ç”¨æˆ·å¯ä»¥è´­ä¹°åˆ°çš„æœ€ä½Žä»·çš„å¼‚æž„å¼€å‘æ¿ Tang nano 9K é…æœ‰æžå…¶ä¸°å¯Œæ•°é‡çš„é€»è¾‘å•å…ƒï¼Œå¯ä»¥è®©ç”¨æˆ·åœ¨ä¸Šé¢è¿è¡Œè½¯æ ¸ ## æ¨ªå‘å¯¹æ¯” åž‹å· Tang Nano 1K Tang Nano 4K Tang Nano 9K å›¾ç‰‡ ![Generated](./../Tang Nano/assets/clip_image002.gif) ![Generated](./../Tang Nano/assets/clip_image004.gif) ![Generated](./../Tang Nano/assets/clip_image006.gif) é€»è¾‘å•å…ƒï¼ˆLUT4ï¼‰ 1152 4608 8640 ç¡¬æ ¸å¤„ç†å™¨ æ—  Cortex M3 æ—  æœ‰æºæ™¶æŒ¯ 27Mhz 27Mhz 27Mhz æ˜¾ç¤ºæŽ¥å£ å¸¸è§RGBå±å¹•æŽ¥å£ HDMI HDMI<br> å¸¸è§RGBå±å¹•æŽ¥å£<br> SPIå±å¹•æŽ¥å£ æ‘„åƒå¤´ æ—  å¯é€‰OV2640 æ—  å¤–ç½®SPI FLASH ä»…é¢„ç•™ç„Šç›˜ é»˜è®¤ç„ŠæŽ¥<br>32Mbit SPI FLASH é»˜è®¤ç„ŠæŽ¥<br>32Mbit SPI FLASH TFå¡åº§ æ—  æ—  æœ‰ ä¸‹è½½å™¨ æ¿è½½USB JTAGä¸‹è½½å™¨ æ¿è½½USB JTAGä¸‹è½½å™¨ æ¿è½½USB JTAGä¸‹è½½å™¨&<br>USB UARTé€šä¿¡æŽ¥å£ ## å‡†å¤‡ [IDEå®‰è£…](./get_started/install the ide.html)"},"/hardware/zh/tang/Tang-Nano-Doc/get_started/install-the-ide.html":{"title":"å®‰è£… IDE","content":" title: å®‰è£… IDE keywords: Sipeed, Gowin, Tang, Nano, fpga, çŸ½é€Ÿ update: date: 2023 05 25 version: v1.1 author: wonder content: æ›´æ–°åˆ° Gowin 1.9.8.11 IDE ç¼–è¾‘ IDE æ”¯æŒå™¨ä»¶ date: 2022 09 19 version: v1.0 author: wonder content: æ ¹æ®é«˜äº‘åŠå¯¼ä½“ä¸‹è½½é“¾æŽ¥æ–°é¡µé¢é‡æ–°æˆªå›¾ åŽ»æŽ‰äº†æ›¿æ¢ Programmer ç›¸å…³æ“ä½œè¯´æ˜Ž ä½¿ç”¨é«˜äº‘åŠå¯¼ä½“çš„ FPGA éœ€è¦ç”¨åˆ° GOWIN è¿™ä¸ªè½¯ä»¶ï¼Œå¯¹åº”çš„è½¯ä»¶æ–‡æ¡£é“¾æŽ¥ï¼š <http://www.gowinsemi.com.cn/down.aspx?FId n14:14:26> æ ¹æ®è‡ªå·±ç³»ç»Ÿé€‰æ‹©å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ IDE å¯¹äºŽ Linux ç³»ç»Ÿä¸‹è½½å›ºä»¶å¯ä»¥ä½¿ç”¨ Openfpgaloaderï¼Œå¯ä»¥æŸ¥çœ‹æœ¬é¡µåº•éƒ¨çš„ [Linux ä¸‹çƒ§å½•](#burn in linux) æ¥è¿›è¡Œçƒ§å½•æ“ä½œã€‚ ## å®‰è£…è½¯ä»¶ ### ä¸‹è½½è½¯ä»¶ å‰å¾€ http://www.gowinsemi.com.cn/faq.aspx ä¸‹è½½ IDEã€‚ ç”±äºŽé«˜äº‘åŠå¯¼ä½“çš„IDEåœ¨ä¸æ–­çš„æ›´æ–°ä¸­ï¼Œä¸‹å›¾ä¸º 2023 å¹´ 05 æœˆ 25 æ—¥æˆªå›¾ ![IDE](./assets/IDE 1.png) IDE åˆ†ä¸ºå•†ä¸šç‰ˆå’Œæ•™è‚²ç‰ˆï¼š å•†ä¸šç‰ˆçš„ IDE éœ€è¦ licenseï¼Œéœ€è¦å‘é«˜äº‘åŠå¯¼ä½“å®˜æ–¹è‡ªè¡Œç”³è¯·ã€‚ æ•™è‚²ç‰ˆ IDE ä¸éœ€è¦ licenseï¼Œç›´æŽ¥ç‚¹å‡»ä¸‹è½½å°±å¯ä»¥äº†ã€‚ æ•™è‚²ç‰ˆæ‰€æ”¯æŒçš„å™¨ä»¶å¦‚ä¸‹ï¼š ![educational_device](./assets/educational_device.png) é«˜äº‘åŠå¯¼ä½“çš„IDEåœ¨ä¸æ–­çš„æ›´æ–°ä¸­ï¼Œä¸Šå›¾ä¸º 2023 å¹´ 05 æœˆ 25 æ—¥æˆªå›¾ã€‚ èŠ¯ç‰‡åç§° èŠ¯ç‰‡ç³»åˆ— èŠ¯ç‰‡åž‹å· é€‚ç”¨æ¿å¡ GW1NZ LV1QN48C6/I5 GW1NZ GW1NZ Nano 1K GW1NSR LV4CQN48PC6/I5 GW1NSR GW1NSR 4C Nano 4K GW1NR LV9QN88PC6/I5 GW1NR GW1NR 9C Nano 9K GW2AR LV18QN88C8/I7 GW2AR GW2AR LV18 Nano 20K GW2A LV18PG256C8/I7 GW2A GW2A 18C Primer 20K ä¸Šè¡¨ä¸­çš„æ¿å¡å‡å¯åœ¨æ•™è‚²ç‰ˆçš„ IDE ä¸­ä½¿ç”¨ã€‚ å¯¹äºŽè´­ä¹°äº† Tang Nano ï¼ˆæ¿è½½ jtag èŠ¯ç‰‡ä¸º CH552ï¼‰ï¼Œç›®å‰éœ€è¦ä½¿ç”¨å•†ä¸šç‰ˆçš„ IDE ä¸”éœ€è¦è‡ªè¡Œå‘é«˜äº‘åŠå¯¼ä½“å®˜æ–¹ç”³è¯· licenseã€‚ ### å¼€å§‹å®‰è£… #### Linux ç³»ç»Ÿ Linux ç‰ˆæœ¬ IDE ä¸‹è½½è§£åŽ‹åŽï¼Œæ‰“å¼€ `IDE/bin` æ–‡ä»¶å¤¹ï¼Œç„¶åŽå¯æ‰§è¡Œæ–‡ä»¶ `gw_ide` å°±åœ¨æ‰€è§£åŽ‹è·¯å¾„çš„ `/IDE/bin/` æ–‡ä»¶å¤¹ä¸­ï¼Œç”¨å‘½ä»¤è¡Œæ¥è¿è¡Œå³å¯ï¼›è¿è¡Œè½¯ä»¶å¤±è´¥çš„è¯è®°å¾—æ”¹è½¯ä»¶çš„å¯æ‰§è¡Œæƒé™ `chmod + x`ã€‚ #### Windows ç³»ç»Ÿ ä¸‹è½½ç›¸åº”çš„ IDE ä¹‹åŽæ‰€å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåŽ‹ç¼©åŒ…ç¨‹åºï¼›å¯¹äºŽ Windows ç‰ˆæœ¬çš„è§£åŽ‹åŽé‡Œé¢æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼ŒåŒå‡»å®‰è£…ç»§ç»­ä¸‹é¢çš„æ­¥éª¤å°±è¡Œã€‚ä¸‹é¢çš„æ‰€æœ‰å®‰è£…æ­¥éª¤å‡ä¸º Windows å¹³å°ï¼š <div class \"imbox\"> <img src \"./assets/IDE 2.png\" width 45%> <img src \"./assets/IDE 3.png\" width 45%> </div> ä¸‹å›¾çš„ä¸¤ä¸ªéƒ½éœ€è¦å®‰è£…ä¸Šã€‚å…¶ä¸­çš„ Gowin ä¸º IDE æœ¬ä½“ï¼Œ å¦ä¸€ä¸ª programmer ç›¸å…³çš„æ˜¯çƒ§å½•è½¯ä»¶ã€‚ å› ä¸ºæˆ‘ä»¬çš„ä¸‹è½½å™¨ä¸Ž IDE é™„å¸¦å®‰è£…çš„ Programmer å¯èƒ½ä¸å¤ªå…¼å®¹ï¼Œä½¿ç”¨ä¸­æœ‰é—®é¢˜çš„è¯å¯ä»¥å‰å¾€ <a href \"./../questions.html#ä¸‹è½½å¤±è´¥\" target \"blank\">programmer ç›¸å…³é‡Œçš„ä¸‹è½½å¤±è´¥</a> æ¥æŸ¥çœ‹å¯¹åº”æ–¹æ³•ã€‚ <! ç”±äºŽæˆ‘ä»¬æ‰€æä¾›ä¸‹è½½å™¨ä¼šä¸Žæ–°ç‰ˆçš„ IDE ä¸å¤ªå…¼å®¹ï¼Œå› æ­¤å»ºè®®å‰å¾€ <a href \"./../questions.html#ä¸‹è½½å¤±è´¥\" target \"blank\">programmer ç›¸å…³é‡Œçš„ä¸‹è½½å¤±è´¥</a> æ¥æŸ¥çœ‹å¯¹åº”æ–¹æ³•ã€‚ > <img src \"./assets/IDE 4.png\" width 50%> ä¸‹å›¾çš„å®‰è£…è·¯å¾„ä¸ªäººæŒ‰ç…§è‡ªå·±éœ€è¦è®¾ç½® <img src \"./assets/IDE 5.png\" width 50%> å®‰è£…ä¸­... <img src \"./assets/IDE 6.png\" width 50%> ä¸‹é¢è¿™ä¸€æ­¥ä¸è¦æ›´æ”¹ä»»ä½•ä¸œè¥¿ï¼ŒæŒ‰ç…§é»˜è®¤çš„ç‚¹å‡»`Finish`å°±è¡Œï¼Œç´§æŽ¥ç€å°±æ˜¯å®‰è£…ç›¸å…³çš„é©±åŠ¨ <img src \"./assets/IDE 7.png\" width 50%> ä¸Šé¢çš„`Finish`åŽä¼šå‡ºçŽ°ä¸‹é¢çš„å†…å®¹ï¼Œè¿™æ˜¯å®‰è£…é©±åŠ¨çš„ã€‚ <html> <div class \"imbox\"> <img src \"./assets/IDE 8.png\" width 45%> <img src \"./assets/IDE 9.png\" width 45%> </div> </html> è¿™é‡Œéœ€è¦é€‰æ‹©æŽ¥å—åè®®æ‰èƒ½ç»§ç»­å®‰è£… <html> <div class \"imbox\"> <img src \"./assets/IDE 10.png\" width 45%> <img src \"./assets/IDE 11.png\" width 45%> </div> </html> ç‚¹å‡»å®ŒæˆåŽæ¡Œé¢ä¸Šä¼šå‡ºçŽ°ä¸‹é¢çš„å›¾æ ‡ ![IDE](./assets/IDE 12.png) åˆ°è¿™é‡Œæˆ‘ä»¬å°±å®Œæˆäº†è½¯ä»¶çš„å®‰è£… ## ä½¿ç”¨ IDE ### license ç›¸å…³ æ•™è‚²ç‰ˆæœ¬çš„ IDE ç›´æŽ¥è¿è¡Œå³å¯ï¼›å•†ä¸šç‰ˆçš„ IDE éœ€è¦è‡ªè¡Œå‰å¾€ [ç‚¹æˆ‘](http://www.gowinsemi.com.cn/faq_view.aspx) ç”³è¯· license åŽæ‰èƒ½ä½¿ç”¨ï¼Œå…¶ä¸­ç”³è¯·license æ—¶ MAC æœ€å¥½å¡«å†™æœ¬æœºçš„ä»¥å¤ªç½‘ç½‘å¡åœ°å€ï¼Œé¿å…ä»¥åŽå¯èƒ½å› éƒ¨åˆ†è®¾ç½®è€Œå¯¼è‡´ MAC åœ°å€æ”¹å˜ license éªŒè¯å¤±è´¥ã€‚ ### éªŒè¯ license æ‰“å¼€é«˜äº‘åŠå¯¼ä½“ IDE çš„æ—¶å€™ï¼Œåœ¨å¼¹å‡ºçš„ license ç®¡ç†ä¸­ï¼Œé€‰æ‹©è‡ªå·±æœ¬åœ° license çš„æ–‡ä»¶ï¼ŒéªŒè¯ä¿å­˜å³å¯ã€‚ <img src \"./assets/IDE 13.png\" alt \"Broswer lic\" width 45%> <img src \"./assets/check.png\" alt \"Check lic\" width 45%> ç„¶åŽå°±å¯ä»¥å¼€å§‹ä½¿ç”¨é«˜äº‘åŠå¯¼ä½“ IDE äº†ã€‚ ### Programmer <! åœ¨çƒ§å½• FPGA çš„æ—¶å€™å¯èƒ½å› ä¸ºå®‰è£… IDE æ—¶æ‰€å®‰è£…çš„ Programmer è½¯ä»¶ä¸å…¼å®¹æˆ‘ä»¬æ‰€æä¾›çš„ä¸‹è½½å™¨ï¼Œå› æ­¤å¯¹äºŽ Windows ç”¨æˆ·è¦æ±‚ä½¿ç”¨æˆ‘ä»¬æ‰€æä¾›çš„ç‰¹å®šç‰ˆæœ¬çš„ Programmer è½¯ä»¶ï¼Œ[ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/TANG/programmer)è·³è½¬ä¸‹è½½å³å¯ï¼› > å¦‚æžœä¸‹è½½å›ºä»¶å¤±è´¥çš„è¯ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ä¸€ä¸‹ Programmer è½¯ä»¶æ¥è¯•è¯• [è·³è½¬åœ°å€](https://dl.sipeed.com/shareURL/TANG/programmer) ![programmer_download](./assets/programmer_download.png) å¯¹äºŽ Linux ç”¨æˆ·å¯ä»¥ç”¨ Openfpgaloader, æŸ¥çœ‹æœ¬é¡µæœ€åº•éƒ¨çš„ç›¸å…³è¯´æ˜Žå³å¯ã€‚ ## æ‹“å±• èŽ·å– license å¯èƒ½éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚åœ¨æ­¤æœŸé—´å¯ä»¥çœ‹çœ‹é«˜äº‘åŠå¯¼ä½“çš„å®˜æ–¹æ–‡æ¡£ã€‚ä¸‹é¢ç®€å•è¯´æ˜Žä¸€ä¸‹ï¼š åœ¨ IDE çš„å®‰è£…è·¯å¾„ä¸‹ä¸»è¦æœ‰å¦‚ä¸‹å†…å®¹ï¼šIDE æ–‡ä»¶å¤¹ã€Programmer æ–‡ä»¶å¤¹ã€uninst.exeï¼› ![ide_folder](./assets/ide_folder.png) **IDE** æ–‡ä»¶å¤¹ï¼šè¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹é‡Œé¢çš„ **doc** æ–‡ä»¶å¤¹ï¼Œç”¨æˆ·åœ¨å®‰è£…å®Œä¹‹åŽå¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢çœ‹åˆ°é«˜äº‘æä¾›çš„å¤§å¤šæ•°æ–‡æ¡£é«˜äº‘åŠå¯¼ä½“ï¼Œä¸»è¦å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![IDE](./assets/doc folder.png) **Programmer** æ–‡ä»¶å¤¹ï¼šé‡Œé¢æ˜¯çƒ§å½•è½¯ä»¶ï¼Œä¹Ÿæœ‰ç›¸å…³çš„æ–‡æ¡£ã€‚ ![programmer](./assets/programmer folder.png) **uninst.exe**ï¼šå¸è½½IDE <! ## å…¶ä»–å®‰è£…æ–¹æ³• ä¸‹é¢æ˜¯é«˜äº‘åŠå¯¼ä½“å®˜æ–¹æ‰€æä¾›çš„ IDE å®‰è£…æ–¹æ³•ï¼Œæœ‰éœ€è¦çš„è¯å¯ä»¥è‡ªè¡ŒæŸ¥é˜… + [é«˜äº‘åŠå¯¼ä½“è½¯ä»¶ç®€ä»‹å’Œå®‰è£…](http://cdn.gowinsemi.com.cn/%E9%AB%98%E4%BA%91%E8%BD%AF%E4%BB%B6%E7%AE%80%E4%BB%8B%E5%92%8C%E5%AE%89%E8%A3%85.pdf) > ## Burn in linux [Linuxç³»ç»Ÿä¸‹çƒ§å½•æ–¹æ³•](./flash_in_linux.html)"},"/hardware/zh/tang/Tang-Nano-Doc/get_started/flash_in_linux.html":{"title":"Linux ä¸‹çƒ§å½•æ–¹æ³•","content":" title: Linux ä¸‹çƒ§å½•æ–¹æ³• keyeords: Linux, FPGA, Gowin ## openFPGAloader åœ¨Ubuntuç³»ç»Ÿä¸‹æˆ‘ä»¬å»ºè®®ä½¿ç”¨**openFPGALoader**çƒ§å†™ï¼Œå…¶ä»–å‘è¡Œç‰ˆå°šæœªéªŒè¯ã€‚ä»¥ä¸‹ä¸ºå…·ä½“æ­¥éª¤ ### å®‰è£…openFPGALoader å‚è€ƒï¼šhttps://trabucayre.github.io/openFPGALoader/guide/install.html ç›´æŽ¥åœ¨linuxå‘½ä»¤è¡Œæ‰§è¡Œä¸‹é¢å‘½ä»¤å³å¯ ```bash # preprocess sudo apt get install libftdi1 2 libftdi1 dev libhidapi hidraw0 libhidapi dev libudev dev zlib1g dev cmake pkg config make g++ # compile git clone https://github.com/trabucayre/openFPGALoader.git cd openFPGALoader mkdir build cd build cmake ../ #build cmake build . j$(nproc) # install sudo make install ``` ### çƒ§å½•æ–¹æ³• æ£€æµ‹æ¿å¡ ```bash $ sudo ./openFPGALoader detect # å¯¹äºŽè¿™è¡Œå‘½ä»¤åº”å½“åœ¨ä½ ä¸Šä¸€æ­¥æ‰§è¡Œmake installçš„ç›®å½•ä¸‹æ‰§è¡Œ # ä¸‹é¢æ˜¯æ­£å¸¸æ‰§è¡ŒåŽæ˜¾ç¤ºçš„log Jtag frequency : requested 6.00MHz > real 6.00MHz index 0: idcode 0x100481b manufacturer Gowin family GW1N model GW1N(R) 9C irlength 8 ``` ä¸‹è½½ç æµ ```bash $ sudo ./openFPGALoader b tangnano9k f ../../nano9k_lcd/impl/pnr/Tang_nano_9K_LCD.fs # å…¶ä¸­çš„ b è¡¨ç¤ºç›®æ ‡æ¿åž‹å·ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸‹é¢è¡¨æ ¼ # f è¡¨ç¤ºä¸‹è½½åˆ° flashï¼Œä¸åŠ çš„è¯ä¼šä¸‹è½½åˆ° sram ä¸­ # æœ€åŽçš„æ˜¯éœ€è¦çƒ§å½•çš„æ–‡ä»¶ï¼Œåº”è¯¥æ‰¾åˆ°å¯¹åº”ç›®å½•ä¸‹çš„ .fs æ–‡ä»¶ # ä¸‹é¢æ˜¯æˆåŠŸæ‰§è¡ŒåŽçš„log write to flash Jtag frequency : requested 6.00MHz > real 6.00MHz Parse file Parse ../../nano9k_lcd/impl/pnr/Tang_nano_9K_LCD.fs: Done DONE Jtag frequency : requested 2.50MHz > real 2.00MHz erase SRAM Done erase Flash Done write Flash: [ ] 100.00% Done CRC check: Success ``` å…¶ä¸­ bè¡¨ç¤ºç›®æ ‡æ¿åž‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å–å€¼ï¼š Board name FPGA Memory Flash tangnano GW1N 1 QN48 OK Internal Flash tangnano1k GW1NZ 1 QN48 OK Internal Flash tangnano4k GW1NSR 4C QN48 OK Internal Flash tangnano9k GW1NR 9C QN88P OK Internal Flash tangnano20k GW2AR 18C QN88 OK External Flash tangprimer20k GW2A 18C BGA256 OK External Flash "},"/hardware/zh/tang/Tang-Nano-Doc/index.html":{"title":"Tang Nano","content":"# Tang Nano ## ä»€ä¹ˆæ˜¯ Tang Nano Tang Nano æ˜¯åŸºäºŽé«˜äº‘åŠå¯¼ä½“å°èœœèœ‚ç³»åˆ— GW1N 1 FPGA çš„ç®€çº¦åž‹å¼€å‘æ¿ã€‚ æ¿è½½èŠ¯ç‰‡ä¸º GW1N LV1QN48C6/I5ï¼Œæ­è½½äº† 1152 LUT4 çš„é€»è¾‘èµ„æºï¼Œ1 PLL å’Œ 4 Block åˆè®¡ 72Kbit SRAMï¼Œå°è£…ä¸º QFN48ã€‚å¼€å‘æ¿å¼•å‡ºäº†æ‰€æœ‰ I/O æŽ¥å£ï¼Œé€‚ç”¨äºŽå°åž‹æ•°å­—é€»è¾‘çš„è®¾è®¡å’Œå®žéªŒã€‚ æ¿è½½ 64Mbits PSRAMï¼Œä¸º FPGA æä¾›äº†ä¸°å¯Œçš„å­˜å‚¨èµ„æºã€‚ åŒæ—¶ï¼Œè¯¥å¼€å‘æ¿å…·æœ‰ RGBæŽ¥å£ï¼Œèƒ½å¤Ÿä¸Ž LCDå±ã€VGAè½¬æ¢å™¨ ç­‰å¤–è®¾è¿žæŽ¥ï¼Œéžå¸¸é€‚åˆäºŽå±å¹•æ˜¾ç¤ºç­‰ç±»åž‹çš„åº”ç”¨ã€‚ æ¿å­æ¿è½½ 24MHz æ™¶æŒ¯å’Œ USBè½¬JTAGä¸‹è½½å™¨ï¼Œèƒ½å¤Ÿå®¹æ˜“çš„è¿žæŽ¥ç”µè„‘è¿›è¡Œå¼€å‘ï¼Œè€Œä¸éœ€è¦å¤–éƒ¨çš„è°ƒè¯•å™¨å’Œæ—¶é’Ÿè¾“å…¥ã€‚æ¿è½½çš„ RGB LED å¯ç”¨äºŽæŒ‡ç¤ºå’Œè°ƒè¯•ï¼ŒåŒæ—¶ FPGA IOBANK åˆ†ç»„å¯è°ƒçš„IOç”µå¹³ä½¿å¾—å¼€å‘æ¿èƒ½å¤Ÿå®¹æ˜“çš„å¯¹å¤–éƒ¨å„ç§ä¸åŒç”µå¹³è§„èŒƒçš„å™¨ä»¶æŽ¥å£ã€‚ **æ¿è½½èµ„æº:** + GW1N 1 + 64Mbit QSPI PSRAM + RGB LED + RGB LCD 40PæŽ¥å£åŠé©±åŠ¨ç”µè·¯ + 24MHzæ™¶æŒ¯ + USBè°ƒè¯•å™¨ï¼ŒåŸºäºŽType Cé€šè®¯æŽ¥å£ ## å¼•è„šå®šä¹‰ ![Nano å¼•è„š](./assets/tang_nano_pinout_v1.0.0_w5676_h4000_large.png) ## èµ„æºä¸‹è½½é“¾æŽ¥ + [é«˜äº‘åŠå¯¼ä½“å®˜æ–¹ä¸‹è½½ç«™](http://www.gowinsemi.com.cn/faq.aspx) + [ä¸‹è½½ç«™](http://dl.sipeed.com/TANG/Nano) + [Tang Nano åŽŸç†å›¾](https://dl.sipeed.com/shareURL/TANG/Nano/HDK)"},"/hardware/zh/tang/Tang-Nano-Doc/examples.html":{"title":"Tang Nano ç³»åˆ—ä¾‹ç¨‹","content":" title: Tang Nano ç³»åˆ—ä¾‹ç¨‹ tags: Tang Nano, example, guide keywords: Tang Nanoï¼Œexample update: date: 2023 01 09 author: wonder content: æ·»åŠ  Tang Nano 9K Lushay Labs è·³è½¬é“¾æŽ¥ ## å‰è¨€ åŸºæœ¬ä¸Šæ‰‹ä½¿ç”¨å’Œç›¸å…³çš„åŽ†ç¨‹ ## Tang Nano > æ¿è½½ä¸‹è½½å™¨ä¸ºCH552 Github: https://github.com/sipeed/Tang Nano examples [ç‚¹ç¯ä¾‹ç¨‹](./../Tang Nano/examples/1_led.html) [é©±å±æ•™ç¨‹](./../Tang Nano/examples/2_lcd.html) ## Tang Nano 1K Github: https://github.com/sipeed/TangNano 1K examples [ç‚¹ç¯ä¾‹ç¨‹](./../Tang Nano 1K/examples/LED.html) [é©±å±æ•™ç¨‹](./../Tang Nano 1K/examples/LCD.html) ## Tang Nano 4K Github: https://github.com/sipeed/TangNano 4K example [ç‚¹ç¯ä¾‹ç¨‹](./../Tang Nano 4K/examples/LED.html) ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰ [æŒ‰é”®æ ‡å¿—ç‚¹ç¯](https://github.com/sipeed/TangNano 4K example/tree/main/key_blink)(github) [HDMIæ˜¾ç¤ºå·¥ç¨‹](https://github.com/sipeed/TangNano 4K example/tree/main/hdmi_720p)(github) [HDMI æ˜¾ç¤ºæ‘„åƒå¤´å†…å®¹](https://github.com/sipeed/TangNano 4K example/tree/main/camera_hdmi)(github) åœ¨Nano 4Kä¸Šè¿è¡ŒGBAçš„å·¥ç¨‹ï¼šhttps://github.com/Martoni/GbHdmi litex åœ¨ 4K æ”¯æŒï¼šhttps://github.com/litex hub/litex boards å…¶ä»–ï¼š ä½¿ç”¨ Cortex M3 ç‚¹ç¯ä¾‹ç¨‹ï¼š[Github](https://github.com/verilog indeed/gowin_fpga_tutorials) (è‹±æ–‡) ## Tang Nano 9K Github: https://github.com/sipeed/TangNano 9K example [ç‚¹ç¯ä¾‹ç¨‹](./../Tang Nano 9K/examples/LED.html) [é©±RGBå±æ•™ç¨‹](./../Tang Nano 9K/examples/LCD.html) [PicoRV åœ¨9Kä¸Šè¿è¡Œçš„ç¤ºä¾‹](./../Tang Nano 9K/examples/picorv.html) [FPGAé©±åŠ¨1.14 SPIå±å¹•å·¥ç¨‹](./../Tang Nano 9K/examples/spi_lcd.html) HDMI ç¤ºä¾‹ï¼šå‚è€ƒ [PicoRV åœ¨9Kä¸Šè¿è¡Œçš„ç¤ºä¾‹](./../Tang Nano 9K/examples/picorv.html) litex åœ¨ 9K æ”¯æŒï¼šhttps://github.com/litex hub/litex boards [Lushay Labs](https://lushaylabs.com/) æœ‰æ„åšä»¥å¤ªç½‘ã€å›¾å½¢å¡æˆ–è€…åŒæ ¸å¤„ç†å™¨çš„ FPGA å¼€å‘æ•™ç¨‹è®¡åˆ’ï¼Œæœ‰æ„è€…å¯ä»¥é˜…è¯»æœ¬æ–‡æœ«å°¾å¤„ä»–ä»¬æä¾›çš„ [éƒ¨åˆ†æ•™ç¨‹](#lushay labs) æ¥äº†è§£ä»–ä»¬ã€‚æœ‰å…´è¶£å‚ä¸Žé¡¹ç›®çš„è¯å¯ä»¥å‘é‚®ä»¶åˆ° `contact@lushaylabs.com` ## Tang Nano 20K Github: https://github.com/sipeed/TangNano 20K example [å¼€ç®±ä½¿ç”¨](https://wiki.sipeed.com/hardware/zh/tang/tang nano 20k/example/unbox.html) [ç‚¹ç¯ä¾‹ç¨‹](https://wiki.sipeed.com/hardware/zh/tang/tang nano 20k/example/led.html) ## å“”å“©å“”å“©è§†é¢‘ > æ„Ÿè°¢ [ZQåçœ‹äº‘èµ·æ—¶](https://space.bilibili.com/375786914) å‹æƒ…åˆ¶ä½œ <table> <tr><td><a href \"https://www.bilibili.com/video/BV1Jv4y1Q7u6/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š1: äº‘æºIDEå®‰è£…ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1MK411z7it/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š2: äº‘æºè½¯ä»¶åŸºæœ¬ä½¿ç”¨ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1HW4y1K7mT/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š3: æ–°å»ºFPGAå·¥ç¨‹ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV19d4y1h7CQ/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š4ï¼šæ—¶é’Ÿåˆ†é¢‘å™¨ä½¿ç”¨ä¹‹IPè°ƒç”¨æ³•ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1YA411X7Tt/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š5ï¼šæ—¶é’Ÿåˆ†é¢‘å™¨ä½¿ç”¨ä¹‹ç›´æŽ¥ä¾‹åŒ–æ³•ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1z24y1S7MX/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š6ï¼š38è¯‘ç å™¨è®¾è®¡ä¸Žæµ‹è¯•ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV19Y411m7XN/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š7ï¼šé«˜äº‘é€»è¾‘åˆ†æžä»ªä¹‹é…ç½®ç¯‡ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1m24y1S7f2/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š8ï¼šé«˜äº‘é€»è¾‘åˆ†æžä»ªä¹‹ä½¿ç”¨ç¯‡ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1dR4y1U7pJ/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š9ï¼šå­˜å‚¨å™¨BSRAMä½¿ç”¨æ–¹æ³•ä»‹ç»ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1bv4y1i7Ez/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š10ï¼šé«˜äº‘é€»è¾‘åˆ†æžä»ªè°ƒè¯•BSRAMã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1L24y1i7k8/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š11ï¼šBSRAMè®¾ç½®åˆå§‹åŒ–æ•°æ®ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1y8411K7ey/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š12ï¼šåŸºäºŽBSRAMçš„pROMä½¿ç”¨ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1hK411y7a4/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š13ï¼šè¾“å…¥æ—¶é’ŸCLKä¿¡å·æ•èŽ·æŠ€å·§ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1V8411w7rw/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š14ï¼šåŸºäºŽST7789èŠ¯ç‰‡1.14å¯¸LCDå±å¹•é©±åŠ¨ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1534y1f75w/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š15ï¼šåŸºäºŽST7789èŠ¯ç‰‡LCDå¯„å­˜å™¨é…ç½®å’Œæ˜¾ç¤ºã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1Ld4y1n7R4/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š16: 1.14å¯¸LCDå›¾ç‰‡æ˜¾ç¤ºå®žéªŒã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1C84y1n7mb/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š17: 1.14å¯¸LCDå›¾ç‰‡æ»šåŠ¨å®žéªŒã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV11N411F7i1/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š18ï¼šæ‰‹æ“ç®€æ˜“æ ‡å‡†SPIé©±åŠ¨åŠä»¿çœŸã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1qs4y1V7D4/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š19ï¼šSPIè¯»flash P25Q32HS/W25Q32 èŠ¯ç‰‡IDå®žéªŒã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1ck4y1h7KZ/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š20ï¼šSPIè¯»å†™/æ“¦é™¤P25Q32HS/W25Q32å®žéªŒã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1Nx4y1A7E7/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š21ï¼šä¸²å£å‘é€æ¨¡å—çš„å®žçŽ°ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1yL411S7T5/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š22ï¼šä¸²å£æŽ¥æ”¶æ¨¡å—çš„å®žçŽ°ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1xM411T7kv/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š23ï¼šçŽ¯å½¢é˜Ÿåˆ—(FIFO)çš„å®žçŽ°ã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1Xh4y1p7x7/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š24ï¼šä¸²å£è½¬SPIæ“ä½œflashã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1rc411J7vP/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š25ï¼šä¸²å£è½¬SPIæ–‡ä»¶ä¼ è¾“ä¸Šä½æœºã€‹</a></td></tr> <tr><td><a href \"https://www.bilibili.com/video/BV1BM4y1t7xu/\" target \"_blank_\">TANG NANO 9K å¼€å‘æ¿åº”ç”¨ã€Š26ï¼šPWMã€‹</a></td></tr> </table> <table> <tr><td><a href \"https://www.bilibili.com/video/BV1iA411R7Zi/\" target \"_blank_\">iverilog + gtkwave å¼€æºä»¿çœŸå·¥å…·ã€Š1ï¼šè½¯ä»¶å®‰è£…ç¯‡ã€‹</a></tr></td> <tr><td><a href \"https://www.bilibili.com/video/BV18y4y1R7eu/\" target \"_blank_\">iverilog + gtkwave å¼€æºä»¿çœŸå·¥å…·ã€Š2ï¼šè®¡æ•°å™¨ä»¿çœŸå®žéªŒã€‹</a></tr></td> </table> ## å…¶ä»–ä¸Šæ‰‹è¯´æ˜Ž Tang Nano 9K åˆä½œä»£ç†æ•™ç¨‹(è‹±æ–‡)ï¼š ### Lushay Labs <a href \"https://learn.lushaylabs.com/tang nano series/\"><img src \"./assets/lushaylab_logo.png\" alt \"lushaylab_logo\" width \"35%\"></a> 1. [Installation & Getting Started](https://learn.lushaylabs.com/getting setup with the tang nano 9k/) 2. [Debugging & UART](https://learn.lushaylabs.com/tang nano 9k debugging/) 3. [OLED 101](https://learn.lushaylabs.com/tang nano 9k graphics/) 4. [Creating a Text Engine](https://learn.lushaylabs.com/tang nano 9k creating a text engine/) 5. [Data Conversion & Visualization](https://learn.lushaylabs.com/tang nano 9k data visualization/) 6. [Reading from the External Flash](https://learn.lushaylabs.com/tang nano 9k reading the external flash/) 7. [Generating Random Numbers](https://learn.lushaylabs.com/tang nano 9k generating random/) 8. [Sharing Resources](https://learn.lushaylabs.com/tang nano 9k sharing resources/) 9. [I2C, ADC and Micro Procedures](https://learn.lushaylabs.com/i2c adc micro procedures/) 10. [Our First CPU](https://learn.lushaylabs.com/tang nano 9k first processor/) ## ç»“è¯­ æœ‰é—®é¢˜å¯ä»¥åœ¨ç›¸å…³é¡µé¢ä¸‹é¢ç•™è¨€ï¼Œæˆ–è€…åŠ å…¥ QQ ç¾¤è®¨è®ºï¼Œå¸¸è§é—®é¢˜å·²è¢«æ”¶å½•ã€‚ QQ ç¾¤ï¼š834585530 å¸¸è§é—®é¢˜: [ç‚¹æˆ‘](https://wiki.sipeed.com/hardware/zh/tang/Tang Nano Doc/questions.html)"},"/hardware/zh/tang/Tang-Nano-9K/examples/picorv.html":{"title":"Tang Nano 9K picoRV ç®€å•ç¤ºä¾‹","content":" title: Tang Nano 9K picoRV ç®€å•ç¤ºä¾‹ > ç¼–è¾‘äºŽ2022å¹´3æœˆ28æ—¥ ## å‰è¨€ åœ¨Tang Nano 9K [ä¾‹ç¨‹ä»“åº“](https://github.com/sipeed/TangNano 9K example/tree/main/picotiny)é‡Œé¢æœ‰ä¸€ä¸ªpicoRVçš„ä¾‹ç¨‹ã€‚ æœ¬ç¯‡æ–‡ç« ä»…ç®€å•å™è¿°å¦‚ä½•ä½¿ç”¨ä¾‹ç¨‹ï¼Œæ— å…¶ä»–å†…å®¹ã€‚ ## ç›¸å…³çŽ¯å¢ƒ Python Gowin IDE ## ç›¸å…³æ­¥éª¤ ### çƒ§å½•Bitstream æ‰“å¼€ TangNano 9K example\\picotiny\\project ç›®å½•ä¸‹çš„ picotiny.gprj æ–‡ä»¶ åœ¨é¡¶éƒ¨èœå•æ  Project >Configuration >Place&Route >Dual Purpose Pin é‡Œé¢å‹¾é€‰ Use MSPI as regular IO åœ¨ IDE çš„ Process çª—å£å³é”® Place&Route é€‰æ‹© Cleanï¼†Rerun All å°†ç”Ÿæˆçš„æ–‡ä»¶ä¸‹è½½åˆ° Nano 9K çš„ Embedded Flash å®Œæˆä¸Šé¢æ­¥éª¤åŽæˆ‘ä»¬å·²ç»æˆåŠŸå°†PicoRVå›ºåŒ–åˆ°FPGAé‡Œé¢äº† ### çƒ§å½•ä¾‹ç¨‹æ–‡ä»¶ åœ¨ TangNano 9K example\\picotiny ç›®å½•ä¸‹æ‰§è¡Œ ```python python .\\sw\\pico programmer.py .\\example fw flash.v COM13 ``` ä¸Šé¢å‘½ä»¤è¡Œä¸­æœ€åŽçš„ COM13 æŒ‡çš„æ˜¯å¼€å‘æ¿åœ¨ç³»ç»Ÿä¸­çš„ä¸²å£ç¼–å·ï¼Œ æ¯”å¦‚åœ¨ç³»ç»Ÿä¸­æ˜¾ç¤ºä¸ºCOM14çš„è¯å°±éœ€è¦å°†å®ƒæ”¹æˆå¯¹åº”çš„COM14ã€‚ æˆåŠŸæ‰§è¡Œä¸Šé¢å‘½ä»¤åŽä¼šå‡ºçŽ° ` Waiting for reset ` çš„è®¡æ—¶ï¼Œ è¿™æ—¶å€™æŒ‰ä¸‹å¼€å‘æ¿çš„S1æŒ‰é”®å°±å¯ä»¥å®Œæˆçƒ§å½•ã€‚ é™„å¸¦å®Œæˆçš„çƒ§å½•logï¼š ```powershell \\TangNano 9K example\\picotiny> python .\\sw\\pico programmer.py .\\example fw flash.v COM13 Read program with 11760 bytes Waiting for reset ... Total sectors 3 Total pages 46 Flashing 1 / 3 Flashing 2 / 3 Flashing 3 / 3 Flashing completed ``` ç„¶åŽå°±å¯ä»¥ä½¿ç”¨åœ¨ä¸²å£å·¥å…·æ¥æ‰§è¡Œæˆ‘ä»¬çš„ä»£ç äº†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨HDMIæ¥æ˜¾ç¤ºä»£ç ç•Œé¢ ![](./../nano_9k/picorv.jpg) ## å…¶ä»–äº‹é¡¹ æœ¬æ–‡ä»…æä¾›ä¸€ç§è¿è¡Œæ–¹æ³•ï¼Œæ— å…¶ä»–ä½œç”¨ äº¤å‰ç¼–è¯‘ç­‰é«˜é˜¶çŽ©æ³•è‡ªå·±å‚è€ƒé¡¹ç›®ç›®å½•çš„makefileä¿®æ”¹ï¼Œæ— å…¶ä»–æ”¯æŒ <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-9K/examples/spi_lcd.html":{"title":"Spi_lcd","content":"# Spi_lcd æ„Ÿè°¢ç¾¤å‹æä¾›çš„ä»£ç ï¼Œå‰å¾€ https://github.com/sipeed/TangNano 9K example/tree/main/spi_lcd æŸ¥çœ‹è¯¦æƒ…ï¼Œç›¸å…³è¯´æ˜Žä¼šåœ¨æ•´ç†ä¹‹åŽå±•ç¤ºã€‚ ![spi_lcd](./../nano_9k/spi_lcd.jpg)"},"/hardware/zh/tang/Tang-Nano-9K/examples/spi_lcd/spi_lcd.html":{"title":"Spi lcd","content":" title: Spi lcd keywords: Tang Nano 9K, spi, lcd update: date: 2022 10 25 version: v0.1 author: wonder content: å†…å®¹ç¼–å†™ ## å‰è¨€ Tang Nano 9K æ¿å¡ä¸Šæœ‰ä¸€ä¸ª 8P çš„ spi lcd è¿žæŽ¥å™¨ï¼Œå¯ä»¥ç”¨æ¥åŽ»é©±åŠ¨é…å¥—çš„ spi lcd å±å¹•ã€‚ <img src \"./../nano_9k/spi_lcd.jpg\" alt \"spi_lcd\" width 48%> é…å¥— SPI å±å¹•å¯ä»¥åœ¨æ·˜å®åº—è¯¢é—®å®¢æœè´­ä¹°ï¼š[ç‚¹æˆ‘è·³è½¬åˆ°æ·˜å®é¡µé¢](https://sipeed.taobao.com/) ## åˆ†æž SPI å±å¹•çš„æ•°æ®æ‰‹å†Œåœ¨è¿™é‡Œï¼š[ç‚¹æˆ‘è·³è½¬åˆ°ä¸‹è½½é¡µé¢](https://dl.sipeed.com/shareURL/TANG/Nano%209K/6_Chip_Manual/CN/LCD_Datasheet) ä»Žæ•°æ®æ‰‹å†Œä¸­å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š NO. Item Contents Unit 1 LCD Size 1.14 inch 2 Display Mode Normally black 3 Resolution 135(H)RGB x240(V) pixels 4 Pixel pitch 0.1101(H) x 0.1038(V) mm 5 Active area 14.864(H) x 24.912(V) mm 6 Module size 17.6(H) x 31.0(V) x1.6 (D) mm 7 Pixel arrangement RGB Vertical stripe 8 Interface 4 Line SPI 9 Display Colors 262K colors 10 Drive IC ST7789V3 11 Luminance(cd/m2) 400 (TYP) Cd/m2 12 Viewing Direction All View Best image 13 Backlight 1 White LED 14 Operating Temp. 20â„ƒ~ + 70â„ƒ â„ƒ 15 Storage Temp. 30â„ƒ~ + 80â„ƒ â„ƒ 16 Weight 1.8 g åœ¨é‡Œé¢æˆ‘ä»¬ä¸»è¦éœ€è¦çŸ¥é“ä»¥ä¸‹ä¿¡æ¯ï¼š åˆ†è¾¨çŽ‡ (Resolution)ï¼š135(H)RGB x240(V) æŽ¥å£ (Interface)ï¼š4 Line SPI é©±åŠ¨ (Drive IC)ï¼šST7789V3 [ç‚¹æˆ‘ä¸‹è½½ç›¸å…³æ•°æ®æ‰‹å†Œ](https://dl.sipeed.com/fileList/MAIX/HDK/Chip_DS/ST7789V3_SPEC_Preliminary_V0.0_200102.pdf) æ„Ÿè°¢ç¾¤å‹æä¾›çš„ä»£ç ï¼Œå‰å¾€ https://github.com/sipeed/TangNano 9K example/tree/main/spi_lcd æŸ¥çœ‹è¯¦æƒ…ï¼Œç›¸å…³è¯´æ˜Žä¼šåœ¨æ•´ç†ä¹‹åŽå±•ç¤ºã€‚ ![spi_lcd](./../nano_9k/spi_lcd.jpg)"},"/hardware/zh/tang/Tang-Nano-9K/examples/LCD.html":{"title":"é©±åŠ¨RGBå±å¹•","content":" title: é©±åŠ¨RGBå±å¹• > ç¼–è¾‘äºŽ2022.04.12 ## å…ˆä»‹ç»æ—¶åº RGB LCD æ˜¾ç¤ºåè®®å’Œ VGA ç±»ä¼¼ï¼Œé€šä¿¡éƒ½æœ‰ä¸“ç”¨çš„è¡ŒåŒæ­¥ã€åœºåŒæ­¥ä¿¡å·çº¿ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯å‰è€…ä¼ è¾“ç”¨çš„æ˜¯æ•°å­—ä¿¡å·ï¼ŒåŽè€…ä¼ è¾“èµ°çš„æ˜¯æ¨¡æ‹Ÿä¿¡å·ã€‚ ä¸‹é¢å°±ä»‹ç» VGA çš„æ—¶åº ![](./../../assets/examples/lcd_pjt_1.png) ä¸Šå›¾åˆ†åˆ«æ˜¯ VGA åœ¨æ•°æ®ä¼ è¾“ä¸­çš„è¡ŒåŒæ­¥ã€åœºåŒæ­¥æ—¶åº ä»Žæ—¶åºå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸è®ºæ˜¯æ˜¾ç¤ºä¸€è¡Œæ•°æ®è¿˜æ˜¯ä¸€åˆ—æ•°æ®ï¼Œéƒ½éœ€è¦ä¸€ä¸ªåŒæ­¥(sync)ä¿¡å·ï¼Œæ•°æ®çš„ä¼ è¾“éœ€è¦åœ¨ä¸¤ä¸ªåŒæ­¥ä¿¡å·çš„è„‰å†²ä¹‹é—´å®Œæˆ æ¯ä¸€è¡Œçš„æ•°æ®åŒ…æ‹¬æ˜¾ç¤ºå‰æ²¿(back porch)ã€æœ‰æ•ˆæ•°æ®(active video)ã€æ˜¾ç¤ºåŽæ²¿(front porch) å…¶ä¸­çš„æœ‰æ•ˆæ•°æ®å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åˆ†è¾¨çŽ‡ï¼Œè€Œæ˜¾ç¤ºå‰åŽæ²¿çš„å‚æ•°éœ€è¦å‚è€ƒå…·ä½“çš„åˆ†è¾¨çŽ‡ä¸Žå¸§æ•°è¿›è¡Œè®¾ç½®ï¼Œç›¸å…³å‚æ•°å¯ä»¥å‚è€ƒå…¸åž‹å‚æ•°ï¼Œé“¾æŽ¥åœ¨æ­¤ï¼š http://www.tinyvga.com/vga timing è¿™å—5å¯¸å±å¹•çš„æŽ§åˆ¶æ—¶åºç•¥æœ‰ä¸åŒï¼Œç›¸å…³å‚æ•°çš„è®¾ç½®å¯ä»¥æŸ¥çœ‹[è§„æ ¼ä¹¦](https://dl.sipeed.com/fileList/TANG/Nano%209K/6_Chip_Manual/CN/LCD_Datasheet/5.0inch_LCD_Datashet%20RGB.pdf) å…¶ä»–å°ºå¯¸çš„å±å¹•ç›¸å…³è§„æ ¼ä¹¦å‡å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ [ç‚¹æˆ‘](https://dl.sipeed.com/shareURL/TANG/Nano%209K/6_Chip_Manual/CN/LCD_Datasheet) ä¸‹é¢æä¾›äº† LCD ç›¸å…³æ—¶åºçš„æˆªå›¾ ![](./../../assets/examples/lcd_pjt_2.png) ![](./../../assets/examples/lcd_pjt_3.png) ä¸Šé¢ä¸€å¼ å›¾æ˜¯æ—¶åºä¸­çš„å‚æ•°è¡¨ï¼Œä¸‹é¢çš„å›¾æ˜¯æ—¶åºå›¾ ä»Žæ—¶åºå›¾ä¸­çœ‹å‡ºï¼Œè¿™å—å±å¹•å¯ä»¥ä¸ç”¨è®¾ç½®å‰åŽæ²¿ï¼Œå¯ä»¥åªè®¾ç½®æ¶ˆå½±(blanking)æ—¶é—´ï¼Œé€šè¿‡å®žé™…çš„ç¨‹åºè¯æ˜Žï¼Œä¸¤ç§æ–¹å¼éƒ½æ˜¯å¯ä»¥çš„ ## æ–°å»ºå·¥ç¨‹ å…·ä½“æ–°å»ºå·¥ç¨‹çš„æ–¹æ³•å¯ä»¥å‚è€ƒ[ç‚¹ç¯æ–‡ç« ](LED.html) ## ç”Ÿæˆå±å¹•æ—¶é’Ÿ è¿™é‡Œéœ€è¦ç”¨åˆ°é«˜äº‘åŠå¯¼ä½“å®˜æ–¹çš„IPæ ¸ ### rPll æ¿è½½çš„æ™¶æŒ¯æ—¶é’Ÿä¸º 27MHz ï¼Œä½†æ˜¯æˆ‘ä»¬çš„å±å¹•è¦æ±‚ 33.3MHZ çš„æ—¶é’Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å¯¹åº”çš„ipæ ¸æ¥ç”Ÿæˆç›¸åº”çš„æ—¶é’Ÿ è¿™é‡Œéœ€è¦ä½¿ç”¨åˆ° `IP Core Generate` ï¼Œä½ç½®åœ¨ Tools > IP Core Generate ![](./../../Tang Nano 1K/assets/Gowin_IP_rpll.png) åŒå‡» `rpll` ï¼Œåœ¨å¼¹å‡ºçª—å£ language é€‰æ‹© Verilog ï¼ŒCLKIN ä¸º 27MHz ï¼ŒCLKOUT ä¸º 33.00MHzã€‚ ![](./../../Tang Nano 1K/assets/lcd_rpll.png) ç‚¹å‡»okåŽæç¤ºæ˜¯å¦éœ€è¦æ·»åŠ åˆ°å½“å‰å·¥ç¨‹ï¼Œæ­¤æ—¶åº”å½“é€‰æ‹©ç¡®å®š ![](./../../Tang Nano 1K/Nano_1K_examples/led/assets/add_ip_file_in_project.png) æŽ¥ç€ä¼šå‡ºçŽ°ä¸€ä¸ªä¾‹åŒ–çš„tmpæ–‡ä»¶ï¼Œç”¨æ¥ä¾‹åŒ–æ‰€è®¾ç½®çš„ipã€‚æ¯”å¦‚ä¸‹å›¾ä¸­ä¾‹å­ ![](./../../Tang Nano/examples/led/assets/ip_examples.png) ## å±å¹•é©±åŠ¨ä»£ç  **é¦–å…ˆæ–°å»ºä¸€ä¸ªé¢å¤–çš„verilogæ–‡ä»¶æ¥ä¿å­˜ä¸‹é¢è¦ç¼–å†™çš„ä»£ç ** ### ç«¯å£å®šä¹‰ é¦–å…ˆéœ€è¦å…ˆå®šä¹‰å‡ºé©±åŠ¨å±å¹•æ‰€éœ€è¦çš„ç«¯å£ ```verilog module VGAMod ( input CLK, input nRST, input PixelClk, output LCD_DE, output LCD_HSYNC, output LCD_VSYNC, \toutput [4:0] LCD_B, \toutput [5:0] LCD_G, \toutput [4:0] LCD_R ); ``` æœ¬ä¾‹ç¨‹ä½¿ç”¨RGB565ä½œä¸ºé©±åŠ¨æ–¹å¼ï¼› ### æ—¶åºå¸¸é‡ æŽ¥ç€å®šä¹‰å‡ºæ—¶åºå›¾ä¸Šæ‰€è¦æ±‚çš„å¸¸é‡ ```verilog localparam V_BackPorch 16'd6; //0 or 45 localparam V_Pluse \t 16'd5; localparam HightPixel 16'd480; localparam V_FrontPorch 16'd62; //45 or 0 localparam H_BackPorch 16'd182; \t localparam H_Pluse \t 16'd1; localparam WidthPixel 16'd800; localparam H_FrontPorch 16'd210; localparam PixelForHS WidthPixel + H_BackPorch + H_FrontPorch; \t localparam LineForVS HightPixel + V_BackPorch + V_FrontPorch; ``` é¦–å…ˆæ˜¯è®¾ç½®æ—¶åºç›¸å…³çš„å‚æ•°ï¼šå‰æ²¿ã€åŽæ²¿ã€æœ‰æ•ˆåƒç´  å…³äºŽæ˜¾ç¤ºå‰æ²¿ã€åŽæ²¿ï¼Œå‰é¢ä¹Ÿè¯´äº†ï¼Œå¯ä»¥åˆå¹¶ä¸ºä¸€ä¸ªæ¶ˆå½±æ—¶é—´ï¼Œå°±æ˜¯å¯ä»¥æŠŠå…¶ä¸­ä¸€ä¸ªè®¾ç½®ä¸º0ï¼Œå¦ä¸€ä¸ªè®¾ç½®ä¸ºæ¶ˆå½±æ—¶é—´ã€‚åæ­£å‰åŽæ²¿çš„æ—¶é—´åŠ èµ·æ¥ç¬¦åˆè¡¨ä¸­çš„æ—¶é—´è¦æ±‚å°±å¯ä»¥ ### å®šä¹‰å˜é‡ å®šä¹‰ä¸€äº›å˜é‡èƒ½å¤Ÿå®¹æ˜“ç¼–å†™ç¨‹åº ```verilog reg [15:0] LineCount; reg [15:0] PixelCount; reg\t[9:0] Data_R; reg\t[9:0] Data_G; reg\t[9:0] Data_B; ``` ### åŒæ­¥ä¿¡å· è¿™æ®µä»£ç äº§ç”ŸåŒæ­¥ä¿¡å·ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™å—å±å¹•çš„åŒæ­¥ä¿¡å·æ˜¯è´Ÿæžæ€§ä½¿èƒ½ ```verilog always @( posedge PixelClk or negedge nRST )begin if( !nRST ) begin LineCount < 16'b0; PixelCount < 16'b0; end else if( PixelCount PixelForHS ) begin PixelCount < 16'b0; LineCount < LineCount + 1'b1; end else if( LineCount LineForVS ) begin LineCount < 16'b0; PixelCount < 16'b0; end else PixelCount < PixelCount + 1'b1; end always @( posedge PixelClk or negedge nRST )begin if( !nRST ) begin \t\t\tData_R < 9'b0; \t\t\tData_G < 9'b0; \t\t\tData_B < 9'b0; end else begin \t\t\tend \tend //æ³¨æ„è¿™é‡ŒHSYNCå’ŒVSYNCè´Ÿæžæ€§ assign LCD_HSYNC (( PixelCount > H_Pluse)&&( PixelCount < (PixelForHS H_FrontPorch))) ? 1'b0 : 1'b1; assign LCD_VSYNC ((( LineCount > V_Pluse )&&( LineCount < (LineForVS 0) )) ) ? 1'b0 : 1'b1; ``` ### ä½¿èƒ½ä¿¡å· è¿™æ®µä»£ç è®¾ç½® LCD ä½¿èƒ½å›¾åƒæ˜¾ç¤ºï¼Œè¿™å—å±å¹•éœ€è¦æŽ§åˆ¶ä¸€ä¸ªç®¡è„šç”¨ä½œæ˜¾ç¤ºå¼€å…³ï¼Œå®žé™…è¿™ä¸ªä¿¡å·å°±æ˜¯ä¼ è¾“å›¾åƒæœ‰æ•ˆçš„é‚£ 800*480 çš„æ•°æ®æ—¶ç½® 1 ```verilog assign LCD_DE ( ( PixelCount > H_BackPorch )&& ( PixelCount < PixelForHS H_FrontPorch ) && ( LineCount > V_BackPorch ) && ( LineCount < LineForVS V_FrontPorch 1 )) ? 1'b1 : 1'b0; //è¿™é‡Œä¸å‡ä¸€ï¼Œä¼šæŠ–åŠ¨ ``` ### æµ‹è¯•å½©æ¡ è¿™æ®µä»£ç ç”¨æ¥äº§ç”Ÿ LCD çš„æµ‹è¯•æ•°æ®ï¼Œäº§ç”Ÿå½©æ¡æ˜¾ç¤º ```verilog localparam Colorbar_width WidthPixel / 16; assign LCD_R ( PixelCount < ( H_BackPorch + Colorbar_width * 0 )) ? 5'b00000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 1 )) ? 5'b00001 : ( PixelCount < ( H_BackPorch + Colorbar_width * 2 )) ? 5'b00010 : ( PixelCount < ( H_BackPorch + Colorbar_width * 3 )) ? 5'b00100 : ( PixelCount < ( H_BackPorch + Colorbar_width * 4 )) ? 5'b01000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 5 )) ? 5'b10000 : 5'b00000; assign LCD_G ( PixelCount < ( H_BackPorch + Colorbar_width * 6 )) ? 6'b000001: ( PixelCount < ( H_BackPorch + Colorbar_width * 7 )) ? 6'b000010: ( PixelCount < ( H_BackPorch + Colorbar_width * 8 )) ? 6'b000100: ( PixelCount < ( H_BackPorch + Colorbar_width * 9 )) ? 6'b001000: ( PixelCount < ( H_BackPorch + Colorbar_width * 10 )) ? 6'b010000: ( PixelCount < ( H_BackPorch + Colorbar_width * 11 )) ? 6'b100000: 6'b000000; assign LCD_B ( PixelCount < ( H_BackPorch + Colorbar_width * 12 )) ? 5'b00001 : ( PixelCount < ( H_BackPorch + Colorbar_width * 13 )) ? 5'b00010 : ( PixelCount < ( H_BackPorch + Colorbar_width * 14 )) ? 5'b00100 : ( PixelCount < ( H_BackPorch + Colorbar_width * 15 )) ? 5'b01000 : ( PixelCount < ( H_BackPorch + Colorbar_width * 16 )) ? 5'b10000 : 5'b00000; ``` **å½“ç„¶åœ¨æœ€åŽçš„é©±åŠ¨æ–‡ä»¶æœ€åŽåˆ«å¿˜è®°æ¢è¡ŒåŠ ä¸Š endmodule** åˆ°è¿™é‡Œé©±åŠ¨æ¨¡å—çš„ç¼–å†™å·²ç»å®Œæˆäº†ã€‚ ## åœ¨é¡¶å±‚æ¨¡å—ä¸­ä¾‹åŒ– **è¿™é‡Œä¹Ÿæ˜¯è¦æ–°å»ºverilogæ–‡ä»¶çš„** æ–°å»ºæ–‡ä»¶ä¹‹åŽç›´æŽ¥æŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›åŽ»ä¿å­˜å³å¯ ```verilog module TOP //è®¾ç½®é¡¶å±‚æ¨¡å— ( \tinput\t\t\tnRST, input XTAL_IN, \toutput\t\t\tLCD_CLK, \toutput\t\t\tLCD_HYNC, \toutput\t\t\tLCD_SYNC, \toutput\t\t\tLCD_DEN, \toutput\t[4:0]\tLCD_R, \toutput\t[5:0]\tLCD_G, \toutput\t[4:0]\tLCD_B ); // åˆ—å‡ºéœ€è¦çš„ç«¯å£ \twire\t\tCLK_SYS;\t \twire\t\tCLK_PIX; //ä¾‹åŒ–pll Gowin_rPLL chip_pll( .clkout(CLK_SYS), //output clkout //200M .clkoutd(CLK_PIX), //output clkoutd //33.00M .clkin(XTAL_IN) //input clkin );\t \tVGAMod\tVGAMod_inst //ä¾‹åŒ–vgaé©±åŠ¨ \t( \t\t.CLK\t\t(\tCLK_SYS ), \t\t.nRST\t\t(\tnRST\t\t), \t\t.PixelClk\t(\tCLK_PIX\t\t), \t\t.LCD_DE\t\t(\tLCD_DEN\t \t), \t\t.LCD_HSYNC\t(\tLCD_HYNC \t), \t.LCD_VSYNC\t(\tLCD_SYNC \t), \t\t.LCD_B\t\t(\tLCD_B\t\t), \t\t.LCD_G\t\t(\tLCD_G\t\t), \t\t.LCD_R\t\t(\tLCD_R\t\t) \t); \tassign\t\tLCD_CLK\t\t \tCLK_PIX; endmodule ``` ## ç»¼åˆã€çº¦æŸã€å¸ƒå±€å¸ƒçº¿ ### ç»¼åˆ å®Œæˆä¸Šé¢æ­¥éª¤åŽè½¬åˆ°â€œProcessâ€ç•Œé¢ä¸‹ï¼Œå¯¹ç¼–è¾‘å¥½çš„ä»£ç è¿›è¡Œç»¼åˆï¼Œå³è¿è¡Œâ€œSynthesizeâ€ ![](./../nano_9k/nano_9k_synthsize.png) è¿è¡Œçš„ç»“æžœå¦‚ä¸‹å›¾å‡ºçŽ° ![](./../../Tang Nano/assets/LED.png) ä¸”ä¸‹æ–¹ç»“æžœæ ä¸å‡ºçŽ°ä»»ä½•ä»ŽæŠ¥é”™ï¼Œè¯´æ˜Žå‰é¢ç¼–è¾‘çš„ä»£ç æ— è¯¯ï¼Œå¦‚æžœæœ‰é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œæ”¹æ­£å³å¯ã€‚ ### çº¦æŸ æ­¤å¤„ä»…ç®¡è„šçº¦æŸ å¯¹åº”çš„ç®¡è„šçº¦æŸå¦‚ä¸‹è¡¨æ ¼æ‰€ç¤ºï¼› å…³äºŽç®¡è„šçº¦æŸæ–¹æ³•å¯ä»¥å‚è€ƒ[ç‚¹ç¯æ–‡ç« (ç‚¹æˆ‘)](./LED.html)é‡Œé¢çš„çº¦æŸæ–¹æ³•ã€‚ æ„Ÿè§‰éº»çƒ¦çš„è¯ä¹Ÿå¯ä»¥ç›´æŽ¥å¤åˆ¶å‡†å¤‡å¥½çš„[æ–‡ä»¶(ç‚¹æˆ‘)](./lcd_constrains.html)ï¼Œå°†é¡µé¢é‡Œçš„å†…å®¹å¤åˆ¶åˆ°å·¥ç¨‹ç›®å½•é‡Œ .cst æ–‡ä»¶ä¸­ï¼ˆå¦‚æžœæ²¡æœ‰.cst æ–‡ä»¶é‚£ä¹ˆè‡ªå·±æ–°å»ºä¸€ä¸ª**ç‰©ç†ç®¡è„šçº¦æŸæ–‡ä»¶**ï¼‰ å³å¯ã€‚ PORT I/O PIN PORT I/O PIN LCD_B[4] output 41 LCD_B[3] output 42 LCD_B[2] output 51 LCD_B[1] output 53 LCD_B[0] output 54 LCD_G[5] output 55 LCD_G[4] output 56 LCD_G[3] output 57 LCD_G[2] output 68 LCD_G[1] output 69 LCD_G[0] output 70 LCD_R[4] output 71 LCD_R[3] output 72 LCD_R[2] output 73 LCD_R[1] output 74 LCD_R[0] output 75 LCD_DEN output 33 LCD_SYNC output 34 LCD_HYNC output 40 LCD_CLK output 35 XTAL_IN input 52 nRST input 4 ### å¸ƒå±€å¸ƒçº¿ ç®¡è„šçº¦æŸä¹‹åŽéœ€è¦åœ¨è®¾ç½®é‡Œé¢å¼€å¯å¼•è„šå¤ç”¨æ‰èƒ½å®Œæˆå¸ƒå±€å¸ƒçº¿ã€‚ å…·ä½“ä½ç½®åœ¨ è½¯ä»¶é¡¶éƒ¨èœå•æ  Project > Configuration > Place&Route > Dual Purpose Pin ![](./../../Tang Nano/examples/led/assets/enable_io_mux.png) è®¾ç½®å®Œä¸Šé¢çš„ä¹‹åŽã€‚ å°±å¯ä»¥è¿›è¡Œå¸ƒå±€å¸ƒçº¿(Place&Route)äº†ã€‚ ç»“æŸåŽå°±å¯ä»¥ç»™å¼€å‘æ¿éªŒè¯ä»£ç å†…å®¹äº†ã€‚ ## çƒ§å½• å¸ƒå±€å¸ƒçº¿ç»“æŸåŽç”Ÿæˆæ¯”ç‰¹æµï¼Œå°±å¯ä»¥çƒ§å½•å¼€å‘æ¿äº†ã€‚ ## ç»“æŸ ä¸Šé¢å·®ä¸å¤šå™è¿°äº†æ‰€æœ‰ä»£ç ã€‚ æ•´ä¸ªå·¥ç¨‹å¯ä»¥åœ¨å‚è€ƒ [è¿™é‡Œ](https://github.com/sipeed/TangNano 9K example) ï¼Œå¯¹åº”åœ¨lcd_ledç›®å½•ä¸‹ã€‚ <p id \"back\"> <a href \"#\" onClick \"javascript :history.back( 1);\">è¿”å›žä¸Šä¸€é¡µ(Back)</a> </p>"},"/hardware/zh/tang/Tang-Nano-9K/examples/softcore-1/softcore-1.html":{"title":"ç§»æ¤FatFSï¼Œä¸ºRISCVæ·»åŠ FAT32æ–‡ä»¶ç³»ç»Ÿ","content":"# ç§»æ¤FatFSï¼Œä¸ºRISCVæ·»åŠ FAT32æ–‡ä»¶ç³»ç»Ÿ > ç¼–è¾‘äºŽ2022.05.26 åŽŸæ–‡é“¾æŽ¥:https://bbs.sipeed.com/thread/1482 æ¬è¿æœ‰æ”¹åŠ¨ã€‚ é¦–å…ˆæ–°å»ºä¸€ä¸ªé¡¹ç›®å·¥ç¨‹ï¼Œé€‰åž‹æ—¶ä¸è¦é€‰é”™åž‹å·ã€‚ ## Gowin ç›¸å…³è®¾ç½® åœ¨ IP generator ç”Ÿæˆä¸­é€‰æ‹© Gowin_PicoRV32ï¼Œè½¯æ ¸æœ€å¤§å¯ä»¥è·‘åˆ°50MHzï¼Œè¿™ä¸ªé¢‘çŽ‡åšä¸€äº›åŸºæœ¬æŽ§åˆ¶æ˜¯ç»°ç»°æœ‰ä½™çš„ã€‚ æ‰“å¼€IPåŽï¼ŒåŒå‡»è¦ä¿®æ”¹çš„æ¨¡å—è¿›è¡Œè®¾ç½®ã€‚ æ­¤å¤„åŽ»æŽ‰äº† RV32C å’Œ RV32M æŒ‡ä»¤é›†çš„æ‰©å±•ï¼Œå…³é—­äº†Jtag debugåŠŸèƒ½ã€‚ ç„¶åŽæ˜¯å®šåˆ¶ITCMå’ŒDTCMï¼Œç”±äºŽæˆ‘é€‰æ‹©å°†ç¨‹åºç¼–è¯‘åŽç›´æŽ¥æ”¾åˆ°ITCMä¸­è¿è¡Œï¼ˆMCU boot and run in ITCMï¼‰ï¼Œå¹¶ä¸”ç¼–è¯‘åŽçš„æ–‡ä»¶å¤§çº¦éœ€è¦22KBï¼Œæ‰€ä»¥åˆ†ç»™äº†ITCM 32KBçš„ç©ºé—´ï¼ŒDTCMä¿æŒé»˜è®¤16KBã€‚ å¤–è®¾æ–¹é¢ï¼Œå¯ç”¨UARTæ¥è¾“å‡ºæ‰“å°ä¿¡æ¯ï¼ŒSPI Masterç”¨äºŽä¸ŽSDå¡é€šä¿¡ï¼ŒGPIOç”¨æ¥ç‚¹ç¯ã€‚æˆ‘è¿˜æ‰“å¼€äº†AHBæ‰©å±•ï¼Œå¹¶åœ¨ä¸Šé¢æŒ‚è½½äº†ä¸€ç‰‡å†…å­˜ç”¨äºŽåŽç»­LCDçš„æ˜¾å­˜ã€‚ è¿˜éœ€è¦è°ƒç”¨PLLï¼Œä¸ºCPUæä¾›50MHzçš„æ—¶é’Ÿï¼ŒSDå¡çš„è¯»å†™é€Ÿåº¦ä¹Ÿæ˜¯50MHzï¼Œæœ€åŽç»‘å®šå¥½pinè„šï¼Œç”ŸæˆFPGAçš„ä¸‹è½½æ–‡ä»¶ã€‚ ## GMD ç›¸å…³çš„æ“ä½œ æŽ¥ä¸‹åŽ»çš„å·¥ä½œå°±è¦è½¬åˆ°[GMD](http://www.gowinsemi.com.cn/prodshow.aspx)ä¸­äº†ã€‚å‚è€ƒåŠå¯¼ä½“å®˜æ–¹æ–‡æ¡£[IPUG910](http://cdn.gowinsemi.com.cn/IPUG910 1.4_Gowin_PicoRV32_IDE%E8%BD%AF%E4%BB%B6%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C.pdf)è¿›è¡Œå¼€å‘çŽ¯å¢ƒæ­å»ºå’Œç¨‹åºç¼–è¯‘ï¼Œå¤–è®¾çš„é©±åŠ¨ç¼–å†™å¯ä»¥å‚è€ƒ[IPUG911](http://cdn.gowinsemi.com.cn/IPUG911 1.3_Gowin_PicoRV32%E8%BD%AF%E4%BB%B6%E7%BC%96%E7%A8%8B%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C.pdf)ï¼Œæœ€åŽç¨‹åºçš„ä¸‹è½½å¯ä»¥å‚è€ƒ[IPUG913](http://cdn.gowinsemi.com.cn/IPUG913 1.4_Gowin_PicoRV32%E8%BD%AF%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C.pdf)ã€‚ Cçš„å¼€å‘çŽ¯å¢ƒæ­å»ºå®ŒæˆåŽï¼Œå°±å¼€å§‹è¿›è¡ŒSDå¡é©±åŠ¨å’Œfatfsçš„ç§»æ¤ï¼Œè¿™é‡Œæˆ‘å°†SDå¡ä½œä¸ºåªè¯»è®¾å¤‡ï¼Œç¼–å†™äº†ç›¸åº”çš„é©±åŠ¨ã€‚ ### SD Command SDå¡çš„é€šä¿¡ï¼Œä¸»è¦æ˜¯é€šè¿‡Matserå‘é€CMDå‘½ä»¤è¿›è¡Œçš„ï¼Œé©±åŠ¨è§ä¸‹é¢ä»£ç ã€‚ ```c #define SPI_ID 0 uint8_t sd_sendcmd(uint8_t cmd, uint32_t arg, uint8_t crc) { uint8_t r1, cnt; cnt 0; wbspi_master_select_slave(PICO_WBSPI_MASTER,SPI_ID); wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); wbspi_master_txdata(PICO_WBSPI_MASTER,(cmd 0x40)); wbspi_master_txdata(PICO_WBSPI_MASTER,arg>>24); wbspi_master_txdata(PICO_WBSPI_MASTER,arg>>16); wbspi_master_txdata(PICO_WBSPI_MASTER,arg>>8); wbspi_master_txdata(PICO_WBSPI_MASTER,arg); wbspi_master_txdata(PICO_WBSPI_MASTER,crc); do{ r1 wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); cnt++; if(cnt > 50) break; }while(r1 0xFF); return r1; } ``` ### SD Init åŸºäºŽä¸Šé¢è¿™ä¸ªå‡½æ•°ï¼Œå°±å¼€å§‹ç¼–å†™SDå¡åˆå§‹åŒ–å‡½æ•°ï¼Œåˆå§‹åŒ–çš„æµç¨‹ä¸ºï¼š 1ã€å‘é€å¤§äºŽ74ä¸ªå‘¨æœŸçš„æ—¶é’Ÿä¿¡å·ï¼Œç­‰å¾…SDå¡å†…éƒ¨é€»è¾‘ç¨³å®šï¼› 2ã€å‘é€CMD0ï¼Œè®©SDå¡è¿›å…¥IDLEçŠ¶æ€ï¼› 3ã€å‘é€CMD8ï¼ŒæŸ¥è¯¢å¡çš„åž‹å·æ˜¯ä¸æ˜¯æ”¯æŒSD 2.0åè®®ï¼› 4ã€è¿™é‡Œåªå¤„ç†æ”¯æŒSD 2.0åè®®çš„å¡ï¼Œå‘é€CMD55+ACMD41è¿›è¡Œåˆå§‹åŒ–ï¼› 5ã€å‘é€CMD58ï¼ŒæŸ¥è¯¢å¡æ”¯ä¸æ”¯æŒSDHCï¼› 6ã€å‘é€CMD9ï¼ŒCMD10ï¼ŒèŽ·å–SDå¡çš„CIDå’ŒOCRä¿¡æ¯ ```C uint8_t sd_init(void) { uint32_t i; uint8_t r1; uint8_t buff[16]; uint8_t cnt 0; wbspi_master_select_slave(PICO_WBSPI_MASTER,SPI_ID); for(i 0; i<1000; i++); for(i 0; i<10; i++) wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); r1 sd_sendcmd(0,0,0x95); r1 sd_sendcmd(8,0x1aa,0x87); if(r1 0x01) { buff[0] wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); buff[1] wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); buff[2] wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); buff[3] wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); do{ r1 sd_sendcmd(55,0,0); if(r1 ! 0x01) return 1; r1 sd_sendcmd(41,0x40000000,1); cnt++; if(cnt>100) return 1; }while(r1! 0); } r1 sd_sendcmd(58,0,0); if(r1 ! 0x00) return 1; buff[0] wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); buff[1] wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); buff[2] wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); buff[3] wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); if(buff[0]&0x40) printf(\"sdhc rdy\\r\\n\"); else printf(\"sd2.0 rdy\\r\\n\"); r1 sd_sendcmd(9,0,0xFF); if(r1 ! 0x00) return 1; do{ r1 wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); }while(r1 ! 0xFE); for(i 0; i<16; i++) { r1 wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); } r1 sd_sendcmd(10,0,0xFF); if(r1 ! 0x00) return 1; do{ r1 wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); }while(r1 ! 0xFE); for(i 0; i<16; i++) { r1 wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); } return 0; } ``` ### SD Read Block ä¸‹é¢æ˜¯SDå¡è¯»å•å—å’Œå¤šå—çš„é©±åŠ¨ã€‚ ```C BYTE SD_ReadSingleBlock(UINT sector, BYTE *buffer) { BYTE r1; WORD i; i 512; r1 sd_sendcmd(17, sector, 1); //å‘é€CMD17 è¯»å‘½ä»¤ if(r1 ! 0x00) return r1; do{ r1 wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); }while(r1 ! 0xFE); while(i! 0) { *buffer wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); buffer++; i ; } wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); return 0; //è¯»å–æ­£ç¡®ï¼Œè¿”å›ž0 } BYTE SD_ReadMultiBlock(UINT sector, BYTE *buffer, BYTE count) { BYTE r1; WORD i; r1 sd_sendcmd(18, sector, 1); //è¯»å¤šå—å‘½ä»¤ if(r1 ! 0x00) return r1; while(count ! 0){ i 512; do{ r1 wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); }while(r1 ! 0xFE); while(i! 0) { *buffer wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); buffer++; i ; } buffer+ 512; count ; wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); } sd_sendcmd(12, 0, 1); //å…¨éƒ¨ä¼ è¾“å®Œæˆï¼Œå‘é€åœæ­¢å‘½ä»¤ wbspi_master_txdata(PICO_WBSPI_MASTER,0xFF); if(count ! 0) return count; //å¦‚æžœæ²¡æœ‰ä¼ å®Œï¼Œè¿”å›žå‰©ä½™ä¸ªæ•° else return 0; } ``` ### FatFs File system SDå¡é©±åŠ¨å®ŒæˆåŽï¼Œå¼€å§‹ç§»æ¤FatFsæ–‡ä»¶ç³»ç»Ÿ æºç ä¸‹è½½ï¼šhttp://elm chan.org/fsw/ff/archives.html é€‰æ‹©æœ€æ–°çš„FatFs R0.14b ï¼Œå¹¶æ·»åŠ åˆ°å·¥ç¨‹ã€‚ FFConf.hç”¨äºŽFatFsçš„å®šåˆ¶ï¼Œè¿™é‡Œéœ€è¦å°†FF_FS_READONLYçš„å®æ”¹ä¸º1ï¼Œå°†SDå¡ä½œä¸ºåªè¯»è®¾å¤‡ã€‚ è¿˜éœ€è¦æ”¹å†™diskio.cæ–‡ä»¶ï¼Œé€‚é…SDå¡ã€‚è¿™é‡Œåªåšäº†æœ€ç®€å•çš„é€‚é…ï¼Œå®Œæˆäº†åˆå§‹åŒ–å’Œè¯»ï¼ŒæŸ¥è¯¢çŠ¶æ€å’ŒèŽ·å–æ—¶é—´éƒ½æ˜¯ç©ºå‡½æ•°ã€‚ç”±äºŽå®è®¾ç½®ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°disk_ioctlå’Œdisk_writeå°±ä¸ç®¡äº† ```C #define SD_CARD 0 DSTATUS disk_initialize ( BYTE pdrv /* Physical drive nmuber (0..) */ ) { DRESULT status STA_NOINIT; switch(pdrv) { case SD_CARD://SDå¡ status sd_init(); break; default: status STA_NOINIT; } return status; } //èŽ·å¾—ç£ç›˜çŠ¶æ€ DSTATUS disk_status ( BYTE pdrv /* Physical drive nmuber (0..) */ ) { return 0; } //è¯»æ‰‡åŒº //drv:ç£ç›˜ç¼–å·0~9 //*buff:æ•°æ®æŽ¥æ”¶ç¼“å†²é¦–åœ°å€ //sector:æ‰‡åŒºåœ°å€ //count:éœ€è¦è¯»å–çš„æ‰‡åŒºæ•° DRESULT disk_read ( BYTE pdrv, /* Physical drive nmuber (0..) */ BYTE *buff, /* Data buffer to store read data */ DWORD sector, /* Sector address (LBA) */ UINT count /* Number of sectors to read (1..128) */ ) { DRESULT status RES_PARERR; if (!count)return RES_PARERR; //countä¸èƒ½ç­‰äºŽ0ï¼Œå¦åˆ™è¿”å›žå‚æ•°é”™è¯¯ switch(pdrv) { case SD_CARD://SDå¡ if(count 1) status SD_ReadSingleBlock(sector, buff); else status SD_ReadMultiBlock(sector, buff, count); break; default: status RES_PARERR; } return status; } DWORD get_fattime (void) { return 0; } ``` æœ€åŽè¿›è¡Œæµ‹è¯•ï¼Œåœ¨SDå¡çš„æ ¹ç›®å½•æ”¾ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œç„¶åŽRV32 CPUé€šè¿‡ä¸²å£ï¼Œå°†æ–‡ä»¶å¤§å°å’Œå†…å®¹æ‰“å°å‡ºæ¥ã€‚ ```C res f_mount(&fs, \"\", 1); res f_open(&file, \"top.txt\", FA_READ); printf(\"\\r\\nfile size:%d\\r\\n\", file.obj.objsize); f_read(&file, fbuff, file.obj.objsize, &br); printf(\"%s\\r\\n\",fbuff); f_close(&file); ```"},"/hardware/zh/tang/Tang-Nano-9K/examples/softcore-1/softcore-2.html":{"title":"ä½¿ç”¨PicoRV32è½¯æ ¸åœ¨lcdå±å¹•ä¸Šç»˜åˆ¶å›¾å½¢","content":"# ä½¿ç”¨PicoRV32è½¯æ ¸åœ¨lcdå±å¹•ä¸Šç»˜åˆ¶å›¾å½¢ > ç¼–è¾‘äºŽ2022.06.22 åŽŸæ–‡é“¾æŽ¥:https://bbs.sipeed.com/thread/1483 æœ‰æ”¹åŠ¨ ## æ‘˜è¦ æ­¤å·¥ç¨‹åœ¨ LCD å±å¹•ç»˜åˆ¶äº†ä¸¤ä¸ªé•¿æ–¹å½¢â€”â€”ä¸€ä¸ªå®žå¿ƒçš„ï¼›å¦ä¸€ä¸ªç©ºå¿ƒçš„ã€‚å…¶ä¸­ç©ºå¿ƒçš„è¾¹æ¡†å®½åº¦ä½œä¸ºå‚æ•°å¯è°ƒï¼Œå¹¶ä¸”ç»˜å›¾çš„é¢œè‰²è¿˜å¯ä»¥é€šè¿‡æŒ‰é’®è°ƒæ•´ï¼ŒçŽ°å·²æ”¯æŒçº¢ã€ç»¿ã€è“å’Œç™½ï¼Œå…±å››ç§é¢œè‰²ã€‚ æ•´ä½“çš„ç¡¬ä»¶è®¾è®¡åŸºäºŽåŠå¯¼ä½“æä¾›çš„ PicoRV32 è½¯æ ¸IPï¼Œåœ¨ OPEN AHB INTERFACE çš„å¤„ï¼ŒæŒ‚è½½äº† 128Kbits çš„ BSRAM ç”¨ä½œæ˜¾å­˜ã€‚ è¯¥ 128Kbits çš„æ˜¾å­˜ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€é¢—åŒç«¯å£çš„ SRAM ï¼Œä½¿å¾— CPU å’Œè‡ªå®šä¹‰çš„ LCD IP å…±åŒä½¿ç”¨è¯¥â€œæ˜¾å­˜â€ã€‚LCD IP ç‹¬ç«‹äºŽCPUå·¥ä½œï¼ŒèŠ‚çœ CPU èµ„æºï¼Œè¾¾åˆ° FPGA åŠ é€Ÿçš„æ•ˆæžœã€‚ ## è®¾è®¡ ### AHB æŽ¥å£ä¾‹åŒ– AHBæŽ¥å£ç”¨äºŽä¸ŽCPUäº¤äº’ï¼ŒLCDæŽ¥å£ä¸ŽLCD IPäº¤äº’ã€‚ä»£ç æŽ¥å£å¦‚ä¸‹ï¼š ```verilog ahb2bram ahb2bram( .clk_i(clk50), .reset_i(~sys_rstn), .hrdata_o(hrdata), .hresp_o(hresp), .hready_o(hready), .haddr_i(haddr), .hwrite_i(hwrite), .hsize_i(hsize), .hburst_i(hburst), .hwdata_i(hwdata), .hsel_i(hsel), .htrans_i(htrans), .lcd_clk_i(clk10), .lcd_rd_i(lcd_rd), .lcd_addr_i(lcd_addr), .lcd_data_o(lcd_data) ); ``` ### ç”Ÿæˆé•¿æ–¹å½¢ åœ¨è¿™ä¸ªç³»ç»Ÿä¸­ï¼ŒCPUä¸»è¦è´Ÿè´£å›¾å½¢çš„â€œæ¸²æŸ“â€ï¼Œè¿™ä¸ªåœ¨å¤§åž‹ç³»ç»Ÿä¸­å¸¸å¸¸æ˜¯GPUæ¥åšçš„ã€‚ è¿™é‡Œæè¿°æœ‰ç‚¹å¤¸å¼ äº†ï¼Œå…¶å®žæ‰€è°“çš„â€œæ¸²æŸ“â€å°±æ˜¯ç”»ä¸ªé•¿æ–¹å½¢ï¼ŒCPU æ ¹æ® Cä»£ç ä¸­çš„é¡¶ç‚¹åæ ‡ï¼ŒæŠŠå¯¹åº”çš„æ˜¾å­˜åœ°å€å¡«å…¥1æˆ–è€…0ã€‚æ‰€å°è£…çš„ç”»å®žå¿ƒçš„APIå¦‚ä¸‹ ```c void draw_rectangle(uint8_t top_x, uint8_t top_y, uint8_t btm_x, uint8_t btm_y) { uint8_t i,j; uint8_t calc_x; uint8_t calc_y; calc_x top_x/32; calc_y top_y/32; for(i 0; i<Y_MAX; i++) for(j 0; j<X_MAX; j++) { if(j> calc_x && j< calc_y && i> top_y && i< btm_y) PCIO_AHBSRAM >SRAM[i*X_MAX+j] RGB; } } ``` ### ä¾‹åŒ– LCD CPU è¿è¡Œèµ·æ¥åŽï¼Œä¼šæ ¹æ® Cä»£ç  è®¿é—® AHBæ€»çº¿ï¼Œå‘å‡ºè¯»å†™å‘½ä»¤ã€‚è‡ªå®šä¹‰çš„ AHB2BRAM æ¨¡å—ï¼Œä¼šå°†æ€»çº¿åœ°å€è½¬æ¢æˆæ˜¾å­˜åœ°å€è¿›è¡Œæ•°æ®è¯»å†™ã€‚å°†ç»˜åˆ¶çš„å›¾å½¢ä¿å­˜åœ¨æ˜¾å­˜ä¸­ï¼Œåªè¦ä¸æŽ‰ç”µï¼Œå°±ä¸ä¼šä¸¢å¤±ã€‚åŒæ—¶ï¼ŒLCD IP åªè´Ÿè´£ä»Žæ˜¾å­˜ä¸­å–æ•°æ®ï¼ŒæŒ‰ç…§è¡Œåœºæ‰«æçš„æ—¶åºï¼Œå°±å¯ä»¥å®Œå®Œæ•´æ•´çš„å°†å›¾å½¢æ˜¾ç¤ºåœ¨LCDå±å¹•ä¸Šäº†ï¼ŒLCD IP çš„æŽ¥å£å¦‚ä¸‹ã€‚ ```verilog VGAMod VGAMod ( .nRST(sys_rstn), .PixelClk(clk10), .lcd_rd_o(lcd_rd), .lcd_addr_o(lcd_addr), .lcd_data_i(lcd_data), .LCD_DE(LCD_DE), .LCD_HSYNC(LCD_HSYNC), .LCD_VSYNC(LCD_VSYNC), .LCD_B(LCD_B_t), .LCD_G(LCD_G_t), .LCD_R(LCD_R_t) ); ``` ### ç»“è¯­ å—é™äºŽèµ„æºï¼Œæ­¤æ–‡å®žçŽ°çš„ç³»ç»Ÿåªæœ‰ 128Kbits çš„æ˜¾å­˜ï¼Œè€Œç¬”è€…ä½¿ç”¨çš„ LCD çš„åˆ†è¾¨çŽ‡æ˜¯480*272ï¼ŒRGB565ã€‚å¦‚æžœéœ€è¦å­˜ä¸€å¹…å®Œæ•´å›¾å½¢éœ€è¦å°†æ˜¾å­˜æ‰©å¤§16å€ï¼Œä¼¼ä¹Žè¶…è¿‡äº†Nano 9Kæ¿è½½çš„è¿™é¢—FPGAæžé™ã€‚å› æ­¤ï¼Œé€‰æ‹©æŠ˜ä¸­ï¼Œä¸åŽ»ä¿å­˜RGB565ï¼Œè€Œæ˜¯ç®€å•çš„å¤åˆ¶æ‰©å±•ä¿å­˜çš„1bitä¿¡æ¯åˆ°RGB565ä¸­ï¼Œè¿™æ ·é¢œè‰²æ·±åº¦æ— æ³•è¾¾åˆ°65536ï¼Œåªæ”¯æŒçº¢ã€ç»¿ã€è“å’Œç™½å››ç§é¢œè‰²ã€‚ å…¶å®žFPGAå†…å°çš„PSRAMæœ‰ 64Mbitsï¼Œè¶³å¤Ÿè¿™å—LCDçš„æ˜¾å­˜äº†ã€‚ä»¥åŽæœ‰æœºä¼šå¯ä»¥å°è¯•ç€ç”¨è¿™äº›å†…å­˜æ¥è¿è¡Œä¸€ä¸‹ lvglã€‚ !"},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/4_creating_a_text_engine/creating_a_text_engine.html":{"title":"Tang Nano 9K SSD1306 OLED æ˜¾ç¤ºå­—ç¬¦","content":" title: Tang Nano 9K SSD1306 OLED æ˜¾ç¤ºå­—ç¬¦ keywords: FPGA, Tang, Nano, 9K update: date: 2023 03 15 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ [åŽŸæ–‡é“¾æŽ¥](https://learn.lushaylabs.com/tang nano 9k creating a text engine/) In the previous article ([here](./../3_oled_101/oled_101.html)) we developed a screen driver core which allows us to render pixels onto an OLED screen. In this article we will be building a text engine on top of our pixel driver to give us an easy abstraction for rendering text to pixels. ## Drawing Text In order to draw text we need two things: 1. a way to map characters to screen pixel positions 2. some conversion between letters and pixels or how the letters look. For mapping characters to the screen we can decide on any arbitrary mapping, our OLED panel is 64 pixels tall and we store data in 8 bit vertical bytes so to make things easy we can say we have 8 rows to work with. Going smaller than this means that a single byte update to the screen may contain multiple rows of text which would complicate the design a bit. Even 8 rows would make the text pretty small, so for our example let's divide the screen into 4 rows of text this would mean that each character could be up to 16 pixels tall. As for the width of each character we have a total of 128 pixels so if we make each character 8 bits wide we can store a maximum of 16 characters per row. ![characters](./assets/characters.jpg) So now with the mapping decided on, if we wanted to put the letter D in the 4th character position on the first row we know the top row of the character is 8px * 4th character maps to pixel columns 31 39 and the bottom row is pixel columns 159 167 (add 128 since we need to go down one full line). Each character will be drawn in two OLED pixel rows where in each row we update 8 of the 16 vertical pixels in a column. We now know which columns to put the letter D in now but what is the actual column of pixels we would like to send to draw the letter D. We need to decide on how the characters look to know how which pixels need to light up. ## Designing the Letters A computer knows how to render letters by using font files. Fonts can either be vector fonts where the contents describe vectors to recreate the letter's shape at any size, or they can be bitmap fonts (pixel fonts) where we store a pixel representation of each character at a specific size / sizes. To keep things simple let's use the bitmap option so we don't have to calculate vectors, also we are designing for a specific OLED panel with a specific resolution so we don't need the scalability. Kind of like in the previous example where we drew an image to the screen by storing its pixels into memory here we need to store the pixels for each character into memory. The difference between the two examples is that over there our memory represented the actual screen and stored each individual pixel exactly where it should show up on the screen, we were storing an image. In the case of our font, we are storing the pixels for each character unconnected to the screen dimensions and positioning, and then the mapping logic we discussed above will be in charge of mapping it to the screen. By having this mapping disconnected we are able to dynamically decide what text to draw to the screen and for example reuse the same letter multiple times. Luckily we don't need to create these fonts ourselves and pixel font tools like <a href \"https://www.pentacom.jp/pentacom/bitfontmaker2/editfont.php?id 4677&amp;ref lushay labs\">bitfontmaker2</a> have galleries of fonts created by talented designers and artists. We will be using the amazing <a href \"https://datagoblin.itch.io/monogram?ref lushay labs\">monogram font</a> which is created by <a href \"https://twitter.com/vmenezio?ref lushay labs\">VinÃ­cius MenÃ©zio (Twitter)</a> and made free to use by him. **monogram in bitfontmaker2:** ![bitfontmaker2](./assets/bitfontmaker2.jpg) If you choose another font while following along just make sure it fits into our constrains of 16 px height and 8px width, otherwise you will need to adjust our mapping logic. Exporting a font from bitfontmaker will provide a JSON file where for each ascii code we have an array of numbers. Each number represents a horizontal row of pixels, LSB is the left hand side of the image and starting from the top going down. So for example the bottom of this letter \"A\" from the image above would be 68 since it is 1000100 in binary again where the LSB (right most bit) is the left most pixel. ## Converting the Font We have a font JSON file, but the format is not very convenient for us to use as is. These font files store horizontal rows and we need to send the OLED vertical columns. We can create a small node.js script to remap each horizontal row into 8 vertical columns where we store 2 bytes per column giving us the full 16 pixels. ```javascript const fs require('fs'); const bitmaps fs.readFileSync('./fonts/monogram.json'); const json JSON.parse(bitmaps.toString()); const memory []; for (var i 32; i < 126; i + 1) { const key i.toString() const horizontalBytes json[key]; const verticalBytes []; for (let x 0; x < 8; x + 1) { let b1 0; let b2 0; for (let y 0; y < 8; y + 1) { if (!horizontalBytes) { continue; } const num1 horizontalBytes[y]; const num2 horizontalBytes[y+8] 0; const bit (1 << x); if ((num1 & bit) ! 0) { b1 b1 (1 << y); } if ((num2 & bit) ! 0) { b2 b2 (1 << y); } } memory.push(b1.toString(16).padStart(2, '0')); memory.push(b2.toString(16).padStart(2, '0')); } } fs.writeFileSync('font.hex', memory.join(' ')); ``` We start off by loading the JSON font file and parsing it into a javascript object. We then loop over all the characters codes we want to include, which looking at an ascii table we can see that 32 126 is all the standard visible characters including space. ![ascii_table_orig](./assets/ascii_table_orig.jpg) Inside the outer loop which is iterating over characters, we have a for loop to go over each of the 8 columns, and then a for loop for each column to calculate the two vertical bytes. Inside we focus on a specific bit and go over each horizontal row to build up the vertical column. For example we focus on the 3rd bit in each horizontal row which all together form the vertical bytes for the 3rd column. ![rows_to_columns](./assets/rows_to_columns.jpg) If each of the red boxes is the horizontal rows then the blue box is an example of the top byte for column index 2 and the green box is the second vertical byte for column index 2. After going through all the rows and completing a single column we store the 2 bytes and move onto the next vertical column again going through each of the rows just on the next bit to the right. We already store the bytes in the `memory` array in hex format so the last line simply needs to save it all to a file, in our example called `font.hex`. ## Designing the Text Engine Before we start getting into the actual verilog module, let's go over the general plan for how we can implement this. In the previous article we had a `pixelCounter` register which would go through each of the bytes we needed to update on the screen, and this would act as the address in memory to lookup the relevant byte from our image. There is nothing memory specific though about the implementation. At a high level you can think of it as the screen driver asking for a specific byte by setting the pixel counter (address) and expecting to receive back the byte it needs to send. Memory is one way of mapping an address to a byte, but in our case we will implement a custom module which will take this address and dynamically return a byte, \"dynamically\" creating the image. As we saw in the previous article in order to fully update the screen we need to send it 1024 bytes, which means our pixel counter / address needs to be 10 bits long. For each of the values between 0 1023 we need to know how to decipher: 1. which text row we are on 2. which character in the row 3. which column of the character 4. if we are on the top half of the column or bottom half (again because each vertical column is 16 pixels or 2 bytes). This can be accomplished using our mapping logic and a little understanding of binary. ## Deciphering the Address Before we start splitting characters into rows I think it is more convenient to think of all 4 rows as a single 64 character wide array. So for each OLED pixel address we need to think about which character out of the 64 possible character positions it belongs to. Looking back at the order the OLED pixel counter updates: ![](./assets/byte structure 1.jpg) We can see that we go left to right then drop down to the next row, each two rows is one character we know that the character index has to repeat the last 16 indices twice once for the top row and once for the bottom row. The pattern for character index has to be like the following: ```text 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63 ``` Where each number represents the value for 8 columns. The top row maps to the characters 0 15 then wraps around again to the same numbers to do the bottom row of those characters, then we continue counting the next 16. To accomplish this we need a sub counter for the 8 columns, which once it completes it increments the character index, then after 16 times increments it repeats the same 16 only after which it continues to the next 16. Because all the key numbers are powers of 2 we can simply use the bits of the address to accomplish this. ![address_decoding](./assets/address_decoding.jpg) In binary each bit represents a power of 2, and whenever you have a group of bits that are all 1, and you increment, it overflows to the next bit over and repeats the same cycle over. In our case we want a cycle of 8 for the columns, then for that to repeat in a second cycle of 16, then we need for the entire 16x8 cycle to happen again but without changing the character index, so the next bit after the 16 cannot be connected to character index, and finally we want that hole cycle of 2x16x8 to happen 4 times. So by dividing the bits as per the repeat pattern, we let the natural bit overflow of counting handle everything for us. Just as an example if we take the pixel address of 569 we would get the binary number: 1000111001 splitting it up based on the division above would give us: ```text columnCounter 001 or 1 in decimal characterIndex 100111 or 39 in decimal topRow 0 meaning it is the top row ``` and because there are 16 characters per row we know that character index 39 is the 8th character in the 3rd row. Another way to think of it is that the lower 16 bits of character index are the character number in a row and the top two bits are the row number. ## Implementing the Text Engine Let's start by making some changes to the current screen module to make it receive the data from an outside module instead of from `screenBuffer`. To do this we will output from the module the pixel byte address and we will input the desired pixel data for that address: ```verilog output [9:0] pixelAddress, input [7:0] pixelData ``` For the pixel address we already have the `pixelCounter` variable so we can just connect them: ```verilog assign pixelAddress pixelCounter; ``` And the only other change we need is to update the load data state to take the data from the input parameter instead of from the `screenBuffer`: ```verilog STATE_LOAD_DATA: begin pixelCounter < pixelCounter + 1; cs < 0; dc < 1; bitNumber < 3'd7; state < STATE_SEND; dataToSend < pixelData; end ``` The last line is the new change which sets the `dataToSend` to the data we receive over the new `pixelData` input. Other than that you can delete the two lines we had for the screen buffer: ```verilog reg [7:0] screenBuffer [1023:0]; initial $readmemh(\"image.hex\", screenBuffer); ``` As we no longer need it or the image we were loading. Our screen module is now ready to interface with other modules. So let's get started on the text engine module. Create a new file called `text.v` with the following: ```verilog module textEngine ( input clk, input [9:0] pixelAddress, output [7:0] pixelData ); reg [7:0] fontBuffer [1519:0]; initial $readmemh(\"font.hex\", fontBuffer); endmodule ``` Its inputs are the opposite of what we just defined so that they can connect. Here we are receiving the `pixelAddress` and need to output the data for that pixel. Inside the module we are creating a memory for our font where each index stores a single byte and we have 1520 bytes which is 16 bytes for each of the 95 characters. The next lines loads the `font.hex` file we generated at the beginning into this memory. Next we know how to split up the address from a pixel index to the desired character index column and whether or not we are on the top row: ```verilog wire [5:0] charAddress; wire [2:0] columnAddress; wire topRow; reg [7:0] outputBuffer; ``` We also need a buffer to store the output byte. Connecting these up is simple now that we understand the mapping: ```verilog assign charAddress {pixelAddress[9:8],pixelAddress[6:3]}; assign columnAddress pixelAddress[2:0]; assign topRow !pixelAddress[7]; assign pixelData outputBuffer; ``` The column address is the last 3 bits, the character address is made up of a lower 16 counter and the higher 4 counter for the rows. For the flag which indicates whether we are on the top row or bottom row we can just take a look at bit number 8 where it will be 0 if we are on the top row and 1 if it is the second iteration and we are on the bottom, so we invert it to match the flag name. Last but not least we hookup the `outputBuffer` to the `pixelData` output wires. With all the mapping out of the way let's take a look at how we now convert a letter to pixels. ### Converting a Letter to Pixels Without getting into how we will get the current letter, let's take a look at how we would convert a letter using all the mapping data we just prepared. To get started we can create some more wires to store the current char and the current char we want to display. ```verilog wire [7:0] charOutput, chosenChar; ``` We have two variables for this because our font memory only has values for the character codes 32 126 other character codes would give an undefined behavior. So `charOutput` will be the actual character we want to output, and `chosenChar` will check if it is in range and if not replace the character with a space (character code 32) so it will simply be blank: ```verilog assign chosenChar (charOutput > 32 && charOutput < 126) ? charOutput : 32; ``` If we look back at how we stored our font data, we stored the first column top byte then the first column second byte then the next column top byte and so on. So if we want the letter \"A\" in memory, we know that its ascii code is 65 and our memory starts from ascii code 32 subtracting them gives us the number of characters from the start of memory we need to skip which in this case is 33. We need to multiply this number by 16 as each character is 16 bytes long giving us 528 bytes. Next if we wanted column index 3 we know each column is 2 bytes so we would need to skip another 6 bytes. Lastly once at the column boundary we know the first byte is for the top row and the second byte is for the bottom row of the character, so depending on which we need we optionally skip another byte. In code this looks something like the following: ```verilog ((chosenChar 8'd32) << 4) + (columnAddress << 1) + (topRow ? 0 : 1) ``` We take the character we want to display, subtract 32 to get the offset from start of memory. Multiply by 16 (by shifting left 4 times) to get the start of the character. Add to this the column address multiplied by 2 (again by shifting left by 1) and optionally adding another 1 if we are on the bottom row. This can be used to access the exact byte from the font memory needed: ```verilog always @(posedge clk) begin outputBuffer < fontBuffer[((chosenChar 8'd32) << 4) + (columnAddress << 1) + (topRow ? 0 : 1)]; end ``` With this one line we are mapping the desired character to the exact pixels for the specific column and row. The only thing missing is to know which character to output, but for now if we just add: ```verilog assign charOutput \"A\"; ``` It should simply display the letter A for all character positions. ### Building the project In order to build the project we need another module which will connect our two modules together, let's create a new file called `top.v` which will be our top module: ```verilog module top ( input clk, output ioSclk, output ioSdin, output ioCs, output ioDc, output ioReset ); wire [9:0] pixelAddress; wire [7:0] pixelData; screen scr( clk, ioSclk, ioSdin, ioCs, ioDc, ioReset, pixelAddress, pixelData ); textEngine te( clk, pixelAddress, pixelData ); endmodule ``` As the new top module it needs to receive all the inputs from the constraints file. We then create wires for both the address and data so we can connect them between the two modules. The first module we are defining is an instance of our screen module, and the second is our new text engine. The order doesn't really matter you just need to pass it the parameters in the correct order. By using the same wire variable for both modules it creates the connection between them and allows them to communicate. If using the toolchain manually you can update your `Makefile` to add the new files: ```makefile BOARD tangnano9k FAMILY GW1N 9C DEVICE GW1NR LV9QN88PC6/I5 all: text.fs # Synthesis text.json: top.v text.v screen.v \tyosys p \"read_verilog screen.v text.v top.v; synth_gowin top top json text.json\" # Place and Route text_pnr.json: text.json \tnextpnr gowin json text.json freq 27 write text_pnr.json device ${DEVICE} family ${FAMILY} cst ${BOARD}.cst # Generate Bitstream text.fs: text_pnr.json \tgowin_pack d ${FAMILY} o text.fs text_pnr.json # Program Board load: text.fs \topenFPGALoader b ${BOARD} text.fs f # Generate Simulation text_test.o: text.v text_tb.v top.v screen.v \tiverilog o text_test.o s test text.v text_tb.v top.v screen.v # Run Simulation test: text_test.o \tvvp text_test.o # Generate Font font: font.hex font.hex: \tnode ./scripts/generate_font.js # Cleanup build artifacts clean: \trm text.vcd text.fs text_test.o .PHONY: load clean test .INTERMEDIATE: text_pnr.json text.json text_test.o ``` To make it compile multiple files we basically just need to add the files wherever we had the previous verilog files. So for example when compiling the JSON in the synthesis stage, `read_verilog` used to only receive the `screen.v` file, now it has all three of our verilog files. The rest of the file is as per our standard template just with the added method for generating the font hex file. Running the project now after you generated your `font.hex` file (with `node ./scripts/generate_font.js`) should give you something like the following: ![screen_aaa](./assets/screen_aaa.jpg) ### Displaying Specific Characters We are on the home stretch, we can now display any of the 95 characters, we just need a way to store which character is in each character position. We could do this with a 64 byte memory one byte for each character on the screen, but for cases where you may want multiple modules updating the screen at the same time it is sometimes better to have multiple smaller memories then one big one, allowing different parts of your project to work in parallel. So in our example let's create a module which will represent a single row of text and then we can just instantiate 4 of them to fill up the screen. ```verilog module textRow #( parameter ADDRESS_OFFSET 8'd0 ) ( input clk, input [7:0] readAddress, output [7:0] outByte ); reg [7:0] textBuffer [15:0]; assign outByte textBuffer[(readAddress ADDRESS_OFFSET)]; endmodule ``` So in the same file we can add this module which receives a character address (0 63) and needs to return a byte (representing 1 character) from the 16 bytes in the `textBuffer` for its row. We also have a parameter `ADDRESS_OFFSET` which will allow us to offset the rows by 16 characters. So the first row will output character 0 15 from the buffer for character address 0 15, but the second row needs to output 0 15 while character index will be 16 31 so we will send it 16 as the `ADDRESS_OFFSET` to subtract this difference. The final thing we need here is to initialize the memory. So far we have been loading a file into each of the memories we created, but here we don't have such a file so we need to initialize it manually. ```verilog integer i; initial begin for (i 0; i<15; i i+1) begin textBuffer[i] 48 + ADDRESS_OFFSET + i; end end ``` This will loop through all 16 characters and set an initial value allowing for the toolchain to know what to preprogram into the memory created. We can now go back to our `textEngine` module and add the following instances of our text row: ```verilog wire [7:0] charOutput1, charOutput2, charOutput3, charOutput4; textRow #(6'd0) t1( clk, charAddress, charOutput1 ); textRow #(6'd16) t2( clk, charAddress, charOutput2 ); textRow #(6'd32) t3( clk, charAddress, charOutput3 ); textRow #(6'd48) t4( clk, charAddress, charOutput4 ); ``` We create 4 instances each offset 16 from the previous and we pass each one it's own output line for the character it thinks should be on screen. We can then replace the old assignment to `charOutput` with the following: ```verilog assign charOutput (charAddress[5] && charAddress[4]) ? charOutput4 : ((charAddress[5]) ? charOutput3 : ((charAddress[4]) ? charOutput2 : charOutput1)); ``` Here we are multiplexing the 4 values and only looking at the value from the current row. We have already seen that the top two bits of the character address represent the row number. So if they equal 3 (row index 3 which means both bits are 1) then it is row 4, if the bits are 10 then it is row 3, 01 is row 2 and finally 00 is row 1. Running this now we should see all the rows filled with different characters. ![screen_text](./assets/screen_text.jpg) We can even change the initialization of `textRow` to something specific to better show that each row is handled separately: ```verilog integer i; initial begin for (i 0; i<15; i i+1) begin textBuffer[i] 0; end textBuffer[0] \"L\"; textBuffer[1] \"u\"; textBuffer[2] \"s\"; textBuffer[3] \"h\"; textBuffer[4] \"a\"; textBuffer[5] \"y\"; textBuffer[6] \" \"; textBuffer[7] \"L\"; textBuffer[8] \"a\"; textBuffer[9] \"b\"; textBuffer[10] \"s\"; textBuffer[11] \"!\"; end ``` Running this would give us: ![screen_lushay](./assets/screen_lushay.jpg) ## Conclusion In this article we created a text engine to let us dynamically write strings of text to the screen converting the desired characters to pixels using fonts and mapping the position of each character to the screen pixel positions. With all that said, as dynamic as it converts strings to pixels, the text itself we are displaying is still pretty static. In the next article we will expand on this mini project and go over some methods to dynamically create strings from values and data. Thank you for reading, I hope you enjoyed, if you have any questions or comments feel free to leave a comment below or contact us on twitter <a href \"https://twitter.com/LushayLabs?ref lushay labs\">here</a>. If you would like to purchase any of the components used in this article and support the site you can get them from our store <a href \"https://store.lushaylabs.com/collections/all products?ref lushay labs\">here</a>. And as always all the source code for this entire series can be found on github <a href \"https://github.com/lushaylabs/tangnano9k series examples?ref lushay labs\">here</a>."},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/5_data_conversion_visualization/data_conversion_visualization.html":{"title":"","content":""},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/7_generating_random_numbers/generating_random_numbers.html":{"title":"","content":""},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/10_our_first_cpu/our_first_cpu.html":{"title":"","content":""},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/6_reading_from_the_external_flash/reading_from_the_external_flash.html":{"title":"","content":""},"/hardware/zh/tang/Tang-Nano-9K/examples/lushaylabs/3_oled_101/oled_101.html":{"title":"Tang Nano 9K SSD1306 OLED å±å¹•","content":" title: Tang Nano 9K SSD1306 OLED å±å¹• keywords: FPGA, Tang, Nano, 9K update: date: 2023 03 14 version: v0.1 author: wonder content: æ–°å»ºæ–‡æ¡£ This is part 3 in our Tang Nano 9K series. In this article we will be starting a mini project creating an OLED text engine core. This series will go through the entire process from concept to implementation to demonstrate not just the code but also the design process and considerations taken when creating a multi component system. Part 1 (this part) will be an intro on the HW and creating the base driver so that we can display something to the screen. Part 2 will go over displaying text on our base OLED core including how to map ascii character codes to the screen data and using custom fonts.Part 3 will wrap up the project taking everything we did in the previous parts in order to build a reusable dynamic text engine that can be used by other cores to display their own data onto the screen. To follow along you will need a Tang Nano 9K and a 128x64 pixel screen with an SSD1306 driver using its 4 wire SPI configuration (the screen itself should have 7 pins). We will be using a 0.96\" OLED screen matching these requirements, you can get these along with a breadboard jumpers and the tang nano from our store <a href \"https://store.lushaylabs.com/collections/all products?ref lushay labs\">here</a>. ## The Plan In this part we are not going to think about the overall architecture or how the screen will communicate with the rest of the system. We will only be worried about being able to drive the screen using the FPGA building the physical driver for the OLED screen. To do this we first need to better understand how the screen works and how it expects to be communicated with. The screen we are using has an SSD1306 IC driver so we can go over its datasheet to get the information we need. [SSD1306 Datasheet](https://dl.sipeed.com/fileList/others/ssd1306/SSD1306.pdf) ## The SSD1306 Driver This driver IC is the interface between you and the actual OLED's underlying display. An OLED consists of many LEDs which need to be controlled individually to produce the desired picture. The driver is what connects to these LEDs and provides an interface where you can send it commands or data in order to update the display. Looking at the block diagram in the datasheet we can see how it works internally: ![block_diagram](./assets/block_diagram.jpg) Looking at the left side, we have a microcontroller which is what we will be communicating with. The pins we care about are the the first three and D0 and D1, the first three are reset, chip select and data/command flag and D0 is our SPI clock and D1 is our SPI data. All the other pins are used for alternate communication methods, like if interfacing with the screen over parallel connection. But since we are using the driver in it's 4 wire SPI mode we only need the 5 pins listed above. The MCU receives data from us, and then will decide whether the data is a command meant to control the display, or whether it was pixel data meant to update the contents of the display. Pixel data gets stored in the Graphics RAM which stores the contents for the entire display, the RAM propagates through the display driver to the actual pins controlling the individual OLEDs. The benefits of using a screen buffer in ram like this is that the screen can be updated independently of the device controlling it, and also you can just send an update to change a part of the image and the screen will remember the rest of the image. If the DC (data/command) flag was set to be a command, then the data will go to the command decoder to process and perform the command that you sent. Each \"transmission\" to the screen is a single byte, and if the data/command pin is set low that byte will be interpreted as a command and if set high the byte will be sent to the graphics ram to the current screen position stored in the ssd1306's memory. ### How Data is Stored The screen itself we are using has 128 x 64 pixels or 8192 individual pixels. The SSD1306 lets us configure how the ram is mapped to the display, but in general each byte controls a vertical line of 8 pixels. This means to control each of the 64 pixels in each column we need to set 8 bytes (again each byte controls 8 vertical pixels). The first byte will control the top left column, then we will increment by one and update the 8 pixels to the right and so on until we wrap around to the second row of 8 pixel columns: ![byte_structure](./assets/byte_structure.jpg) > 128 bytes per row 8 rows, each byte controlling 8 vertical pixels In the example above we sent 136 bytes with 0xFF (binary 11111111) this will result in the top row of 8 pixels being lit up across the whole screen, and in the first 8 columns we will have the top 16 pixels lit up. The least significant bit is the top pixel and the most significant bit is the bottom in each column, so a byte like 01010111 would create a column of pixels like the following: ![pixel_1](./assets/pixel_1.jpg) ### Command Bytes Like mentioned above the device has a set of commands that we can send it to do certain things. Inside the datasheet linked above we can see multiple tables including commands like the following: ![command_table](./assets/command_table.jpg) Each row contains a command and shows the byte or bytes (for multi byte commands) that need to be sent. A 1 or 0 means that bit needs to be a one or zero and when there is a parameter it will be marked with numbered letters and referenced on the right. For example to invert the screen (3rd command in the picture) we can see that we need to send 1010011x where the last bit can be either a one or zero. If we set it to a zero the command will set the display to normal mode, where a pixel set to zero will be off and a pixel set to 1 in the ram will be on. If we instead send a 1 as the last bit of the command, the screen will be inverted and a zero in RAM will cause a pixel to be lit up. We won't go through all the commands individually but by following the same approach you can decipher the rest of the command tables. In order to use the OLED display we first need to perform an initialization sequence where we send it all the commands required to setup all the configuration of the OLED. Once initialized we can start sending it pixel data and see the screen update. The last thing we need to go over before getting into the code is to go over the communication protocol itself, which in our case is SPI. ## SPI We will be communicating with the OLED screen over SPI. SPI is a serial protocol where 2 devices communicate with a data line for each direction and a common clock line. There are multiple modes in SPI, depending on whether you read on the rising / falling edge and whether the idle state of the clock is high or low. Multiple SPI devices can be connected together over the same wires and then each of the devices will have a separate chip select pin (CS) with which you can choose which device you are currently communicating with. With the SSD1306 driver we are using an extra wire to tell the device if the current byte being sent is data or a command. This is not part of the SPI protocol but is part of our communication interface we are building. From the datasheet we can see an example of how to communicate with the driver in this 4 wire SPI mode: ![spi_send](./assets/spi_send.jpg) The first line in the image is the chip select pin. Like mentioned above this pin signifies that we are currently communicating with this device, kind of like an enable pin. We pull it low at the start of our communication and put it back high when done. The next line is the Data/Command Flag, this can be either high or low, a high value means it is pixel data and a low value signifying a command. The third line just shows a combination of the data / clock pins just to show that multiple bytes can be sent without needing to change the chip select each time. Next we have a zoom in of how a single byte looks when being sent. The first of these lines is the clock pin the second is the data pin. We see here the clock pin can either be high or low while idle, but more importantly we see that the data should be updated on the falling edge and it will be read on the rising edge. We also see that the most significant bit of the byte we are sending should be sent first. With all that information we have everything we need to start building a driver core to interface with the OLED display. ## Creating the Driver core Like always to get started we can create a new project / folder in VSCode containing a constraints file with the tangnano9K pins we will be using, a verilog file for our driver core module and a Makefile to make building easier. ### Boilerplate **Constraints File** For the constraints file we can create a `tangnano9k.cst` file with the following: ![screen_contraints](./assets/screen_contraints.jpg) If creating manually it would look like this ```txt IO_LOC \"clk\" 52; IO_PORT \"clk\" PULL_MODE UP; IO_LOC \"io_cs\" 36; IO_PORT \"io_cs\" IO_TYPE LVCMOS33 PULL_MODE DOWN DRIVE 8; IO_LOC \"io_dc\" 39; IO_PORT \"io_dc\" IO_TYPE LVCMOS33 PULL_MODE DOWN DRIVE 8; IO_LOC \"io_reset\" 25; IO_PORT \"io_reset\" IO_TYPE LVCMOS33 PULL_MODE DOWN DRIVE 8; IO_LOC \"io_sdin\" 26; IO_PORT \"io_sdin\" IO_TYPE LVCMOS33 PULL_MODE DOWN DRIVE 8; IO_LOC \"io_sclk\" 27; IO_PORT \"io_sclk\" IO_TYPE LVCMOS33 PULL_MODE DOWN DRIVE 8; ``` We define the clock pin and we define the 5 pins we will need for interfacing with the OLED driver: 1. Chip Select `io_cs` 2. Data / Command `io_dc` 3. Reset Pin `io_reset` 4. SPI Data In to OLED `io_sdin` 5. SPI clock `io_sclk` I chose these pins just because they are consecutive there is no special function and any other 3.3v pins could have been chosen. ![tang_nano_oled_pins](./assets/tang_nano_oled_pins.jpg) **Makefile** This is only if you are not using the Lushay Code extension and instead run the toolchain manually. For the Makefile just create a file called `Makefile` with our standard project boilerplate: ```makefile BOARD tangnano9k FAMILY GW1N 9C DEVICE GW1NR LV9QN88PC6/I5 all: screen.fs # Synthesis screen.json: screen.v \tyosys p \"read_verilog screen.v; synth_gowin top screen json screen.json\" # Place and Route screen_pnr.json: screen.json \tnextpnr gowin json screen.json freq 27 write screen_pnr.json device ${DEVICE} family ${FAMILY} cst ${BOARD}.cst # Generate Bitstream screen.fs: screen_pnr.json \tgowin_pack d ${FAMILY} o screen.fs screen_pnr.json # Program Board load: screen.fs \topenFPGALoader b ${BOARD} screen.fs f # Generate Simulation screen_test.o: screen.v screen_tb.v \tiverilog o screen_test.o s test screen.v screen_tb.v # Run Simulation test: screen_test.o \tvvp screen_test.o # Cleanup build artifacts clean: \trm screen.vcd screen.fs screen_test.o .PHONY: load clean test .INTERMEDIATE: screen_pnr.json screen.json screen_test.o ``` For a better explanation on this makefile format you can take a look at our installation guide [here](./../1_installation_getting_started/installation_getting_started.html) where we go more in depth into this template. ## Implementing the Driver Core With the setup out of the way we can start implementing our driver with a verilog module. To use the screen like we saw above, we need to first initialize it, it is also recommended to reset the screen after its power stabilizes, this is to make sure it is in its proper reset state. So we will first wait a bit of time, then reset the screen, once reset we will send it all the initialization commands required to set it up and then the screen should be ready to start receiving and displaying pixel data. So our state machine will have the following steps: 1. Power Initialization Wait / Reset 2. Load Init Command Byte 3. Send Byte over SPI 4. Check Where to go from Sending 5. Load Pixel Data Byte The first stage will cover the power reset mentioned above, next we will have a state where we load the next command byte in the init sequence. Technically the next state would be to send the command byte over SPI, but there is no real difference between sending a command byte or sending a pixel byte so state 3 can be used for both. The only difference is which state to go to after sending the byte. In the case where there are more commands to send we would like to go to the state to load the next command otherwise we want to go to the state to load the next pixel byte. So step 4 will just check if there are more commands and if so go back to step 2 otherwise go to step 5. And step 5 just loads a pixel byte and links back to send it with step 3. ![states](./assets/states.jpg) We can create a file called `screen.v` with the following module outline: ```v module screen #( parameter STARTUP_WAIT 32'd10000000 ) ( input clk, output io_sclk, output io_sdin, output io_cs, output io_dc, output io_reset ); localparam STATE_INIT_POWER 8'd0; localparam STATE_LOAD_INIT_CMD 8'd1; localparam STATE_SEND 8'd2; localparam STATE_CHECK_FINISHED_INIT 8'd3; localparam STATE_LOAD_DATA 8'd4; endmodule ``` This is an empty module receiving the inputs we defined in the constraints file and defining the 5 states listed above. `STARTUP_WAIT` is an external parameter which is the number of clock cycles to wait before resetting the screen. It is an external parameter instead of a local parameter so that in simulation testing we don't have to wait as long. Next we can add some registers: ```v reg [32:0] counter 0; reg [2:0] state 0; reg dc 1; reg sclk 1; reg sdin 0; reg reset 1; reg cs 0; reg [7:0] dataToSend 0; reg [3:0] bitNumber 0; reg [9:0] pixelCounter 0; ``` We need a counter to count clock cycles and a register for the current state. Next we have a register for each of the inputs to drive them. Both the clock and reset pins are high on idle and `dc` we could have chosen either. Finally we have a register for the current byte we will be sending, a register to remember which bit of the current byte we are on and a register to keep track of which pixel of the screen we are on. Next let's create a register for holding all the init command bytes. We have a total of 15 init commands which take up a total of 23 bytes (some of the commands are 2 bytes). ```v localparam SETUP_INSTRUCTIONS 23; reg [(SETUP_INSTRUCTIONS*8) 1:0] startupCommands { 8'hAE, // display off 8'h81, // contast value to 0x7F according to datasheet 8'h7F, 8'hA6, // normal screen mode (not inverted) 8'h20, // horizontal addressing mode 8'h00, 8'hC8, // normal scan direction 8'h40, // first line to start scanning from 8'hA1, // address 0 is segment 0 8'hA8, // mux ratio 8'h3f, // 63 (64 1) 8'hD3, // display offset 8'h00, // no offset 8'hD5, // clock divide ratio 8'h80, // set to default ratio/osc frequency 8'hD9, // set precharge 8'h22, // switch precharge to 0x22 default 8'hDB, // vcom deselect level 8'h20, // 0x20 8'h8D, // charge pump config 8'h14, // enable charge pump 8'hA4, // resume RAM content 8'hAF // display on }; reg [7:0] commandIndex SETUP_INSTRUCTIONS * 8; ``` Besides for the init commands we also have a register which will remember which command we are currently on. Because the concat operator `{` and `}` place the most significant byte first, the first byte we write is actually placed at the end. We could have reversed the order we wrote the init commands and then started `commandIndex` at zero, but I think it is clearer to write the commands in order and then just start the current bit index at the last bit number. Next let's connect all the input wires to the registers we created for them. We could have also added the keyword `reg` to the input parameters themselves in which case it would have automatically created a register for us, but to make it more pronounced I separated it into two steps. ```v assign io_sclk sclk; assign io_sdin sdin; assign io_dc dc; assign io_reset reset; assign io_cs cs; ``` ### The State Machine For the state machine, let's work only on the rising edge of our clock to make things simpler. ```v always @(posedge clk) begin case (state) \t// states here endcase end ``` Next let's go through each of the states of our state machine one by one: **Load Init Command** ```v STATE_INIT_POWER: begin counter < counter + 1; if (counter < STARTUP_WAIT) reset < 1; else if (counter < STARTUP_WAIT * 2) reset < 0; else if (counter < STARTUP_WAIT * 3) reset < 1; else begin state < STATE_LOAD_INIT_CMD; counter < 32'b0; end end ``` Here we start with the reset set to 1 which is it's idle state and we wait a bit of time for the power to become stable. Then we wait the same period again this time reseting the screen by pulling the reset pin low. Finally we return the pin to high wait again a small amount to make sure the screen is ready to start receiving commands and move onto the next state resetting the counter to zero. The default `STARTUP_WAIT` is set to 10,000,000 so with a 27Mhz crystal we are looking at about a third of a second per step so for all three steps about a second. **Load Init Command** ```v STATE_LOAD_INIT_CMD: begin dc < 0; dataToSend < startupCommands[(commandIndex 1) :8'd8]; state < STATE_SEND; bitNumber < 3'd7; cs < 0; commandIndex < commandIndex 8'd8; end ``` Here we set the data / command bit to zero to signify that we are sending a command. We load the next command from the register we created with all the init command bytes. The syntax used here with the minus sign after the MSB tells it that we will not be placing the least significant bit but instead the length. Usually we use the syntax `[MSB:LSB]` to access memory here we are using `[MSB :LEN]` there is also the option with the a plus instead of a minus for `[LSB+:LEN]` Next we set the state to the send state as that is where we want to go next after loading a command byte. We set the bit number to the last bit as we saw from the datasheet we are sending most significant bit first in the SPI communication. Chip select is also set low to tell the screen we want to communicate with it now which essentially enables the screen to receive data over the SPI connection. The last line decrement the `commandIndex` by 8 as we have handled those 8 bits by loading them into `dataToSend`. **Sending a byte** ```v STATE_SEND: begin if (counter 32'd0) begin sclk < 0; sdin < dataToSend[bitNumber]; counter < 32'd1; end else begin counter < 32'd0; sclk < 1; if (bitNumber 0) state < STATE_CHECK_FINISHED_INIT; else bitNumber < bitNumber 1; end end ``` In order to simplify the implementation we will only be using the rising edge of our own clock, but the clock signal in SPI requires us to do things on both the rising and falling edge of the clock. So to get around this we will just use two of our clock cycles for each bit, one where the SPI clock will be pulled low and one where the SPI clock will be pulled high. In the first block we are setting the SPI clock low, and from the datasheet we saw we are supposed to change the data on the SPI data pin on the falling edge so we do that as well. On the second clock cycle of this state we will then reset the counter and pull the clock high, pulling it high will tell the screen to read the bit that we put on the data pin in the previous clock cycle. Lastly we check if we are already on the last bit, if so we go on to the next state, otherwise we decrement the `bitNumber` register to move to the next bit and continue sending in the current state. **Check Finished Init** ```v STATE_CHECK_FINISHED_INIT: begin cs < 1; if (commandIndex 0) state < STATE_LOAD_DATA; else state < STATE_LOAD_INIT_CMD; end ``` In this stage we are pulling the chip select high to tell the screen we are finished (not mandatory as we could have sent multiple bytes on the same chip select pulse). Next we check if `commandIndex` is 0 which would mean we sent all the commands and can move from here to loading the next pixel byte, otherwise go back and load the next command byte. **Load Pixel Data** ```v STATE_LOAD_DATA: begin pixelCounter < pixelCounter + 1; cs < 0; dc < 1; bitNumber < 3'd7; state < STATE_SEND; if (pixelCounter < 136) dataToSend < 8'b01010111; else dataToSend < 0; end ``` The last state loads the pixel bytes one at a time. We start by incrementing the `pixelCounter` to track which screen pixels we are. Next we set chip select to zero to re enable the screen communication. Data / Command flag is set to 1 to signify we will be sending data now not commands. Next we reset the bit number back to the last bit and the state we set back to the \"send byte\" state to send the next pixel byte. We don't currently have any image to display, so as an example to make sure everything is working we can simply use the byte example from above as a test where we send the screen 136 bytes of 01010111. We never need to reset pixelCounter since there are exactly 1024 bytes which exactly fits into 10 bits, so the `pixelCounter` register will automatically roll over back to zero on its own. That should be everything required to get the screen working, programming the Tang Nano 9K by clicking on the \"FPGA Toolchain\" button from the bottom bar and then selecting \"Build and Program\" from the menu. (Or `make load` if running manually). With our tangnano programmed you should get something like the following: ![img_5705](./assets/img_5705.jpg) ## Loading An Image In terms of Verilog, loading an image instead of our two static rows of lines is pretty easy. We first need a memory where we can store all our bytes: ```v reg [7:0] screenBuffer [1023:0]; initial $readmemh(\"image.hex\", screenBuffer); ``` Our memory has 1024 slots each of which hold a single byte. The second lines tells the toolchain to load a file called `image.hex` into this memory. And then we can change the last if / else of our load pixel state to the following: ```v dataToSend < screenBuffer[pixelCounter]; ``` So our entire state should look like this: ```v STATE_LOAD_DATA: begin pixelCounter < pixelCounter + 1; cs < 0; dc < 1; bitNumber < 3'd7; state < STATE_SEND; dataToSend < screenBuffer[pixelCounter]; end ``` Some would say the code is even simpler now. The trouble comes more in how to create the file `image.hex`. We know each byte needs to represent 8 vertical pixels and we need to scan across the image from the top left in rows of 8 pixels. So the task of loading an image is more a task of converting an image into the format we need in order to display it. Luckily we can create a simple node.js script to do the conversion for us. ### Preparing the Image Data To begin with we first need a png image with the same size as the screen 128 x 64 pixels in size. Since the screen only has a single color we will only be using the transparency value of a PNG image to determine whether or not to turn on a pixel. To convert our image we will be using a node.js library to parse the image called `pngjs`. To install the library you can run the following command from the project directory: ```javascript npm i pngjs ``` Next let's create a script called `generate_image.js` with the following: ```javascript const fs require(\"fs\"); const PNG require(\"pngjs\").PNG; fs.createReadStream(\"image.png\") .pipe(new PNG()) .on(\"parsed\", function () { const bytes []; for (var y 0; y < this.height; y+ 8) { for (var x 0; x < this.width; x+ 1) { let byte 0; for (var j 7; j > 0; j 1) { let idx (this.width * (y+j) + x) * 4; if (this.data[idx+3] > 128) { byte (byte << 1) + 1; } else { byte (byte << 1) + 0; } } bytes.push(byte); } } const hexData bytes.map((b) > b.toString('16').padStart(2, '0')); fs.writeFileSync('image.hex', hexData.join(' ')); }); ``` We start by including the library along with the filesystem package to load the file. The next line creates a read stream to load the image (named `image.png`) and then pipes it to a PNG instance from the `pngjs` library and the next block will be called once the entire image is ready and loaded in memory. Inside this `parsed` block we have three nested `for` loops, the outer one is to go over the vertical lines, as you can see from the end of the line, we skip each time by 8 lines as each 8 lines are stored in a single byte. The next `for` loop is for going through all the columns nothing special here. The final `for` loop is for incrementing through each of the 8 pixels in a vertical column. Each time we complete the inner loop it means we have gone through 8 vertical pixels and we can store a new byte moving onto the next vertical column in our row. We start the internal loop at the last bit so that we can shift each of the bits into `byte` from the right. Going through the internal loop we are simply getting the index for the current pixel. `this.data` is a long array of bytes where for each pixel we have 4 bytes, one for red, one for green, one for blue and one for the alpha channel. So the first line calculates this offset by figuring out which byte we are, this is the number of complete rows (or y offset) multiplied by 128 (the screen width) plus the current x offset. We then multiply by 4 since each pixel is 4 bytes (RGBA). Once we have the offset we check if the transparency (or 4th byte in our 4 byte pixel) is greater then 128 (out of 256) so if it is 50% or more transparent we will put a zero and the pixel will be turned off, otherwise we will put a 1 and the pixel will be highlighted. Other then that we have these two lines: ```javascript const hexData bytes.map((b) > b.toString('16').padStart(2, '0')); fs.writeFileSync('image.hex', hexData.join(' ')); ``` Where we take each of our bytes and convert them to hex (base 16) and we pad them from the left with zeros so that each byte will be exactly 2 hex characters. The final line outputs the hex data into a file called `image.hex` separating each hex byte with a space. With our hex file created and our code updated we should be able to reprogram our FPGA and get something like the following: ![screen_with_image](./assets/screen_with_image.jpg) ## Conclusion In this part we have created the physical driver core to interface with the 0.96\" OLED display and we have covered loading a simple image to it. In the next part we will take it a step further and \"generate\" the screen buffer on chip by converting ascii text into pixels implementing text and fonts into our core. Thank you for reading, if you have any questions or comments feel free to leave them below or message us on twitter <a href \"https://twitter.com/LushayLabs?ref lushay labs\">here</a>. To get any of the items used in this tutorial like the screen / tang nano or breadboard you can go to lushaylabs store <a href \"https://store.lushaylabs.com/collections/all products?ref lushay labs\">here</a> . As always all the examples can be found on github by following this <a href \"https://github.com/lushaylabs/tangnano9k series examples?ref lushay labs\">link</a>"}}